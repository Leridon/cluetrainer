/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(function(){try{return require("sharp")}catch(e){}}(),function(){try{return require("canvas")}catch(e){}}(),function(){try{return require("electron/common")}catch(e){}}()):"function"==typeof define&&define.amd?define(["sharp","canvas","electron/common"],t):"object"==typeof exports?exports.vos=t(function(){try{return require("sharp")}catch(e){}}(),function(){try{return require("canvas")}catch(e){}}(),function(){try{return require("electron/common")}catch(e){}}()):e.vos=t(e.sharp,e.canvas,e["electron/common"])}(self,((e,t,i)=>(()=>{var n={2880:(e,t,i)=>{"use strict";var n=i(8538);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,s=function(e,t){if("object"!==o(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===o(s)?s:String(s)),n)}var s}function r(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}var a,l,c=i(3537).codes,u=c.ERR_AMBIGUOUS_ARGUMENT,p=c.ERR_INVALID_ARG_TYPE,h=c.ERR_INVALID_ARG_VALUE,d=c.ERR_INVALID_RETURN_VALUE,g=c.ERR_MISSING_ARGS,f=i(1858),y=i(7877).inspect,m=i(7877).types,_=m.isPromise,v=m.isRegExp,x=i(8662)(),w=i(3809)(),b=i(9343)("RegExp.prototype.test");function k(){var e=i(607);a=e.isDeepEqual,l=e.isDeepStrictEqual}new Map;var T=!1,z=e.exports=E,S={};function C(e){if(e.message instanceof Error)throw e.message;throw new f(e)}function A(e,t,i,n){if(!i){var o=!1;if(0===t)o=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var s=new f({actual:i,expected:!0,message:n,operator:"==",stackStartFn:e});throw s.generatedMessage=o,s}}function E(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];A.apply(void 0,[E,t.length].concat(t))}z.fail=function e(t,i,o,s,r){var a,l=arguments.length;if(0===l?a="Failed":1===l?(o=t,t=void 0):(!1===T&&(T=!0,(n.emitWarning?n.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===l&&(s="!=")),o instanceof Error)throw o;var c={actual:t,expected:i,operator:void 0===s?"fail":s,stackStartFn:r||e};void 0!==o&&(c.message=o);var u=new f(c);throw a&&(u.message=a,u.generatedMessage=!0),u},z.AssertionError=f,z.ok=E,z.equal=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");t!=i&&C({actual:t,expected:i,message:n,operator:"==",stackStartFn:e})},z.notEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");t==i&&C({actual:t,expected:i,message:n,operator:"!=",stackStartFn:e})},z.deepEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");void 0===a&&k(),a(t,i)||C({actual:t,expected:i,message:n,operator:"deepEqual",stackStartFn:e})},z.notDeepEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");void 0===a&&k(),a(t,i)&&C({actual:t,expected:i,message:n,operator:"notDeepEqual",stackStartFn:e})},z.deepStrictEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");void 0===a&&k(),l(t,i)||C({actual:t,expected:i,message:n,operator:"deepStrictEqual",stackStartFn:e})},z.notDeepStrictEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");void 0===a&&k(),l(t,i)&&C({actual:t,expected:i,message:n,operator:"notDeepStrictEqual",stackStartFn:e})},z.strictEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");w(t,i)||C({actual:t,expected:i,message:n,operator:"strictEqual",stackStartFn:e})},z.notStrictEqual=function e(t,i,n){if(arguments.length<2)throw new g("actual","expected");w(t,i)&&C({actual:t,expected:i,message:n,operator:"notStrictEqual",stackStartFn:e})};var P=r((function e(t,i,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.forEach((function(e){e in t&&(void 0!==n&&"string"==typeof n[e]&&v(t[e])&&b(t[e],n[e])?o[e]=n[e]:o[e]=t[e])}))}));function M(e,t,i,n){if("function"!=typeof t){if(v(t))return b(t,e);if(2===arguments.length)throw new p("expected",["Function","RegExp"],t);if("object"!==o(e)||null===e){var s=new f({actual:e,expected:t,message:i,operator:"deepStrictEqual",stackStartFn:n});throw s.operator=n.name,s}var r=Object.keys(t);if(t instanceof Error)r.push("name","message");else if(0===r.length)throw new h("error",t,"may not be an empty object");return void 0===a&&k(),r.forEach((function(o){"string"==typeof e[o]&&v(t[o])&&b(t[o],e[o])||function(e,t,i,n,o,s){if(!(i in e)||!l(e[i],t[i])){if(!n){var r=new P(e,o),a=new P(t,o,e),c=new f({actual:r,expected:a,operator:"deepStrictEqual",stackStartFn:s});throw c.actual=e,c.expected=t,c.operator=s.name,c}C({actual:e,expected:t,message:n,operator:s.name,stackStartFn:s})}}(e,t,o,i,r,n)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function L(e){if("function"!=typeof e)throw new p("fn","Function",e);try{e()}catch(e){return e}return S}function D(e){return _(e)||null!==e&&"object"===o(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function I(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!D(t=e()))throw new d("instance of Promise","promiseFn",t)}else{if(!D(e))throw new p("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return S})).catch((function(e){return e}))}))}function O(e,t,i,n){if("string"==typeof i){if(4===arguments.length)throw new p("error",["Object","Error","Function","RegExp"],i);if("object"===o(t)&&null!==t){if(t.message===i)throw new u("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===i)throw new u("error/message",'The error "'.concat(t,'" is identical to the message.'));n=i,i=void 0}else if(null!=i&&"object"!==o(i)&&"function"!=typeof i)throw new p("error",["Object","Error","Function","RegExp"],i);if(t===S){var s="";i&&i.name&&(s+=" (".concat(i.name,")")),s+=n?": ".concat(n):".";var r="rejects"===e.name?"rejection":"exception";C({actual:void 0,expected:i,operator:e.name,message:"Missing expected ".concat(r).concat(s),stackStartFn:e})}if(i&&!M(t,i,n,e))throw t}function R(e,t,i,n){if(t!==S){if("string"==typeof i&&(n=i,i=void 0),!i||M(t,i)){var o=n?": ".concat(n):".",s="doesNotReject"===e.name?"rejection":"exception";C({actual:t,expected:i,operator:e.name,message:"Got unwanted ".concat(s).concat(o,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function B(e,t,i,n,s){if(!v(t))throw new p("regexp","RegExp",t);var r="match"===s;if("string"!=typeof e||b(t,e)!==r){if(i instanceof Error)throw i;var a=!i;i=i||("string"!=typeof e?'The "string" argument must be of type string. Received type '+"".concat(o(e)," (").concat(y(e),")"):(r?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(y(t),". Input:\n\n").concat(y(e),"\n"));var l=new f({actual:e,expected:t,message:i,operator:s,stackStartFn:n});throw l.generatedMessage=a,l}}function F(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];A.apply(void 0,[F,t.length].concat(t))}z.throws=function e(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];O.apply(void 0,[e,L(t)].concat(n))},z.rejects=function e(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return I(t).then((function(t){return O.apply(void 0,[e,t].concat(n))}))},z.doesNotThrow=function e(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];R.apply(void 0,[e,L(t)].concat(n))},z.doesNotReject=function e(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return I(t).then((function(t){return R.apply(void 0,[e,t].concat(n))}))},z.ifError=function e(t){if(null!=t){var i="ifError got unwanted exception: ";"object"===o(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?i+=t.constructor.name:i+=t.message:i+=y(t);var n=new f({actual:t,expected:null,operator:"ifError",message:i,stackStartFn:e}),s=t.stack;if("string"==typeof s){var r=s.split("\n");r.shift();for(var a=n.stack.split("\n"),l=0;l<r.length;l++){var c=a.indexOf(r[l]);if(-1!==c){a=a.slice(0,c);break}}n.stack="".concat(a.join("\n"),"\n").concat(r.join("\n"))}throw n}},z.match=function e(t,i,n){B(t,i,n,e,"match")},z.doesNotMatch=function e(t,i,n){B(t,i,n,e,"doesNotMatch")},z.strict=x(F,z,{equal:z.strictEqual,deepEqual:z.deepStrictEqual,notEqual:z.notStrictEqual,notDeepEqual:z.notDeepStrictEqual}),z.strict.strict=z.strict},1858:(e,t,i)=>{"use strict";var n=i(8538);function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){var n,o,s;n=e,o=t,s=i[t],(o=a(o))in n?Object.defineProperty(n,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[o]=s})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===f(t)?t:String(t)}function l(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return p(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},u(e)}function p(e,t,i){return p=h()?Reflect.construct.bind():function(e,t,i){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return i&&d(o,i.prototype),o},p.apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var y=i(7877).inspect,m=i(3537).codes.ERR_INVALID_ARG_TYPE;function _(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}var v="",x="",w="",b="",k={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function T(e){var t=Object.keys(e),i=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){i[t]=e[t]})),Object.defineProperty(i,"message",{value:e.message}),i}function z(e){return y(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var S=function(e,t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(S,e);var i,o,a,u,p=(i=S,o=h(),function(){var e,t=g(i);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function S(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S),"object"!==f(e)||null===e)throw new m("options","Object",e);var i=e.message,o=e.operator,s=e.stackStartFn,r=e.actual,a=e.expected,u=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=i)t=p.call(this,String(i));else if(n.stderr&&n.stderr.isTTY&&(n.stderr&&n.stderr.getColorDepth&&1!==n.stderr.getColorDepth()?(v="[34m",x="[32m",b="[39m",w="[31m"):(v="",x="",b="",w="")),"object"===f(r)&&null!==r&&"object"===f(a)&&null!==a&&"stack"in r&&r instanceof Error&&"stack"in a&&a instanceof Error&&(r=T(r),a=T(a)),"deepStrictEqual"===o||"strictEqual"===o)t=p.call(this,function(e,t,i){var o="",s="",r=0,a="",l=!1,c=z(e),u=c.split("\n"),p=z(t).split("\n"),h=0,d="";if("strictEqual"===i&&"object"===f(e)&&"object"===f(t)&&null!==e&&null!==t&&(i="strictEqualObject"),1===u.length&&1===p.length&&u[0]!==p[0]){var g=u[0].length+p[0].length;if(g<=10){if(!("object"===f(e)&&null!==e||"object"===f(t)&&null!==t||0===e&&0===t))return"".concat(k[i],"\n\n")+"".concat(u[0]," !== ").concat(p[0],"\n")}else if("strictEqualObject"!==i&&g<(n.stderr&&n.stderr.isTTY?n.stderr.columns:80)){for(;u[0][h]===p[0][h];)h++;h>2&&(d="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var i=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,i-e.length)}(" ",h),"^"),h=0)}}for(var y=u[u.length-1],m=p[p.length-1];y===m&&(h++<2?a="\n  ".concat(y).concat(a):o=y,u.pop(),p.pop(),0!==u.length&&0!==p.length);)y=u[u.length-1],m=p[p.length-1];var T=Math.max(u.length,p.length);if(0===T){var S=c.split("\n");if(S.length>30)for(S[26]="".concat(v,"...").concat(b);S.length>27;)S.pop();return"".concat(k.notIdentical,"\n\n").concat(S.join("\n"),"\n")}h>3&&(a="\n".concat(v,"...").concat(b).concat(a),l=!0),""!==o&&(a="\n  ".concat(o).concat(a),o="");var C=0,A=k[i]+"\n".concat(x,"+ actual").concat(b," ").concat(w,"- expected").concat(b),E=" ".concat(v,"...").concat(b," Lines skipped");for(h=0;h<T;h++){var P=h-r;if(u.length<h+1)P>1&&h>2&&(P>4?(s+="\n".concat(v,"...").concat(b),l=!0):P>3&&(s+="\n  ".concat(p[h-2]),C++),s+="\n  ".concat(p[h-1]),C++),r=h,o+="\n".concat(w,"-").concat(b," ").concat(p[h]),C++;else if(p.length<h+1)P>1&&h>2&&(P>4?(s+="\n".concat(v,"...").concat(b),l=!0):P>3&&(s+="\n  ".concat(u[h-2]),C++),s+="\n  ".concat(u[h-1]),C++),r=h,s+="\n".concat(x,"+").concat(b," ").concat(u[h]),C++;else{var M=p[h],L=u[h],D=L!==M&&(!_(L,",")||L.slice(0,-1)!==M);D&&_(M,",")&&M.slice(0,-1)===L&&(D=!1,L+=","),D?(P>1&&h>2&&(P>4?(s+="\n".concat(v,"...").concat(b),l=!0):P>3&&(s+="\n  ".concat(u[h-2]),C++),s+="\n  ".concat(u[h-1]),C++),r=h,s+="\n".concat(x,"+").concat(b," ").concat(L),o+="\n".concat(w,"-").concat(b," ").concat(M),C+=2):(s+=o,o="",1!==P&&0!==h||(s+="\n  ".concat(L),C++))}if(C>20&&h<T-2)return"".concat(A).concat(E,"\n").concat(s,"\n").concat(v,"...").concat(b).concat(o,"\n")+"".concat(v,"...").concat(b)}return"".concat(A).concat(l?E:"","\n").concat(s).concat(o).concat(a).concat(d)}(r,a,o));else if("notDeepStrictEqual"===o||"notStrictEqual"===o){var h=k[o],d=z(r).split("\n");if("notStrictEqual"===o&&"object"===f(r)&&null!==r&&(h=k.notStrictEqualObject),d.length>30)for(d[26]="".concat(v,"...").concat(b);d.length>27;)d.pop();t=1===d.length?p.call(this,"".concat(h," ").concat(d[0])):p.call(this,"".concat(h,"\n\n").concat(d.join("\n"),"\n"))}else{var g=z(r),y="",C=k[o];"notDeepEqual"===o||"notEqual"===o?(g="".concat(k[o],"\n\n").concat(g)).length>1024&&(g="".concat(g.slice(0,1021),"...")):(y="".concat(z(a)),g.length>512&&(g="".concat(g.slice(0,509),"...")),y.length>512&&(y="".concat(y.slice(0,509),"...")),"deepEqual"===o||"equal"===o?g="".concat(C,"\n\n").concat(g,"\n\nshould equal\n\n"):y=" ".concat(o," ").concat(y)),t=p.call(this,"".concat(g).concat(y))}return Error.stackTraceLimit=u,t.generatedMessage=!i,Object.defineProperty(c(t),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),t.code="ERR_ASSERTION",t.actual=r,t.expected=a,t.operator=o,Error.captureStackTrace&&Error.captureStackTrace(c(t),s),t.stack,t.name="AssertionError",l(t)}return a=S,(u=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:t,value:function(e,t){return y(this,s(s({},t),{},{customInspect:!1,depth:0}))}}])&&r(a.prototype,u),Object.defineProperty(a,"prototype",{writable:!1}),S}(u(Error),y.custom);e.exports=S},3537:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var r,a,l={};function c(e,t,i){i||(i=Error);var r=function(i){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(u,i);var r,a,l,c=(a=u,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(a);if(l){var i=s(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(i,n,o){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),s=c.call(this,function(e,i,n){return"string"==typeof t?t:t(e,i,n)}(i,n,o)),s.code=e,s}return r=u,Object.defineProperty(r,"prototype",{writable:!1}),r}(i);l[e]=r}function u(e,t){if(Array.isArray(e)){var i=e.length;return e=e.map((function(e){return String(e)})),i>2?"one of ".concat(t," ").concat(e.slice(0,i-1).join(", "),", or ")+e[i-1]:2===i?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",(function(e,t,o){var s,a,l,c,p;if(void 0===r&&(r=i(2880)),r("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(a="not ",t.substr(0,4)===a)?(s="must not be",t=t.replace(/^not /,"")):s="must be",function(e,t,i){return(void 0===i||i>e.length)&&(i=e.length),e.substring(i-9,i)===t}(e," argument"))l="The ".concat(e," ").concat(s," ").concat(u(t,"type"));else{var h=("number"!=typeof p&&(p=0),p+1>(c=e).length||-1===c.indexOf(".",p)?"argument":"property");l='The "'.concat(e,'" ').concat(h," ").concat(s," ").concat(u(t,"type"))}return l+". Received type ".concat(n(o))}),TypeError),c("ERR_INVALID_ARG_VALUE",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===a&&(a=i(7877));var o=a.inspect(t);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(n,". Received ").concat(o)}),TypeError,RangeError),c("ERR_INVALID_RETURN_VALUE",(function(e,t,i){var o;return o=i&&i.constructor&&i.constructor.name?"instance of ".concat(i.constructor.name):"type ".concat(n(i)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(o,".")}),TypeError),c("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];void 0===r&&(r=i(2880)),r(t.length>0,"At least one arg needs to be specified");var o="The ",s=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),s){case 1:o+="".concat(t[0]," argument");break;case 2:o+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:o+=t.slice(0,s-1).join(", "),o+=", and ".concat(t[s-1]," arguments")}return"".concat(o," must be specified")}),TypeError),e.exports.codes=l},607:(e,t,i)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,o,s,r,a=[],l=!0,c=!1;try{if(s=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=s.call(i)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=i.return&&(r=i.return(),Object(r)!==r))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var r=void 0!==/a/g.flags,a=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},l=function(e){var t=[];return e.forEach((function(e,i){return t.push([i,e])})),t},c=Object.is?Object.is:i(9513),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},p=Number.isNaN?Number.isNaN:i(2889);function h(e){return e.call.bind(e)}var d=h(Object.prototype.hasOwnProperty),g=h(Object.prototype.propertyIsEnumerable),f=h(Object.prototype.toString),y=i(7877).types,m=y.isAnyArrayBuffer,_=y.isArrayBufferView,v=y.isDate,x=y.isMap,w=y.isRegExp,b=y.isSet,k=y.isNativeError,T=y.isBoxedPrimitive,z=y.isNumberObject,S=y.isStringObject,C=y.isBooleanObject,A=y.isBigIntObject,E=y.isSymbolObject,P=y.isFloat32Array,M=y.isFloat64Array;function L(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var i=e.charCodeAt(t);if(i<48||i>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function D(e){return Object.keys(e).filter(L).concat(u(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function I(e,t){if(e===t)return 0;for(var i=e.length,n=t.length,o=0,s=Math.min(i,n);o<s;++o)if(e[o]!==t[o]){i=e[o],n=t[o];break}return i<n?-1:n<i?1:0}var O=0,R=1,B=2,F=3;function N(e,t,i,n){if(e===t)return 0!==e||!i||c(e,t);if(i){if("object"!==s(e))return"number"==typeof e&&p(e)&&p(t);if("object"!==s(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==s(e))return(null===t||"object"!==s(t))&&e==t;if(null===t||"object"!==s(t))return!1}var o,a,l,u,h=f(e);if(h!==f(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var d=D(e),g=D(t);return d.length===g.length&&U(e,t,i,n,R,d)}if("[object Object]"===h&&(!x(e)&&x(t)||!b(e)&&b(t)))return!1;if(v(e)){if(!v(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(w(e)){if(!w(t)||(l=e,u=t,!(r?l.source===u.source&&l.flags===u.flags:RegExp.prototype.toString.call(l)===RegExp.prototype.toString.call(u))))return!1}else if(k(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(_(e)){if(i||!P(e)&&!M(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===I(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var i=0;i<e.byteLength;i++)if(e[i]!==t[i])return!1;return!0}(e,t))return!1;var y=D(e),L=D(t);return y.length===L.length&&U(e,t,i,n,O,y)}if(b(e))return!(!b(t)||e.size!==t.size)&&U(e,t,i,n,B);if(x(e))return!(!x(t)||e.size!==t.size)&&U(e,t,i,n,F);if(m(e)){if(a=t,(o=e).byteLength!==a.byteLength||0!==I(new Uint8Array(o),new Uint8Array(a)))return!1}else if(T(e)&&!function(e,t){return z(e)?z(t)&&c(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):S(e)?S(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):C(e)?C(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):A(e)?A(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):E(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return U(e,t,i,n,O)}function j(e,t){return t.filter((function(t){return g(e,t)}))}function U(e,t,i,o,r,c){if(5===arguments.length){c=Object.keys(e);var p=Object.keys(t);if(c.length!==p.length)return!1}for(var h=0;h<c.length;h++)if(!d(t,c[h]))return!1;if(i&&5===arguments.length){var f=u(e);if(0!==f.length){var y=0;for(h=0;h<f.length;h++){var m=f[h];if(g(e,m)){if(!g(t,m))return!1;c.push(m),y++}else if(g(t,m))return!1}var _=u(t);if(f.length!==_.length&&j(t,_).length!==y)return!1}else{var v=u(t);if(0!==v.length&&0!==j(t,v).length)return!1}}if(0===c.length&&(r===O||r===R&&0===e.length||0===e.size))return!0;if(void 0===o)o={val1:new Map,val2:new Map,position:0};else{var x=o.val1.get(e);if(void 0!==x){var w=o.val2.get(t);if(void 0!==w)return x===w}o.position++}o.val1.set(e,o.position),o.val2.set(t,o.position);var b=function(e,t,i,o,r,c){var u=0;if(c===B){if(!function(e,t,i,n){for(var o=null,r=a(e),l=0;l<r.length;l++){var c=r[l];if("object"===s(c)&&null!==c)null===o&&(o=new Set),o.add(c);else if(!t.has(c)){if(i)return!1;if(!V(e,t,c))return!1;null===o&&(o=new Set),o.add(c)}}if(null!==o){for(var u=a(t),p=0;p<u.length;p++){var h=u[p];if("object"===s(h)&&null!==h){if(!q(o,h,i,n))return!1}else if(!i&&!e.has(h)&&!q(o,h,i,n))return!1}return 0===o.size}return!0}(e,t,i,r))return!1}else if(c===F){if(!function(e,t,i,o){for(var r=null,a=l(e),c=0;c<a.length;c++){var u=n(a[c],2),p=u[0],h=u[1];if("object"===s(p)&&null!==p)null===r&&(r=new Set),r.add(p);else{var d=t.get(p);if(void 0===d&&!t.has(p)||!N(h,d,i,o)){if(i)return!1;if(!$(e,t,p,h,o))return!1;null===r&&(r=new Set),r.add(p)}}}if(null!==r){for(var g=l(t),f=0;f<g.length;f++){var y=n(g[f],2),m=y[0],_=y[1];if("object"===s(m)&&null!==m){if(!W(r,e,m,_,i,o))return!1}else if(!(i||e.has(m)&&N(e.get(m),_,!1,o)||W(r,e,m,_,!1,o)))return!1}return 0===r.size}return!0}(e,t,i,r))return!1}else if(c===R)for(;u<e.length;u++){if(!d(e,u)){if(d(t,u))return!1;for(var p=Object.keys(e);u<p.length;u++){var h=p[u];if(!d(t,h)||!N(e[h],t[h],i,r))return!1}return p.length===Object.keys(t).length}if(!d(t,u)||!N(e[u],t[u],i,r))return!1}for(u=0;u<o.length;u++){var g=o[u];if(!N(e[g],t[g],i,r))return!1}return!0}(e,t,i,c,o,r);return o.val1.delete(e),o.val2.delete(t),b}function q(e,t,i,n){for(var o=a(e),s=0;s<o.length;s++){var r=o[s];if(N(t,r,i,n))return e.delete(r),!0}return!1}function H(e){switch(s(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(p(e))return!1}return!0}function V(e,t,i){var n=H(i);return null!=n?n:t.has(n)&&!e.has(n)}function $(e,t,i,n,o){var s=H(i);if(null!=s)return s;var r=t.get(s);return!(void 0===r&&!t.has(s)||!N(n,r,!1,o))&&!e.has(s)&&N(n,r,!1,o)}function W(e,t,i,n,o,s){for(var r=a(e),l=0;l<r.length;l++){var c=r[l];if(N(i,c,o,s)&&N(n,t.get(c),o,s))return e.delete(c),!0}return!1}e.exports={isDeepEqual:function(e,t){return N(e,t,!1)},isDeepStrictEqual:function(e,t){return N(e,t,!0)}}},7322:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){var t,i,s=a(e),r=s[0],l=s[1],c=new o(function(e,t,i){return 3*(t+i)/4-i}(0,r,l)),u=0,p=l>0?r-4:r;for(i=0;i<p;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===l&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,c[u++]=255&t),1===l&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,s=[],r=16383,a=0,c=n-o;a<c;a+=r)s.push(l(e,a,a+r>c?c:a+r));return 1===o?(t=e[n-1],s.push(i[t>>2]+i[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],s.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),s.join("")};for(var i=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0;r<64;++r)i[r]=s[r],n[s.charCodeAt(r)]=r;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function l(e,t,n){for(var o,s,r=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),r.push(i[(s=o)>>18&63]+i[s>>12&63]+i[s>>6&63]+i[63&s]);return r.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8891:(e,t,i)=>{"use strict";const n=i(7322),o=i(8239),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=l,t.IS=50;const r=2147483647;function a(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,i){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return c(e,t,i)}function c(e,t,i){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const i=0|f(e,t);let n=a(i);const o=n.write(e,t);return o!==i&&(n=n.slice(0,o)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return d(e,t,i);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return d(e,t,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,i);const o=function(e){if(l.isBuffer(e)){const t=0|g(e.length),i=a(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return u(e),a(e<0?0:0|g(e))}function h(e){const t=e.length<0?0:0|g(e.length),i=a(t);for(let n=0;n<t;n+=1)i[n]=255&e[n];return i}function d(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),Object.setPrototypeOf(n,l.prototype),n}function g(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return G(e).length;default:if(o)return n?-1:W(e).length;t=(""+t).toLowerCase(),o=!0}}function y(e,t,i){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,i);case"utf8":case"utf-8":return S(this,t,i);case"ascii":return A(this,t,i);case"latin1":case"binary":return E(this,t,i);case"base64":return z(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,i){const n=e[t];e[t]=e[i],e[i]=n}function _(e,t,i,n,o){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),Y(i=+i)&&(i=o?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(o)return-1;i=e.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:v(e,t,i,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):v(e,[t],i,n,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,i,n,o){let s,r=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;r=2,a/=2,l/=2,i/=2}function c(e,t){return 1===r?e[t]:e.readUInt16BE(t*r)}if(o){let n=-1;for(s=i;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===l)return n*r}else-1!==n&&(s-=s-n),n=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){let i=!0;for(let n=0;n<l;n++)if(c(e,s+n)!==c(t,n)){i=!1;break}if(i)return s}return-1}function x(e,t,i,n){i=Number(i)||0;const o=e.length-i;n?(n=Number(n))>o&&(n=o):n=o;const s=t.length;let r;for(n>s/2&&(n=s/2),r=0;r<n;++r){const n=parseInt(t.substr(2*r,2),16);if(Y(n))return r;e[i+r]=n}return r}function w(e,t,i,n){return Z(W(t,e.length-i),e,i,n)}function b(e,t,i,n){return Z(function(e){const t=[];for(let i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function k(e,t,i,n){return Z(G(t),e,i,n)}function T(e,t,i,n){return Z(function(e,t){let i,n,o;const s=[];for(let r=0;r<e.length&&!((t-=2)<0);++r)i=e.charCodeAt(r),n=i>>8,o=i%256,s.push(o),s.push(n);return s}(t,e.length-i),e,i,n)}function z(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function S(e,t,i){i=Math.min(e.length,i);const n=[];let o=t;for(;o<i;){const t=e[o];let s=null,r=t>239?4:t>223?3:t>191?2:1;if(o+r<=i){let i,n,a,l;switch(r){case 1:t<128&&(s=t);break;case 2:i=e[o+1],128==(192&i)&&(l=(31&t)<<6|63&i,l>127&&(s=l));break;case 3:i=e[o+1],n=e[o+2],128==(192&i)&&128==(192&n)&&(l=(15&t)<<12|(63&i)<<6|63&n,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:i=e[o+1],n=e[o+2],a=e[o+3],128==(192&i)&&128==(192&n)&&128==(192&a)&&(l=(15&t)<<18|(63&i)<<12|(63&n)<<6|63&a,l>65535&&l<1114112&&(s=l))}}null===s?(s=65533,r=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),o+=r}return function(e){const t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);let i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=C));return i}(n)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,i){return c(e,t,i)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,i){return function(e,t,i){return u(e),e<=0?a(e):void 0!==t?"string"==typeof i?a(e).fill(t,i):a(e).fill(t):a(e)}(e,t,i)},l.allocUnsafe=function(e){return p(e)},l.allocUnsafeSlow=function(e){return p(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let o=0,s=Math.min(i,n);o<s;++o)if(e[o]!==t[o]){i=e[o],n=t[o];break}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;const n=l.allocUnsafe(t);let o=0;for(i=0;i<e.length;++i){let t=e[i];if(K(t,Uint8Array))o+t.length>n.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(n,o)):Uint8Array.prototype.set.call(n,t,o);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,o)}o+=t.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):y.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const i=t.IS;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(e,t,i,n,o){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=i)return 0;if(n>=o)return-1;if(t>=i)return 1;if(this===e)return 0;let s=(o>>>=0)-(n>>>=0),r=(i>>>=0)-(t>>>=0);const a=Math.min(s,r),c=this.slice(n,o),u=e.slice(t,i);for(let e=0;e<a;++e)if(c[e]!==u[e]){s=c[e],r=u[e];break}return s<r?-1:r<s?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return _(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return _(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}const o=this.length-t;if((void 0===i||i>o)&&(i=o),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return x(this,e,t,i);case"utf8":case"utf-8":return w(this,e,t,i);case"ascii":case"latin1":case"binary":return b(this,e,t,i);case"base64":return k(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function A(e,t,i){let n="";i=Math.min(e.length,i);for(let o=t;o<i;++o)n+=String.fromCharCode(127&e[o]);return n}function E(e,t,i){let n="";i=Math.min(e.length,i);for(let o=t;o<i;++o)n+=String.fromCharCode(e[o]);return n}function P(e,t,i){const n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);let o="";for(let n=t;n<i;++n)o+=Q[e[n]];return o}function M(e,t,i){const n=e.slice(t,i);let o="";for(let e=0;e<n.length-1;e+=2)o+=String.fromCharCode(n[e]+256*n[e+1]);return o}function L(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,i,n,o,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function I(e,t,i,n,o){q(t,n,o,e,i,7);let s=Number(t&BigInt(4294967295));e[i++]=s,s>>=8,e[i++]=s,s>>=8,e[i++]=s,s>>=8,e[i++]=s;let r=Number(t>>BigInt(32)&BigInt(4294967295));return e[i++]=r,r>>=8,e[i++]=r,r>>=8,e[i++]=r,r>>=8,e[i++]=r,i}function O(e,t,i,n,o){q(t,n,o,e,i,7);let s=Number(t&BigInt(4294967295));e[i+7]=s,s>>=8,e[i+6]=s,s>>=8,e[i+5]=s,s>>=8,e[i+4]=s;let r=Number(t>>BigInt(32)&BigInt(4294967295));return e[i+3]=r,r>>=8,e[i+2]=r,r>>=8,e[i+1]=r,r>>=8,e[i]=r,i+8}function R(e,t,i,n,o,s){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function B(e,t,i,n,s){return t=+t,i>>>=0,s||R(e,0,i,4),o.write(e,t,i,n,23,4),i+4}function F(e,t,i,n,s){return t=+t,i>>>=0,s||R(e,0,i,8),o.write(e,t,i,n,52,8),i+8}l.prototype.slice=function(e,t){const i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||L(e,t,this.length);let n=this[e],o=1,s=0;for(;++s<t&&(o*=256);)n+=this[e+s]*o;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||L(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=X((function(e){H(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+i*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),l.prototype.readBigUInt64BE=X((function(e){H(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+i;return(BigInt(n)<<BigInt(32))+BigInt(o)})),l.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||L(e,t,this.length);let n=this[e],o=1,s=0;for(;++s<t&&(o*=256);)n+=this[e+s]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||L(e,t,this.length);let n=t,o=1,s=this[e+--n];for(;n>0&&(o*=256);)s+=this[e+--n]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=X((function(e){H(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=X((function(e){H(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+i)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||D(this,e,t,i,Math.pow(2,8*i)-1,0);let o=1,s=0;for(this[t]=255&e;++s<i&&(o*=256);)this[t+s]=e/o&255;return t+i},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||D(this,e,t,i,Math.pow(2,8*i)-1,0);let o=i-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+i},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=X((function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=X((function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*i-1);D(this,e,t,i,n-1,-n)}let o=0,s=1,r=0;for(this[t]=255&e;++o<i&&(s*=256);)e<0&&0===r&&0!==this[t+o-1]&&(r=1),this[t+o]=(e/s|0)-r&255;return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*i-1);D(this,e,t,i,n-1,-n)}let o=i-1,s=1,r=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===r&&0!==this[t+o+1]&&(r=1),this[t+o]=(e/s|0)-r&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=X((function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=X((function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,i){return B(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return B(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return F(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return F(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);const o=n-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),o},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;let o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{const s=l.isBuffer(e)?e:l.from(e,n),r=s.length;if(0===r)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=s[o%r]}return this};const N={};function j(e,t,i){N[e]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function U(e){let t="",i=e.length;const n="-"===e[0]?1:0;for(;i>=n+4;i-=3)t=`_${e.slice(i-3,i)}${t}`;return`${e.slice(0,i)}${t}`}function q(e,t,i,n,o,s){if(e>i||e<t){const n="bigint"==typeof t?"n":"";let o;throw o=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${i}${n}`,new N.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,i){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+i]||V(t,e.length-(i+1))}(n,o,s)}function H(e,t){if("number"!=typeof e)throw new N.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,i){if(Math.floor(e)!==e)throw H(e,i),new N.ERR_OUT_OF_RANGE(i||"offset","an integer",e);if(t<0)throw new N.ERR_BUFFER_OUT_OF_BOUNDS;throw new N.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${t}`,e)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(e,t,i){let n=`The value of "${e}" is out of range.`,o=i;return Number.isInteger(i)&&Math.abs(i)>2**32?o=U(String(i)):"bigint"==typeof i&&(o=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(o=U(o)),o+="n"),n+=` It must be ${t}. Received ${o}`,n}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function W(e,t){let i;t=t||1/0;const n=e.length;let o=null;const s=[];for(let r=0;r<n;++r){if(i=e.charCodeAt(r),i>55295&&i<57344){if(!o){if(i>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(r+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=i;continue}if(i<56320){(t-=3)>-1&&s.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,i<128){if((t-=1)<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function G(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Z(e,t,i,n){let o;for(o=0;o<n&&!(o+i>=t.length||o>=e.length);++o)t[o+i]=e[o];return o}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let i=0;i<16;++i){const n=16*i;for(let o=0;o<16;++o)t[n+o]=e[i]+e[o]}return t}();function X(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},8350:(e,t)=>{"use strict";t.if=function(e){var t,n="",o=e.length;for(t=2;t<o;t+=3)n+=i[e[t-2]>>2],n+=i[(3&e[t-2])<<4|e[t-1]>>4],n+=i[(15&e[t-1])<<2|e[t]>>6],n+=i[63&e[t]];return t===o+1&&(n+=i[e[t-2]>>2],n+=i[(3&e[t-2])<<4],n+="=="),t===o&&(n+=i[e[t-2]>>2],n+=i[(3&e[t-2])<<4|e[t-1]>>4],n+=i[(15&e[t-1])<<2],n+="="),n},t.Kp=function(e){if(e.length%4!=0)throw new Error("Unable to parse base64 string.");var t=e.indexOf("=");if(-1!==t&&t<e.length-2)throw new Error("Unable to parse base64 string.");for(var i,n=e.endsWith("==")?2:e.endsWith("=")?1:0,s=e.length,r=new Uint8Array(s/4*3),a=0,l=0;a<s;a+=4,l+=3)i=o(e.charCodeAt(a))<<18|o(e.charCodeAt(a+1))<<12|o(e.charCodeAt(a+2))<<6|o(e.charCodeAt(a+3)),r[l]=i>>16,r[l+1]=i>>8&255,r[l+2]=255&i;return r.subarray(0,r.length-n)};var i=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],n=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function o(e){if(e>=n.length)throw new Error("Unable to parse base64 string.");var t=n[e];if(255===t)throw new Error("Unable to parse base64 string.");return t}},9343:(e,t,i)=>{"use strict";var n=i(8897),o=i(8179),s=o(n("String.prototype.indexOf"));e.exports=function(e,t){var i=n(e,!!t);return"function"==typeof i&&s(e,".prototype.")>-1?o(i):i}},8179:(e,t,i)=>{"use strict";var n=i(4499),o=i(8897),s=i(8973),r=i(1711),a=o("%Function.prototype.apply%"),l=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||n.call(l,a),u=i(7539),p=o("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new r("a function is required");var t=c(n,l,arguments);return s(t,1+p(0,e.length-(arguments.length-1)),!0)};var h=function(){return c(n,a,arguments)};u?u(e.exports,"apply",{value:h}):e.exports.apply=h},9381:(e,t,i)=>{"use strict";var n=i(7539),o=i(6296),s=i(1711),r=i(1399);e.exports=function(e,t,i){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new s("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],p=!!r&&r(e,t);if(n)n(e,t,{configurable:null===c&&p?p.configurable:!c,enumerable:null===a&&p?p.enumerable:!a,value:i,writable:null===l&&p?p.writable:!l});else{if(!u&&(a||l||c))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=i}}},5144:(e,t,i)=>{"use strict";var n=i(3425),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=Object.prototype.toString,r=Array.prototype.concat,a=i(9381),l=i(6900)(),c=function(e,t,i,n){if(t in e)if(!0===n){if(e[t]===i)return}else if("function"!=typeof(o=n)||"[object Function]"!==s.call(o)||!n())return;var o;l?a(e,t,i,!0):a(e,t,i)},u=function(e,t){var i=arguments.length>2?arguments[2]:{},s=n(t);o&&(s=r.call(s,Object.getOwnPropertySymbols(t)));for(var a=0;a<s.length;a+=1)c(e,s[a],t[s[a]],i[s[a]])};u.supportsDescriptors=!!l,e.exports=u},7539:(e,t,i)=>{"use strict";var n=i(8897)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(e){n=!1}e.exports=n},3841:e=>{"use strict";e.exports=EvalError},219:e=>{"use strict";e.exports=Error},6190:e=>{"use strict";e.exports=RangeError},3950:e=>{"use strict";e.exports=ReferenceError},6296:e=>{"use strict";e.exports=SyntaxError},1711:e=>{"use strict";e.exports=TypeError},3221:e=>{"use strict";e.exports=URIError},7270:(e,t,i)=>{"use strict";var n=i(9916),o=Object.prototype.toString,s=Object.prototype.hasOwnProperty;e.exports=function(e,t,i){if(!n(t))throw new TypeError("iterator must be a function");var r;arguments.length>=3&&(r=i),"[object Array]"===o.call(e)?function(e,t,i){for(var n=0,o=e.length;n<o;n++)s.call(e,n)&&(null==i?t(e[n],n,e):t.call(i,e[n],n,e))}(e,t,r):"string"==typeof e?function(e,t,i){for(var n=0,o=e.length;n<o;n++)null==i?t(e.charAt(n),n,e):t.call(i,e.charAt(n),n,e)}(e,t,r):function(e,t,i){for(var n in e)s.call(e,n)&&(null==i?t(e[n],n,e):t.call(i,e[n],n,e))}(e,t,r)}},5845:e=>{"use strict";var t=Object.prototype.toString,i=Math.max,n=function(e,t){for(var i=[],n=0;n<e.length;n+=1)i[n]=e[n];for(var o=0;o<t.length;o+=1)i[o+e.length]=t[o];return i};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var s,r=function(e,t){for(var i=[],n=1,o=0;n<e.length;n+=1,o+=1)i[o]=e[n];return i}(arguments),a=i(0,o.length-r.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(s=Function("binder","return function ("+function(e,t){for(var i="",n=0;n<e.length;n+=1)i+=e[n],n+1<e.length&&(i+=",");return i}(l)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof s){var t=o.apply(this,n(r,arguments));return Object(t)===t?t:this}return o.apply(e,n(r,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,s.prototype=new u,u.prototype=null}return s}},4499:(e,t,i)=>{"use strict";var n=i(5845);e.exports=Function.prototype.bind||n},2599:function(e,t){var i,n;void 0===(n="function"==typeof(i=e=>{"use strict";var t=e=>{"number"==typeof e?e=""+e:"string"!=typeof e&&(e="");var t=d(e);return o(e,{_targetLower:t._lower,_targetLowerCodes:t.lowerCodes,_bitflags:t.bitflags})};class i{get indexes(){return this._indexes.slice(0,this._indexes.len).sort(((e,t)=>e-t))}set indexes(e){return this._indexes=e}highlight(e,t){return((e,t="<b>",i="</b>")=>{for(var n="function"==typeof t?t:void 0,o=e.target,s=o.length,r=e.indexes,a="",l=0,c=0,u=!1,p=[],h=0;h<s;++h){var d=o[h];if(r[c]===h){if(++c,u||(u=!0,n?(p.push(a),a=""):a+=t),c===r.length){n?(a+=d,p.push(n(a,l++)),a="",p.push(o.substr(h+1))):a+=d+i+o.substr(h+1);break}}else u&&(u=!1,n?(p.push(n(a,l++)),a=""):a+=i);a+=d}return n?p:a})(this,e,t)}get score(){return s(this._score)}set score(e){this._score=r(e)}}class n extends Array{get score(){return s(this._score)}set score(e){this._score=r(e)}}var o=(e,t)=>{const n=new i;return n.target=e,n.obj=t.obj??D,n._score=t._score??C,n._indexes=t._indexes??[],n._targetLower=t._targetLower??"",n._targetLowerCodes=t._targetLowerCodes??D,n._nextBeginningIndexes=t._nextBeginningIndexes??D,n._bitflags=t._bitflags??0,n},s=e=>e===C?0:e>1?e:Math.E**(-2*((1-e)**.04307-1)),r=e=>0===e?C:e>1?e:1-Math.pow(Math.log(e)/-2+1,1/.04307),a=e=>{"number"==typeof e?e=""+e:"string"!=typeof e&&(e=""),e=e.trim();var t=d(e),i=[];if(t.containsSpace){var n=e.split(/\s+/);n=[...new Set(n)];for(var o=0;o<n.length;o++)if(""!==n[o]){var s=d(n[o]);i.push({lowerCodes:s.lowerCodes,_lower:n[o].toLowerCase(),containsSpace:!1})}}return{lowerCodes:t.lowerCodes,_lower:t._lower,containsSpace:t.containsSpace,bitflags:t.bitflags,spaceSearches:i}},l=e=>{if(e.length>999)return t(e);var i=f.get(e);return void 0!==i||(i=t(e),f.set(e,i)),i},c=e=>{if(e.length>999)return a(e);var t=y.get(e);return void 0!==t||(t=a(e),y.set(e,t)),t},u=(e,t,n=!1,o=!1)=>{if(!1===n&&e.containsSpace)return p(e,t,o);for(var s=e._lower,r=e.lowerCodes,a=r[0],l=t._targetLowerCodes,c=r.length,u=l.length,h=0,d=0,f=0;;){if(a===l[d]){if(m[f++]=d,++h===c)break;a=r[h]}if(++d>=u)return D}h=0;var y=!1,v=0,x=t._nextBeginningIndexes;x===D&&(x=t._nextBeginningIndexes=g(t.target));var w=0;if((d=0===m[0]?0:x[m[0]-1])!==u)for(;;)if(d>=u){if(h<=0)break;if(++w>200)break;--h;var b=_[--v];d=x[b]}else if(r[h]===l[d]){if(_[v++]=d,++h===c){y=!0;break}++d}else d=x[d];var k=c<=1?-1:t._targetLower.indexOf(s,m[0]),T=!!~k,z=!!T&&(0===k||t._nextBeginningIndexes[k-1]===k);if(T&&!z)for(var S=0;S<x.length;S=x[S])if(!(S<=k)){for(var C=0;C<c&&r[C]===t._targetLowerCodes[S+C];C++);if(C===c){k=S,z=!0;break}}var A=e=>{for(var t=0,i=0,n=1;n<c;++n)e[n]-e[n-1]!=1&&(t-=e[n],++i);if(t-=(e[c-1]-e[0]-(c-1)+12)*i,0!==e[0]&&(t-=e[0]*e[0]*.2),y){var o=1;for(n=x[0];n<u;n=x[n])++o;o>24&&(t*=10*(o-24))}else t*=1e3;return t-=(u-c)/2,T&&(t/=1+c*c*1),z&&(t/=1+c*c*1),t-(u-c)/2};if(y)if(z){for(S=0;S<c;++S)m[S]=k+S;E=m,P=A(m)}else E=_,P=A(_);else{if(T)for(S=0;S<c;++S)m[S]=k+S;var E,P=A(E=m)}for(t._score=P,S=0;S<c;++S)t._indexes[S]=E[S];t._indexes.len=c;const M=new i;return M.target=t.target,M._score=t._score,M._indexes=t._indexes,M},p=(e,t,i)=>{for(var n=new Set,o=0,s=D,r=0,a=e.spaceSearches,l=a.length,c=0,p=()=>{for(let e=c-1;e>=0;e--)t._nextBeginningIndexes[v[2*e+0]]=v[2*e+1]},h=!1,d=0;d<l;++d){w[d]=C;var g=a[d];if(s=u(g,t),i){if(s===D)continue;h=!0}else if(s===D)return p(),D;if(d!==l-1){var f=s._indexes,y=!0;for(let e=0;e<f.len-1;e++)if(f[e+1]-f[e]!=1){y=!1;break}if(y){var m=f[f.len-1]+1,_=t._nextBeginningIndexes[m-1];for(let e=m-1;e>=0&&_===t._nextBeginningIndexes[e];e--)t._nextBeginningIndexes[e]=m,v[2*c+0]=e,v[2*c+1]=_,c++}}o+=s._score/l,w[d]=s._score/l,s._indexes[0]<r&&(o-=2*(r-s._indexes[0])),r=s._indexes[0];for(var x=0;x<s._indexes.len;++x)n.add(s._indexes[x])}if(i&&!h)return D;p();var b=u(e,t,!0);if(b!==D&&b._score>o){if(i)for(d=0;d<l;++d)w[d]=b._score/l;return b}i&&(s=t),s._score=o,d=0;for(let e of n)s._indexes[d++]=e;return s._indexes.len=d,s},h=e=>e.replace(/\p{Script=Latin}+/gu,(e=>e.normalize("NFD"))).replace(/[\u0300-\u036f]/g,""),d=e=>{for(var t=(e=h(e)).length,i=e.toLowerCase(),n=[],o=0,s=!1,r=0;r<t;++r){var a=n[r]=i.charCodeAt(r);32!==a?o|=1<<(a>=97&&a<=122?a-97:a>=48&&a<=57?26:a<=127?30:31):s=!0}return{lowerCodes:n,bitflags:o,containsSpace:s,_lower:i}},g=e=>{for(var t=(e=h(e)).length,i=(e=>{for(var t=e.length,i=[],n=0,o=!1,s=!1,r=0;r<t;++r){var a=e.charCodeAt(r),l=a>=65&&a<=90,c=l||a>=97&&a<=122||a>=48&&a<=57,u=l&&!o||!s||!c;o=l,s=c,u&&(i[n++]=r)}return i})(e),n=[],o=i[0],s=0,r=0;r<t;++r)o>r?n[r]=o:(o=i[++s],n[r]=void 0===o?t:o);return n},f=new Map,y=new Map,m=[],_=[],v=[],x=[],w=[],b=[],k=[],T=(e,t)=>{var i=e[t];if(void 0!==i)return i;if("function"==typeof t)return t(e);var n=t;Array.isArray(t)||(n=t.split("."));for(var o=n.length,s=-1;e&&++s<o;)e=e[n[s]];return e},z=e=>"object"==typeof e&&"number"==typeof e._bitflags,S=1/0,C=-S,A=[];A.total=0;var E,P,M,L,D=null,I=t(""),O=(E=[],P=0,L=e=>{for(var t=0,i=E[t],n=1;n<P;){var o=n+1;t=n,o<P&&E[o]._score<E[n]._score&&(t=o),E[t-1>>1]=E[t],n=1+(t<<1)}for(var s=t-1>>1;t>0&&i._score<E[s]._score;s=(t=s)-1>>1)E[t]=E[s];E[t]=i},(M={}).add=e=>{var t=P;E[P++]=e;for(var i=t-1>>1;t>0&&e._score<E[i]._score;i=(t=i)-1>>1)E[t]=E[i];E[t]=e},M.poll=e=>{if(0!==P){var t=E[0];return E[0]=E[--P],L(),t}},M.peek=e=>{if(0!==P)return E[0]},M.replaceTop=e=>{E[0]=e,L()},M);return{single:(e,t)=>{if(!e||!t)return D;var i=c(e);z(t)||(t=l(t));var n=i.bitflags;return(n&t._bitflags)!==n?D:u(i,t)},go:(e,t,i)=>{if(!e)return i?.all?((e,t)=>{var i=[];i.total=e.length;var s=t?.limit||S;if(t?.key)for(var r=0;r<e.length;r++){var a=e[r];if((h=T(a,t.key))!=D){z(h)||(h=l(h));var c=o(h.target,{_score:h._score,obj:a});if(i.push(c),i.length>=s)return i}}else if(t?.keys)for(r=0;r<e.length;r++){a=e[r];for(var u=new n(t.keys.length),p=t.keys.length-1;p>=0;--p)(h=T(a,t.keys[p]))?(z(h)||(h=l(h)),h._score=C,h._indexes.len=0,u[p]=h):u[p]=I;if(u.obj=a,u._score=C,i.push(u),i.length>=s)return i}else for(r=0;r<e.length;r++){var h;if((h=e[r])!=D&&(z(h)||(h=l(h)),h._score=C,h._indexes.len=0,i.push(h),i.length>=s))return i}return i})(t,i):A;var s=c(e),a=s.bitflags,p=s.containsSpace,h=r(i?.threshold||0),d=i?.limit||S,g=0,f=0,y=t.length;function m(e){g<d?(O.add(e),++g):(++f,e._score>O.peek()._score&&O.replaceTop(e))}if(i?.key)for(var _=i.key,v=0;v<y;++v){var E=t[v];(U=T(E,_))&&(z(U)||(U=l(U)),(a&U._bitflags)===a&&(q=u(s,U))!==D&&(q._score<h||(q.obj=E,m(q))))}else if(i?.keys){var P=i.keys,M=P.length;e:for(v=0;v<y;++v){E=t[v];for(var L=0,R=0;R<M;++R)_=P[R],(U=T(E,_))?(z(U)||(U=l(U)),b[R]=U,L|=U._bitflags):b[R]=I;if((a&L)===a){if(p)for(let e=0;e<s.spaceSearches.length;e++)x[e]=C;for(R=0;R<M;++R)if((U=b[R])!==I)if(k[R]=u(s,U,!1,p),k[R]!==D){if(p)for(let e=0;e<s.spaceSearches.length;e++)w[e]>-1e3&&x[e]>C&&(j=(x[e]+w[e])/4)>x[e]&&(x[e]=j),w[e]>x[e]&&(x[e]=w[e])}else k[R]=I;else k[R]=I;if(p){for(let e=0;e<s.spaceSearches.length;e++)if(x[e]===C)continue e}else{var B=!1;for(let e=0;e<M;e++)if(k[e]._score!==C){B=!0;break}if(!B)continue}var F=new n(M);for(let e=0;e<M;e++)F[e]=k[e];if(p){var N=0;for(let e=0;e<s.spaceSearches.length;e++)N+=x[e]}else{N=C;for(let e=0;e<M;e++){var j;(q=F[e])._score>-1e3&&N>C&&(j=(N+q._score)/4)>N&&(N=j),q._score>N&&(N=q._score)}}if(F.obj=E,F._score=N,i?.scoreFn){if(!(N=i.scoreFn(F)))continue;N=r(N),F._score=N}N<h||m(F)}}}else for(v=0;v<y;++v){var U,q;(U=t[v])&&(z(U)||(U=l(U)),(a&U._bitflags)===a&&(q=u(s,U))!==D&&(q._score<h||m(q)))}if(0===g)return A;var H=new Array(g);for(v=g-1;v>=0;--v)H[v]=O.poll();return H.total=g+f,H},prepare:t,cleanup:()=>{f.clear(),y.clear()}}})?i.apply(t,[]):i)||(e.exports=n)},8897:(e,t,i)=>{"use strict";var n,o=i(219),s=i(3841),r=i(6190),a=i(3950),l=i(6296),c=i(1711),u=i(3221),p=Function,h=function(e){try{return p('"use strict"; return ('+e+").constructor;")()}catch(e){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(e){d=null}var g=function(){throw new c},f=d?function(){try{return g}catch(e){try{return d(arguments,"callee").get}catch(e){return g}}}():g,y=i(4923)(),m=i(9372)(),_=Object.getPrototypeOf||(m?function(e){return e.__proto__}:null),v={},x="undefined"!=typeof Uint8Array&&_?_(Uint8Array):n,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":y&&_?_([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":s,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":v,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y&&_?_(_([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&y&&_?_((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":r,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&y&&_?_((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y&&_?_(""[Symbol.iterator]()):n,"%Symbol%":y?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":f,"%TypedArray%":x,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(_)try{null.error}catch(e){var b=_(_(e));w["%Error.prototype%"]=b}var k=function e(t){var i;if("%AsyncFunction%"===t)i=h("async function () {}");else if("%GeneratorFunction%"===t)i=h("function* () {}");else if("%AsyncGeneratorFunction%"===t)i=h("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(i=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&_&&(i=_(o.prototype))}return w[t]=i,i},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=i(4499),S=i(4313),C=z.call(Function.call,Array.prototype.concat),A=z.call(Function.apply,Array.prototype.splice),E=z.call(Function.call,String.prototype.replace),P=z.call(Function.call,String.prototype.slice),M=z.call(Function.call,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,I=function(e,t){var i,n=e;if(S(T,n)&&(n="%"+(i=T[n])[0]+"%"),S(w,n)){var o=w[n];if(o===v&&(o=k(n)),void 0===o&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===M(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=function(e){var t=P(e,0,1),i=P(e,-1);if("%"===t&&"%"!==i)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var n=[];return E(e,L,(function(e,t,i,o){n[n.length]=i?E(o,D,"$1"):t||e})),n}(e),n=i.length>0?i[0]:"",o=I("%"+n+"%",t),s=o.name,r=o.value,a=!1,u=o.alias;u&&(n=u[0],A(i,C([0,1],u)));for(var p=1,h=!0;p<i.length;p+=1){var g=i[p],f=P(g,0,1),y=P(g,-1);if(('"'===f||"'"===f||"`"===f||'"'===y||"'"===y||"`"===y)&&f!==y)throw new l("property names with quotes must have matching quotes");if("constructor"!==g&&h||(a=!0),S(w,s="%"+(n+="."+g)+"%"))r=w[s];else if(null!=r){if(!(g in r)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(d&&p+1>=i.length){var m=d(r,g);r=(h=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:r[g]}else h=S(r,g),r=r[g];h&&!a&&(w[s]=r)}}return r}},1399:(e,t,i)=>{"use strict";var n=i(8897)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},6900:(e,t,i)=>{"use strict";var n=i(7539),o=function(){return!!n};o.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},9372:e=>{"use strict";var t={__proto__:null,foo:{}},i=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof i)}},4923:(e,t,i)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=i(4361);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},4361:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),i=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},1432:(e,t,i)=>{"use strict";var n=i(4361);e.exports=function(){return n()&&!!Symbol.toStringTag}},4313:(e,t,i)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,s=i(4499);e.exports=s.call(n,o)},8239:(e,t)=>{t.read=function(e,t,i,n,o){var s,r,a=8*o-n-1,l=(1<<a)-1,c=l>>1,u=-7,p=i?o-1:0,h=i?-1:1,d=e[t+p];for(p+=h,s=d&(1<<-u)-1,d>>=-u,u+=a;u>0;s=256*s+e[t+p],p+=h,u-=8);for(r=s&(1<<-u)-1,s>>=-u,u+=n;u>0;r=256*r+e[t+p],p+=h,u-=8);if(0===s)s=1-c;else{if(s===l)return r?NaN:1/0*(d?-1:1);r+=Math.pow(2,n),s-=c}return(d?-1:1)*r*Math.pow(2,s-n)},t.write=function(e,t,i,n,o,s){var r,a,l,c=8*s-o-1,u=(1<<c)-1,p=u>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,g=n?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,r=u):(r=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-r))<1&&(r--,l*=2),(t+=r+p>=1?h/l:h*Math.pow(2,1-p))*l>=2&&(r++,l/=2),r+p>=u?(a=0,r=u):r+p>=1?(a=(t*l-1)*Math.pow(2,o),r+=p):(a=t*Math.pow(2,p-1)*Math.pow(2,o),r=0));o>=8;e[i+d]=255&a,d+=g,a/=256,o-=8);for(r=r<<o|a,c+=o;c>0;e[i+d]=255&r,d+=g,r/=256,c-=8);e[i+d-g]|=128*f}},198:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},5456:(e,t,i)=>{"use strict";var n=i(1432)(),o=i(9343)("Object.prototype.toString"),s=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},r=function(e){return!!s(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},a=function(){return s(arguments)}();s.isLegacyArguments=r,e.exports=a?s:r},9916:e=>{"use strict";var t,i,n=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw i}}),i={},o((function(){throw 42}),null,t)}catch(e){e!==i&&(o=null)}else o=null;var s=/^\s*class\b/,r=function(e){try{var t=n.call(e);return s.test(t)}catch(e){return!1}},a=function(e){try{return!r(e)&&(n.call(e),!0)}catch(e){return!1}},l=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),p=function(){return!1};if("object"==typeof document){var h=document.all;l.call(h)===l.call(document.all)&&(p=function(e){if((u||!e)&&(void 0===e||"object"==typeof e))try{var t=l.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=o?function(e){if(p(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{o(e,null,t)}catch(e){if(e!==i)return!1}return!r(e)&&a(e)}:function(e){if(p(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(c)return a(e);if(r(e))return!1;var t=l.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&a(e)}},6940:(e,t,i)=>{"use strict";var n,o=Object.prototype.toString,s=Function.prototype.toString,r=/^\s*(?:function)?\*/,a=i(1432)(),l=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(r.test(s.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===o.call(e);if(!l)return!1;if(void 0===n){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&l(t)}return l(e)===n}},7423:e=>{"use strict";e.exports=function(e){return e!=e}},2889:(e,t,i)=>{"use strict";var n=i(8179),o=i(5144),s=i(7423),r=i(8734),a=i(9004),l=n(r(),Number);o(l,{getPolyfill:r,implementation:s,shim:a}),e.exports=l},8734:(e,t,i)=>{"use strict";var n=i(7423);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},9004:(e,t,i)=>{"use strict";var n=i(5144),o=i(8734);e.exports=function(){var e=o();return n(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},2116:(e,t,i)=>{"use strict";var n=i(6059);e.exports=function(e){return!!n(e)}},5616:function(e,t){var i;!function(t,i){"use strict";"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,(function(n,o){"use strict";var s=[],r=Object.getPrototypeOf,a=s.slice,l=s.flat?function(e){return s.flat.call(e)}:function(e){return s.concat.apply([],e)},c=s.push,u=s.indexOf,p={},h=p.toString,d=p.hasOwnProperty,g=d.toString,f=g.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},_=function(e){return null!=e&&e===e.window},v=n.document,x={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,i){var n,o,s=(i=i||v).createElement("script");if(s.text=e,t)for(n in x)(o=t[n]||t.getAttribute&&t.getAttribute(n))&&s.setAttribute(n,o);i.head.appendChild(s).parentNode.removeChild(s)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?p[h.call(e)]||"object":typeof e}var k="3.7.1",T=/HTML$/i,z=function(e,t){return new z.fn.init(e,t)};function S(e){var t=!!e&&"length"in e&&e.length,i=b(e);return!m(e)&&!_(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}z.fn=z.prototype={jquery:k,constructor:z,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=z.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return z.each(this,e)},map:function(e){return this.pushStack(z.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(z.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(z.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:s.sort,splice:s.splice},z.extend=z.fn.extend=function(){var e,t,i,n,o,s,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||m(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&r!==n&&(c&&n&&(z.isPlainObject(n)||(o=Array.isArray(n)))?(i=r[t],s=o&&!Array.isArray(i)?[]:o||z.isPlainObject(i)?i:{},o=!1,r[t]=z.extend(c,s,n)):void 0!==n&&(r[t]=n));return r},z.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==h.call(e)||(t=r(e))&&("function"!=typeof(i=d.call(t,"constructor")&&t.constructor)||g.call(i)!==f))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,i){w(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,n=0;if(S(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},text:function(e){var t,i="",n=0,o=e.nodeType;if(!o)for(;t=e[n++];)i+=z.text(t);return 1===o||11===o?e.textContent:9===o?e.documentElement.textContent:3===o||4===o?e.nodeValue:i},makeArray:function(e,t){var i=t||[];return null!=e&&(S(Object(e))?z.merge(i,"string"==typeof e?[e]:e):c.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:u.call(t,e,i)},isXMLDoc:function(e){var t=e&&e.namespaceURI,i=e&&(e.ownerDocument||e).documentElement;return!T.test(t||i&&i.nodeName||"HTML")},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,i){for(var n=[],o=0,s=e.length,r=!i;o<s;o++)!t(e[o],o)!==r&&n.push(e[o]);return n},map:function(e,t,i){var n,o,s=0,r=[];if(S(e))for(n=e.length;s<n;s++)null!=(o=t(e[s],s,i))&&r.push(o);else for(s in e)null!=(o=t(e[s],s,i))&&r.push(o);return l(r)},guid:1,support:y}),"function"==typeof Symbol&&(z.fn[Symbol.iterator]=s[Symbol.iterator]),z.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){p["[object "+t+"]"]=t.toLowerCase()}));var A=s.pop,E=s.sort,P=s.splice,M="[\\x20\\t\\r\\n\\f]",L=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g");z.contains=function(e,t){var i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(e.contains?e.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))};var D=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function I(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}z.escapeSelector=function(e){return(e+"").replace(D,I)};var O=v,R=c;!function(){var e,t,i,o,r,l,c,p,h,g,f=R,m=z.expando,_=0,v=0,x=ee(),w=ee(),b=ee(),k=ee(),T=function(e,t){return e===t&&(r=!0),0},S="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",I="\\["+M+"*("+D+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+M+"*\\]",B=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",F=new RegExp(M+"+","g"),N=new RegExp("^"+M+"*,"+M+"*"),j=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),q=new RegExp(B),H=new RegExp("^"+D+"$"),V={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+S+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},$=/^(?:input|select|textarea|button)$/i,W=/^h\d$/i,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,K=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),Y=function(e,t){var i="0x"+e.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},Q=function(){le()},X=he((function(e){return!0===e.disabled&&C(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{f.apply(s=a.call(O.childNodes),O.childNodes),s[O.childNodes.length].nodeType}catch(e){f={apply:function(e,t){R.apply(e,a.call(t))},call:function(e){R.apply(e,a.call(arguments,1))}}}function J(e,t,i,n){var o,s,r,a,c,u,d,g=t&&t.ownerDocument,_=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return i;if(!n&&(le(t),t=t||l,p)){if(11!==_&&(c=G.exec(e)))if(o=c[1]){if(9===_){if(!(r=t.getElementById(o)))return i;if(r.id===o)return f.call(i,r),i}else if(g&&(r=g.getElementById(o))&&J.contains(t,r)&&r.id===o)return f.call(i,r),i}else{if(c[2])return f.apply(i,t.getElementsByTagName(e)),i;if((o=c[3])&&t.getElementsByClassName)return f.apply(i,t.getElementsByClassName(o)),i}if(!(k[e+" "]||h&&h.test(e))){if(d=e,g=t,1===_&&(U.test(e)||j.test(e))){for((g=Z.test(e)&&ae(t.parentNode)||t)==t&&y.scope||((a=t.getAttribute("id"))?a=z.escapeSelector(a):t.setAttribute("id",a=m)),s=(u=ue(e)).length;s--;)u[s]=(a?"#"+a:":scope")+" "+pe(u[s]);d=u.join(",")}try{return f.apply(i,g.querySelectorAll(d)),i}catch(t){k(e,!0)}finally{a===m&&t.removeAttribute("id")}}}return _e(e.replace(L,"$1"),t,i,n)}function ee(){var e=[];return function i(n,o){return e.push(n+" ")>t.cacheLength&&delete i[e.shift()],i[n+" "]=o}}function te(e){return e[m]=!0,e}function ie(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ne(e){return function(t){return C(t,"input")&&t.type===e}}function oe(e){return function(t){return(C(t,"input")||C(t,"button"))&&t.type===e}}function se(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&X(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function re(e){return te((function(t){return t=+t,te((function(i,n){for(var o,s=e([],i.length,t),r=s.length;r--;)i[o=s[r]]&&(i[o]=!(n[o]=i[o]))}))}))}function ae(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var i,n=e?e.ownerDocument||e:O;return n!=l&&9===n.nodeType&&n.documentElement?(c=(l=n).documentElement,p=!z.isXMLDoc(l),g=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&O!=l&&(i=l.defaultView)&&i.top!==i&&i.addEventListener("unload",Q),y.getById=ie((function(e){return c.appendChild(e).id=z.expando,!l.getElementsByName||!l.getElementsByName(z.expando).length})),y.disconnectedMatch=ie((function(e){return g.call(e,"*")})),y.scope=ie((function(){return l.querySelectorAll(":scope")})),y.cssHas=ie((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),y.getById?(t.filter.ID=function(e){var t=e.replace(K,Y);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&p){var i=t.getElementById(e);return i?[i]:[]}}):(t.filter.ID=function(e){var t=e.replace(K,Y);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&p){var i,n,o,s=t.getElementById(e);if(s){if((i=s.getAttributeNode("id"))&&i.value===e)return[s];for(o=t.getElementsByName(e),n=0;s=o[n++];)if((i=s.getAttributeNode("id"))&&i.value===e)return[s]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&p)return t.getElementsByClassName(e)},h=[],ie((function(e){var t;c.appendChild(e).innerHTML="<a id='"+m+"' href='' disabled='disabled'></a><select id='"+m+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+M+"*(?:value|"+S+")"),e.querySelectorAll("[id~="+m+"-]").length||h.push("~="),e.querySelectorAll("a#"+m+"+*").length||h.push(".#.+[+~]"),e.querySelectorAll(":checked").length||h.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&h.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||h.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")")})),y.cssHas||h.push(":has"),h=h.length&&new RegExp(h.join("|")),T=function(e,t){if(e===t)return r=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!y.sortDetached&&t.compareDocumentPosition(e)===i?e===l||e.ownerDocument==O&&J.contains(O,e)?-1:t===l||t.ownerDocument==O&&J.contains(O,t)?1:o?u.call(o,e)-u.call(o,t):0:4&i?-1:1)},l):l}for(e in J.matches=function(e,t){return J(e,null,null,t)},J.matchesSelector=function(e,t){if(le(e),p&&!k[t+" "]&&(!h||!h.test(t)))try{var i=g.call(e,t);if(i||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){k(t,!0)}return J(t,l,null,[e]).length>0},J.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),z.contains(e,t)},J.attr=function(e,i){(e.ownerDocument||e)!=l&&le(e);var n=t.attrHandle[i.toLowerCase()],o=n&&d.call(t.attrHandle,i.toLowerCase())?n(e,i,!p):void 0;return void 0!==o?o:e.getAttribute(i)},J.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},z.uniqueSort=function(e){var t,i=[],n=0,s=0;if(r=!y.sortStable,o=!y.sortStable&&a.call(e,0),E.call(e,T),r){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)P.call(e,i[n],1)}return o=null,e},z.fn.uniqueSort=function(){return this.pushStack(z.uniqueSort(a.apply(this)))},t=z.expr={cacheLength:50,createPseudo:te,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(K,Y),e[3]=(e[3]||e[4]||e[5]||"").replace(K,Y),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||J.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&J.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&q.test(i)&&(t=ue(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(K,Y).toLowerCase();return"*"===e?function(){return!0}:function(e){return C(e,t)}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&x(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(n){var o=J.attr(n,e);return null==o?"!="===t:!t||(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.slice(-i.length)===i:"~="===t?(" "+o.replace(F," ")+" ").indexOf(i)>-1:"|="===t&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,o){var s="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var c,u,p,h,d,g=s!==r?"nextSibling":"previousSibling",f=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!l&&!a,x=!1;if(f){if(s){for(;g;){for(p=t;p=p[g];)if(a?C(p,y):1===p.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[r?f.firstChild:f.lastChild],r&&v){for(x=(h=(c=(u=f[m]||(f[m]={}))[e]||[])[0]===_&&c[1])&&c[2],p=h&&f.childNodes[h];p=++h&&p&&p[g]||(x=h=0)||d.pop();)if(1===p.nodeType&&++x&&p===t){u[e]=[_,h,x];break}}else if(v&&(x=h=(c=(u=t[m]||(t[m]={}))[e]||[])[0]===_&&c[1]),!1===x)for(;(p=++h&&p&&p[g]||(x=h=0)||d.pop())&&(!(a?C(p,y):1===p.nodeType)||!++x||(v&&((u=p[m]||(p[m]={}))[e]=[_,x]),p!==t)););return(x-=o)===n||x%n==0&&x/n>=0}}},PSEUDO:function(e,i){var n,o=t.pseudos[e]||t.setFilters[e.toLowerCase()]||J.error("unsupported pseudo: "+e);return o[m]?o(i):o.length>1?(n=[e,e,"",i],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var n,s=o(e,i),r=s.length;r--;)e[n=u.call(e,s[r])]=!(t[n]=s[r])})):function(e){return o(e,0,n)}):o}},pseudos:{not:te((function(e){var t=[],i=[],n=me(e.replace(L,"$1"));return n[m]?te((function(e,t,i,o){for(var s,r=n(e,null,o,[]),a=e.length;a--;)(s=r[a])&&(e[a]=!(t[a]=s))})):function(e,o,s){return t[0]=e,n(t,null,s,i),t[0]=null,!i.pop()}})),has:te((function(e){return function(t){return J(e,t).length>0}})),contains:te((function(e){return e=e.replace(K,Y),function(t){return(t.textContent||z.text(t)).indexOf(e)>-1}})),lang:te((function(e){return H.test(e||"")||J.error("unsupported lang: "+e),e=e.replace(K,Y).toLowerCase(),function(t){var i;do{if(i=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:se(!1),disabled:se(!0),checked:function(e){return C(e,"input")&&!!e.checked||C(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return W.test(e.nodeName)},input:function(e){return $.test(e.nodeName)},button:function(e){return C(e,"input")&&"button"===e.type||C(e,"button")},text:function(e){var t;return C(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:re((function(){return[0]})),last:re((function(e,t){return[t-1]})),eq:re((function(e,t,i){return[i<0?i+t:i]})),even:re((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:re((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:re((function(e,t,i){var n;for(n=i<0?i+t:i>t?t:i;--n>=0;)e.push(n);return e})),gt:re((function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=ne(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=oe(e);function ce(){}function ue(e,i){var n,o,s,r,a,l,c,u=w[e+" "];if(u)return i?0:u.slice(0);for(a=e,l=[],c=t.preFilter;a;){for(r in n&&!(o=N.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),n=!1,(o=j.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(L," ")}),a=a.slice(n.length)),t.filter)!(o=V[r].exec(a))||c[r]&&!(o=c[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?J.error(e):w(e,l).slice(0)}function pe(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function he(e,t,i){var n=t.dir,o=t.next,s=o||n,r=i&&"parentNode"===s,a=v++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,o);return!1}:function(t,i,l){var c,u,p=[_,a];if(l){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||r)if(u=t[m]||(t[m]={}),o&&C(t,o))t=t[n]||t;else{if((c=u[s])&&c[0]===_&&c[1]===a)return p[2]=c[2];if(u[s]=p,p[2]=e(t,i,l))return!0}return!1}}function de(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function ge(e,t,i,n,o){for(var s,r=[],a=0,l=e.length,c=null!=t;a<l;a++)(s=e[a])&&(i&&!i(s,n,o)||(r.push(s),c&&t.push(a)));return r}function fe(e,t,i,n,o,s){return n&&!n[m]&&(n=fe(n)),o&&!o[m]&&(o=fe(o,s)),te((function(s,r,a,l){var c,p,h,d,g=[],y=[],m=r.length,_=s||function(e,t,i){for(var n=0,o=t.length;n<o;n++)J(e,t[n],i);return i}(t||"*",a.nodeType?[a]:a,[]),v=!e||!s&&t?_:ge(_,g,e,a,l);if(i?i(v,d=o||(s?e:m||n)?[]:r,a,l):d=v,n)for(c=ge(d,y),n(c,[],a,l),p=c.length;p--;)(h=c[p])&&(d[y[p]]=!(v[y[p]]=h));if(s){if(o||e){if(o){for(c=[],p=d.length;p--;)(h=d[p])&&c.push(v[p]=h);o(null,d=[],c,l)}for(p=d.length;p--;)(h=d[p])&&(c=o?u.call(s,h):g[p])>-1&&(s[c]=!(r[c]=h))}}else d=ge(d===r?d.splice(m,d.length):d),o?o(null,r,d,l):f.apply(r,d)}))}function ye(e){for(var n,o,s,r=e.length,a=t.relative[e[0].type],l=a||t.relative[" "],c=a?1:0,p=he((function(e){return e===n}),l,!0),h=he((function(e){return u.call(n,e)>-1}),l,!0),d=[function(e,t,o){var s=!a&&(o||t!=i)||((n=t).nodeType?p(e,t,o):h(e,t,o));return n=null,s}];c<r;c++)if(o=t.relative[e[c].type])d=[he(de(d),o)];else{if((o=t.filter[e[c].type].apply(null,e[c].matches))[m]){for(s=++c;s<r&&!t.relative[e[s].type];s++);return fe(c>1&&de(d),c>1&&pe(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(L,"$1"),o,c<s&&ye(e.slice(c,s)),s<r&&ye(e=e.slice(s)),s<r&&pe(e))}d.push(o)}return de(d)}function me(e,n){var o,s=[],r=[],a=b[e+" "];if(!a){for(n||(n=ue(e)),o=n.length;o--;)(a=ye(n[o]))[m]?s.push(a):r.push(a);a=b(e,function(e,n){var o=n.length>0,s=e.length>0,r=function(r,a,c,u,h){var d,g,y,m=0,v="0",x=r&&[],w=[],b=i,k=r||s&&t.find.TAG("*",h),T=_+=null==b?1:Math.random()||.1,S=k.length;for(h&&(i=a==l||a||h);v!==S&&null!=(d=k[v]);v++){if(s&&d){for(g=0,a||d.ownerDocument==l||(le(d),c=!p);y=e[g++];)if(y(d,a||l,c)){f.call(u,d);break}h&&(_=T)}o&&((d=!y&&d)&&m--,r&&x.push(d))}if(m+=v,o&&v!==m){for(g=0;y=n[g++];)y(x,w,a,c);if(r){if(m>0)for(;v--;)x[v]||w[v]||(w[v]=A.call(u));w=ge(w)}f.apply(u,w),h&&!r&&w.length>0&&m+n.length>1&&z.uniqueSort(u)}return h&&(_=T,i=b),x};return o?te(r):r}(r,s)),a.selector=e}return a}function _e(e,i,n,o){var s,r,a,l,c,u="function"==typeof e&&e,h=!o&&ue(e=u.selector||e);if(n=n||[],1===h.length){if((r=h[0]=h[0].slice(0)).length>2&&"ID"===(a=r[0]).type&&9===i.nodeType&&p&&t.relative[r[1].type]){if(!(i=(t.find.ID(a.matches[0].replace(K,Y),i)||[])[0]))return n;u&&(i=i.parentNode),e=e.slice(r.shift().value.length)}for(s=V.needsContext.test(e)?0:r.length;s--&&(a=r[s],!t.relative[l=a.type]);)if((c=t.find[l])&&(o=c(a.matches[0].replace(K,Y),Z.test(r[0].type)&&ae(i.parentNode)||i))){if(r.splice(s,1),!(e=o.length&&pe(r)))return f.apply(n,o),n;break}}return(u||me(e,h))(o,i,!p,n,!i||Z.test(e)&&ae(i.parentNode)||i),n}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,y.sortStable=m.split("").sort(T).join("")===m,le(),y.sortDetached=ie((function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))})),z.find=J,z.expr[":"]=z.expr.pseudos,z.unique=z.uniqueSort,J.compile=me,J.select=_e,J.setDocument=le,J.tokenize=ue,J.escape=z.escapeSelector,J.getText=z.text,J.isXML=z.isXMLDoc,J.selectors=z.expr,J.support=z.support,J.uniqueSort=z.uniqueSort}();var B=function(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&z(e).is(i))break;n.push(e)}return n},F=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},N=z.expr.match.needsContext,j=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function U(e,t,i){return m(t)?z.grep(e,(function(e,n){return!!t.call(e,n,e)!==i})):t.nodeType?z.grep(e,(function(e){return e===t!==i})):"string"!=typeof t?z.grep(e,(function(e){return u.call(t,e)>-1!==i})):z.filter(t,e,i)}z.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?z.find.matchesSelector(n,e)?[n]:[]:z.find.matches(e,z.grep(t,(function(e){return 1===e.nodeType})))},z.fn.extend({find:function(e){var t,i,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(z(e).filter((function(){for(t=0;t<n;t++)if(z.contains(o[t],this))return!0})));for(i=this.pushStack([]),t=0;t<n;t++)z.find(e,o[t],i);return n>1?z.uniqueSort(i):i},filter:function(e){return this.pushStack(U(this,e||[],!1))},not:function(e){return this.pushStack(U(this,e||[],!0))},is:function(e){return!!U(this,"string"==typeof e&&N.test(e)?z(e):e||[],!1).length}});var q,H=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(z.fn.init=function(e,t,i){var n,o;if(!e)return this;if(i=i||q,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:H.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof z?t[0]:t,z.merge(this,z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:v,!0)),j.test(n[1])&&z.isPlainObject(t))for(n in t)m(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(o=v.getElementById(n[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==i.ready?i.ready(e):e(z):z.makeArray(e,this)}).prototype=z.fn,q=z(v);var V=/^(?:parents|prev(?:Until|All))/,$={children:!0,contents:!0,next:!0,prev:!0};function W(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}z.fn.extend({has:function(e){var t=z(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(z.contains(this,t[e]))return!0}))},closest:function(e,t){var i,n=0,o=this.length,s=[],r="string"!=typeof e&&z(e);if(!N.test(e))for(;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&z.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?z.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?u.call(z(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(z.uniqueSort(z.merge(this.get(),z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return B(e,"parentNode")},parentsUntil:function(e,t,i){return B(e,"parentNode",i)},next:function(e){return W(e,"nextSibling")},prev:function(e){return W(e,"previousSibling")},nextAll:function(e){return B(e,"nextSibling")},prevAll:function(e){return B(e,"previousSibling")},nextUntil:function(e,t,i){return B(e,"nextSibling",i)},prevUntil:function(e,t,i){return B(e,"previousSibling",i)},siblings:function(e){return F((e.parentNode||{}).firstChild,e)},children:function(e){return F(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(C(e,"template")&&(e=e.content||e),z.merge([],e.childNodes))}},(function(e,t){z.fn[e]=function(i,n){var o=z.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=z.filter(n,o)),this.length>1&&($[e]||z.uniqueSort(o),V.test(e)&&o.reverse()),this.pushStack(o)}}));var G=/[^\x20\t\r\n\f]+/g;function Z(e){return e}function K(e){throw e}function Y(e,t,i,n){var o;try{e&&m(o=e.promise)?o.call(e).done(t).fail(i):e&&m(o=e.then)?o.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}z.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return z.each(e.match(G)||[],(function(e,i){t[i]=!0})),t}(e):z.extend({},e);var t,i,n,o,s=[],r=[],a=-1,l=function(){for(o=o||e.once,n=t=!0;r.length;a=-1)for(i=r.shift();++a<s.length;)!1===s[a].apply(i[0],i[1])&&e.stopOnFalse&&(a=s.length,i=!1);e.memory||(i=!1),t=!1,o&&(s=i?[]:"")},c={add:function(){return s&&(i&&!t&&(a=s.length-1,r.push(i)),function t(i){z.each(i,(function(i,n){m(n)?e.unique&&c.has(n)||s.push(n):n&&n.length&&"string"!==b(n)&&t(n)}))}(arguments),i&&!t&&l()),this},remove:function(){return z.each(arguments,(function(e,t){for(var i;(i=z.inArray(t,s,i))>-1;)s.splice(i,1),i<=a&&a--})),this},has:function(e){return e?z.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=r=[],s=i="",this},disabled:function(){return!s},lock:function(){return o=r=[],i||t||(s=i=""),this},locked:function(){return!!o},fireWith:function(e,i){return o||(i=[e,(i=i||[]).slice?i.slice():i],r.push(i),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},z.extend({Deferred:function(e){var t=[["notify","progress",z.Callbacks("memory"),z.Callbacks("memory"),2],["resolve","done",z.Callbacks("once memory"),z.Callbacks("once memory"),0,"resolved"],["reject","fail",z.Callbacks("once memory"),z.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return z.Deferred((function(i){z.each(t,(function(t,n){var o=m(e[n[4]])&&e[n[4]];s[n[1]]((function(){var e=o&&o.apply(this,arguments);e&&m(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,i,o){var s=0;function r(e,t,i,o){return function(){var a=this,l=arguments,c=function(){var n,c;if(!(e<s)){if((n=i.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,m(c)?o?c.call(n,r(s,t,Z,o),r(s,t,K,o)):(s++,c.call(n,r(s,t,Z,o),r(s,t,K,o),r(s,t,Z,t.notifyWith))):(i!==Z&&(a=void 0,l=[n]),(o||t.resolveWith)(a,l))}},u=o?c:function(){try{c()}catch(n){z.Deferred.exceptionHook&&z.Deferred.exceptionHook(n,u.error),e+1>=s&&(i!==K&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?u():(z.Deferred.getErrorHook?u.error=z.Deferred.getErrorHook():z.Deferred.getStackHook&&(u.error=z.Deferred.getStackHook()),n.setTimeout(u))}}return z.Deferred((function(n){t[0][3].add(r(0,n,m(o)?o:Z,n.notifyWith)),t[1][3].add(r(0,n,m(e)?e:Z)),t[2][3].add(r(0,n,m(i)?i:K))})).promise()},promise:function(e){return null!=e?z.extend(e,o):o}},s={};return z.each(t,(function(e,n){var r=n[2],a=n[5];o[n[1]]=r.add,a&&r.add((function(){i=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),r.add(n[3].fire),s[n[0]]=function(){return s[n[0]+"With"](this===s?void 0:this,arguments),this},s[n[0]+"With"]=r.fireWith})),o.promise(s),e&&e.call(s,s),s},when:function(e){var t=arguments.length,i=t,n=Array(i),o=a.call(arguments),s=z.Deferred(),r=function(e){return function(i){n[e]=this,o[e]=arguments.length>1?a.call(arguments):i,--t||s.resolveWith(n,o)}};if(t<=1&&(Y(e,s.done(r(i)).resolve,s.reject,!t),"pending"===s.state()||m(o[i]&&o[i].then)))return s.then();for(;i--;)Y(o[i],r(i),s.reject);return s.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;z.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Q.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},z.readyException=function(e){n.setTimeout((function(){throw e}))};var X=z.Deferred();function J(){v.removeEventListener("DOMContentLoaded",J),n.removeEventListener("load",J),z.ready()}z.fn.ready=function(e){return X.then(e).catch((function(e){z.readyException(e)})),this},z.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--z.readyWait:z.isReady)||(z.isReady=!0,!0!==e&&--z.readyWait>0||X.resolveWith(v,[z]))}}),z.ready.then=X.then,"complete"===v.readyState||"loading"!==v.readyState&&!v.documentElement.doScroll?n.setTimeout(z.ready):(v.addEventListener("DOMContentLoaded",J),n.addEventListener("load",J));var ee=function(e,t,i,n,o,s,r){var a=0,l=e.length,c=null==i;if("object"===b(i))for(a in o=!0,i)ee(e,t,a,i[a],!0,s,r);else if(void 0!==n&&(o=!0,m(n)||(r=!0),c&&(r?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(z(e),i)})),t))for(;a<l;a++)t(e[a],i,r?n:n.call(e[a],a,t(e[a],i)));return o?e:c?t.call(e):l?t(e[0],i):s},te=/^-ms-/,ie=/-([a-z])/g;function ne(e,t){return t.toUpperCase()}function oe(e){return e.replace(te,"ms-").replace(ie,ne)}var se=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function re(){this.expando=z.expando+re.uid++}re.uid=1,re.prototype={cache:function(e){var t=e[this.expando];return t||(t={},se(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,o=this.cache(e);if("string"==typeof t)o[oe(t)]=i;else for(n in t)o[oe(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][oe(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(oe):(t=oe(t))in n?[t]:t.match(G)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||z.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!z.isEmptyObject(t)}};var ae=new re,le=new re,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function pe(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(ue,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(i)}catch(e){}le.set(e,t,i)}else i=void 0;return i}z.extend({hasData:function(e){return le.hasData(e)||ae.hasData(e)},data:function(e,t,i){return le.access(e,t,i)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,i){return ae.access(e,t,i)},_removeData:function(e,t){ae.remove(e,t)}}),z.fn.extend({data:function(e,t){var i,n,o,s=this[0],r=s&&s.attributes;if(void 0===e){if(this.length&&(o=le.get(s),1===s.nodeType&&!ae.get(s,"hasDataAttrs"))){for(i=r.length;i--;)r[i]&&0===(n=r[i].name).indexOf("data-")&&(n=oe(n.slice(5)),pe(s,n,o[n]));ae.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){le.set(this,e)})):ee(this,(function(t){var i;if(s&&void 0===t)return void 0!==(i=le.get(s,e))||void 0!==(i=pe(s,e))?i:void 0;this.each((function(){le.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){le.remove(this,e)}))}}),z.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=ae.get(e,t),i&&(!n||Array.isArray(i)?n=ae.access(e,t,z.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=z.queue(e,t),n=i.length,o=i.shift(),s=z._queueHooks(e,t);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete s.stop,o.call(e,(function(){z.dequeue(e,t)}),s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ae.get(e,i)||ae.access(e,i,{empty:z.Callbacks("once memory").add((function(){ae.remove(e,[t+"queue",i])}))})}}),z.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?z.queue(this[0],e):void 0===t?this:this.each((function(){var i=z.queue(this,e,t);z._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&z.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){z.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=z.Deferred(),s=this,r=this.length,a=function(){--n||o.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(i=ae.get(s[r],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(t)}});var he=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=new RegExp("^(?:([+-])=|)("+he+")([a-z%]*)$","i"),ge=["Top","Right","Bottom","Left"],fe=v.documentElement,ye=function(e){return z.contains(e.ownerDocument,e)},me={composed:!0};fe.getRootNode&&(ye=function(e){return z.contains(e.ownerDocument,e)||e.getRootNode(me)===e.ownerDocument});var _e=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ye(e)&&"none"===z.css(e,"display")};function ve(e,t,i,n){var o,s,r=20,a=n?function(){return n.cur()}:function(){return z.css(e,t,"")},l=a(),c=i&&i[3]||(z.cssNumber[t]?"":"px"),u=e.nodeType&&(z.cssNumber[t]||"px"!==c&&+l)&&de.exec(z.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;r--;)z.style(e,t,u+c),(1-s)*(1-(s=a()/l||.5))<=0&&(r=0),u/=s;u*=2,z.style(e,t,u+c),i=i||[]}return i&&(u=+u||+l||0,o=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=o)),o}var xe={};function we(e){var t,i=e.ownerDocument,n=e.nodeName,o=xe[n];return o||(t=i.body.appendChild(i.createElement(n)),o=z.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),xe[n]=o,o)}function be(e,t){for(var i,n,o=[],s=0,r=e.length;s<r;s++)(n=e[s]).style&&(i=n.style.display,t?("none"===i&&(o[s]=ae.get(n,"display")||null,o[s]||(n.style.display="")),""===n.style.display&&_e(n)&&(o[s]=we(n))):"none"!==i&&(o[s]="none",ae.set(n,"display",i)));for(s=0;s<r;s++)null!=o[s]&&(e[s].style.display=o[s]);return e}z.fn.extend({show:function(){return be(this,!0)},hide:function(){return be(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){_e(this)?z(this).show():z(this).hide()}))}});var ke,Te,ze=/^(?:checkbox|radio)$/i,Se=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;ke=v.createDocumentFragment().appendChild(v.createElement("div")),(Te=v.createElement("input")).setAttribute("type","radio"),Te.setAttribute("checked","checked"),Te.setAttribute("name","t"),ke.appendChild(Te),y.checkClone=ke.cloneNode(!0).cloneNode(!0).lastChild.checked,ke.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ke.cloneNode(!0).lastChild.defaultValue,ke.innerHTML="<option></option>",y.option=!!ke.lastChild;var Ae={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ee(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&C(e,t)?z.merge([e],i):i}function Pe(e,t){for(var i=0,n=e.length;i<n;i++)ae.set(e[i],"globalEval",!t||ae.get(t[i],"globalEval"))}Ae.tbody=Ae.tfoot=Ae.colgroup=Ae.caption=Ae.thead,Ae.th=Ae.td,y.option||(Ae.optgroup=Ae.option=[1,"<select multiple='multiple'>","</select>"]);var Me=/<|&#?\w+;/;function Le(e,t,i,n,o){for(var s,r,a,l,c,u,p=t.createDocumentFragment(),h=[],d=0,g=e.length;d<g;d++)if((s=e[d])||0===s)if("object"===b(s))z.merge(h,s.nodeType?[s]:s);else if(Me.test(s)){for(r=r||p.appendChild(t.createElement("div")),a=(Se.exec(s)||["",""])[1].toLowerCase(),l=Ae[a]||Ae._default,r.innerHTML=l[1]+z.htmlPrefilter(s)+l[2],u=l[0];u--;)r=r.lastChild;z.merge(h,r.childNodes),(r=p.firstChild).textContent=""}else h.push(t.createTextNode(s));for(p.textContent="",d=0;s=h[d++];)if(n&&z.inArray(s,n)>-1)o&&o.push(s);else if(c=ye(s),r=Ee(p.appendChild(s),"script"),c&&Pe(r),i)for(u=0;s=r[u++];)Ce.test(s.type||"")&&i.push(s);return p}var De=/^([^.]*)(?:\.(.+)|)/;function Ie(){return!0}function Oe(){return!1}function Re(e,t,i,n,o,s){var r,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=void 0),t)Re(e,a,i,n,t[a],s);return e}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=Oe;else if(!o)return e;return 1===s&&(r=o,o=function(e){return z().off(e),r.apply(this,arguments)},o.guid=r.guid||(r.guid=z.guid++)),e.each((function(){z.event.add(this,t,o,n,i)}))}function Be(e,t,i){i?(ae.set(e,t,!1),z.event.add(e,t,{namespace:!1,handler:function(e){var i,n=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(n)(z.event.special[t]||{}).delegateType&&e.stopPropagation();else if(n=a.call(arguments),ae.set(this,t,n),this[t](),i=ae.get(this,t),ae.set(this,t,!1),n!==i)return e.stopImmediatePropagation(),e.preventDefault(),i}else n&&(ae.set(this,t,z.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ie)}})):void 0===ae.get(e,t)&&z.event.add(e,t,Ie)}z.event={global:{},add:function(e,t,i,n,o){var s,r,a,l,c,u,p,h,d,g,f,y=ae.get(e);if(se(e))for(i.handler&&(i=(s=i).handler,o=s.selector),o&&z.find.matchesSelector(fe,o),i.guid||(i.guid=z.guid++),(l=y.events)||(l=y.events=Object.create(null)),(r=y.handle)||(r=y.handle=function(t){return void 0!==z&&z.event.triggered!==t.type?z.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(G)||[""]).length;c--;)d=f=(a=De.exec(t[c])||[])[1],g=(a[2]||"").split(".").sort(),d&&(p=z.event.special[d]||{},d=(o?p.delegateType:p.bindType)||d,p=z.event.special[d]||{},u=z.extend({type:d,origType:f,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&z.expr.match.needsContext.test(o),namespace:g.join(".")},s),(h=l[d])||((h=l[d]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(e,n,g,r)||e.addEventListener&&e.addEventListener(d,r)),p.add&&(p.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),z.event.global[d]=!0)},remove:function(e,t,i,n,o){var s,r,a,l,c,u,p,h,d,g,f,y=ae.hasData(e)&&ae.get(e);if(y&&(l=y.events)){for(c=(t=(t||"").match(G)||[""]).length;c--;)if(d=f=(a=De.exec(t[c])||[])[1],g=(a[2]||"").split(".").sort(),d){for(p=z.event.special[d]||{},h=l[d=(n?p.delegateType:p.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=h.length;s--;)u=h[s],!o&&f!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,p.remove&&p.remove.call(e,u));r&&!h.length&&(p.teardown&&!1!==p.teardown.call(e,g,y.handle)||z.removeEvent(e,d,y.handle),delete l[d])}else for(d in l)z.event.remove(e,d+t[c],i,n,!0);z.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,i,n,o,s,r,a=new Array(arguments.length),l=z.event.fix(e),c=(ae.get(this,"events")||Object.create(null))[l.type]||[],u=z.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(r=z.event.handlers.call(this,l,c),t=0;(o=r[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==s.namespace&&!l.rnamespace.test(s.namespace)||(l.handleObj=s,l.data=s.data,void 0!==(n=((z.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var i,n,o,s,r,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(s=[],r={},i=0;i<l;i++)void 0===r[o=(n=t[i]).selector+" "]&&(r[o]=n.needsContext?z(o,this).index(c)>-1:z.find(o,this,null,[c]).length),r[o]&&s.push(n);s.length&&a.push({elem:c,handlers:s})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(z.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[z.expando]?e:new z.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ze.test(t.type)&&t.click&&C(t,"input")&&Be(t,"click",!0),!1},trigger:function(e){var t=this||e;return ze.test(t.type)&&t.click&&C(t,"input")&&Be(t,"click"),!0},_default:function(e){var t=e.target;return ze.test(t.type)&&t.click&&C(t,"input")&&ae.get(t,"click")||C(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},z.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},z.Event=function(e,t){if(!(this instanceof z.Event))return new z.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ie:Oe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&z.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[z.expando]=!0},z.Event.prototype={constructor:z.Event,isDefaultPrevented:Oe,isPropagationStopped:Oe,isImmediatePropagationStopped:Oe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ie,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ie,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ie,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},z.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},z.event.addProp),z.each({focus:"focusin",blur:"focusout"},(function(e,t){function i(e){if(v.documentMode){var i=ae.get(this,"handle"),n=z.event.fix(e);n.type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,i(e),n.target===n.currentTarget&&i(n)}else z.event.simulate(t,e.target,z.event.fix(e))}z.event.special[e]={setup:function(){var n;if(Be(this,e,!0),!v.documentMode)return!1;(n=ae.get(this,t))||this.addEventListener(t,i),ae.set(this,t,(n||0)+1)},trigger:function(){return Be(this,e),!0},teardown:function(){var e;if(!v.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,i),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},z.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,o=v.documentMode?this:n,s=ae.get(o,t);s||(v.documentMode?this.addEventListener(t,i):n.addEventListener(e,i,!0)),ae.set(o,t,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,o=v.documentMode?this:n,s=ae.get(o,t)-1;s?ae.set(o,t,s):(v.documentMode?this.removeEventListener(t,i):n.removeEventListener(e,i,!0),ae.remove(o,t))}}})),z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,o=e.handleObj;return n&&(n===this||z.contains(this,n))||(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}})),z.fn.extend({on:function(e,t,i,n){return Re(this,e,t,i,n)},one:function(e,t,i,n){return Re(this,e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,z(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Oe),this.each((function(){z.event.remove(this,e,i,t)}))}});var Fe=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ue(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&z(e).children("tbody")[0]||e}function qe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function He(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ve(e,t){var i,n,o,s,r,a;if(1===t.nodeType){if(ae.hasData(e)&&(a=ae.get(e).events))for(o in ae.remove(t,"handle events"),a)for(i=0,n=a[o].length;i<n;i++)z.event.add(t,o,a[o][i]);le.hasData(e)&&(s=le.access(e),r=z.extend({},s),le.set(t,r))}}function $e(e,t){var i=t.nodeName.toLowerCase();"input"===i&&ze.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function We(e,t,i,n){t=l(t);var o,s,r,a,c,u,p=0,h=e.length,d=h-1,g=t[0],f=m(g);if(f||h>1&&"string"==typeof g&&!y.checkClone&&Ne.test(g))return e.each((function(o){var s=e.eq(o);f&&(t[0]=g.call(this,o,s.html())),We(s,t,i,n)}));if(h&&(s=(o=Le(t,e[0].ownerDocument,!1,e,n)).firstChild,1===o.childNodes.length&&(o=s),s||n)){for(a=(r=z.map(Ee(o,"script"),qe)).length;p<h;p++)c=o,p!==d&&(c=z.clone(c,!0,!0),a&&z.merge(r,Ee(c,"script"))),i.call(e[p],c,p);if(a)for(u=r[r.length-1].ownerDocument,z.map(r,He),p=0;p<a;p++)c=r[p],Ce.test(c.type||"")&&!ae.access(c,"globalEval")&&z.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?z._evalUrl&&!c.noModule&&z._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):w(c.textContent.replace(je,""),c,u))}return e}function Ge(e,t,i){for(var n,o=t?z.filter(t,e):e,s=0;null!=(n=o[s]);s++)i||1!==n.nodeType||z.cleanData(Ee(n)),n.parentNode&&(i&&ye(n)&&Pe(Ee(n,"script")),n.parentNode.removeChild(n));return e}z.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var n,o,s,r,a=e.cloneNode(!0),l=ye(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||z.isXMLDoc(e)))for(r=Ee(a),n=0,o=(s=Ee(e)).length;n<o;n++)$e(s[n],r[n]);if(t)if(i)for(s=s||Ee(e),r=r||Ee(a),n=0,o=s.length;n<o;n++)Ve(s[n],r[n]);else Ve(e,a);return(r=Ee(a,"script")).length>0&&Pe(r,!l&&Ee(e,"script")),a},cleanData:function(e){for(var t,i,n,o=z.event.special,s=0;void 0!==(i=e[s]);s++)if(se(i)){if(t=i[ae.expando]){if(t.events)for(n in t.events)o[n]?z.event.remove(i,n):z.removeEvent(i,n,t.handle);i[ae.expando]=void 0}i[le.expando]&&(i[le.expando]=void 0)}}}),z.fn.extend({detach:function(e){return Ge(this,e,!0)},remove:function(e){return Ge(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?z.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return We(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ue(this,e).appendChild(e)}))},prepend:function(){return We(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ue(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return We(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return We(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(z.cleanData(Ee(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return z.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Fe.test(e)&&!Ae[(Se.exec(e)||["",""])[1].toLowerCase()]){e=z.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(z.cleanData(Ee(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return We(this,arguments,(function(t){var i=this.parentNode;z.inArray(this,e)<0&&(z.cleanData(Ee(this)),i&&i.replaceChild(t,this))}),e)}}),z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){z.fn[e]=function(e){for(var i,n=[],o=z(e),s=o.length-1,r=0;r<=s;r++)i=r===s?this:this.clone(!0),z(o[r])[t](i),c.apply(n,i.get());return this.pushStack(n)}}));var Ze=new RegExp("^("+he+")(?!px)[a-z%]+$","i"),Ke=/^--/,Ye=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Qe=function(e,t,i){var n,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in n=i.call(e),t)e.style[o]=s[o];return n},Xe=new RegExp(ge.join("|"),"i");function Je(e,t,i){var n,o,s,r,a=Ke.test(t),l=e.style;return(i=i||Ye(e))&&(r=i.getPropertyValue(t)||i[t],a&&r&&(r=r.replace(L,"$1")||void 0),""!==r||ye(e)||(r=z.style(e,t)),!y.pixelBoxStyles()&&Ze.test(r)&&Xe.test(t)&&(n=l.width,o=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=r,r=i.width,l.width=n,l.minWidth=o,l.maxWidth=s)),void 0!==r?r+"":r}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",fe.appendChild(c).appendChild(u);var e=n.getComputedStyle(u);i="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",r=36===t(e.right),o=36===t(e.width),u.style.position="absolute",s=12===t(u.offsetWidth/3),fe.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var i,o,s,r,a,l,c=v.createElement("div"),u=v.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===u.style.backgroundClip,z.extend(y,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),r},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),s},reliableTrDimensions:function(){var e,t,i,o;return null==a&&(e=v.createElement("table"),t=v.createElement("tr"),i=v.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",i.style.height="9px",i.style.display="block",fe.appendChild(e).appendChild(t).appendChild(i),o=n.getComputedStyle(t),a=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,fe.removeChild(e)),a}}))}();var tt=["Webkit","Moz","ms"],it=v.createElement("div").style,nt={};function ot(e){return z.cssProps[e]||nt[e]||(e in it?e:nt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=tt.length;i--;)if((e=tt[i]+t)in it)return e}(e)||e)}var st=/^(none|table(?!-c[ea]).+)/,rt={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function lt(e,t,i){var n=de.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function ct(e,t,i,n,o,s){var r="width"===t?1:0,a=0,l=0,c=0;if(i===(n?"border":"content"))return 0;for(;r<4;r+=2)"margin"===i&&(c+=z.css(e,i+ge[r],!0,o)),n?("content"===i&&(l-=z.css(e,"padding"+ge[r],!0,o)),"margin"!==i&&(l-=z.css(e,"border"+ge[r]+"Width",!0,o))):(l+=z.css(e,"padding"+ge[r],!0,o),"padding"!==i?l+=z.css(e,"border"+ge[r]+"Width",!0,o):a+=z.css(e,"border"+ge[r]+"Width",!0,o));return!n&&s>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-a-.5))||0),l+c}function ut(e,t,i){var n=Ye(e),o=(!y.boxSizingReliable()||i)&&"border-box"===z.css(e,"boxSizing",!1,n),s=o,r=Je(e,t,n),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ze.test(r)){if(!i)return r;r="auto"}return(!y.boxSizingReliable()&&o||!y.reliableTrDimensions()&&C(e,"tr")||"auto"===r||!parseFloat(r)&&"inline"===z.css(e,"display",!1,n))&&e.getClientRects().length&&(o="border-box"===z.css(e,"boxSizing",!1,n),(s=a in e)&&(r=e[a])),(r=parseFloat(r)||0)+ct(e,t,i||(o?"border":"content"),s,n,r)+"px"}function pt(e,t,i,n,o){return new pt.prototype.init(e,t,i,n,o)}z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Je(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,r,a=oe(t),l=Ke.test(t),c=e.style;if(l||(t=ot(a)),r=z.cssHooks[t]||z.cssHooks[a],void 0===i)return r&&"get"in r&&void 0!==(o=r.get(e,!1,n))?o:c[t];"string"==(s=typeof i)&&(o=de.exec(i))&&o[1]&&(i=ve(e,t,o),s="number"),null!=i&&i==i&&("number"!==s||l||(i+=o&&o[3]||(z.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),r&&"set"in r&&void 0===(i=r.set(e,i,n))||(l?c.setProperty(t,i):c[t]=i))}},css:function(e,t,i,n){var o,s,r,a=oe(t);return Ke.test(t)||(t=ot(a)),(r=z.cssHooks[t]||z.cssHooks[a])&&"get"in r&&(o=r.get(e,!0,i)),void 0===o&&(o=Je(e,t,n)),"normal"===o&&t in at&&(o=at[t]),""===i||i?(s=parseFloat(o),!0===i||isFinite(s)?s||0:o):o}}),z.each(["height","width"],(function(e,t){z.cssHooks[t]={get:function(e,i,n){if(i)return!st.test(z.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,t,n):Qe(e,rt,(function(){return ut(e,t,n)}))},set:function(e,i,n){var o,s=Ye(e),r=!y.scrollboxSize()&&"absolute"===s.position,a=(r||n)&&"border-box"===z.css(e,"boxSizing",!1,s),l=n?ct(e,t,n,a,s):0;return a&&r&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-ct(e,t,"border",!1,s)-.5)),l&&(o=de.exec(i))&&"px"!==(o[3]||"px")&&(e.style[t]=i,i=z.css(e,t)),lt(0,i,l)}}})),z.cssHooks.marginLeft=et(y.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-Qe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),z.each({margin:"",padding:"",border:"Width"},(function(e,t){z.cssHooks[e+t]={expand:function(i){for(var n=0,o={},s="string"==typeof i?i.split(" "):[i];n<4;n++)o[e+ge[n]+t]=s[n]||s[n-2]||s[0];return o}},"margin"!==e&&(z.cssHooks[e+t].set=lt)})),z.fn.extend({css:function(e,t){return ee(this,(function(e,t,i){var n,o,s={},r=0;if(Array.isArray(t)){for(n=Ye(e),o=t.length;r<o;r++)s[t[r]]=z.css(e,t[r],!1,n);return s}return void 0!==i?z.style(e,t,i):z.css(e,t)}),e,t,arguments.length>1)}}),z.Tween=pt,pt.prototype={constructor:pt,init:function(e,t,i,n,o,s){this.elem=e,this.prop=i,this.easing=o||z.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(z.cssNumber[i]?"":"px")},cur:function(){var e=pt.propHooks[this.prop];return e&&e.get?e.get(this):pt.propHooks._default.get(this)},run:function(e){var t,i=pt.propHooks[this.prop];return this.options.duration?this.pos=t=z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):pt.propHooks._default.set(this),this}},pt.prototype.init.prototype=pt.prototype,pt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=z.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){z.fx.step[e.prop]?z.fx.step[e.prop](e):1!==e.elem.nodeType||!z.cssHooks[e.prop]&&null==e.elem.style[ot(e.prop)]?e.elem[e.prop]=e.now:z.style(e.elem,e.prop,e.now+e.unit)}}},pt.propHooks.scrollTop=pt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},z.fx=pt.prototype.init,z.fx.step={};var ht,dt,gt=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;function yt(){dt&&(!1===v.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(yt):n.setTimeout(yt,z.fx.interval),z.fx.tick())}function mt(){return n.setTimeout((function(){ht=void 0})),ht=Date.now()}function _t(e,t){var i,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)o["margin"+(i=ge[n])]=o["padding"+i]=e;return t&&(o.opacity=o.width=e),o}function vt(e,t,i){for(var n,o=(xt.tweeners[t]||[]).concat(xt.tweeners["*"]),s=0,r=o.length;s<r;s++)if(n=o[s].call(i,t,e))return n}function xt(e,t,i){var n,o,s=0,r=xt.prefilters.length,a=z.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=ht||mt(),i=Math.max(0,c.startTime+c.duration-t),n=1-(i/c.duration||0),s=0,r=c.tweens.length;s<r;s++)c.tweens[s].run(n);return a.notifyWith(e,[c,n,i]),n<1&&r?i:(r||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:z.extend({},t),opts:z.extend(!0,{specialEasing:{},easing:z.easing._default},i),originalProperties:t,originalOptions:i,startTime:ht||mt(),duration:i.duration,tweens:[],createTween:function(t,i){var n=z.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)c.tweens[i].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var i,n,o,s,r;for(i in e)if(o=t[n=oe(i)],s=e[i],Array.isArray(s)&&(o=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),(r=z.cssHooks[n])&&"expand"in r)for(i in s=r.expand(s),delete e[n],s)i in e||(e[i]=s[i],t[i]=o);else t[n]=o}(u,c.opts.specialEasing);s<r;s++)if(n=xt.prefilters[s].call(c,e,u,c.opts))return m(n.stop)&&(z._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return z.map(u,vt,c),m(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),z.fx.timer(z.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}z.Animation=z.extend(xt,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return ve(i.elem,e,de.exec(t),i),i}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(G);for(var i,n=0,o=e.length;n<o;n++)i=e[n],xt.tweeners[i]=xt.tweeners[i]||[],xt.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,o,s,r,a,l,c,u,p="width"in t||"height"in t,h=this,d={},g=e.style,f=e.nodeType&&_e(e),y=ae.get(e,"fxshow");for(n in i.queue||(null==(r=z._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,h.always((function(){h.always((function(){r.unqueued--,z.queue(e,"fx").length||r.empty.fire()}))}))),t)if(o=t[n],gt.test(o)){if(delete t[n],s=s||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!y||void 0===y[n])continue;f=!0}d[n]=y&&y[n]||z.style(e,n)}if((l=!z.isEmptyObject(t))||!z.isEmptyObject(d))for(n in p&&1===e.nodeType&&(i.overflow=[g.overflow,g.overflowX,g.overflowY],null==(c=y&&y.display)&&(c=ae.get(e,"display")),"none"===(u=z.css(e,"display"))&&(c?u=c:(be([e],!0),c=e.style.display||c,u=z.css(e,"display"),be([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===z.css(e,"float")&&(l||(h.done((function(){g.display=c})),null==c&&(u=g.display,c="none"===u?"":u)),g.display="inline-block")),i.overflow&&(g.overflow="hidden",h.always((function(){g.overflow=i.overflow[0],g.overflowX=i.overflow[1],g.overflowY=i.overflow[2]}))),l=!1,d)l||(y?"hidden"in y&&(f=y.hidden):y=ae.access(e,"fxshow",{display:c}),s&&(y.hidden=!f),f&&be([e],!0),h.done((function(){for(n in f||be([e]),ae.remove(e,"fxshow"),d)z.style(e,n,d[n])}))),l=vt(f?y[n]:0,n,h),n in y||(y[n]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?xt.prefilters.unshift(e):xt.prefilters.push(e)}}),z.speed=function(e,t,i){var n=e&&"object"==typeof e?z.extend({},e):{complete:i||!i&&t||m(e)&&e,duration:e,easing:i&&t||t&&!m(t)&&t};return z.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in z.fx.speeds?n.duration=z.fx.speeds[n.duration]:n.duration=z.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m(n.old)&&n.old.call(this),n.queue&&z.dequeue(this,n.queue)},n},z.fn.extend({fadeTo:function(e,t,i,n){return this.filter(_e).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=z.isEmptyObject(e),s=z.speed(t,i,n),r=function(){var t=xt(this,z.extend({},e),s);(o||ae.get(this,"finish"))&&t.stop(!0)};return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",s=z.timers,r=ae.get(this);if(o)r[o]&&r[o].stop&&n(r[o]);else for(o in r)r[o]&&r[o].stop&&ft.test(o)&&n(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=e&&s[o].queue!==e||(s[o].anim.stop(i),t=!1,s.splice(o,1));!t&&i||z.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,i=ae.get(this),n=i[e+"queue"],o=i[e+"queueHooks"],s=z.timers,r=n?n.length:0;for(i.finish=!0,z.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish}))}}),z.each(["toggle","show","hide"],(function(e,t){var i=z.fn[t];z.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(_t(t,!0),e,n,o)}})),z.each({slideDown:_t("show"),slideUp:_t("hide"),slideToggle:_t("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){z.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}})),z.timers=[],z.fx.tick=function(){var e,t=0,i=z.timers;for(ht=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||z.fx.stop(),ht=void 0},z.fx.timer=function(e){z.timers.push(e),z.fx.start()},z.fx.interval=13,z.fx.start=function(){dt||(dt=!0,yt())},z.fx.stop=function(){dt=null},z.fx.speeds={slow:600,fast:200,_default:400},z.fn.delay=function(e,t){return e=z.fx&&z.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,i){var o=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(o)}}))},function(){var e=v.createElement("input"),t=v.createElement("select").appendChild(v.createElement("option"));e.type="checkbox",y.checkOn=""!==e.value,y.optSelected=t.selected,(e=v.createElement("input")).value="t",e.type="radio",y.radioValue="t"===e.value}();var wt,bt=z.expr.attrHandle;z.fn.extend({attr:function(e,t){return ee(this,z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){z.removeAttr(this,e)}))}}),z.extend({attr:function(e,t,i){var n,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?z.prop(e,t,i):(1===s&&z.isXMLDoc(e)||(o=z.attrHooks[t.toLowerCase()]||(z.expr.match.bool.test(t)?wt:void 0)),void 0!==i?null===i?void z.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:(e.setAttribute(t,i+""),i):o&&"get"in o&&null!==(n=o.get(e,t))?n:null==(n=z.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&C(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,o=t&&t.match(G);if(o&&1===e.nodeType)for(;i=o[n++];)e.removeAttribute(i)}}),wt={set:function(e,t,i){return!1===t?z.removeAttr(e,i):e.setAttribute(i,i),i}},z.each(z.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=bt[t]||z.find.attr;bt[t]=function(e,t,n){var o,s,r=t.toLowerCase();return n||(s=bt[r],bt[r]=o,o=null!=i(e,t,n)?r:null,bt[r]=s),o}}));var kt=/^(?:input|select|textarea|button)$/i,Tt=/^(?:a|area)$/i;function zt(e){return(e.match(G)||[]).join(" ")}function St(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(G)||[]}z.fn.extend({prop:function(e,t){return ee(this,z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[z.propFix[e]||e]}))}}),z.extend({prop:function(e,t,i){var n,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&z.isXMLDoc(e)||(t=z.propFix[t]||t,o=z.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=z.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||Tt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){z.propFix[this.toLowerCase()]=this})),z.fn.extend({addClass:function(e){var t,i,n,o,s,r;return m(e)?this.each((function(t){z(this).addClass(e.call(this,t,St(this)))})):(t=Ct(e)).length?this.each((function(){if(n=St(this),i=1===this.nodeType&&" "+zt(n)+" "){for(s=0;s<t.length;s++)o=t[s],i.indexOf(" "+o+" ")<0&&(i+=o+" ");r=zt(i),n!==r&&this.setAttribute("class",r)}})):this},removeClass:function(e){var t,i,n,o,s,r;return m(e)?this.each((function(t){z(this).removeClass(e.call(this,t,St(this)))})):arguments.length?(t=Ct(e)).length?this.each((function(){if(n=St(this),i=1===this.nodeType&&" "+zt(n)+" "){for(s=0;s<t.length;s++)for(o=t[s];i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r=zt(i),n!==r&&this.setAttribute("class",r)}})):this:this.attr("class","")},toggleClass:function(e,t){var i,n,o,s,r=typeof e,a="string"===r||Array.isArray(e);return m(e)?this.each((function(i){z(this).toggleClass(e.call(this,i,St(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(i=Ct(e),this.each((function(){if(a)for(s=z(this),o=0;o<i.length;o++)n=i[o],s.hasClass(n)?s.removeClass(n):s.addClass(n);else void 0!==e&&"boolean"!==r||((n=St(this))&&ae.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===e?"":ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+zt(St(i))+" ").indexOf(t)>-1)return!0;return!1}});var At=/\r/g;z.fn.extend({val:function(e){var t,i,n,o=this[0];return arguments.length?(n=m(e),this.each((function(i){var o;1===this.nodeType&&(null==(o=n?e.call(this,i,z(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=z.map(o,(function(e){return null==e?"":e+""}))),(t=z.valHooks[this.type]||z.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=z.valHooks[o.type]||z.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:"string"==typeof(i=o.value)?i.replace(At,""):null==i?"":i:void 0}}),z.extend({valHooks:{option:{get:function(e){var t=z.find.attr(e,"value");return null!=t?t:zt(z.text(e))}},select:{get:function(e){var t,i,n,o=e.options,s=e.selectedIndex,r="select-one"===e.type,a=r?null:[],l=r?s+1:o.length;for(n=s<0?l:r?s:0;n<l;n++)if(((i=o[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!C(i.parentNode,"optgroup"))){if(t=z(i).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var i,n,o=e.options,s=z.makeArray(t),r=o.length;r--;)((n=o[r]).selected=z.inArray(z.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),z.each(["radio","checkbox"],(function(){z.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=z.inArray(z(e).val(),t)>-1}},y.checkOn||(z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Et=n.location,Pt={guid:Date.now()},Mt=/\?/;z.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){}return i=t&&t.getElementsByTagName("parsererror")[0],t&&!i||z.error("Invalid XML: "+(i?z.map(i.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Lt=/^(?:focusinfocus|focusoutblur)$/,Dt=function(e){e.stopPropagation()};z.extend(z.event,{trigger:function(e,t,i,o){var s,r,a,l,c,u,p,h,g=[i||v],f=d.call(e,"type")?e.type:e,y=d.call(e,"namespace")?e.namespace.split("."):[];if(r=h=a=i=i||v,3!==i.nodeType&&8!==i.nodeType&&!Lt.test(f+z.event.triggered)&&(f.indexOf(".")>-1&&(y=f.split("."),f=y.shift(),y.sort()),c=f.indexOf(":")<0&&"on"+f,(e=e[z.expando]?e:new z.Event(f,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:z.makeArray(t,[e]),p=z.event.special[f]||{},o||!p.trigger||!1!==p.trigger.apply(i,t))){if(!o&&!p.noBubble&&!_(i)){for(l=p.delegateType||f,Lt.test(l+f)||(r=r.parentNode);r;r=r.parentNode)g.push(r),a=r;a===(i.ownerDocument||v)&&g.push(a.defaultView||a.parentWindow||n)}for(s=0;(r=g[s++])&&!e.isPropagationStopped();)h=r,e.type=s>1?l:p.bindType||f,(u=(ae.get(r,"events")||Object.create(null))[e.type]&&ae.get(r,"handle"))&&u.apply(r,t),(u=c&&r[c])&&u.apply&&se(r)&&(e.result=u.apply(r,t),!1===e.result&&e.preventDefault());return e.type=f,o||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(g.pop(),t)||!se(i)||c&&m(i[f])&&!_(i)&&((a=i[c])&&(i[c]=null),z.event.triggered=f,e.isPropagationStopped()&&h.addEventListener(f,Dt),i[f](),e.isPropagationStopped()&&h.removeEventListener(f,Dt),z.event.triggered=void 0,a&&(i[c]=a)),e.result}},simulate:function(e,t,i){var n=z.extend(new z.Event,i,{type:e,isSimulated:!0});z.event.trigger(n,null,t)}}),z.fn.extend({trigger:function(e,t){return this.each((function(){z.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return z.event.trigger(e,t,i,!0)}});var It=/\[\]$/,Ot=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,Bt=/^(?:input|select|textarea|keygen)/i;function Ft(e,t,i,n){var o;if(Array.isArray(t))z.each(t,(function(t,o){i||It.test(e)?n(e,o):Ft(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,i,n)}));else if(i||"object"!==b(t))n(e,t);else for(o in t)Ft(e+"["+o+"]",t[o],i,n)}z.param=function(e,t){var i,n=[],o=function(e,t){var i=m(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!z.isPlainObject(e))z.each(e,(function(){o(this.name,this.value)}));else for(i in e)Ft(i,e[i],t,o);return n.join("&")},z.fn.extend({serialize:function(){return z.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=z.prop(this,"elements");return e?z.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!z(this).is(":disabled")&&Bt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!ze.test(e))})).map((function(e,t){var i=z(this).val();return null==i?null:Array.isArray(i)?z.map(i,(function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}})):{name:t.name,value:i.replace(Ot,"\r\n")}})).get()}});var Nt=/%20/g,jt=/#.*$/,Ut=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ht=/^(?:GET|HEAD)$/,Vt=/^\/\//,$t={},Wt={},Gt="*/".concat("*"),Zt=v.createElement("a");function Kt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,s=t.toLowerCase().match(G)||[];if(m(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Yt(e,t,i,n){var o={},s=e===Wt;function r(a){var l;return o[a]=!0,z.each(e[a]||[],(function(e,a){var c=a(t,i,n);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)})),l}return r(t.dataTypes[0])||!o["*"]&&r("*")}function Qt(e,t){var i,n,o=z.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&z.extend(!0,e,n),e}Zt.href=Et.href,z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Qt(Qt(e,z.ajaxSettings),t):Qt(z.ajaxSettings,e)},ajaxPrefilter:Kt($t),ajaxTransport:Kt(Wt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,o,s,r,a,l,c,u,p,h,d=z.ajaxSetup({},t),g=d.context||d,f=d.context&&(g.nodeType||g.jquery)?z(g):z.event,y=z.Deferred(),m=z.Callbacks("once memory"),_=d.statusCode||{},x={},w={},b="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(c){if(!r)for(r={};t=qt.exec(s);)r[t[1].toLowerCase()+" "]=(r[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=r[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==c&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)k.always(e[k.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||b;return i&&i.abort(t),T(0,t),this}};if(y.promise(k),d.url=((e||d.url||Et.href)+"").replace(Vt,Et.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(G)||[""],null==d.crossDomain){l=v.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Zt.protocol+"//"+Zt.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=z.param(d.data,d.traditional)),Yt($t,d,t,k),c)return k;for(p in(u=z.event&&d.global)&&0==z.active++&&z.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ht.test(d.type),o=d.url.replace(jt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Nt,"+")):(h=d.url.slice(o.length),d.data&&(d.processData||"string"==typeof d.data)&&(o+=(Mt.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(o=o.replace(Ut,"$1"),h=(Mt.test(o)?"&":"?")+"_="+Pt.guid+++h),d.url=o+h),d.ifModified&&(z.lastModified[o]&&k.setRequestHeader("If-Modified-Since",z.lastModified[o]),z.etag[o]&&k.setRequestHeader("If-None-Match",z.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&k.setRequestHeader("Content-Type",d.contentType),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Gt+"; q=0.01":""):d.accepts["*"]),d.headers)k.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(!1===d.beforeSend.call(g,k,d)||c))return k.abort();if(b="abort",m.add(d.complete),k.done(d.success),k.fail(d.error),i=Yt(Wt,d,t,k)){if(k.readyState=1,u&&f.trigger("ajaxSend",[k,d]),c)return k;d.async&&d.timeout>0&&(a=n.setTimeout((function(){k.abort("timeout")}),d.timeout));try{c=!1,i.send(x,T)}catch(e){if(c)throw e;T(-1,e)}}else T(-1,"No Transport");function T(e,t,r,l){var p,h,v,x,w,b=t;c||(c=!0,a&&n.clearTimeout(a),i=void 0,s=l||"",k.readyState=e>0?4:0,p=e>=200&&e<300||304===e,r&&(x=function(e,t,i){for(var n,o,s,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==l[0]&&l.unshift(s),i[s]}(d,k,r)),!p&&z.inArray("script",d.dataTypes)>-1&&z.inArray("json",d.dataTypes)<0&&(d.converters["text script"]=function(){}),x=function(e,t,i,n){var o,s,r,a,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(s=u.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(r=c[l+" "+s]||c["* "+s]))for(o in c)if((a=o.split(" "))[1]===s&&(r=c[l+" "+a[0]]||c["* "+a[0]])){!0===r?r=c[o]:!0!==c[o]&&(s=a[0],u.unshift(a[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(d,x,k,p),p?(d.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(z.lastModified[o]=w),(w=k.getResponseHeader("etag"))&&(z.etag[o]=w)),204===e||"HEAD"===d.type?b="nocontent":304===e?b="notmodified":(b=x.state,h=x.data,p=!(v=x.error))):(v=b,!e&&b||(b="error",e<0&&(e=0))),k.status=e,k.statusText=(t||b)+"",p?y.resolveWith(g,[h,b,k]):y.rejectWith(g,[k,b,v]),k.statusCode(_),_=void 0,u&&f.trigger(p?"ajaxSuccess":"ajaxError",[k,d,p?h:v]),m.fireWith(g,[k,b]),u&&(f.trigger("ajaxComplete",[k,d]),--z.active||z.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,i){return z.get(e,t,i,"json")},getScript:function(e,t){return z.get(e,void 0,t,"script")}}),z.each(["get","post"],(function(e,t){z[t]=function(e,i,n,o){return m(i)&&(o=o||n,n=i,i=void 0),z.ajax(z.extend({url:e,type:t,dataType:o,data:i,success:n},z.isPlainObject(e)&&e))}})),z.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),z._evalUrl=function(e,t,i){return z.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){z.globalEval(e,t,i)}})},z.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return m(e)?this.each((function(t){z(this).wrapInner(e.call(this,t))})):this.each((function(){var t=z(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=m(e);return this.each((function(i){z(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){z(this).replaceWith(this.childNodes)})),this}}),z.expr.pseudos.hidden=function(e){return!z.expr.pseudos.visible(e)},z.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},z.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},Jt=z.ajaxSettings.xhr();y.cors=!!Jt&&"withCredentials"in Jt,y.ajax=Jt=!!Jt,z.ajaxTransport((function(e){var t,i;if(y.cors||Jt&&!e.crossDomain)return{send:function(o,s){var r,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];for(r in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(r,o[r]);t=function(e){return function(){t&&(t=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Xt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),i=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){t&&i()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),z.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return z.globalEval(e),e}}}),z.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),z.ajaxTransport("script",(function(e){var t,i;if(e.crossDomain||e.scriptAttrs)return{send:function(n,o){t=z("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&o("error"===e.type?404:200,e.type)}),v.head.appendChild(t[0])},abort:function(){i&&i()}}}));var ei,ti=[],ii=/(=)\?(?=&|$)|\?\?/;z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ti.pop()||z.expando+"_"+Pt.guid++;return this[e]=!0,e}}),z.ajaxPrefilter("json jsonp",(function(e,t,i){var o,s,r,a=!1!==e.jsonp&&(ii.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(ii,"$1"+o):!1!==e.jsonp&&(e.url+=(Mt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return r||z.error(o+" was not called"),r[0]},e.dataTypes[0]="json",s=n[o],n[o]=function(){r=arguments},i.always((function(){void 0===s?z(n).removeProp(o):n[o]=s,e[o]&&(e.jsonpCallback=t.jsonpCallback,ti.push(o)),r&&m(s)&&s(r[0]),r=s=void 0})),"script"})),y.createHTMLDocument=((ei=v.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ei.childNodes.length),z.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(y.createHTMLDocument?((n=(t=v.implementation.createHTMLDocument("")).createElement("base")).href=v.location.href,t.head.appendChild(n)):t=v),s=!i&&[],(o=j.exec(e))?[t.createElement(o[1])]:(o=Le([e],t,s),s&&s.length&&z(s).remove(),z.merge([],o.childNodes)));var n,o,s},z.fn.load=function(e,t,i){var n,o,s,r=this,a=e.indexOf(" ");return a>-1&&(n=zt(e.slice(a)),e=e.slice(0,a)),m(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),r.length>0&&z.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){s=arguments,r.html(n?z("<div>").append(z.parseHTML(e)).find(n):e)})).always(i&&function(e,t){r.each((function(){i.apply(this,s||[e.responseText,t,e])}))}),this},z.expr.pseudos.animated=function(e){return z.grep(z.timers,(function(t){return e===t.elem})).length},z.offset={setOffset:function(e,t,i){var n,o,s,r,a,l,c=z.css(e,"position"),u=z(e),p={};"static"===c&&(e.style.position="relative"),a=u.offset(),s=z.css(e,"top"),l=z.css(e,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(r=(n=u.position()).top,o=n.left):(r=parseFloat(s)||0,o=parseFloat(l)||0),m(t)&&(t=t.call(e,i,z.extend({},a))),null!=t.top&&(p.top=t.top-a.top+r),null!=t.left&&(p.left=t.left-a.left+o),"using"in t?t.using.call(e,p):u.css(p)}},z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){z.offset.setOffset(this,e,t)}));var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],o={top:0,left:0};if("fixed"===z.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===z.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((o=z(e).offset()).top+=z.css(e,"borderTopWidth",!0),o.left+=z.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-z.css(n,"marginTop",!0),left:t.left-o.left-z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===z.css(e,"position");)e=e.offsetParent;return e||fe}))}}),z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var i="pageYOffset"===t;z.fn[e]=function(n){return ee(this,(function(e,n,o){var s;if(_(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===o)return s?s[t]:e[n];s?s.scrollTo(i?s.pageXOffset:o,i?o:s.pageYOffset):e[n]=o}),e,n,arguments.length)}})),z.each(["top","left"],(function(e,t){z.cssHooks[t]=et(y.pixelPosition,(function(e,i){if(i)return i=Je(e,t),Ze.test(i)?z(e).position()[t]+"px":i}))})),z.each({Height:"height",Width:"width"},(function(e,t){z.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,n){z.fn[n]=function(o,s){var r=arguments.length&&(i||"boolean"!=typeof o),a=i||(!0===o||!0===s?"margin":"border");return ee(this,(function(t,i,o){var s;return _(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===o?z.css(t,i,a):z.style(t,i,o,a)}),t,r?o:void 0,r)}}))})),z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){z.fn[t]=function(e){return this.on(t,e)}})),z.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),z.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){z.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}));var ni=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;z.proxy=function(e,t){var i,n,o;if("string"==typeof t&&(i=e[t],t=e,e=i),m(e))return n=a.call(arguments,2),o=function(){return e.apply(t||this,n.concat(a.call(arguments)))},o.guid=e.guid=e.guid||z.guid++,o},z.holdReady=function(e){e?z.readyWait++:z.ready(!0)},z.isArray=Array.isArray,z.parseJSON=JSON.parse,z.nodeName=C,z.isFunction=m,z.isWindow=_,z.camelCase=oe,z.type=b,z.now=Date.now,z.isNumeric=function(e){var t=z.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},z.trim=function(e){return null==e?"":(e+"").replace(ni,"$1")},void 0===(i=function(){return z}.apply(t,[]))||(e.exports=i);var oi=n.jQuery,si=n.$;return z.noConflict=function(e){return n.$===z&&(n.$=si),e&&n.jQuery===z&&(n.jQuery=oi),z},void 0===o&&(n.jQuery=n.$=z),z}))},6541:function(e,t){!function(e){"use strict";function t(e){var t,i,n,o;for(i=1,n=arguments.length;i<n;i++)for(t in o=arguments[i])e[t]=o[t];return e}var i=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function n(e,t){var i=Array.prototype.slice;if(e.bind)return e.bind.apply(e,i.call(arguments,1));var n=i.call(arguments,2);return function(){return e.apply(t,n.length?n.concat(i.call(arguments)):arguments)}}var o=0;function s(e){return"_leaflet_id"in e||(e._leaflet_id=++o),e._leaflet_id}function r(e,t,i){var n,o,s,r;return r=function(){n=!1,o&&(s.apply(i,o),o=!1)},s=function(){n?o=arguments:(e.apply(i,arguments),setTimeout(r,t),n=!0)},s}function a(e,t,i){var n=t[1],o=t[0],s=n-o;return e===n&&i?e:((e-o)%s+s)%s+o}function l(){return!1}function c(e,t){if(!1===t)return e;var i=Math.pow(10,void 0===t?6:t);return Math.round(e*i)/i}function u(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function p(e){return u(e).split(/\s+/)}function h(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?i(e.options):{}),t)e.options[n]=t[n];return e.options}function d(e,t,i){var n=[];for(var o in e)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(e[o]));return(t&&-1!==t.indexOf("?")?"&":"?")+n.join("&")}var g=/\{ *([\w_ -]+) *\}/g;function f(e,t){return e.replace(g,(function(e,i){var n=t[i];if(void 0===n)throw new Error("No value provided for variable "+e);return"function"==typeof n&&(n=n(t)),n}))}var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function m(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function v(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var x=0;function w(e){var t=+new Date,i=Math.max(0,16-(t-x));return x=t+i,window.setTimeout(e,i)}var b=window.requestAnimationFrame||v("RequestAnimationFrame")||w,k=window.cancelAnimationFrame||v("CancelAnimationFrame")||v("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function T(e,t,i){if(!i||b!==w)return b.call(window,n(e,t));e.call(t)}function z(e){e&&k.call(window,e)}var S={__proto__:null,extend:t,create:i,bind:n,get lastId(){return o},stamp:s,throttle:r,wrapNum:a,falseFn:l,formatNum:c,trim:u,splitWords:p,setOptions:h,getParamString:d,template:f,isArray:y,indexOf:m,emptyImageUrl:_,requestFn:b,cancelFn:k,requestAnimFrame:T,cancelAnimFrame:z};function C(){}C.extend=function(e){var n=function(){h(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=n.__super__=this.prototype,s=i(o);for(var r in s.constructor=n,n.prototype=s,this)Object.prototype.hasOwnProperty.call(this,r)&&"prototype"!==r&&"__super__"!==r&&(n[r]=this[r]);return e.statics&&t(n,e.statics),e.includes&&(function(e){if("undefined"!=typeof L&&L&&L.Mixin){e=y(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),t.apply(null,[s].concat(e.includes))),t(s,e),delete s.statics,delete s.includes,s.options&&(s.options=o.options?i(o.options):{},t(s.options,e.options)),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=s._initHooks.length;e<t;e++)s._initHooks[e].call(this)}},n},C.include=function(e){var i=this.prototype.options;return t(this.prototype,e),e.options&&(this.prototype.options=i,this.mergeOptions(e.options)),this},C.mergeOptions=function(e){return t(this.prototype.options,e),this},C.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),i="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var A={on:function(e,t,i){if("object"==typeof e)for(var n in e)this._on(n,e[n],t);else for(var o=0,s=(e=p(e)).length;o<s;o++)this._on(e[o],t,i);return this},off:function(e,t,i){if(arguments.length)if("object"==typeof e)for(var n in e)this._off(n,e[n],t);else{e=p(e);for(var o=1===arguments.length,s=0,r=e.length;s<r;s++)o?this._off(e[s]):this._off(e[s],t,i)}else delete this._events;return this},_on:function(e,t,i,n){if("function"==typeof t){if(!1===this._listens(e,t,i)){i===this&&(i=void 0);var o={fn:t,ctx:i};n&&(o.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(o)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,i){var n,o,s;if(this._events&&(n=this._events[e]))if(1!==arguments.length)if("function"==typeof t){var r=this._listens(e,t,i);if(!1!==r){var a=n[r];this._firingCount&&(a.fn=l,this._events[e]=n=n.slice()),n.splice(r,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(o=0,s=n.length;o<s;o++)n[o].fn=l;delete this._events[e]}},fire:function(e,i,n){if(!this.listens(e,n))return this;var o=t({},i,{type:e,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var s=this._events[e];if(s){this._firingCount=this._firingCount+1||1;for(var r=0,a=s.length;r<a;r++){var l=s[r],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(e,t,i,n){"string"!=typeof e&&console.warn('"string" type argument expected');var o=t;"function"!=typeof t&&(n=!!t,o=void 0,i=void 0);var s=this._events&&this._events[e];if(s&&s.length&&!1!==this._listens(e,o,i))return!0;if(n)for(var r in this._eventParents)if(this._eventParents[r].listens(e,t,i,n))return!0;return!1},_listens:function(e,t,i){if(!this._events)return!1;var n=this._events[e]||[];if(!t)return!!n.length;i===this&&(i=void 0);for(var o=0,s=n.length;o<s;o++)if(n[o].fn===t&&n[o].ctx===i)return o;return!1},once:function(e,t,i){if("object"==typeof e)for(var n in e)this._on(n,e[n],t,!0);else for(var o=0,s=(e=p(e)).length;o<s;o++)this._on(e[o],t,i,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[s(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[s(e)],this},_propagateEvent:function(e){for(var i in this._eventParents)this._eventParents[i].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var E=C.extend(A);function P(e,t,i){this.x=i?Math.round(e):e,this.y=i?Math.round(t):t}var M=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function D(e,t,i){return e instanceof P?e:y(e)?new P(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new P(e.x,e.y):new P(e,t,i)}function I(e,t){if(e)for(var i=t?[e,t]:e,n=0,o=i.length;n<o;n++)this.extend(i[n])}function O(e,t){return!e||e instanceof I?e:new I(e,t)}function R(e,t){if(e)for(var i=t?[e,t]:e,n=0,o=i.length;n<o;n++)this.extend(i[n])}function B(e,t){return e instanceof R?e:new R(e,t)}function F(e,t,i){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==i&&(this.alt=+i)}function N(e,t,i){return e instanceof F?e:y(e)&&"object"!=typeof e[0]?3===e.length?new F(e[0],e[1],e[2]):2===e.length?new F(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new F(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new F(e,t,i)}P.prototype={clone:function(){return new P(this.x,this.y)},add:function(e){return this.clone()._add(D(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(D(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new P(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new P(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=M(this.x),this.y=M(this.y),this},distanceTo:function(e){var t=(e=D(e)).x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)},equals:function(e){return(e=D(e)).x===this.x&&e.y===this.y},contains:function(e){return e=D(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},I.prototype={extend:function(e){var t,i;if(!e)return this;if(e instanceof P||"number"==typeof e[0]||"x"in e)t=i=D(e);else if(t=(e=O(e)).min,i=e.max,!t||!i)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)):(this.min=t.clone(),this.max=i.clone()),this},getCenter:function(e){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,i;return(e="number"==typeof e[0]||e instanceof P?D(e):O(e))instanceof I?(t=e.min,i=e.max):t=i=e,t.x>=this.min.x&&i.x<=this.max.x&&t.y>=this.min.y&&i.y<=this.max.y},intersects:function(e){e=O(e);var t=this.min,i=this.max,n=e.min,o=e.max,s=o.x>=t.x&&n.x<=i.x,r=o.y>=t.y&&n.y<=i.y;return s&&r},overlaps:function(e){e=O(e);var t=this.min,i=this.max,n=e.min,o=e.max,s=o.x>t.x&&n.x<i.x,r=o.y>t.y&&n.y<i.y;return s&&r},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,i=this.max,n=Math.abs(t.x-i.x)*e,o=Math.abs(t.y-i.y)*e;return O(D(t.x-n,t.y-o),D(i.x+n,i.y+o))},equals:function(e){return!!e&&(e=O(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},R.prototype={extend:function(e){var t,i,n=this._southWest,o=this._northEast;if(e instanceof F)t=e,i=e;else{if(!(e instanceof R))return e?this.extend(N(e)||B(e)):this;if(t=e._southWest,i=e._northEast,!t||!i)return this}return n||o?(n.lat=Math.min(t.lat,n.lat),n.lng=Math.min(t.lng,n.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new F(t.lat,t.lng),this._northEast=new F(i.lat,i.lng)),this},pad:function(e){var t=this._southWest,i=this._northEast,n=Math.abs(t.lat-i.lat)*e,o=Math.abs(t.lng-i.lng)*e;return new R(new F(t.lat-n,t.lng-o),new F(i.lat+n,i.lng+o))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof F||"lat"in e?N(e):B(e);var t,i,n=this._southWest,o=this._northEast;return e instanceof R?(t=e.getSouthWest(),i=e.getNorthEast()):t=i=e,t.lat>=n.lat&&i.lat<=o.lat&&t.lng>=n.lng&&i.lng<=o.lng},intersects:function(e){e=B(e);var t=this._southWest,i=this._northEast,n=e.getSouthWest(),o=e.getNorthEast(),s=o.lat>=t.lat&&n.lat<=i.lat,r=o.lng>=t.lng&&n.lng<=i.lng;return s&&r},overlaps:function(e){e=B(e);var t=this._southWest,i=this._northEast,n=e.getSouthWest(),o=e.getNorthEast(),s=o.lat>t.lat&&n.lat<i.lat,r=o.lng>t.lng&&n.lng<i.lng;return s&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=B(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(e,t){return!!e&&(e=N(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+c(this.lat,e)+", "+c(this.lng,e)+")"},distanceTo:function(e){return q.distance(this,N(e))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,i=t/Math.cos(Math.PI/180*this.lat);return B([this.lat-t,this.lng-i],[this.lat+t,this.lng+i])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var j,U={latLngToPoint:function(e,t){var i=this.projection.project(e),n=this.scale(t);return this.transformation._transform(i,n)},pointToLatLng:function(e,t){var i=this.scale(t),n=this.transformation.untransform(e,i);return this.projection.unproject(n)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,i=this.scale(e);return new I(this.transformation.transform(t.min,i),this.transformation.transform(t.max,i))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?a(e.lng,this.wrapLng,!0):e.lng;return new F(this.wrapLat?a(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),i=this.wrapLatLng(t),n=t.lat-i.lat,o=t.lng-i.lng;if(0===n&&0===o)return e;var s=e.getSouthWest(),r=e.getNorthEast();return new R(new F(s.lat-n,s.lng-o),new F(r.lat-n,r.lng-o))}},q=t({},U,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var i=Math.PI/180,n=e.lat*i,o=t.lat*i,s=Math.sin((t.lat-e.lat)*i/2),r=Math.sin((t.lng-e.lng)*i/2),a=s*s+Math.cos(n)*Math.cos(o)*r*r,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),H=6378137,V={R:H,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,e.lat),-i),o=Math.sin(n*t);return new P(this.R*e.lng*t,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(e){var t=180/Math.PI;return new F((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(j=H*Math.PI,new I([-j,-j],[j,j]))};function $(e,t,i,n){if(y(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=i,this._d=n}function W(e,t,i,n){return new $(e,t,i,n)}$.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new P((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var G=t({},q,{code:"EPSG:3857",projection:V,transformation:function(){var e=.5/(Math.PI*V.R);return W(e,.5,-e,.5)}()}),Z=t({},G,{code:"EPSG:900913"});function K(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e,t){var i,n,o,s,r,a,l="";for(i=0,o=e.length;i<o;i++){for(n=0,s=(r=e[i]).length;n<s;n++)l+=(n?"L":"M")+(a=r[n]).x+" "+a.y;l+=t?Ie.svg?"z":"x":""}return l||"M0 0"}var Q,X=document.documentElement.style,J="ActiveXObject"in window,ee=J&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ie=De("webkit"),ne=De("android"),oe=De("android 2")||De("android 3"),se=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),re=ne&&De("Google")&&se<537&&!("AudioNode"in window),ae=!!window.opera,le=!te&&De("chrome"),ce=De("gecko")&&!ie&&!ae&&!J,ue=!le&&De("safari"),pe=De("phantom"),he="OTransition"in X,de=0===navigator.platform.indexOf("Win"),ge=J&&"transition"in X,fe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!oe,ye="MozPerspective"in X,me=!window.L_DISABLE_3D&&(ge||fe||ye)&&!he&&!pe,_e="undefined"!=typeof orientation||De("mobile"),ve=_e&&ie,xe=_e&&fe,we=!window.PointerEvent&&window.MSPointerEvent,be=!(!window.PointerEvent&&!we),ke="ontouchstart"in window||!!window.TouchEvent,Te=!window.L_NO_TOUCH&&(ke||be),ze=_e&&ae,Se=_e&&ce,Ce=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ae=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",l,t),window.removeEventListener("testPassiveEventSupport",l,t)}catch(e){}return e}(),Ee=!!document.createElement("canvas").getContext,Pe=!(!document.createElementNS||!K("svg").createSVGRect),Me=!!Pe&&((Q=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(Q.firstChild&&Q.firstChild.namespaceURI)),Le=!Pe&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}();function De(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Ie={ie:J,ielt9:ee,edge:te,webkit:ie,android:ne,android23:oe,androidStock:re,opera:ae,chrome:le,gecko:ce,safari:ue,phantom:pe,opera12:he,win:de,ie3d:ge,webkit3d:fe,gecko3d:ye,any3d:me,mobile:_e,mobileWebkit:ve,mobileWebkit3d:xe,msPointer:we,pointer:be,touch:Te,touchNative:ke,mobileOpera:ze,mobileGecko:Se,retina:Ce,passiveEvents:Ae,canvas:Ee,svg:Pe,vml:Le,inlineSvg:Me,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Oe=Ie.msPointer?"MSPointerDown":"pointerdown",Re=Ie.msPointer?"MSPointerMove":"pointermove",Be=Ie.msPointer?"MSPointerUp":"pointerup",Fe=Ie.msPointer?"MSPointerCancel":"pointercancel",Ne={touchstart:Oe,touchmove:Re,touchend:Be,touchcancel:Fe},je={touchstart:function(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Ft(t),Ge(e,t)},touchmove:Ge,touchend:Ge,touchcancel:Ge},Ue={},qe=!1;function He(e,t,i){return"touchstart"===t&&(qe||(document.addEventListener(Oe,Ve,!0),document.addEventListener(Re,$e,!0),document.addEventListener(Be,We,!0),document.addEventListener(Fe,We,!0),qe=!0)),je[t]?(i=je[t].bind(this,i),e.addEventListener(Ne[t],i,!1),i):(console.warn("wrong event specified:",t),l)}function Ve(e){Ue[e.pointerId]=e}function $e(e){Ue[e.pointerId]&&(Ue[e.pointerId]=e)}function We(e){delete Ue[e.pointerId]}function Ge(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var i in t.touches=[],Ue)t.touches.push(Ue[i]);t.changedTouches=[t],e(t)}}var Ze=200;var Ke,Ye,Qe,Xe,Je,et=yt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tt=yt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),it="webkitTransition"===tt||"OTransition"===tt?tt+"End":"transitionend";function nt(e){return"string"==typeof e?document.getElementById(e):e}function ot(e,t){var i=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(e,null);i=n?n[t]:null}return"auto"===i?null:i}function st(e,t,i){var n=document.createElement(e);return n.className=t||"",i&&i.appendChild(n),n}function rt(e){var t=e.parentNode;t&&t.removeChild(e)}function at(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function lt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function ct(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function ut(e,t){if(void 0!==e.classList)return e.classList.contains(t);var i=gt(e);return i.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(i)}function pt(e,t){if(void 0!==e.classList)for(var i=p(t),n=0,o=i.length;n<o;n++)e.classList.add(i[n]);else if(!ut(e,t)){var s=gt(e);dt(e,(s?s+" ":"")+t)}}function ht(e,t){void 0!==e.classList?e.classList.remove(t):dt(e,u((" "+gt(e)+" ").replace(" "+t+" "," ")))}function dt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function gt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function ft(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=e.filters.item(n)}catch(e){if(1===t)return}t=Math.round(100*t),i?(i.Enabled=100!==t,i.Opacity=t):e.style.filter+=" progid:"+n+"(opacity="+t+")"}(e,t)}function yt(e){for(var t=document.documentElement.style,i=0;i<e.length;i++)if(e[i]in t)return e[i];return!1}function mt(e,t,i){var n=t||new P(0,0);e.style[et]=(Ie.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function _t(e,t){e._leaflet_pos=t,Ie.any3d?mt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function vt(e){return e._leaflet_pos||new P(0,0)}if("onselectstart"in document)Ke=function(){At(window,"selectstart",Ft)},Ye=function(){Pt(window,"selectstart",Ft)};else{var xt=yt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ke=function(){if(xt){var e=document.documentElement.style;Qe=e[xt],e[xt]="none"}},Ye=function(){xt&&(document.documentElement.style[xt]=Qe,Qe=void 0)}}function wt(){At(window,"dragstart",Ft)}function bt(){Pt(window,"dragstart",Ft)}function kt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Tt(),Xe=e,Je=e.style.outlineStyle,e.style.outlineStyle="none",At(window,"keydown",Tt))}function Tt(){Xe&&(Xe.style.outlineStyle=Je,Xe=void 0,Je=void 0,Pt(window,"keydown",Tt))}function zt(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function St(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Ct={__proto__:null,TRANSFORM:et,TRANSITION:tt,TRANSITION_END:it,get:nt,getStyle:ot,create:st,remove:rt,empty:at,toFront:lt,toBack:ct,hasClass:ut,addClass:pt,removeClass:ht,setClass:dt,getClass:gt,setOpacity:ft,testProp:yt,setTransform:mt,setPosition:_t,getPosition:vt,get disableTextSelection(){return Ke},get enableTextSelection(){return Ye},disableImageDrag:wt,enableImageDrag:bt,preventOutline:kt,restoreOutline:Tt,getSizedParentNode:zt,getScale:St};function At(e,t,i,n){if(t&&"object"==typeof t)for(var o in t)Dt(e,o,t[o],i);else for(var s=0,r=(t=p(t)).length;s<r;s++)Dt(e,t[s],i,n);return this}var Et="_leaflet_events";function Pt(e,t,i,n){if(1===arguments.length)Mt(e),delete e[Et];else if(t&&"object"==typeof t)for(var o in t)It(e,o,t[o],i);else if(t=p(t),2===arguments.length)Mt(e,(function(e){return-1!==m(t,e)}));else for(var s=0,r=t.length;s<r;s++)It(e,t[s],i,n);return this}function Mt(e,t){for(var i in e[Et]){var n=i.split(/\d/)[0];t&&!t(n)||It(e,n,null,null,i)}}var Lt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Dt(e,t,i,n){var o=t+s(i)+(n?"_"+s(n):"");if(e[Et]&&e[Et][o])return this;var r=function(t){return i.call(n||e,t||window.event)},a=r;!Ie.touchNative&&Ie.pointer&&0===t.indexOf("touch")?r=He(e,t,r):Ie.touch&&"dblclick"===t?r=function(e,t){e.addEventListener("dblclick",t);var i,n=0;function o(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var o=jt(e);if(!o.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||o.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var s=Date.now();s-n<=Ze?2==++i&&t(function(e){var t,i,n={};for(i in e)t=e[i],n[i]=t&&t.bind?t.bind(e):t;return e=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}(e)):i=1,n=s}}}else i=e.detail}return e.addEventListener("click",o),{dblclick:t,simDblclick:o}}(e,r):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Lt[t]||t,r,!!Ie.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(r=function(t){t=t||window.event,Vt(e,t)&&a(t)},e.addEventListener(Lt[t],r,!1)):e.addEventListener(t,a,!1):e.attachEvent("on"+t,r),e[Et]=e[Et]||{},e[Et][o]=r}function It(e,t,i,n,o){o=o||t+s(i)+(n?"_"+s(n):"");var r=e[Et]&&e[Et][o];if(!r)return this;!Ie.touchNative&&Ie.pointer&&0===t.indexOf("touch")?function(e,t,i){Ne[t]?e.removeEventListener(Ne[t],i,!1):console.warn("wrong event specified:",t)}(e,t,r):Ie.touch&&"dblclick"===t?function(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}(e,r):"removeEventListener"in e?e.removeEventListener(Lt[t]||t,r,!1):e.detachEvent("on"+t,r),e[Et][o]=null}function Ot(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Rt(e){return Dt(e,"wheel",Ot),this}function Bt(e){return At(e,"mousedown touchstart dblclick contextmenu",Ot),e._leaflet_disable_click=!0,this}function Ft(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Nt(e){return Ft(e),Ot(e),this}function jt(e){if(e.composedPath)return e.composedPath();for(var t=[],i=e.target;i;)t.push(i),i=i.parentNode;return t}function Ut(e,t){if(!t)return new P(e.clientX,e.clientY);var i=St(t),n=i.boundingClientRect;return new P((e.clientX-n.left)/i.x-t.clientLeft,(e.clientY-n.top)/i.y-t.clientTop)}var qt=Ie.linux&&Ie.chrome?window.devicePixelRatio:Ie.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ht(e){return Ie.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/qt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Vt(e,t){var i=t.relatedTarget;if(!i)return!0;try{for(;i&&i!==e;)i=i.parentNode}catch(e){return!1}return i!==e}var $t={__proto__:null,on:At,off:Pt,stopPropagation:Ot,disableScrollPropagation:Rt,disableClickPropagation:Bt,preventDefault:Ft,stop:Nt,getPropagationPath:jt,getMousePosition:Ut,getWheelDelta:Ht,isExternalTarget:Vt,addListener:At,removeListener:Pt},Wt=E.extend({run:function(e,t,i,n){this.stop(),this._el=e,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=vt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,i=1e3*this._duration;t<i?this._runFrame(this._easeOut(t/i),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var i=this._startPos.add(this._offset.multiplyBy(e));t&&i._round(),_t(this._el,i),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Gt=E.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=h(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(N(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=tt&&Ie.any3d&&!Ie.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),At(this._proxy,it,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,i,n){return i=void 0===i?this._zoom:this._limitZoom(i),e=this._limitCenter(N(e),i,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=t({animate:n.animate},n.zoom),n.pan=t({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,i,n.zoom):this._tryAnimatedPan(e,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,i,n.pan&&n.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,i){var n=this.getZoomScale(t),o=this.getSize().divideBy(2),s=(e instanceof P?e:this.latLngToContainerPoint(e)).subtract(o).multiplyBy(1-1/n),r=this.containerPointToLatLng(o.add(s));return this.setView(r,t,{zoom:i})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():B(e);var i=D(t.paddingTopLeft||t.padding||[0,0]),n=D(t.paddingBottomRight||t.padding||[0,0]),o=this.getBoundsZoom(e,!1,i.add(n));if((o="number"==typeof t.maxZoom?Math.min(t.maxZoom,o):o)===1/0)return{center:e.getCenter(),zoom:o};var s=n.subtract(i).divideBy(2),r=this.project(e.getSouthWest(),o),a=this.project(e.getNorthEast(),o);return{center:this.unproject(r.add(a).divideBy(2).add(s),o),zoom:o}},fitBounds:function(e,t){if(!(e=B(e)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(e,t);return this.setView(i.center,i.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=D(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){pt(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,i,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,i){if(!1===(i=i||{}).animate||!Ie.any3d)return this.setView(e,t,i);this._stop();var n=this.project(this.getCenter()),o=this.project(e),s=this.getSize(),r=this._zoom;e=N(e),t=void 0===t?r:t;var a=Math.max(s.x,s.y),l=a*this.getZoomScale(r,t),c=o.distanceTo(n)||1,u=1.42,p=u*u;function h(e){var t=(l*l-a*a+(e?-1:1)*p*p*c*c)/(2*(e?l:a)*p*c),i=Math.sqrt(t*t+1)-t;return i<1e-9?-18:Math.log(i)}function d(e){return(Math.exp(e)-Math.exp(-e))/2}function g(e){return(Math.exp(e)+Math.exp(-e))/2}var f=h(0);function y(e){return a*(g(f)*(d(t=f+u*e)/g(t))-d(f))/p;var t}var m=Date.now(),_=(h(1)-f)/u,v=i.duration?1e3*i.duration:1e3*_*.8;return this._moveStart(!0,i.noMoveStart),function i(){var s=(Date.now()-m)/v,l=function(e){return 1-Math.pow(1-e,1.5)}(s)*_;s<=1?(this._flyToFrame=T(i,this),this._move(this.unproject(n.add(o.subtract(n).multiplyBy(y(l)/c)),r),this.getScaleZoom(a/function(e){return a*(g(f)/g(f+u*e))}(l),r),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){var i=this._getBoundsCenterZoom(e,t);return this.flyTo(i.center,i.zoom,t)},setMaxBounds:function(e){return e=B(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,B(e));return i.equals(n)||this.panTo(n,t),this._enforcingBounds=!1,this},panInside:function(e,t){var i=D((t=t||{}).paddingTopLeft||t.padding||[0,0]),n=D(t.paddingBottomRight||t.padding||[0,0]),o=this.project(this.getCenter()),s=this.project(e),r=this.getPixelBounds(),a=O([r.min.add(i),r.max.subtract(n)]),l=a.getSize();if(!a.contains(s)){this._enforcingBounds=!0;var c=s.subtract(a.getCenter()),u=a.extend(s).getSize().subtract(l);o.x+=c.x<0?-u.x:u.x,o.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(o),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),s=i.divideBy(2).round(),r=o.divideBy(2).round(),a=s.subtract(r);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=n(this._handleGeolocationResponse,this),o=n(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,o,e):navigator.geolocation.getCurrentPosition(i,o,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,i=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new F(e.coords.latitude,e.coords.longitude),i=t.toBounds(2*e.coords.accuracy),n=this._locateOptions;if(n.setView){var o=this.getBoundsZoom(i);this.setView(t,n.maxZoom?Math.min(o,n.maxZoom):o)}var s={latlng:t,bounds:i,timestamp:e.timestamp};for(var r in e.coords)"number"==typeof e.coords[r]&&(s[r]=e.coords[r]);this.fire("locationfound",s)}},addHandler:function(e,t){if(!t)return this;var i=this[e]=new t(this);return this._handlers.push(i),this.options[e]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),rt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)rt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var i=st("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new R(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,i){e=B(e),i=D(i||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),s=this.getMaxZoom(),r=e.getNorthWest(),a=e.getSouthEast(),l=this.getSize().subtract(i),c=O(this.project(a,n),this.project(r,n)).getSize(),u=Ie.any3d?this.options.zoomSnap:1,p=l.x/c.x,h=l.y/c.y,d=t?Math.max(p,h):Math.min(p,h);return n=this.getScaleZoom(d,n),u&&(n=Math.round(n/(u/100))*(u/100),n=t?Math.ceil(n/u)*u:Math.floor(n/u)*u),Math.max(o,Math.min(s,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var i=this._getTopLeftPoint(e,t);return new I(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var i=this.options.crs;return t=void 0===t?this._zoom:t,i.scale(e)/i.scale(t)},getScaleZoom:function(e,t){var i=this.options.crs;t=void 0===t?this._zoom:t;var n=i.zoom(e*i.scale(t));return isNaN(n)?1/0:n},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(N(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(D(e),t)},layerPointToLatLng:function(e){var t=D(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(N(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(N(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(B(e))},distance:function(e,t){return this.options.crs.distance(N(e),N(t))},containerPointToLayerPoint:function(e){return D(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return D(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(D(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(N(e)))},mouseEventToContainerPoint:function(e){return Ut(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=nt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");At(t,"scroll",this._onScroll,this),this._containerId=s(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ie.any3d,pt(e,"leaflet-container"+(Ie.touch?" leaflet-touch":"")+(Ie.retina?" leaflet-retina":"")+(Ie.ielt9?" leaflet-oldie":"")+(Ie.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ot(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_t(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(e.markerPane,"leaflet-zoom-hide"),pt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,i){_t(this._mapPane,new P(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var o=this._zoom!==t;this._moveStart(o,i)._move(e,t)._moveEnd(o),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,i,n){void 0===t&&(t=this._zoom);var o=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),n?i&&i.pinch&&this.fire("zoom",i):((o||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){_t(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[s(this._container)]=this;var t=e?Pt:At;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Ie.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=T((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var i,n=[],o="mouseout"===t||"mouseover"===t,r=e.target||e.srcElement,a=!1;r;){if((i=this._targets[s(r)])&&("click"===t||"preclick"===t)&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(t,!0)){if(o&&!Vt(r,e))break;if(n.push(i),o)break}if(r===this._container)break;r=r.parentNode}return n.length||a||o||!this.listens(t,!0)||(n=[this]),n},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var i=e.type;"mousedown"===i&&kt(t),this._fireDOMEvent(e,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,i,n){if("click"===e.type){var o=t({},e);o.type="preclick",this._fireDOMEvent(o,o.type,n)}var s=this._findEventTargets(e,i);if(n){for(var r=[],a=0;a<n.length;a++)n[a].listens(i,!0)&&r.push(n[a]);s=r.concat(s)}if(s.length){"contextmenu"===i&&Ft(e);var l=s[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<s.length;a++)if(s[a].fire(i,c,!0),c.originalEvent._stopped||!1===s[a].options.bubblingMouseEvents&&-1!==m(this._mouseEvents,i))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return vt(this._mapPane)||new P(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var i=this.getSize()._divideBy(2);return this.project(e,t)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,i){var n=this._getNewPixelOrigin(i,t);return this.project(e,t)._subtract(n)},_latLngBoundsToNewLayerBounds:function(e,t,i){var n=this._getNewPixelOrigin(i,t);return O([this.project(e.getSouthWest(),t)._subtract(n),this.project(e.getNorthWest(),t)._subtract(n),this.project(e.getSouthEast(),t)._subtract(n),this.project(e.getNorthEast(),t)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,i){if(!i)return e;var n=this.project(e,t),o=this.getSize().divideBy(2),s=new I(n.subtract(o),n.add(o)),r=this._getBoundsOffset(s,i,t);return Math.abs(r.x)<=1&&Math.abs(r.y)<=1?e:this.unproject(n.add(r),t)},_limitOffset:function(e,t){if(!t)return e;var i=this.getPixelBounds(),n=new I(i.min.add(e),i.max.add(e));return e.add(this._getBoundsOffset(n,t))},_getBoundsOffset:function(e,t,i){var n=O(this.project(t.getNorthEast(),i),this.project(t.getSouthWest(),i)),o=n.min.subtract(e.min),s=n.max.subtract(e.max);return new P(this._rebound(o.x,-s.x),this._rebound(o.y,-s.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),i=this.getMaxZoom(),n=Ie.any3d?this.options.zoomSnap:1;return n&&(e=Math.round(e/n)*n),Math.max(t,Math.min(i,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var i=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(i)||(this.panBy(i,t),0))},_createAnimProxy:function(){var e=this._proxy=st("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=et,i=this._proxy.style[t];mt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),i===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){rt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();mt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(t),o=this._getCenterOffset(e)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(o)||(T((function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(e,t,!0)}),this),0))},_animateZoom:function(e,t,i,o){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Zt=C.extend({options:{position:"topright"},initialize:function(e){h(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),i=this.getPosition(),n=e._controlCorners[i];return pt(t,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(t,n.firstChild):n.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(rt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Kt=function(e){return new Zt(e)};Gt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",i=this._controlContainer=st("div",t+"control-container",this._container);function n(n,o){var s=t+n+" "+t+o;e[n+o]=st("div",s,i)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)rt(this._controlCorners[e]);rt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Yt=Zt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,i,n){return i<n?-1:n<i?1:0}},initialize:function(e,t,i){for(var n in h(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[n],n);for(n in t)this._addLayer(t[n],n,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Zt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(s(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=st("div",e),i=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Bt(t),Rt(t);var n=this._section=st("section",e+"-list");i&&(this._map.on("click",this.collapse,this),At(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var o=this._layersLink=st("a",e+"-toggle",t);o.href="#",o.title="Layers",o.setAttribute("role","button"),At(o,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Ft(e),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=st("div",e+"-base",n),this._separator=st("div",e+"-separator",n),this._overlaysList=st("div",e+"-overlays",n),t.appendChild(n)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&s(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,i){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:i}),this.options.sortLayers&&this._layers.sort(n((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;at(this._baseLayersList),at(this._overlaysList),this._layerControlInputs=[];var e,t,i,n,o=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),t=t||n.overlay,e=e||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(e=e&&o>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(s(e.target)),i=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;i&&this._map.fire(i,t)},_createRadioElement:function(e,t){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(e){var t,i=document.createElement("label"),n=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=n):t=this._createRadioElement("leaflet-base-layers_"+s(this),n),this._layerControlInputs.push(t),t.layerId=s(e.layer),At(t,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+e.name;var r=document.createElement("span");return i.appendChild(r),r.appendChild(t),r.appendChild(o),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var e,t,i=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var s=i.length-1;s>=0;s--)e=i[s],t=this._getLayer(e.layerId).layer,e.checked?n.push(t):e.checked||o.push(t);for(s=0;s<o.length;s++)this._map.hasLayer(o[s])&&this._map.removeLayer(o[s]);for(s=0;s<n.length;s++)this._map.hasLayer(n[s])||this._map.addLayer(n[s]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,i=this._layerControlInputs,n=this._map.getZoom(),o=i.length-1;o>=0;o--)e=i[o],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&n<t.options.minZoom||void 0!==t.options.maxZoom&&n>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,At(e,"click",Ft),this.expand();var t=this;setTimeout((function(){Pt(e,"click",Ft),t._preventClick=!1}))}}),Qt=Zt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",i=st("div",t+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,t+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,t+"-out",i,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,i,n,o){var s=st("a",i,n);return s.innerHTML=e,s.href="#",s.title=t,s.setAttribute("role","button"),s.setAttribute("aria-label",t),Bt(s),At(s,"click",Nt),At(s,"click",o,this),At(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ht(this._zoomInButton,t),ht(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(pt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(pt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});Gt.mergeOptions({zoomControl:!0}),Gt.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Qt,this.addControl(this.zoomControl))}));var Xt=Zt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",i=st("div",t),n=this.options;return this._addScales(n,t+"-line",i),e.on(n.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),i},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,i){e.metric&&(this._mScale=st("div",t,i)),e.imperial&&(this._iScale=st("div",t,i))},_update:function(){var e=this._map,t=e.getSize().y/2,i=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(i)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),i=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,i,t/e)},_updateImperial:function(e){var t,i,n,o=3.2808399*e;o>5280?(t=o/5280,i=this._getRoundNum(t),this._updateScale(this._iScale,i+" mi",i/t)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(e,t,i){e.style.width=Math.round(this.options.maxWidth*i)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),i=e/t;return t*(i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),Jt=Zt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ie.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(e){h(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=st("div","leaflet-control-attribution"),Bt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var i=[];this.options.prefix&&i.push(this.options.prefix),e.length&&i.push(e.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});Gt.mergeOptions({attributionControl:!0}),Gt.addInitHook((function(){this.options.attributionControl&&(new Jt).addTo(this)}));Zt.Layers=Yt,Zt.Zoom=Qt,Zt.Scale=Xt,Zt.Attribution=Jt,Kt.layers=function(e,t,i){return new Yt(e,t,i)},Kt.zoom=function(e){return new Qt(e)},Kt.scale=function(e){return new Xt(e)},Kt.attribution=function(e){return new Jt(e)};var ei=C.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ei.addTo=function(e,t){return e.addHandler(t,this),this};var ti={Events:A},ii=Ie.touch?"touchstart mousedown":"mousedown",ni=E.extend({options:{clickTolerance:3},initialize:function(e,t,i,n){h(this,n),this._element=e,this._dragStartTarget=t||e,this._preventOutline=i},enable:function(){this._enabled||(At(this._dragStartTarget,ii,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ni._dragging===this&&this.finishDrag(!0),Pt(this._dragStartTarget,ii,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ut(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)ni._dragging===this&&this.finishDrag();else if(!(ni._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(ni._dragging=this,this._preventOutline&&kt(this._element),wt(),Ke(),this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,i=zt(this._element);this._startPoint=new P(t.clientX,t.clientY),this._startPos=vt(this._element),this._parentScale=St(i);var n="mousedown"===e.type;At(document,n?"mousemove":"touchmove",this._onMove,this),At(document,n?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,i=new P(t.clientX,t.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,Ft(e),this._moved||(this.fire("dragstart"),this._moved=!0,pt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),_t(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ht(document.body,"leaflet-dragging"),this._lastTarget&&(ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pt(document,"mousemove touchmove",this._onMove,this),Pt(document,"mouseup touchend touchcancel",this._onUp,this),bt(),Ye();var t=this._moved&&this._moving;this._moving=!1,ni._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function oi(e,t,i){var n,o,s,r,a,l,c,u,p,h=[1,4,2,8];for(o=0,c=e.length;o<c;o++)e[o]._code=gi(e[o],t);for(r=0;r<4;r++){for(u=h[r],n=[],o=0,s=(c=e.length)-1;o<c;s=o++)a=e[o],l=e[s],a._code&u?l._code&u||((p=di(l,a,u,t,i))._code=gi(p,t),n.push(p)):(l._code&u&&((p=di(l,a,u,t,i))._code=gi(p,t),n.push(p)),n.push(a));e=n}return e}function si(e,t){var i,n,o,s,r,a,l,c,u;if(!e||0===e.length)throw new Error("latlngs not passed");mi(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var p=N([0,0]),h=B(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(p=ri(e));var d=e.length,g=[];for(i=0;i<d;i++){var f=N(e[i]);g.push(t.project(N([f.lat-p.lat,f.lng-p.lng])))}for(a=l=c=0,i=0,n=d-1;i<d;n=i++)o=g[i],s=g[n],r=o.y*s.x-s.y*o.x,l+=(o.x+s.x)*r,c+=(o.y+s.y)*r,a+=3*r;u=0===a?g[0]:[l/a,c/a];var y=t.unproject(D(u));return N([y.lat+p.lat,y.lng+p.lng])}function ri(e){for(var t=0,i=0,n=0,o=0;o<e.length;o++){var s=N(e[o]);t+=s.lat,i+=s.lng,n++}return N([t/n,i/n])}var ai,li={__proto__:null,clipPolygon:oi,polygonCenter:si,centroid:ri};function ci(e,t){if(!t||!e.length)return e.slice();var i=t*t;return function(e,t){var i=e.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,pi(e,n,t,0,i-1);var o,s=[];for(o=0;o<i;o++)n[o]&&s.push(e[o]);return s}(e=function(e,t){for(var i=[e[0]],n=1,o=0,s=e.length;n<s;n++)fi(e[n],e[o])>t&&(i.push(e[n]),o=n);return o<s-1&&i.push(e[s-1]),i}(e,i),i)}function ui(e,t,i){return Math.sqrt(yi(e,t,i,!0))}function pi(e,t,i,n,o){var s,r,a,l=0;for(r=n+1;r<=o-1;r++)(a=yi(e[r],e[n],e[o],!0))>l&&(s=r,l=a);l>i&&(t[s]=1,pi(e,t,i,n,s),pi(e,t,i,s,o))}function hi(e,t,i,n,o){var s,r,a,l=n?ai:gi(e,i),c=gi(t,i);for(ai=c;;){if(!(l|c))return[e,t];if(l&c)return!1;a=gi(r=di(e,t,s=l||c,i,o),i),s===l?(e=r,l=a):(t=r,c=a)}}function di(e,t,i,n,o){var s,r,a=t.x-e.x,l=t.y-e.y,c=n.min,u=n.max;return 8&i?(s=e.x+a*(u.y-e.y)/l,r=u.y):4&i?(s=e.x+a*(c.y-e.y)/l,r=c.y):2&i?(s=u.x,r=e.y+l*(u.x-e.x)/a):1&i&&(s=c.x,r=e.y+l*(c.x-e.x)/a),new P(s,r,o)}function gi(e,t){var i=0;return e.x<t.min.x?i|=1:e.x>t.max.x&&(i|=2),e.y<t.min.y?i|=4:e.y>t.max.y&&(i|=8),i}function fi(e,t){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n}function yi(e,t,i,n){var o,s=t.x,r=t.y,a=i.x-s,l=i.y-r,c=a*a+l*l;return c>0&&((o=((e.x-s)*a+(e.y-r)*l)/c)>1?(s=i.x,r=i.y):o>0&&(s+=a*o,r+=l*o)),a=e.x-s,l=e.y-r,n?a*a+l*l:new P(s,r)}function mi(e){return!y(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function _i(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mi(e)}function vi(e,t){var i,n,o,s,r,a,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");mi(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=N([0,0]),p=B(e);p.getNorthWest().distanceTo(p.getSouthWest())*p.getNorthEast().distanceTo(p.getNorthWest())<1700&&(u=ri(e));var h=e.length,d=[];for(i=0;i<h;i++){var g=N(e[i]);d.push(t.project(N([g.lat-u.lat,g.lng-u.lng])))}for(i=0,n=0;i<h-1;i++)n+=d[i].distanceTo(d[i+1])/2;if(0===n)c=d[0];else for(i=0,s=0;i<h-1;i++)if(r=d[i],a=d[i+1],(s+=o=r.distanceTo(a))>n){l=(s-n)/o,c=[a.x-l*(a.x-r.x),a.y-l*(a.y-r.y)];break}var f=t.unproject(D(c));return N([f.lat+u.lat,f.lng+u.lng])}var xi={__proto__:null,simplify:ci,pointToSegmentDistance:ui,closestPointOnSegment:function(e,t,i){return yi(e,t,i)},clipSegment:hi,_getEdgeIntersection:di,_getBitCode:gi,_sqClosestPointOnSegment:yi,isFlat:mi,_flat:_i,polylineCenter:vi},wi={project:function(e){return new P(e.lng,e.lat)},unproject:function(e){return new F(e.y,e.x)},bounds:new I([-180,-90],[180,90])},bi={R:6378137,R_MINOR:6356752.314245179,bounds:new I([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,i=this.R,n=e.lat*t,o=this.R_MINOR/i,s=Math.sqrt(1-o*o),r=s*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-r)/(1+r),s/2);return n=-i*Math.log(Math.max(a,1e-10)),new P(e.lng*t*i,n)},unproject:function(e){for(var t,i=180/Math.PI,n=this.R,o=this.R_MINOR/n,s=Math.sqrt(1-o*o),r=Math.exp(-e.y/n),a=Math.PI/2-2*Math.atan(r),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=s*Math.sin(a),t=Math.pow((1-t)/(1+t),s/2),a+=c=Math.PI/2-2*Math.atan(r*t)-a;return new F(a*i,e.x*i/n)}},ki={__proto__:null,LonLat:wi,Mercator:bi,SphericalMercator:V},Ti=t({},q,{code:"EPSG:3395",projection:bi,transformation:function(){var e=.5/(Math.PI*bi.R);return W(e,.5,-e,.5)}()}),zi=t({},q,{code:"EPSG:4326",projection:wi,transformation:W(1/180,1,-1/180,.5)}),Si=t({},U,{projection:wi,transformation:W(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var i=t.lng-e.lng,n=t.lat-e.lat;return Math.sqrt(i*i+n*n)},infinite:!0});U.Earth=q,U.EPSG3395=Ti,U.EPSG3857=G,U.EPSG900913=Z,U.EPSG4326=zi,U.Simple=Si;var Ci=E.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[s(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[s(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var i=this.getEvents();t.on(i,this),this.once("remove",(function(){t.off(i,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});Gt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=s(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=s(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return s(e)in this._layers},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},_addLayers:function(e){for(var t=0,i=(e=e?y(e)?e:[e]:[]).length;t<i;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[s(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=s(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var o=this._zoomBoundLayers[n].options;e=void 0===o.minZoom?e:Math.min(e,o.minZoom),t=void 0===o.maxZoom?t:Math.max(t,o.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ai=Ci.extend({initialize:function(e,t){var i,n;if(h(this,t),this._layers={},e)for(i=0,n=e.length;i<n;i++)this.addLayer(e[i])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,i,n=Array.prototype.slice.call(arguments,1);for(t in this._layers)(i=this._layers[t])[e]&&i[e].apply(i,n);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return s(e)}}),Ei=Ai.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Ai.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Ai.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new R;for(var t in this._layers){var i=this._layers[t];e.extend(i.getBounds?i.getBounds():i.getLatLng())}return e}}),Pi=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){h(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var i=this._getIconUrl(e);if(!i){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(n,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n},_setIconStyles:function(e,t){var i=this.options,n=i[t+"Size"];"number"==typeof n&&(n=[n,n]);var o=D(n),s=D("shadow"===t&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(i.className||""),s&&(e.style.marginLeft=-s.x+"px",e.style.marginTop=-s.y+"px"),o&&(e.style.width=o.x+"px",e.style.height=o.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Ie.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});var Mi=Pi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!=typeof Mi.imagePath&&(Mi.imagePath=this._detectIconPath()),(this.options.imagePath||Mi.imagePath)+Pi.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,i){var n=t.exec(e);return n&&n[i]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=st("div","leaflet-default-icon-path",document.body),t=ot(e,"background-image")||ot(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),Li=ei.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new ni(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,i=t._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,s=vt(t._icon),r=i.getPixelBounds(),a=i.getPixelOrigin(),l=O(r.min._subtract(a).add(o),r.max._subtract(a).subtract(o));if(!l.contains(s)){var c=D((Math.max(l.max.x,s.x)-l.max.x)/(r.max.x-l.max.x)-(Math.min(l.min.x,s.x)-l.min.x)/(r.min.x-l.min.x),(Math.max(l.max.y,s.y)-l.max.y)/(r.max.y-l.max.y)-(Math.min(l.min.y,s.y)-l.min.y)/(r.min.y-l.min.y)).multiplyBy(n);i.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),_t(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=T(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,i=t._shadow,n=vt(t._icon),o=t._map.layerPointToLatLng(n);i&&_t(i,n),t._latlng=o,e.latlng=o,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Di=Ci.extend({options:{icon:new Mi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){h(this,t),this._latlng=N(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=N(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=e.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,e.title&&(i.title=e.title),"IMG"===i.tagName&&(i.alt=e.alt||"")),pt(i,t),e.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&At(i,"focus",this._panOnFocus,this);var o=e.icon.createShadow(this._shadow),s=!1;o!==this._shadow&&(this._removeShadow(),s=!0),o&&(pt(o,t),o.alt=""),this._shadow=o,e.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&s&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(this._icon,"focus",this._panOnFocus,this),rt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&rt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&_t(this._icon,e),this._shadow&&_t(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Li)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Li(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&ft(this._icon,e),this._shadow&&ft(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,i=t.iconSize?D(t.iconSize):D(0,0),n=t.iconAnchor?D(t.iconAnchor):D(0,0);e.panInside(this._latlng,{paddingTopLeft:n,paddingBottomRight:i.subtract(n)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Ii=Ci.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return h(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Oi=Ii.extend({options:{fill:!0,radius:10},initialize:function(e,t){h(this,t),this._latlng=N(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=N(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Ii.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,i=this._clickTolerance(),n=[e+i,t+i];this._pxBounds=new I(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Ri=Oi.extend({initialize:function(e,i,n){if("number"==typeof i&&(i=t({},n,{radius:i})),h(this,i),this._latlng=N(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new R(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Ii.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===q.distance){var o=Math.PI/180,s=this._mRadius/q.R/o,r=i.project([t+s,e]),a=i.project([t-s,e]),l=r.add(a).divideBy(2),c=i.unproject(l).lat,u=Math.acos((Math.cos(s*o)-Math.sin(t*o)*Math.sin(c*o))/(Math.cos(t*o)*Math.cos(c*o)))/o;(isNaN(u)||0===u)&&(u=s/Math.cos(Math.PI/180*t)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-i.project([c,e-u]).x,this._radiusY=l.y-r.y}else{var p=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(p).x}this._updateBounds()}});var Bi=Ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){h(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,i,n=1/0,o=null,s=yi,r=0,a=this._parts.length;r<a;r++)for(var l=this._parts[r],c=1,u=l.length;c<u;c++){var p=s(e,t=l[c-1],i=l[c],!0);p<n&&(n=p,o=s(e,t,i))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=N(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new R,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return mi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],i=mi(e),n=0,o=e.length;n<o;n++)i?(t[n]=N(e[n]),this._bounds.extend(t[n])):t[n]=this._convertLatLngs(e[n]);return t},_project:function(){var e=new I;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new P(e,e);this._rawPxBounds&&(this._pxBounds=new I([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,i){var n,o,s=e[0]instanceof F,r=e.length;if(s){for(o=[],n=0;n<r;n++)o[n]=this._map.latLngToLayerPoint(e[n]),i.extend(o[n]);t.push(o)}else for(n=0;n<r;n++)this._projectLatlngs(e[n],t,i)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,i,n,o,s,r,a,l=this._parts;for(t=0,n=0,o=this._rings.length;t<o;t++)for(i=0,s=(a=this._rings[t]).length;i<s-1;i++)(r=hi(a[i],a[i+1],e,i,!0))&&(l[n]=l[n]||[],l[n].push(r[0]),r[1]===a[i+1]&&i!==s-2||(l[n].push(r[1]),n++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,i=0,n=e.length;i<n;i++)e[i]=ci(e[i],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var i,n,o,s,r,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(n=0,o=(r=(a=this._parts[i]).length)-1;n<r;o=n++)if((t||0!==n)&&ui(e,a[o],a[n])<=l)return!0;return!1}});Bi._flat=_i;var Fi=Bi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return si(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=Bi.prototype._convertLatLngs.call(this,e),i=t.length;return i>=2&&t[0]instanceof F&&t[0].equals(t[i-1])&&t.pop(),t},_setLatLngs:function(e){Bi.prototype._setLatLngs.call(this,e),mi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,i=new P(t,t);if(e=new I(e.min.subtract(i),e.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var n,o=0,s=this._rings.length;o<s;o++)(n=oi(this._rings[o],e,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,i,n,o,s,r,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,a=this._parts.length;o<a;o++)for(s=0,r=(l=(t=this._parts[o]).length)-1;s<l;r=s++)i=t[s],n=t[r],i.y>e.y!=n.y>e.y&&e.x<(n.x-i.x)*(e.y-i.y)/(n.y-i.y)+i.x&&(c=!c);return c||Bi.prototype._containsPoint.call(this,e,!0)}});var Ni=Ei.extend({initialize:function(e,t){h(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,i,n,o=y(e)?e:e.features;if(o){for(t=0,i=o.length;t<i;t++)((n=o[t]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var s=this.options;if(s.filter&&!s.filter(e))return this;var r=ji(e,s);return r?(r.feature=Gi(e),r.defaultOptions=r.options,this.resetStyle(r),s.onEachFeature&&s.onEachFeature(e,r),this.addLayer(r)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"==typeof t&&(t=t(e.feature)),e.setStyle(t))}});function ji(e,t){var i,n,o,s,r="Feature"===e.type?e.geometry:e,a=r?r.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||qi;if(!a&&!r)return null;switch(r.type){case"Point":return Ui(c,e,i=u(a),t);case"MultiPoint":for(o=0,s=a.length;o<s;o++)i=u(a[o]),l.push(Ui(c,e,i,t));return new Ei(l);case"LineString":case"MultiLineString":return n=Hi(a,"LineString"===r.type?0:1,u),new Bi(n,t);case"Polygon":case"MultiPolygon":return n=Hi(a,"Polygon"===r.type?1:2,u),new Fi(n,t);case"GeometryCollection":for(o=0,s=r.geometries.length;o<s;o++){var p=ji({geometry:r.geometries[o],type:"Feature",properties:e.properties},t);p&&l.push(p)}return new Ei(l);case"FeatureCollection":for(o=0,s=r.features.length;o<s;o++){var h=ji(r.features[o],t);h&&l.push(h)}return new Ei(l);default:throw new Error("Invalid GeoJSON object.")}}function Ui(e,t,i,n){return e?e(t,i):new Di(i,n&&n.markersInheritOptions&&n)}function qi(e){return new F(e[1],e[0],e[2])}function Hi(e,t,i){for(var n,o=[],s=0,r=e.length;s<r;s++)n=t?Hi(e[s],t-1,i):(i||qi)(e[s]),o.push(n);return o}function Vi(e,t){return void 0!==(e=N(e)).alt?[c(e.lng,t),c(e.lat,t),c(e.alt,t)]:[c(e.lng,t),c(e.lat,t)]}function $i(e,t,i,n){for(var o=[],s=0,r=e.length;s<r;s++)o.push(t?$i(e[s],mi(e[s])?0:t-1,i,n):Vi(e[s],n));return!t&&i&&o.length>0&&o.push(o[0].slice()),o}function Wi(e,i){return e.feature?t({},e.feature,{geometry:i}):Gi(i)}function Gi(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var Zi={toGeoJSON:function(e){return Wi(this,{type:"Point",coordinates:Vi(this.getLatLng(),e)})}};function Ki(e,t){return new Ni(e,t)}Di.include(Zi),Ri.include(Zi),Oi.include(Zi),Bi.include({toGeoJSON:function(e){var t=!mi(this._latlngs);return Wi(this,{type:(t?"Multi":"")+"LineString",coordinates:$i(this._latlngs,t?1:0,!1,e)})}}),Fi.include({toGeoJSON:function(e){var t=!mi(this._latlngs),i=t&&!mi(this._latlngs[0]),n=$i(this._latlngs,i?2:t?1:0,!0,e);return t||(n=[n]),Wi(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),Ai.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(i){t.push(i.toGeoJSON(e).geometry.coordinates)})),Wi(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var i="GeometryCollection"===t,n=[];return this.eachLayer((function(t){if(t.toGeoJSON){var o=t.toGeoJSON(e);if(i)n.push(o.geometry);else{var s=Gi(o);"FeatureCollection"===s.type?n.push.apply(n,s.features):n.push(s)}}})),i?Wi(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var Yi=Ki,Qi=Ci.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,i){this._url=e,this._bounds=B(t),h(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){rt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&lt(this._image),this},bringToBack:function(){return this._map&&ct(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=B(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:st("img");pt(t,"leaflet-image-layer"),this._zoomAnimated&&pt(t,"leaflet-zoom-animated"),this.options.className&&pt(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=n(this.fire,this,"load"),t.onerror=n(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;mt(this._image,i,t)},_reset:function(){var e=this._image,t=new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=t.getSize();_t(e,t.min),e.style.width=i.x+"px",e.style.height=i.y+"px"},_updateOpacity:function(){ft(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Xi=Qi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:st("video");if(pt(t,"leaflet-image-layer"),this._zoomAnimated&&pt(t,"leaflet-zoom-animated"),this.options.className&&pt(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=n(this.fire,this,"load"),e){for(var i=t.getElementsByTagName("source"),o=[],s=0;s<i.length;s++)o.push(i[s].src);this._url=i.length>0?o:[t.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var r=0;r<this._url.length;r++){var a=st("source");a.src=this._url[r],t.appendChild(a)}}}});var Ji=Qi.extend({_initImage:function(){var e=this._image=this._url;pt(e,"leaflet-image-layer"),this._zoomAnimated&&pt(e,"leaflet-zoom-animated"),this.options.className&&pt(e,this.options.className),e.onselectstart=l,e.onmousemove=l}});var en=Ci.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof F||y(e))?(this._latlng=N(e),h(this,t)):(h(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&ft(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&ft(this._container,1),this.bringToFront(),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(ft(this._container,0),this._removeTimeout=setTimeout(n(rt,void 0,this._container),200)):rt(this._container),this.options.interactive&&(ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=N(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&lt(this._container),this},bringToBack:function(){return this._map&&ct(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Ei){t=null;var i=this._source._layers;for(var n in i)if(i[n]._map){t=i[n];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=D(this.options.offset),i=this._getAnchor();this._zoomAnimated?_t(this._container,e.add(i)):t=t.add(e).add(i);var n=this._containerBottom=-t.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}});Gt.include({_initOverlay:function(e,t,i,n){var o=t;return o instanceof e||(o=new e(n).setContent(t)),i&&o.setLatLng(i),o}}),Ci.include({_initOverlay:function(e,t,i,n){var o=i;return o instanceof e?(h(o,n),o._source=this):(o=t&&!n?t:new e(n,this)).setContent(i),o}});var tn=en.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,en.prototype.openOn.call(this,e)},onAdd:function(e){en.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ii||this._source.on("preclick",Ot))},onRemove:function(e){en.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ii||this._source.off("preclick",Ot))},getEvents:function(){var e=en.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=st("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=st("div",e+"-content-wrapper",t);if(this._contentNode=st("div",e+"-content",i),Bt(t),Rt(this._contentNode),At(t,"contextmenu",Ot),this._tipContainer=st("div",e+"-tip-container",t),this._tip=st("div",e+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=st("a",e+"-close-button",t);n.setAttribute("role","button"),n.setAttribute("aria-label","Close popup"),n.href="#close",n.innerHTML='<span aria-hidden="true">&#215;</span>',At(n,"click",(function(e){Ft(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var i=e.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),t.width=i+1+"px",t.whiteSpace="",t.height="";var n=e.offsetHeight,o=this.options.maxHeight,s="leaflet-popup-scrolled";o&&n>o?(t.height=o+"px",pt(e,s)):ht(e,s),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),i=this._getAnchor();_t(this._container,t.add(i))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(ot(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+t,n=this._containerWidth,o=new P(this._containerLeft,-i-this._containerBottom);o._add(vt(this._container));var s=e.layerPointToContainerPoint(o),r=D(this.options.autoPanPadding),a=D(this.options.autoPanPaddingTopLeft||r),l=D(this.options.autoPanPaddingBottomRight||r),c=e.getSize(),u=0,p=0;s.x+n+l.x>c.x&&(u=s.x+n-c.x+l.x),s.x-u-a.x<0&&(u=s.x-a.x),s.y+i+l.y>c.y&&(p=s.y+i-c.y+l.y),s.y-p-a.y<0&&(p=s.y-a.y),(u||p)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([u,p]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Gt.mergeOptions({closePopupOnClick:!0}),Gt.include({openPopup:function(e,t,i){return this._initOverlay(tn,e,t,i).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Ci.include({bindPopup:function(e,t){return this._popup=this._initOverlay(tn,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Ei||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Nt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof Ii?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var nn=en.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){en.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){en.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=en.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=st("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,i,n=this._map,o=this._container,s=n.latLngToContainerPoint(n.getCenter()),r=n.layerPointToContainerPoint(e),a=this.options.direction,l=o.offsetWidth,c=o.offsetHeight,u=D(this.options.offset),p=this._getAnchor();"top"===a?(t=l/2,i=c):"bottom"===a?(t=l/2,i=0):"center"===a?(t=l/2,i=c/2):"right"===a?(t=0,i=c/2):"left"===a?(t=l,i=c/2):r.x<s.x?(a="right",t=0,i=c/2):(a="left",t=l+2*(u.x+p.x),i=c/2),e=e.subtract(D(t,i,!0)).add(u).add(p),ht(o,"leaflet-tooltip-right"),ht(o,"leaflet-tooltip-left"),ht(o,"leaflet-tooltip-top"),ht(o,"leaflet-tooltip-bottom"),pt(o,"leaflet-tooltip-"+a),_t(o,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&ft(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Gt.include({openTooltip:function(e,t,i){return this._initOverlay(nn,e,t,i).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Ci.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(nn,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[t](i),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Ei||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&(At(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),At(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",(function(){t._openOnceFlag=!1,t._openTooltip(e)}))}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,i,n=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),i=this._map.containerPointToLayerPoint(t),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var on=Pi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),i=this.options;if(i.html instanceof Element?(at(t),t.appendChild(i.html)):t.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=D(i.bgPos);t.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Pi.Default=Mi;var sn=Ci.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ie.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){h(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),rt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(lt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ct(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof P?e:new P(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,i=this.getPane().children,n=-e(-1/0,1/0),o=0,s=i.length;o<s;o++)t=i[o].style.zIndex,i[o]!==this._container&&t&&(n=e(n,+t));isFinite(n)&&(this.options.zIndex=n+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ie.ielt9){ft(this._container,this.options.opacity);var e=+new Date,t=!1,i=!1;for(var n in this._tiles){var o=this._tiles[n];if(o.current&&o.loaded){var s=Math.min(1,(e-o.loaded)/200);ft(o.el,s),s<1?t=!0:(o.active?i=!0:this._onOpaqueTile(o),o.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),t&&(z(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=st("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===e?(this._levels[i].el.style.zIndex=t-Math.abs(e-i),this._onUpdateLevel(i)):(rt(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[e],o=this._map;return n||((n=this._levels[e]={}).el=st("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=t,n.origin=o.project(o.unproject(o.getPixelOrigin()),e).round(),n.zoom=e,this._setZoomTransform(n,o.getCenter(),o.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var n=t.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)rt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,i,n){var o=Math.floor(e/2),s=Math.floor(t/2),r=i-1,a=new P(+o,+s);a.z=+r;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),r>n&&this._retainParent(o,s,r,n))},_retainChildren:function(e,t,i,n){for(var o=2*e;o<2*e+2;o++)for(var s=2*t;s<2*t+2;s++){var r=new P(o,s);r.z=i+1;var a=this._tileCoordsToKey(r),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<n&&this._retainChildren(o,s,i+1,n))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,i,n){var o=Math.round(t);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var s=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!s||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(e),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var i in this._levels)this._setZoomTransform(this._levels[i],e,t)},_setZoomTransform:function(e,t,i){var n=this._map.getZoomScale(i,e.zoom),o=e.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(t,i)).round();Ie.any3d?mt(e.el,o,n):_t(e.el,o)},_resetGrid:function(){var e=this._map,t=e.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],n).x/i.x),Math.ceil(e.project([0,t.wrapLng[1]],n).x/i.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],n).y/i.x),Math.ceil(e.project([t.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,i=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),n=t.getZoomScale(i,this._tileZoom),o=t.project(e,this._tileZoom).floor(),s=t.getSize().divideBy(2*n);return new I(o.subtract(s),o.add(s))},_update:function(e){var t=this._map;if(t){var i=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(e),o=this._pxBoundsToTileRange(n),s=o.getCenter(),r=[],a=this.options.keepBuffer,l=new I(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new P(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(e,i);else{for(var p=o.min.y;p<=o.max.y;p++)for(var h=o.min.x;h<=o.max.x;h++){var d=new P(h,p);if(d.z=this._tileZoom,this._isValidTile(d)){var g=this._tiles[this._tileCoordsToKey(d)];g?g.current=!0:r.push(d)}}if(r.sort((function(e,t){return e.distanceTo(s)-t.distanceTo(s)})),0!==r.length){this._loading||(this._loading=!0,this.fire("loading"));var f=document.createDocumentFragment();for(h=0;h<r.length;h++)this._addTile(r[h],f);this._level.el.appendChild(f)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var i=this._globalTileRange;if(!t.wrapLng&&(e.x<i.min.x||e.x>i.max.x)||!t.wrapLat&&(e.y<i.min.y||e.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(e);return B(this.options.bounds).overlaps(n)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,i=this.getTileSize(),n=e.scaleBy(i),o=n.add(i);return[t.unproject(n,e.z),t.unproject(o,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),i=new R(t[0],t[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),i=new P(+t[0],+t[1]);return i.z=+t[2],i},_removeTile:function(e){var t=this._tiles[e];t&&(rt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){pt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=l,e.onmousemove=l,Ie.ielt9&&this.options.opacity<1&&ft(e,this.options.opacity)},_addTile:function(e,t){var i=this._getTilePos(e),o=this._tileCoordsToKey(e),s=this.createTile(this._wrapCoords(e),n(this._tileReady,this,e));this._initTile(s),this.createTile.length<2&&T(n(this._tileReady,this,e,null,s)),_t(s,i),this._tiles[o]={el:s,coords:e,current:!0},t.appendChild(s),this.fire("tileloadstart",{tile:s,coords:e})},_tileReady:function(e,t,i){t&&this.fire("tileerror",{error:t,tile:i,coords:e});var o=this._tileCoordsToKey(e);(i=this._tiles[o])&&(i.loaded=+new Date,this._map._fadeAnimated?(ft(i.el,0),z(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),t||(pt(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ie.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new P(this._wrapX?a(e.x,this._wrapX):e.x,this._wrapY?a(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new I(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});var rn=sn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=h(this,t)).detectRetina&&Ie.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var i=document.createElement("img");return At(i,"load",n(this._tileOnLoad,this,t,i)),At(i,"error",n(this._tileOnError,this,t,i)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(e),i},getTileUrl:function(e){var i={r:Ie.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-e.y;this.options.tms&&(i.y=n),i["-y"]=n}return f(this._url,t(i,this.options))},_tileOnLoad:function(e,t){Ie.ielt9?setTimeout(n(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,i){var n=this.options.errorTileUrl;n&&t.getAttribute("src")!==n&&(t.src=n),e(i,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=l,t.onerror=l,!t.complete)){t.src=_;var i=this._tiles[e].coords;rt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:i})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",_),sn.prototype._removeTile.call(this,e)},_tileReady:function(e,t,i){if(this._map&&(!i||i.getAttribute("src")!==_))return sn.prototype._tileReady.call(this,e,t,i)}});function an(e,t){return new rn(e,t)}var ln=rn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,i){this._url=e;var n=t({},this.defaultWmsParams);for(var o in i)o in this.options||(n[o]=i[o]);var s=(i=h(this,i)).detectRetina&&Ie.retina?2:1,r=this.getTileSize();n.width=r.x*s,n.height=r.y*s,this.wmsParams=n},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,rn.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),i=this._crs,n=O(i.project(t[0]),i.project(t[1])),o=n.min,s=n.max,r=(this._wmsVersion>=1.3&&this._crs===zi?[o.y,o.x,s.y,s.x]:[o.x,o.y,s.x,s.y]).join(","),a=rn.prototype.getTileUrl.call(this,e);return a+d(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(e,i){return t(this.wmsParams,e),i||this.redraw(),this}});rn.WMS=ln,an.wms=function(e,t){return new ln(e,t)};var cn=Ci.extend({options:{padding:.1},initialize:function(e){h(this,e),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var i=this._map.getZoomScale(t,this._zoom),n=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),s=n.multiplyBy(-i).add(o).subtract(this._map._getNewPixelOrigin(e,t));Ie.any3d?mt(this._container,s,i):_t(this._container,s)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),i=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new I(i,i.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),un=cn.extend({options:{tolerance:0},getEvents:function(){var e=cn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){cn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");At(e,"mousemove",this._onMouseMove,this),At(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),At(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,rt(this._container),Pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){cn.prototype._update.call(this);var e=this._bounds,t=this._container,i=e.getSize(),n=Ie.retina?2:1;_t(t,e.min),t.width=n*i.x,t.height=n*i.y,t.style.width=i.x+"px",t.style.height=i.y+"px",Ie.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){cn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[s(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,i=t.next,n=t.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete e._order,delete this._layers[s(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,i,n=e.options.dashArray.split(/[, ]+/),o=[];for(i=0;i<n.length;i++){if(t=Number(n[i]),isNaN(t))return;o.push(t)}e.options._dashArray=o}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new I,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var i=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)e=n.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var i,n,o,s,r=e._parts,a=r.length,l=this._ctx;if(a){for(l.beginPath(),i=0;i<a;i++){for(n=0,o=r[i].length;n<o;n++)s=r[i][n],l[n?"lineTo":"moveTo"](s.x,s.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,i=this._ctx,n=Math.max(Math.round(e._radius),1),o=(Math.max(Math.round(e._radiusY),1)||n)/n;1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(t.x,t.y/o,n,0,2*Math.PI,!1),1!==o&&i.restore(),this._fillStroke(i,e)}},_fillStroke:function(e,t){var i=t.options;i.fill&&(e.globalAlpha=i.fillOpacity,e.fillStyle=i.fillColor||i.color,e.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=i.opacity,e.lineWidth=i.weight,e.strokeStyle=i.color,e.lineCap=i.lineCap,e.lineJoin=i.lineJoin,e.stroke())},_onClick:function(e){for(var t,i,n=this._map.mouseEventToLayerPoint(e),o=this._drawFirst;o;o=o.next)(t=o.layer).options.interactive&&t._containsPoint(n)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(i=t);this._fireEvent(!!i&&[i],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(ht(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var i,o,s=this._drawFirst;s;s=s.next)(i=s.layer).options.interactive&&i._containsPoint(t)&&(o=i);o!==this._hoveredLayer&&(this._handleMouseOut(e),o&&(pt(this._container,"leaflet-interactive"),this._fireEvent([o],e,"mouseover"),this._hoveredLayer=o)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(n((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,i){this._map._fireDOMEvent(t,i||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var i=t.next,n=t.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var i=t.next,n=t.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function pn(e){return Ie.canvas?new un(e):null}var hn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),dn={_initContainer:function(){this._container=st("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(cn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=hn("shape");pt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=hn("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;rt(t),e.removeInteractiveTarget(t),delete this._layers[s(e)]},_updateStyle:function(e){var t=e._stroke,i=e._fill,n=e.options,o=e._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(t||(t=e._stroke=hn("stroke")),o.appendChild(t),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=y(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=n.lineCap.replace("butt","flat"),t.joinstyle=n.lineJoin):t&&(o.removeChild(t),e._stroke=null),n.fill?(i||(i=e._fill=hn("fill")),o.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(o.removeChild(i),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),i=Math.round(e._radius),n=Math.round(e._radiusY||i);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+i+","+n+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){lt(e._container)},_bringToBack:function(e){ct(e._container)}},gn=Ie.vml?hn:K,fn=cn.extend({_initContainer:function(){this._container=gn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=gn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){rt(this._container),Pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){cn.prototype._update.call(this);var e=this._bounds,t=e.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,i.setAttribute("width",t.x),i.setAttribute("height",t.y)),_t(i,e.min),i.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=gn("path");e.options.className&&pt(t,e.options.className),e.options.interactive&&pt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[s(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){rt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[s(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,i=e.options;t&&(i.stroke?(t.setAttribute("stroke",i.color),t.setAttribute("stroke-opacity",i.opacity),t.setAttribute("stroke-width",i.weight),t.setAttribute("stroke-linecap",i.lineCap),t.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?t.setAttribute("stroke-dasharray",i.dashArray):t.removeAttribute("stroke-dasharray"),i.dashOffset?t.setAttribute("stroke-dashoffset",i.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),i.fill?(t.setAttribute("fill",i.fillColor||i.color),t.setAttribute("fill-opacity",i.fillOpacity),t.setAttribute("fill-rule",i.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Y(e._parts,t))},_updateCircle:function(e){var t=e._point,i=Math.max(Math.round(e._radius),1),n="a"+i+","+(Math.max(Math.round(e._radiusY),1)||i)+" 0 1,0 ",o=e._empty()?"M0 0":"M"+(t.x-i)+","+t.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(e,o)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){lt(e._path)},_bringToBack:function(e){ct(e._path)}});function yn(e){return Ie.svg||Ie.vml?new fn(e):null}Ie.vml&&fn.include(dn),Gt.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&pn(e)||yn(e)}});var mn=Fi.extend({initialize:function(e,t){Fi.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=B(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});fn.create=gn,fn.pointsToPath=Y,Ni.geometryToLayer=ji,Ni.coordsToLatLng=qi,Ni.coordsToLatLngs=Hi,Ni.latLngToCoords=Vi,Ni.latLngsToCoords=$i,Ni.getFeature=Wi,Ni.asFeature=Gi,Gt.mergeOptions({boxZoom:!0});var _n=ei.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){At(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){rt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),Ke(),wt(),this._startPoint=this._map.mouseEventToContainerPoint(e),At(document,{contextmenu:Nt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=st("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new I(this._point,this._startPoint),i=t.getSize();_t(this._box,t.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(rt(this._box),ht(this._container,"leaflet-crosshair")),Ye(),bt(),Pt(document,{contextmenu:Nt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var t=new R(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Gt.addInitHook("addHandler","boxZoom",_n),Gt.mergeOptions({doubleClickZoom:!0});var vn=ei.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,i=t.getZoom(),n=t.options.zoomDelta,o=e.originalEvent.shiftKey?i-n:i+n;"center"===t.options.doubleClickZoom?t.setZoom(o):t.setZoomAround(e.containerPoint,o)}});Gt.addInitHook("addHandler","doubleClickZoom",vn),Gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xn=ei.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new ni(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ht(this._map._container,"leaflet-grab"),ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=B(this._map.options.maxBounds);this._offsetLimit=O(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-t+i)%e+t-i,s=(n+t+i)%e-t-i,r=Math.abs(o+i)<Math.abs(s+i)?o:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(e){var t=this._map,i=t.options,n=!i.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),n)t.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,r=i.easeLinearity,a=o.multiplyBy(r/s),l=a.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),p=c/(i.inertiaDeceleration*r),h=u.multiplyBy(-p/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),T((function(){t.panBy(h,{duration:p,easeLinearity:r,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});Gt.addInitHook("addHandler","dragging",xn),Gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wn=ei.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),At(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,i=e.scrollTop||t.scrollTop,n=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,i,n=this._panKeys={},o=this.keyCodes;for(t=0,i=o.left.length;t<i;t++)n[o.left[t]]=[-1*e,0];for(t=0,i=o.right.length;t<i;t++)n[o.right[t]]=[e,0];for(t=0,i=o.down.length;t<i;t++)n[o.down[t]]=[0,e];for(t=0,i=o.up.length;t<i;t++)n[o.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,i,n=this._zoomKeys={},o=this.keyCodes;for(t=0,i=o.zoomIn.length;t<i;t++)n[o.zoomIn[t]]=e;for(t=0,i=o.zoomOut.length;t<i;t++)n[o.zoomOut[t]]=-e},_addHooks:function(){At(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,i=e.keyCode,n=this._map;if(i in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(t=this._panKeys[i],e.shiftKey&&(t=D(t).multiplyBy(3)),n.options.maxBounds&&(t=n._limitOffset(D(t),n.options.maxBounds)),n.options.worldCopyJump){var o=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(t)));n.panTo(o)}else n.panBy(t)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}Nt(e)}}});Gt.addInitHook("addHandler","keyboard",wn),Gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bn=ei.extend({addHooks:function(){At(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Ht(e),i=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var o=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),o),Nt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),i=this._map.options.zoomSnap||0;e._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,s=i?Math.ceil(o/i)*i:o,r=e._limitZoom(t+(this._delta>0?s:-s))-t;this._delta=0,this._startTime=null,r&&("center"===e.options.scrollWheelZoom?e.setZoom(t+r):e.setZoomAround(this._lastMousePos,t+r))}});Gt.addInitHook("addHandler","scrollWheelZoom",bn);Gt.mergeOptions({tapHold:Ie.touchNative&&Ie.safari&&Ie.mobile,tapTolerance:15});var kn=ei.extend({addHooks:function(){At(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new P(t.clientX,t.clientY),this._holdTimeout=setTimeout(n((function(){this._cancel(),this._isTapValid()&&(At(document,"touchend",Ft),At(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),600),At(document,"touchend touchcancel contextmenu",this._cancel,this),At(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Pt(document,"touchend",Ft),Pt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new P(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var i=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});i._simulated=!0,t.target.dispatchEvent(i)}});Gt.addInitHook("addHandler","tapHold",kn),Gt.mergeOptions({touchZoom:Ie.touch,bounceAtZoomLimits:!0});var Tn=ei.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),At(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var i=t.mouseEventToContainerPoint(e.touches[0]),n=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),At(document,"touchmove",this._onTouchMove,this),At(document,"touchend touchcancel",this._onTouchEnd,this),Ft(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,i=t.mouseEventToContainerPoint(e.touches[0]),o=t.mouseEventToContainerPoint(e.touches[1]),s=i.distanceTo(o)/this._startDist;if(this._zoom=t.getScaleZoom(s,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&s<1||this._zoom>t.getMaxZoom()&&s>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var r=i._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===r.x&&0===r.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var a=n(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=T(a,this,!0),Ft(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,z(this._animRequest),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Gt.addInitHook("addHandler","touchZoom",Tn),Gt.BoxZoom=_n,Gt.DoubleClickZoom=vn,Gt.Drag=xn,Gt.Keyboard=wn,Gt.ScrollWheelZoom=bn,Gt.TapHold=kn,Gt.TouchZoom=Tn,e.Bounds=I,e.Browser=Ie,e.CRS=U,e.Canvas=un,e.Circle=Ri,e.CircleMarker=Oi,e.Class=C,e.Control=Zt,e.DivIcon=on,e.DivOverlay=en,e.DomEvent=$t,e.DomUtil=Ct,e.Draggable=ni,e.Evented=E,e.FeatureGroup=Ei,e.GeoJSON=Ni,e.GridLayer=sn,e.Handler=ei,e.Icon=Pi,e.ImageOverlay=Qi,e.LatLng=F,e.LatLngBounds=R,e.Layer=Ci,e.LayerGroup=Ai,e.LineUtil=xi,e.Map=Gt,e.Marker=Di,e.Mixin=ti,e.Path=Ii,e.Point=P,e.PolyUtil=li,e.Polygon=Fi,e.Polyline=Bi,e.Popup=tn,e.PosAnimation=Wt,e.Projection=ki,e.Rectangle=mn,e.Renderer=cn,e.SVG=fn,e.SVGOverlay=Ji,e.TileLayer=rn,e.Tooltip=nn,e.Transformation=$,e.Util=S,e.VideoOverlay=Xi,e.bind=n,e.bounds=O,e.canvas=pn,e.circle=function(e,t,i){return new Ri(e,t,i)},e.circleMarker=function(e,t){return new Oi(e,t)},e.control=Kt,e.divIcon=function(e){return new on(e)},e.extend=t,e.featureGroup=function(e,t){return new Ei(e,t)},e.geoJSON=Ki,e.geoJson=Yi,e.gridLayer=function(e){return new sn(e)},e.icon=function(e){return new Pi(e)},e.imageOverlay=function(e,t,i){return new Qi(e,t,i)},e.latLng=N,e.latLngBounds=B,e.layerGroup=function(e,t){return new Ai(e,t)},e.map=function(e,t){return new Gt(e,t)},e.marker=function(e,t){return new Di(e,t)},e.point=D,e.polygon=function(e,t){return new Fi(e,t)},e.polyline=function(e,t){return new Bi(e,t)},e.popup=function(e,t){return new tn(e,t)},e.rectangle=function(e,t){return new mn(e,t)},e.setOptions=h,e.stamp=s,e.svg=yn,e.svgOverlay=function(e,t,i){return new Ji(e,t,i)},e.tileLayer=an,e.tooltip=function(e,t){return new nn(e,t)},e.transformation=W,e.version="1.9.4",e.videoOverlay=function(e,t,i){return new Xi(e,t,i)};var zn=window.L;e.noConflict=function(){return window.L=zn,this},window.L=e}(t)},7243:function(e,t,i){var n;e=i.nmd(e),function(){var o,s="Expected a function",r="__lodash_hash_undefined__",a="__lodash_placeholder__",l=32,c=128,u=1/0,p=9007199254740991,h=NaN,d=4294967295,g=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],f="[object Arguments]",y="[object Array]",m="[object Boolean]",_="[object Date]",v="[object Error]",x="[object Function]",w="[object GeneratorFunction]",b="[object Map]",k="[object Number]",T="[object Object]",z="[object Promise]",S="[object RegExp]",C="[object Set]",A="[object String]",E="[object Symbol]",P="[object WeakMap]",M="[object ArrayBuffer]",L="[object DataView]",D="[object Float32Array]",I="[object Float64Array]",O="[object Int8Array]",R="[object Int16Array]",B="[object Int32Array]",F="[object Uint8Array]",N="[object Uint8ClampedArray]",j="[object Uint16Array]",U="[object Uint32Array]",q=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,G=RegExp($.source),Z=RegExp(W.source),K=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(te.source),ne=/^\s+/,oe=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,re=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,fe=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ve=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",ze="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\ufe0e\\ufe0f",Ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="["+we+"]",Ee="["+Ce+"]",Pe="["+be+"]",Me="\\d+",Le="["+ke+"]",De="["+Te+"]",Ie="[^"+we+Ce+Me+ke+Te+ze+"]",Oe="\\ud83c[\\udffb-\\udfff]",Re="[^"+we+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",Fe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ne="["+ze+"]",je="\\u200d",Ue="(?:"+De+"|"+Ie+")",qe="(?:"+Ne+"|"+Ie+")",He="(?:['’](?:d|ll|m|re|s|t|ve))?",Ve="(?:['’](?:D|LL|M|RE|S|T|VE))?",$e="(?:"+Pe+"|"+Oe+")?",We="["+Se+"]?",Ge=We+$e+"(?:"+je+"(?:"+[Re,Be,Fe].join("|")+")"+We+$e+")*",Ze="(?:"+[Le,Be,Fe].join("|")+")"+Ge,Ke="(?:"+[Re+Pe+"?",Pe,Be,Fe,Ae].join("|")+")",Ye=RegExp("['’]","g"),Qe=RegExp(Pe,"g"),Xe=RegExp(Oe+"(?="+Oe+")|"+Ke+Ge,"g"),Je=RegExp([Ne+"?"+De+"+"+He+"(?="+[Ee,Ne,"$"].join("|")+")",qe+"+"+Ve+"(?="+[Ee,Ne+Ue,"$"].join("|")+")",Ne+"?"+Ue+"+"+He,Ne+"+"+Ve,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Ze].join("|"),"g"),et=RegExp("["+je+we+be+Se+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nt=-1,ot={};ot[D]=ot[I]=ot[O]=ot[R]=ot[B]=ot[F]=ot[N]=ot[j]=ot[U]=!0,ot[f]=ot[y]=ot[M]=ot[m]=ot[L]=ot[_]=ot[v]=ot[x]=ot[b]=ot[k]=ot[T]=ot[S]=ot[C]=ot[A]=ot[P]=!1;var st={};st[f]=st[y]=st[M]=st[L]=st[m]=st[_]=st[D]=st[I]=st[O]=st[R]=st[B]=st[b]=st[k]=st[T]=st[S]=st[C]=st[A]=st[E]=st[F]=st[N]=st[j]=st[U]=!0,st[v]=st[x]=st[P]=!1;var rt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,lt=parseInt,ct="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,ut="object"==typeof self&&self&&self.Object===Object&&self,pt=ct||ut||Function("return this")(),ht=t&&!t.nodeType&&t,dt=ht&&e&&!e.nodeType&&e,gt=dt&&dt.exports===ht,ft=gt&&ct.process,yt=function(){try{return dt&&dt.require&&dt.require("util").types||ft&&ft.binding&&ft.binding("util")}catch(e){}}(),mt=yt&&yt.isArrayBuffer,_t=yt&&yt.isDate,vt=yt&&yt.isMap,xt=yt&&yt.isRegExp,wt=yt&&yt.isSet,bt=yt&&yt.isTypedArray;function kt(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}function Tt(e,t,i,n){for(var o=-1,s=null==e?0:e.length;++o<s;){var r=e[o];t(n,r,i(r),e)}return n}function zt(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}function St(e,t){for(var i=null==e?0:e.length;i--&&!1!==t(e[i],i,e););return e}function Ct(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(!t(e[i],i,e))return!1;return!0}function At(e,t){for(var i=-1,n=null==e?0:e.length,o=0,s=[];++i<n;){var r=e[i];t(r,i,e)&&(s[o++]=r)}return s}function Et(e,t){return!(null==e||!e.length)&&Nt(e,t,0)>-1}function Pt(e,t,i){for(var n=-1,o=null==e?0:e.length;++n<o;)if(i(t,e[n]))return!0;return!1}function Mt(e,t){for(var i=-1,n=null==e?0:e.length,o=Array(n);++i<n;)o[i]=t(e[i],i,e);return o}function Lt(e,t){for(var i=-1,n=t.length,o=e.length;++i<n;)e[o+i]=t[i];return e}function Dt(e,t,i,n){var o=-1,s=null==e?0:e.length;for(n&&s&&(i=e[++o]);++o<s;)i=t(i,e[o],o,e);return i}function It(e,t,i,n){var o=null==e?0:e.length;for(n&&o&&(i=e[--o]);o--;)i=t(i,e[o],o,e);return i}function Ot(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}var Rt=Ht("length");function Bt(e,t,i){var n;return i(e,(function(e,i,o){if(t(e,i,o))return n=i,!1})),n}function Ft(e,t,i,n){for(var o=e.length,s=i+(n?1:-1);n?s--:++s<o;)if(t(e[s],s,e))return s;return-1}function Nt(e,t,i){return t==t?function(e,t,i){for(var n=i-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,i):Ft(e,Ut,i)}function jt(e,t,i,n){for(var o=i-1,s=e.length;++o<s;)if(n(e[o],t))return o;return-1}function Ut(e){return e!=e}function qt(e,t){var i=null==e?0:e.length;return i?Wt(e,t)/i:h}function Ht(e){return function(t){return null==t?o:t[e]}}function Vt(e){return function(t){return null==e?o:e[t]}}function $t(e,t,i,n,o){return o(e,(function(e,o,s){i=n?(n=!1,e):t(i,e,o,s)})),i}function Wt(e,t){for(var i,n=-1,s=e.length;++n<s;){var r=t(e[n]);r!==o&&(i=i===o?r:i+r)}return i}function Gt(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}function Zt(e){return e?e.slice(0,pi(e)+1).replace(ne,""):e}function Kt(e){return function(t){return e(t)}}function Yt(e,t){return Mt(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function Xt(e,t){for(var i=-1,n=e.length;++i<n&&Nt(t,e[i],0)>-1;);return i}function Jt(e,t){for(var i=e.length;i--&&Nt(t,e[i],0)>-1;);return i}var ei=Vt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ti=Vt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ii(e){return"\\"+rt[e]}function ni(e){return et.test(e)}function oi(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function si(e,t){return function(i){return e(t(i))}}function ri(e,t){for(var i=-1,n=e.length,o=0,s=[];++i<n;){var r=e[i];r!==t&&r!==a||(e[i]=a,s[o++]=i)}return s}function ai(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}function li(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=[e,e]})),i}function ci(e){return ni(e)?function(e){for(var t=Xe.lastIndex=0;Xe.test(e);)++t;return t}(e):Rt(e)}function ui(e){return ni(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.split("")}(e)}function pi(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var hi=Vt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),di=function e(t){var i,n=(t=null==t?pt:di.defaults(pt.Object(),t,di.pick(pt,it))).Array,oe=t.Date,we=t.Error,be=t.Function,ke=t.Math,Te=t.Object,ze=t.RegExp,Se=t.String,Ce=t.TypeError,Ae=n.prototype,Ee=be.prototype,Pe=Te.prototype,Me=t["__core-js_shared__"],Le=Ee.toString,De=Pe.hasOwnProperty,Ie=0,Oe=(i=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",Re=Pe.toString,Be=Le.call(Te),Fe=pt._,Ne=ze("^"+Le.call(De).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=gt?t.Buffer:o,Ue=t.Symbol,qe=t.Uint8Array,He=je?je.allocUnsafe:o,Ve=si(Te.getPrototypeOf,Te),$e=Te.create,We=Pe.propertyIsEnumerable,Ge=Ae.splice,Ze=Ue?Ue.isConcatSpreadable:o,Ke=Ue?Ue.iterator:o,Xe=Ue?Ue.toStringTag:o,et=function(){try{var e=cs(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),rt=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,ct=oe&&oe.now!==pt.Date.now&&oe.now,ut=t.setTimeout!==pt.setTimeout&&t.setTimeout,ht=ke.ceil,dt=ke.floor,ft=Te.getOwnPropertySymbols,yt=je?je.isBuffer:o,Rt=t.isFinite,Vt=Ae.join,gi=si(Te.keys,Te),fi=ke.max,yi=ke.min,mi=oe.now,_i=t.parseInt,vi=ke.random,xi=Ae.reverse,wi=cs(t,"DataView"),bi=cs(t,"Map"),ki=cs(t,"Promise"),Ti=cs(t,"Set"),zi=cs(t,"WeakMap"),Si=cs(Te,"create"),Ci=zi&&new zi,Ai={},Ei=Bs(wi),Pi=Bs(bi),Mi=Bs(ki),Li=Bs(Ti),Di=Bs(zi),Ii=Ue?Ue.prototype:o,Oi=Ii?Ii.valueOf:o,Ri=Ii?Ii.toString:o;function Bi(e){if(ea(e)&&!Hr(e)&&!(e instanceof Ui)){if(e instanceof ji)return e;if(De.call(e,"__wrapped__"))return Fs(e)}return new ji(e)}var Fi=function(){function e(){}return function(t){if(!Jr(t))return{};if($e)return $e(t);e.prototype=t;var i=new e;return e.prototype=o,i}}();function Ni(){}function ji(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Ui(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function qi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Hi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Vi(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function $i(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new Vi;++t<i;)this.add(e[t])}function Wi(e){var t=this.__data__=new Hi(e);this.size=t.size}function Gi(e,t){var i=Hr(e),n=!i&&qr(e),o=!i&&!n&&Gr(e),s=!i&&!n&&!o&&la(e),r=i||n||o||s,a=r?Gt(e.length,Se):[],l=a.length;for(var c in e)!t&&!De.call(e,c)||r&&("length"==c||o&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ys(c,l))||a.push(c);return a}function Zi(e){var t=e.length;return t?e[$n(0,t-1)]:o}function Ki(e,t){return Ls(Co(e),sn(t,0,e.length))}function Yi(e){return Ls(Co(e))}function Qi(e,t,i){(i!==o&&!Nr(e[t],i)||i===o&&!(t in e))&&nn(e,t,i)}function Xi(e,t,i){var n=e[t];De.call(e,t)&&Nr(n,i)&&(i!==o||t in e)||nn(e,t,i)}function Ji(e,t){for(var i=e.length;i--;)if(Nr(e[i][0],t))return i;return-1}function en(e,t,i,n){return un(e,(function(e,o,s){t(n,e,i(e),s)})),n}function tn(e,t){return e&&Ao(t,Pa(t),e)}function nn(e,t,i){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function on(e,t){for(var i=-1,s=t.length,r=n(s),a=null==e;++i<s;)r[i]=a?o:za(e,t[i]);return r}function sn(e,t,i){return e==e&&(i!==o&&(e=e<=i?e:i),t!==o&&(e=e>=t?e:t)),e}function rn(e,t,i,n,s,r){var a,l=1&t,c=2&t,u=4&t;if(i&&(a=s?i(e,n,s,r):i(e)),a!==o)return a;if(!Jr(e))return e;var p=Hr(e);if(p){if(a=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&De.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(e),!l)return Co(e,a)}else{var h=hs(e),d=h==x||h==w;if(Gr(e))return wo(e,l);if(h==T||h==f||d&&!s){if(a=c||d?{}:gs(e),!l)return c?function(e,t){return Ao(e,ps(e),t)}(e,function(e,t){return e&&Ao(t,Ma(t),e)}(a,e)):function(e,t){return Ao(e,us(e),t)}(e,tn(a,e))}else{if(!st[h])return s?e:{};a=function(e,t,i){var n,o=e.constructor;switch(t){case M:return bo(e);case m:case _:return new o(+e);case L:return function(e,t){var i=t?bo(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case D:case I:case O:case R:case B:case F:case N:case j:case U:return ko(e,i);case b:return new o;case k:case A:return new o(e);case S:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case C:return new o;case E:return n=e,Oi?Te(Oi.call(n)):{}}}(e,h,l)}}r||(r=new Wi);var g=r.get(e);if(g)return g;r.set(e,a),sa(e)?e.forEach((function(n){a.add(rn(n,t,i,n,e,r))})):ta(e)&&e.forEach((function(n,o){a.set(o,rn(n,t,i,o,e,r))}));var y=p?o:(u?c?is:ts:c?Ma:Pa)(e);return zt(y||e,(function(n,o){y&&(n=e[o=n]),Xi(a,o,rn(n,t,i,o,e,r))})),a}function an(e,t,i){var n=i.length;if(null==e)return!n;for(e=Te(e);n--;){var s=i[n],r=t[s],a=e[s];if(a===o&&!(s in e)||!r(a))return!1}return!0}function ln(e,t,i){if("function"!=typeof e)throw new Ce(s);return As((function(){e.apply(o,i)}),t)}function cn(e,t,i,n){var o=-1,s=Et,r=!0,a=e.length,l=[],c=t.length;if(!a)return l;i&&(t=Mt(t,Kt(i))),n?(s=Pt,r=!1):t.length>=200&&(s=Qt,r=!1,t=new $i(t));e:for(;++o<a;){var u=e[o],p=null==i?u:i(u);if(u=n||0!==u?u:0,r&&p==p){for(var h=c;h--;)if(t[h]===p)continue e;l.push(u)}else s(t,p,n)||l.push(u)}return l}Bi.templateSettings={escape:K,evaluate:Y,interpolate:Q,variable:"",imports:{_:Bi}},Bi.prototype=Ni.prototype,Bi.prototype.constructor=Bi,ji.prototype=Fi(Ni.prototype),ji.prototype.constructor=ji,Ui.prototype=Fi(Ni.prototype),Ui.prototype.constructor=Ui,qi.prototype.clear=function(){this.__data__=Si?Si(null):{},this.size=0},qi.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qi.prototype.get=function(e){var t=this.__data__;if(Si){var i=t[e];return i===r?o:i}return De.call(t,e)?t[e]:o},qi.prototype.has=function(e){var t=this.__data__;return Si?t[e]!==o:De.call(t,e)},qi.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Si&&t===o?r:t,this},Hi.prototype.clear=function(){this.__data__=[],this.size=0},Hi.prototype.delete=function(e){var t=this.__data__,i=Ji(t,e);return!(i<0||(i==t.length-1?t.pop():Ge.call(t,i,1),--this.size,0))},Hi.prototype.get=function(e){var t=this.__data__,i=Ji(t,e);return i<0?o:t[i][1]},Hi.prototype.has=function(e){return Ji(this.__data__,e)>-1},Hi.prototype.set=function(e,t){var i=this.__data__,n=Ji(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this},Vi.prototype.clear=function(){this.size=0,this.__data__={hash:new qi,map:new(bi||Hi),string:new qi}},Vi.prototype.delete=function(e){var t=as(this,e).delete(e);return this.size-=t?1:0,t},Vi.prototype.get=function(e){return as(this,e).get(e)},Vi.prototype.has=function(e){return as(this,e).has(e)},Vi.prototype.set=function(e,t){var i=as(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this},$i.prototype.add=$i.prototype.push=function(e){return this.__data__.set(e,r),this},$i.prototype.has=function(e){return this.__data__.has(e)},Wi.prototype.clear=function(){this.__data__=new Hi,this.size=0},Wi.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},Wi.prototype.get=function(e){return this.__data__.get(e)},Wi.prototype.has=function(e){return this.__data__.has(e)},Wi.prototype.set=function(e,t){var i=this.__data__;if(i instanceof Hi){var n=i.__data__;if(!bi||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new Vi(n)}return i.set(e,t),this.size=i.size,this};var un=Mo(_n),pn=Mo(vn,!0);function hn(e,t){var i=!0;return un(e,(function(e,n,o){return i=!!t(e,n,o)})),i}function dn(e,t,i){for(var n=-1,s=e.length;++n<s;){var r=e[n],a=t(r);if(null!=a&&(l===o?a==a&&!aa(a):i(a,l)))var l=a,c=r}return c}function gn(e,t){var i=[];return un(e,(function(e,n,o){t(e,n,o)&&i.push(e)})),i}function fn(e,t,i,n,o){var s=-1,r=e.length;for(i||(i=fs),o||(o=[]);++s<r;){var a=e[s];t>0&&i(a)?t>1?fn(a,t-1,i,n,o):Lt(o,a):n||(o[o.length]=a)}return o}var yn=Lo(),mn=Lo(!0);function _n(e,t){return e&&yn(e,t,Pa)}function vn(e,t){return e&&mn(e,t,Pa)}function xn(e,t){return At(t,(function(t){return Yr(e[t])}))}function wn(e,t){for(var i=0,n=(t=mo(t,e)).length;null!=e&&i<n;)e=e[Rs(t[i++])];return i&&i==n?e:o}function bn(e,t,i){var n=t(e);return Hr(e)?n:Lt(n,i(e))}function kn(e){return null==e?e===o?"[object Undefined]":"[object Null]":Xe&&Xe in Te(e)?function(e){var t=De.call(e,Xe),i=e[Xe];try{e[Xe]=o;var n=!0}catch(e){}var s=Re.call(e);return n&&(t?e[Xe]=i:delete e[Xe]),s}(e):function(e){return Re.call(e)}(e)}function Tn(e,t){return e>t}function zn(e,t){return null!=e&&De.call(e,t)}function Sn(e,t){return null!=e&&t in Te(e)}function Cn(e,t,i){for(var s=i?Pt:Et,r=e[0].length,a=e.length,l=a,c=n(a),u=1/0,p=[];l--;){var h=e[l];l&&t&&(h=Mt(h,Kt(t))),u=yi(h.length,u),c[l]=!i&&(t||r>=120&&h.length>=120)?new $i(l&&h):o}h=e[0];var d=-1,g=c[0];e:for(;++d<r&&p.length<u;){var f=h[d],y=t?t(f):f;if(f=i||0!==f?f:0,!(g?Qt(g,y):s(p,y,i))){for(l=a;--l;){var m=c[l];if(!(m?Qt(m,y):s(e[l],y,i)))continue e}g&&g.push(y),p.push(f)}}return p}function An(e,t,i){var n=null==(e=zs(e,t=mo(t,e)))?e:e[Rs(Ks(t))];return null==n?o:kt(n,e,i)}function En(e){return ea(e)&&kn(e)==f}function Pn(e,t,i,n,s){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,i,n,s,r){var a=Hr(e),l=Hr(t),c=a?y:hs(e),u=l?y:hs(t),p=(c=c==f?T:c)==T,h=(u=u==f?T:u)==T,d=c==u;if(d&&Gr(e)){if(!Gr(t))return!1;a=!0,p=!1}if(d&&!p)return r||(r=new Wi),a||la(e)?Jo(e,t,i,n,s,r):function(e,t,i,n,o,s,r){switch(i){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!s(new qe(e),new qe(t)));case m:case _:case k:return Nr(+e,+t);case v:return e.name==t.name&&e.message==t.message;case S:case A:return e==t+"";case b:var a=oi;case C:var l=1&n;if(a||(a=ai),e.size!=t.size&&!l)return!1;var c=r.get(e);if(c)return c==t;n|=2,r.set(e,t);var u=Jo(a(e),a(t),n,o,s,r);return r.delete(e),u;case E:if(Oi)return Oi.call(e)==Oi.call(t)}return!1}(e,t,c,i,n,s,r);if(!(1&i)){var g=p&&De.call(e,"__wrapped__"),x=h&&De.call(t,"__wrapped__");if(g||x){var w=g?e.value():e,z=x?t.value():t;return r||(r=new Wi),s(w,z,i,n,r)}}return!!d&&(r||(r=new Wi),function(e,t,i,n,s,r){var a=1&i,l=ts(e),c=l.length;if(c!=ts(t).length&&!a)return!1;for(var u=c;u--;){var p=l[u];if(!(a?p in t:De.call(t,p)))return!1}var h=r.get(e),d=r.get(t);if(h&&d)return h==t&&d==e;var g=!0;r.set(e,t),r.set(t,e);for(var f=a;++u<c;){var y=e[p=l[u]],m=t[p];if(n)var _=a?n(m,y,p,t,e,r):n(y,m,p,e,t,r);if(!(_===o?y===m||s(y,m,i,n,r):_)){g=!1;break}f||(f="constructor"==p)}if(g&&!f){var v=e.constructor,x=t.constructor;v==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof x&&x instanceof x||(g=!1)}return r.delete(e),r.delete(t),g}(e,t,i,n,s,r))}(e,t,i,n,Pn,s))}function Mn(e,t,i,n){var s=i.length,r=s,a=!n;if(null==e)return!r;for(e=Te(e);s--;){var l=i[s];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<r;){var c=(l=i[s])[0],u=e[c],p=l[1];if(a&&l[2]){if(u===o&&!(c in e))return!1}else{var h=new Wi;if(n)var d=n(u,p,c,e,t,h);if(!(d===o?Pn(p,u,3,n,h):d))return!1}}return!0}function Ln(e){return!(!Jr(e)||(t=e,Oe&&Oe in t))&&(Yr(e)?Ne:fe).test(Bs(e));var t}function Dn(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Hr(e)?Fn(e[0],e[1]):Bn(e):pl(e)}function In(e){if(!ws(e))return gi(e);var t=[];for(var i in Te(e))De.call(e,i)&&"constructor"!=i&&t.push(i);return t}function On(e,t){return e<t}function Rn(e,t){var i=-1,o=$r(e)?n(e.length):[];return un(e,(function(e,n,s){o[++i]=t(e,n,s)})),o}function Bn(e){var t=ls(e);return 1==t.length&&t[0][2]?ks(t[0][0],t[0][1]):function(i){return i===e||Mn(i,e,t)}}function Fn(e,t){return _s(e)&&bs(t)?ks(Rs(e),t):function(i){var n=za(i,e);return n===o&&n===t?Sa(i,e):Pn(t,n,3)}}function Nn(e,t,i,n,s){e!==t&&yn(t,(function(r,a){if(s||(s=new Wi),Jr(r))!function(e,t,i,n,s,r,a){var l=Ss(e,i),c=Ss(t,i),u=a.get(c);if(u)Qi(e,i,u);else{var p=r?r(l,c,i+"",e,t,a):o,h=p===o;if(h){var d=Hr(c),g=!d&&Gr(c),f=!d&&!g&&la(c);p=c,d||g||f?Hr(l)?p=l:Wr(l)?p=Co(l):g?(h=!1,p=wo(c,!0)):f?(h=!1,p=ko(c,!0)):p=[]:na(c)||qr(c)?(p=l,qr(l)?p=ya(l):Jr(l)&&!Yr(l)||(p=gs(c))):h=!1}h&&(a.set(c,p),s(p,c,n,r,a),a.delete(c)),Qi(e,i,p)}}(e,t,a,i,Nn,n,s);else{var l=n?n(Ss(e,a),r,a+"",e,t,s):o;l===o&&(l=r),Qi(e,a,l)}}),Ma)}function jn(e,t){var i=e.length;if(i)return ys(t+=t<0?i:0,i)?e[t]:o}function Un(e,t,i){t=t.length?Mt(t,(function(e){return Hr(e)?function(t){return wn(t,1===e.length?e[0]:e)}:e})):[il];var n=-1;t=Mt(t,Kt(rs()));var o=Rn(e,(function(e,i,o){var s=Mt(t,(function(t){return t(e)}));return{criteria:s,index:++n,value:e}}));return function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,i){for(var n=-1,o=e.criteria,s=t.criteria,r=o.length,a=i.length;++n<r;){var l=To(o[n],s[n]);if(l)return n>=a?l:l*("desc"==i[n]?-1:1)}return e.index-t.index}(e,t,i)}));n--;)e[n]=e[n].value;return e}(o)}function qn(e,t,i){for(var n=-1,o=t.length,s={};++n<o;){var r=t[n],a=wn(e,r);i(a,r)&&Yn(s,mo(r,e),a)}return s}function Hn(e,t,i,n){var o=n?jt:Nt,s=-1,r=t.length,a=e;for(e===t&&(t=Co(t)),i&&(a=Mt(e,Kt(i)));++s<r;)for(var l=0,c=t[s],u=i?i(c):c;(l=o(a,u,l,n))>-1;)a!==e&&Ge.call(a,l,1),Ge.call(e,l,1);return e}function Vn(e,t){for(var i=e?t.length:0,n=i-1;i--;){var o=t[i];if(i==n||o!==s){var s=o;ys(o)?Ge.call(e,o,1):lo(e,o)}}return e}function $n(e,t){return e+dt(vi()*(t-e+1))}function Wn(e,t){var i="";if(!e||t<1||t>p)return i;do{t%2&&(i+=e),(t=dt(t/2))&&(e+=e)}while(t);return i}function Gn(e,t){return Es(Ts(e,t,il),e+"")}function Zn(e){return Zi(Na(e))}function Kn(e,t){var i=Na(e);return Ls(i,sn(t,0,i.length))}function Yn(e,t,i,n){if(!Jr(e))return e;for(var s=-1,r=(t=mo(t,e)).length,a=r-1,l=e;null!=l&&++s<r;){var c=Rs(t[s]),u=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(s!=a){var p=l[c];(u=n?n(p,c,l):o)===o&&(u=Jr(p)?p:ys(t[s+1])?[]:{})}Xi(l,c,u),l=l[c]}return e}var Qn=Ci?function(e,t){return Ci.set(e,t),e}:il,Xn=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Ja(t),writable:!0})}:il;function Jn(e){return Ls(Na(e))}function eo(e,t,i){var o=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(i=i>s?s:i)<0&&(i+=s),s=t>i?0:i-t>>>0,t>>>=0;for(var r=n(s);++o<s;)r[o]=e[o+t];return r}function to(e,t){var i;return un(e,(function(e,n,o){return!(i=t(e,n,o))})),!!i}function io(e,t,i){var n=0,o=null==e?n:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;n<o;){var s=n+o>>>1,r=e[s];null!==r&&!aa(r)&&(i?r<=t:r<t)?n=s+1:o=s}return o}return no(e,t,il,i)}function no(e,t,i,n){var s=0,r=null==e?0:e.length;if(0===r)return 0;for(var a=(t=i(t))!=t,l=null===t,c=aa(t),u=t===o;s<r;){var p=dt((s+r)/2),h=i(e[p]),d=h!==o,g=null===h,f=h==h,y=aa(h);if(a)var m=n||f;else m=u?f&&(n||d):l?f&&d&&(n||!g):c?f&&d&&!g&&(n||!y):!g&&!y&&(n?h<=t:h<t);m?s=p+1:r=p}return yi(r,4294967294)}function oo(e,t){for(var i=-1,n=e.length,o=0,s=[];++i<n;){var r=e[i],a=t?t(r):r;if(!i||!Nr(a,l)){var l=a;s[o++]=0===r?0:r}}return s}function so(e){return"number"==typeof e?e:aa(e)?h:+e}function ro(e){if("string"==typeof e)return e;if(Hr(e))return Mt(e,ro)+"";if(aa(e))return Ri?Ri.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ao(e,t,i){var n=-1,o=Et,s=e.length,r=!0,a=[],l=a;if(i)r=!1,o=Pt;else if(s>=200){var c=t?null:Go(e);if(c)return ai(c);r=!1,o=Qt,l=new $i}else l=t?[]:a;e:for(;++n<s;){var u=e[n],p=t?t(u):u;if(u=i||0!==u?u:0,r&&p==p){for(var h=l.length;h--;)if(l[h]===p)continue e;t&&l.push(p),a.push(u)}else o(l,p,i)||(l!==a&&l.push(p),a.push(u))}return a}function lo(e,t){return null==(e=zs(e,t=mo(t,e)))||delete e[Rs(Ks(t))]}function co(e,t,i,n){return Yn(e,t,i(wn(e,t)),n)}function uo(e,t,i,n){for(var o=e.length,s=n?o:-1;(n?s--:++s<o)&&t(e[s],s,e););return i?eo(e,n?0:s,n?s+1:o):eo(e,n?s+1:0,n?o:s)}function po(e,t){var i=e;return i instanceof Ui&&(i=i.value()),Dt(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),i)}function ho(e,t,i){var o=e.length;if(o<2)return o?ao(e[0]):[];for(var s=-1,r=n(o);++s<o;)for(var a=e[s],l=-1;++l<o;)l!=s&&(r[s]=cn(r[s]||a,e[l],t,i));return ao(fn(r,1),t,i)}function go(e,t,i){for(var n=-1,s=e.length,r=t.length,a={};++n<s;){var l=n<r?t[n]:o;i(a,e[n],l)}return a}function fo(e){return Wr(e)?e:[]}function yo(e){return"function"==typeof e?e:il}function mo(e,t){return Hr(e)?e:_s(e,t)?[e]:Os(ma(e))}var _o=Gn;function vo(e,t,i){var n=e.length;return i=i===o?n:i,!t&&i>=n?e:eo(e,t,i)}var xo=rt||function(e){return pt.clearTimeout(e)};function wo(e,t){if(t)return e.slice();var i=e.length,n=He?He(i):new e.constructor(i);return e.copy(n),n}function bo(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function ko(e,t){var i=t?bo(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function To(e,t){if(e!==t){var i=e!==o,n=null===e,s=e==e,r=aa(e),a=t!==o,l=null===t,c=t==t,u=aa(t);if(!l&&!u&&!r&&e>t||r&&a&&c&&!l&&!u||n&&a&&c||!i&&c||!s)return 1;if(!n&&!r&&!u&&e<t||u&&i&&s&&!n&&!r||l&&i&&s||!a&&s||!c)return-1}return 0}function zo(e,t,i,o){for(var s=-1,r=e.length,a=i.length,l=-1,c=t.length,u=fi(r-a,0),p=n(c+u),h=!o;++l<c;)p[l]=t[l];for(;++s<a;)(h||s<r)&&(p[i[s]]=e[s]);for(;u--;)p[l++]=e[s++];return p}function So(e,t,i,o){for(var s=-1,r=e.length,a=-1,l=i.length,c=-1,u=t.length,p=fi(r-l,0),h=n(p+u),d=!o;++s<p;)h[s]=e[s];for(var g=s;++c<u;)h[g+c]=t[c];for(;++a<l;)(d||s<r)&&(h[g+i[a]]=e[s++]);return h}function Co(e,t){var i=-1,o=e.length;for(t||(t=n(o));++i<o;)t[i]=e[i];return t}function Ao(e,t,i,n){var s=!i;i||(i={});for(var r=-1,a=t.length;++r<a;){var l=t[r],c=n?n(i[l],e[l],l,i,e):o;c===o&&(c=e[l]),s?nn(i,l,c):Xi(i,l,c)}return i}function Eo(e,t){return function(i,n){var o=Hr(i)?Tt:en,s=t?t():{};return o(i,e,rs(n,2),s)}}function Po(e){return Gn((function(t,i){var n=-1,s=i.length,r=s>1?i[s-1]:o,a=s>2?i[2]:o;for(r=e.length>3&&"function"==typeof r?(s--,r):o,a&&ms(i[0],i[1],a)&&(r=s<3?o:r,s=1),t=Te(t);++n<s;){var l=i[n];l&&e(t,l,n,r)}return t}))}function Mo(e,t){return function(i,n){if(null==i)return i;if(!$r(i))return e(i,n);for(var o=i.length,s=t?o:-1,r=Te(i);(t?s--:++s<o)&&!1!==n(r[s],s,r););return i}}function Lo(e){return function(t,i,n){for(var o=-1,s=Te(t),r=n(t),a=r.length;a--;){var l=r[e?a:++o];if(!1===i(s[l],l,s))break}return t}}function Do(e){return function(t){var i=ni(t=ma(t))?ui(t):o,n=i?i[0]:t.charAt(0),s=i?vo(i,1).join(""):t.slice(1);return n[e]()+s}}function Io(e){return function(t){return Dt(Ya(qa(t).replace(Ye,"")),e,"")}}function Oo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Fi(e.prototype),n=e.apply(i,t);return Jr(n)?n:i}}function Ro(e){return function(t,i,n){var s=Te(t);if(!$r(t)){var r=rs(i,3);t=Pa(t),i=function(e){return r(s[e],e,s)}}var a=e(t,i,n);return a>-1?s[r?t[a]:a]:o}}function Bo(e){return es((function(t){var i=t.length,n=i,r=ji.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new Ce(s);if(r&&!l&&"wrapper"==os(a))var l=new ji([],!0)}for(n=l?n:i;++n<i;){var c=os(a=t[n]),u="wrapper"==c?ns(a):o;l=u&&vs(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[os(u[0])].apply(l,u[3]):1==a.length&&vs(a)?l[c]():l.thru(a)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Hr(n))return l.plant(n).value();for(var o=0,s=i?t[o].apply(this,e):n;++o<i;)s=t[o].call(this,s);return s}}))}function Fo(e,t,i,s,r,a,l,u,p,h){var d=t&c,g=1&t,f=2&t,y=24&t,m=512&t,_=f?o:Oo(e);return function c(){for(var v=arguments.length,x=n(v),w=v;w--;)x[w]=arguments[w];if(y)var b=ss(c),k=function(e,t){for(var i=e.length,n=0;i--;)e[i]===t&&++n;return n}(x,b);if(s&&(x=zo(x,s,r,y)),a&&(x=So(x,a,l,y)),v-=k,y&&v<h){var T=ri(x,b);return $o(e,t,Fo,c.placeholder,i,x,T,u,p,h-v)}var z=g?i:this,S=f?z[e]:e;return v=x.length,u?x=function(e,t){for(var i=e.length,n=yi(t.length,i),s=Co(e);n--;){var r=t[n];e[n]=ys(r,i)?s[r]:o}return e}(x,u):m&&v>1&&x.reverse(),d&&p<v&&(x.length=p),this&&this!==pt&&this instanceof c&&(S=_||Oo(S)),S.apply(z,x)}}function No(e,t){return function(i,n){return function(e,t,i,n){return _n(e,(function(e,o,s){t(n,i(e),o,s)})),n}(i,e,t(n),{})}}function jo(e,t){return function(i,n){var s;if(i===o&&n===o)return t;if(i!==o&&(s=i),n!==o){if(s===o)return n;"string"==typeof i||"string"==typeof n?(i=ro(i),n=ro(n)):(i=so(i),n=so(n)),s=e(i,n)}return s}}function Uo(e){return es((function(t){return t=Mt(t,Kt(rs())),Gn((function(i){var n=this;return e(t,(function(e){return kt(e,n,i)}))}))}))}function qo(e,t){var i=(t=t===o?" ":ro(t)).length;if(i<2)return i?Wn(t,e):t;var n=Wn(t,ht(e/ci(t)));return ni(t)?vo(ui(n),0,e).join(""):n.slice(0,e)}function Ho(e){return function(t,i,s){return s&&"number"!=typeof s&&ms(t,i,s)&&(i=s=o),t=ha(t),i===o?(i=t,t=0):i=ha(i),function(e,t,i,o){for(var s=-1,r=fi(ht((t-e)/(i||1)),0),a=n(r);r--;)a[o?r:++s]=e,e+=i;return a}(t,i,s=s===o?t<i?1:-1:ha(s),e)}}function Vo(e){return function(t,i){return"string"==typeof t&&"string"==typeof i||(t=fa(t),i=fa(i)),e(t,i)}}function $o(e,t,i,n,s,r,a,c,u,p){var h=8&t;t|=h?l:64,4&(t&=~(h?64:l))||(t&=-4);var d=[e,t,s,h?r:o,h?a:o,h?o:r,h?o:a,c,u,p],g=i.apply(o,d);return vs(e)&&Cs(g,d),g.placeholder=n,Ps(g,e,t)}function Wo(e){var t=ke[e];return function(e,i){if(e=fa(e),(i=null==i?0:yi(da(i),292))&&Rt(e)){var n=(ma(e)+"e").split("e");return+((n=(ma(t(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return t(e)}}var Go=Ti&&1/ai(new Ti([,-0]))[1]==u?function(e){return new Ti(e)}:al;function Zo(e){return function(t){var i=hs(t);return i==b?oi(t):i==C?li(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ko(e,t,i,r,u,p,h,d){var g=2&t;if(!g&&"function"!=typeof e)throw new Ce(s);var f=r?r.length:0;if(f||(t&=-97,r=u=o),h=h===o?h:fi(da(h),0),d=d===o?d:da(d),f-=u?u.length:0,64&t){var y=r,m=u;r=u=o}var _=g?o:ns(e),v=[e,t,i,r,u,y,m,p,h,d];if(_&&function(e,t){var i=e[1],n=t[1],o=i|n,s=o<131,r=n==c&&8==i||n==c&&256==i&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==i;if(!s&&!r)return e;1&n&&(e[2]=t[2],o|=1&i?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?zo(u,l,t[4]):l,e[4]=u?ri(e[3],a):t[4]}(l=t[5])&&(u=e[5],e[5]=u?So(u,l,t[6]):l,e[6]=u?ri(e[5],a):t[6]),(l=t[7])&&(e[7]=l),n&c&&(e[8]=null==e[8]?t[8]:yi(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(v,_),e=v[0],t=v[1],i=v[2],r=v[3],u=v[4],!(d=v[9]=v[9]===o?g?0:e.length:fi(v[9]-f,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||16==t?function(e,t,i){var s=Oo(e);return function r(){for(var a=arguments.length,l=n(a),c=a,u=ss(r);c--;)l[c]=arguments[c];var p=a<3&&l[0]!==u&&l[a-1]!==u?[]:ri(l,u);return(a-=p.length)<i?$o(e,t,Fo,r.placeholder,o,l,p,o,o,i-a):kt(this&&this!==pt&&this instanceof r?s:e,this,l)}}(e,t,d):t!=l&&33!=t||u.length?Fo.apply(o,v):function(e,t,i,o){var s=1&t,r=Oo(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=o.length,p=n(u+l),h=this&&this!==pt&&this instanceof t?r:e;++c<u;)p[c]=o[c];for(;l--;)p[c++]=arguments[++a];return kt(h,s?i:this,p)}}(e,t,i,r);else var x=function(e,t,i){var n=1&t,o=Oo(e);return function t(){return(this&&this!==pt&&this instanceof t?o:e).apply(n?i:this,arguments)}}(e,t,i);return Ps((_?Qn:Cs)(x,v),e,t)}function Yo(e,t,i,n){return e===o||Nr(e,Pe[i])&&!De.call(n,i)?t:e}function Qo(e,t,i,n,s,r){return Jr(e)&&Jr(t)&&(r.set(t,e),Nn(e,t,o,Qo,r),r.delete(t)),e}function Xo(e){return na(e)?o:e}function Jo(e,t,i,n,s,r){var a=1&i,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=r.get(e),p=r.get(t);if(u&&p)return u==t&&p==e;var h=-1,d=!0,g=2&i?new $i:o;for(r.set(e,t),r.set(t,e);++h<l;){var f=e[h],y=t[h];if(n)var m=a?n(y,f,h,t,e,r):n(f,y,h,e,t,r);if(m!==o){if(m)continue;d=!1;break}if(g){if(!Ot(t,(function(e,t){if(!Qt(g,t)&&(f===e||s(f,e,i,n,r)))return g.push(t)}))){d=!1;break}}else if(f!==y&&!s(f,y,i,n,r)){d=!1;break}}return r.delete(e),r.delete(t),d}function es(e){return Es(Ts(e,o,Vs),e+"")}function ts(e){return bn(e,Pa,us)}function is(e){return bn(e,Ma,ps)}var ns=Ci?function(e){return Ci.get(e)}:al;function os(e){for(var t=e.name+"",i=Ai[t],n=De.call(Ai,t)?i.length:0;n--;){var o=i[n],s=o.func;if(null==s||s==e)return o.name}return t}function ss(e){return(De.call(Bi,"placeholder")?Bi:e).placeholder}function rs(){var e=Bi.iteratee||nl;return e=e===nl?Dn:e,arguments.length?e(arguments[0],arguments[1]):e}function as(e,t){var i,n,o=e.__data__;return("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof t?"string":"hash"]:o.map}function ls(e){for(var t=Pa(e),i=t.length;i--;){var n=t[i],o=e[n];t[i]=[n,o,bs(o)]}return t}function cs(e,t){var i=function(e,t){return null==e?o:e[t]}(e,t);return Ln(i)?i:o}var us=ft?function(e){return null==e?[]:(e=Te(e),At(ft(e),(function(t){return We.call(e,t)})))}:gl,ps=ft?function(e){for(var t=[];e;)Lt(t,us(e)),e=Ve(e);return t}:gl,hs=kn;function ds(e,t,i){for(var n=-1,o=(t=mo(t,e)).length,s=!1;++n<o;){var r=Rs(t[n]);if(!(s=null!=e&&i(e,r)))break;e=e[r]}return s||++n!=o?s:!!(o=null==e?0:e.length)&&Xr(o)&&ys(r,o)&&(Hr(e)||qr(e))}function gs(e){return"function"!=typeof e.constructor||ws(e)?{}:Fi(Ve(e))}function fs(e){return Hr(e)||qr(e)||!!(Ze&&e&&e[Ze])}function ys(e,t){var i=typeof e;return!!(t=null==t?p:t)&&("number"==i||"symbol"!=i&&me.test(e))&&e>-1&&e%1==0&&e<t}function ms(e,t,i){if(!Jr(i))return!1;var n=typeof t;return!!("number"==n?$r(i)&&ys(t,i.length):"string"==n&&t in i)&&Nr(i[t],e)}function _s(e,t){if(Hr(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!aa(e))||J.test(e)||!X.test(e)||null!=t&&e in Te(t)}function vs(e){var t=os(e),i=Bi[t];if("function"!=typeof i||!(t in Ui.prototype))return!1;if(e===i)return!0;var n=ns(i);return!!n&&e===n[0]}(wi&&hs(new wi(new ArrayBuffer(1)))!=L||bi&&hs(new bi)!=b||ki&&hs(ki.resolve())!=z||Ti&&hs(new Ti)!=C||zi&&hs(new zi)!=P)&&(hs=function(e){var t=kn(e),i=t==T?e.constructor:o,n=i?Bs(i):"";if(n)switch(n){case Ei:return L;case Pi:return b;case Mi:return z;case Li:return C;case Di:return P}return t});var xs=Me?Yr:fl;function ws(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function bs(e){return e==e&&!Jr(e)}function ks(e,t){return function(i){return null!=i&&i[e]===t&&(t!==o||e in Te(i))}}function Ts(e,t,i){return t=fi(t===o?e.length-1:t,0),function(){for(var o=arguments,s=-1,r=fi(o.length-t,0),a=n(r);++s<r;)a[s]=o[t+s];s=-1;for(var l=n(t+1);++s<t;)l[s]=o[s];return l[t]=i(a),kt(e,this,l)}}function zs(e,t){return t.length<2?e:wn(e,eo(t,0,-1))}function Ss(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Cs=Ms(Qn),As=ut||function(e,t){return pt.setTimeout(e,t)},Es=Ms(Xn);function Ps(e,t,i){var n=t+"";return Es(e,function(e,t){var i=t.length;if(!i)return e;var n=i-1;return t[n]=(i>1?"& ":"")+t[n],t=t.join(i>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return zt(g,(function(i){var n="_."+i[0];t&i[1]&&!Et(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(re);return t?t[1].split(ae):[]}(n),i)))}function Ms(e){var t=0,i=0;return function(){var n=mi(),s=16-(n-i);if(i=n,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Ls(e,t){var i=-1,n=e.length,s=n-1;for(t=t===o?n:t;++i<t;){var r=$n(i,s),a=e[r];e[r]=e[i],e[i]=a}return e.length=t,e}var Ds,Is,Os=(Ds=Dr((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,i,n,o){t.push(n?o.replace(ue,"$1"):i||e)})),t}),(function(e){return 500===Is.size&&Is.clear(),e})),Is=Ds.cache,Ds);function Rs(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bs(e){if(null!=e){try{return Le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fs(e){if(e instanceof Ui)return e.clone();var t=new ji(e.__wrapped__,e.__chain__);return t.__actions__=Co(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ns=Gn((function(e,t){return Wr(e)?cn(e,fn(t,1,Wr,!0)):[]})),js=Gn((function(e,t){var i=Ks(t);return Wr(i)&&(i=o),Wr(e)?cn(e,fn(t,1,Wr,!0),rs(i,2)):[]})),Us=Gn((function(e,t){var i=Ks(t);return Wr(i)&&(i=o),Wr(e)?cn(e,fn(t,1,Wr,!0),o,i):[]}));function qs(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var o=null==i?0:da(i);return o<0&&(o=fi(n+o,0)),Ft(e,rs(t,3),o)}function Hs(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var s=n-1;return i!==o&&(s=da(i),s=i<0?fi(n+s,0):yi(s,n-1)),Ft(e,rs(t,3),s,!0)}function Vs(e){return null!=e&&e.length?fn(e,1):[]}function $s(e){return e&&e.length?e[0]:o}var Ws=Gn((function(e){var t=Mt(e,fo);return t.length&&t[0]===e[0]?Cn(t):[]})),Gs=Gn((function(e){var t=Ks(e),i=Mt(e,fo);return t===Ks(i)?t=o:i.pop(),i.length&&i[0]===e[0]?Cn(i,rs(t,2)):[]})),Zs=Gn((function(e){var t=Ks(e),i=Mt(e,fo);return(t="function"==typeof t?t:o)&&i.pop(),i.length&&i[0]===e[0]?Cn(i,o,t):[]}));function Ks(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ys=Gn(Qs);function Qs(e,t){return e&&e.length&&t&&t.length?Hn(e,t):e}var Xs=es((function(e,t){var i=null==e?0:e.length,n=on(e,t);return Vn(e,Mt(t,(function(e){return ys(e,i)?+e:e})).sort(To)),n}));function Js(e){return null==e?e:xi.call(e)}var er=Gn((function(e){return ao(fn(e,1,Wr,!0))})),tr=Gn((function(e){var t=Ks(e);return Wr(t)&&(t=o),ao(fn(e,1,Wr,!0),rs(t,2))})),ir=Gn((function(e){var t=Ks(e);return t="function"==typeof t?t:o,ao(fn(e,1,Wr,!0),o,t)}));function nr(e){if(!e||!e.length)return[];var t=0;return e=At(e,(function(e){if(Wr(e))return t=fi(e.length,t),!0})),Gt(t,(function(t){return Mt(e,Ht(t))}))}function or(e,t){if(!e||!e.length)return[];var i=nr(e);return null==t?i:Mt(i,(function(e){return kt(t,o,e)}))}var sr=Gn((function(e,t){return Wr(e)?cn(e,t):[]})),rr=Gn((function(e){return ho(At(e,Wr))})),ar=Gn((function(e){var t=Ks(e);return Wr(t)&&(t=o),ho(At(e,Wr),rs(t,2))})),lr=Gn((function(e){var t=Ks(e);return t="function"==typeof t?t:o,ho(At(e,Wr),o,t)})),cr=Gn(nr),ur=Gn((function(e){var t=e.length,i=t>1?e[t-1]:o;return i="function"==typeof i?(e.pop(),i):o,or(e,i)}));function pr(e){var t=Bi(e);return t.__chain__=!0,t}function hr(e,t){return t(e)}var dr=es((function(e){var t=e.length,i=t?e[0]:0,n=this.__wrapped__,s=function(t){return on(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Ui&&ys(i)?((n=n.slice(i,+i+(t?1:0))).__actions__.push({func:hr,args:[s],thisArg:o}),new ji(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(s)})),gr=Eo((function(e,t,i){De.call(e,i)?++e[i]:nn(e,i,1)})),fr=Ro(qs),yr=Ro(Hs);function mr(e,t){return(Hr(e)?zt:un)(e,rs(t,3))}function _r(e,t){return(Hr(e)?St:pn)(e,rs(t,3))}var vr=Eo((function(e,t,i){De.call(e,i)?e[i].push(t):nn(e,i,[t])})),xr=Gn((function(e,t,i){var o=-1,s="function"==typeof t,r=$r(e)?n(e.length):[];return un(e,(function(e){r[++o]=s?kt(t,e,i):An(e,t,i)})),r})),wr=Eo((function(e,t,i){nn(e,i,t)}));function br(e,t){return(Hr(e)?Mt:Rn)(e,rs(t,3))}var kr=Eo((function(e,t,i){e[i?0:1].push(t)}),(function(){return[[],[]]})),Tr=Gn((function(e,t){if(null==e)return[];var i=t.length;return i>1&&ms(e,t[0],t[1])?t=[]:i>2&&ms(t[0],t[1],t[2])&&(t=[t[0]]),Un(e,fn(t,1),[])})),zr=ct||function(){return pt.Date.now()};function Sr(e,t,i){return t=i?o:t,t=e&&null==t?e.length:t,Ko(e,c,o,o,o,o,t)}function Cr(e,t){var i;if("function"!=typeof t)throw new Ce(s);return e=da(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=o),i}}var Ar=Gn((function(e,t,i){var n=1;if(i.length){var o=ri(i,ss(Ar));n|=l}return Ko(e,n,t,i,o)})),Er=Gn((function(e,t,i){var n=3;if(i.length){var o=ri(i,ss(Er));n|=l}return Ko(t,n,e,i,o)}));function Pr(e,t,i){var n,r,a,l,c,u,p=0,h=!1,d=!1,g=!0;if("function"!=typeof e)throw new Ce(s);function f(t){var i=n,s=r;return n=r=o,p=t,l=e.apply(s,i)}function y(e){var i=e-u;return u===o||i>=t||i<0||d&&e-p>=a}function m(){var e=zr();if(y(e))return _(e);c=As(m,function(e){var i=t-(e-u);return d?yi(i,a-(e-p)):i}(e))}function _(e){return c=o,g&&n?f(e):(n=r=o,l)}function v(){var e=zr(),i=y(e);if(n=arguments,r=this,u=e,i){if(c===o)return function(e){return p=e,c=As(m,t),h?f(e):l}(u);if(d)return xo(c),c=As(m,t),f(u)}return c===o&&(c=As(m,t)),l}return t=fa(t)||0,Jr(i)&&(h=!!i.leading,a=(d="maxWait"in i)?fi(fa(i.maxWait)||0,t):a,g="trailing"in i?!!i.trailing:g),v.cancel=function(){c!==o&&xo(c),p=0,n=u=r=c=o},v.flush=function(){return c===o?l:_(zr())},v}var Mr=Gn((function(e,t){return ln(e,1,t)})),Lr=Gn((function(e,t,i){return ln(e,fa(t)||0,i)}));function Dr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(s);var i=function(){var n=arguments,o=t?t.apply(this,n):n[0],s=i.cache;if(s.has(o))return s.get(o);var r=e.apply(this,n);return i.cache=s.set(o,r)||s,r};return i.cache=new(Dr.Cache||Vi),i}function Ir(e){if("function"!=typeof e)throw new Ce(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Dr.Cache=Vi;var Or=_o((function(e,t){var i=(t=1==t.length&&Hr(t[0])?Mt(t[0],Kt(rs())):Mt(fn(t,1),Kt(rs()))).length;return Gn((function(n){for(var o=-1,s=yi(n.length,i);++o<s;)n[o]=t[o].call(this,n[o]);return kt(e,this,n)}))})),Rr=Gn((function(e,t){var i=ri(t,ss(Rr));return Ko(e,l,o,t,i)})),Br=Gn((function(e,t){var i=ri(t,ss(Br));return Ko(e,64,o,t,i)})),Fr=es((function(e,t){return Ko(e,256,o,o,o,t)}));function Nr(e,t){return e===t||e!=e&&t!=t}var jr=Vo(Tn),Ur=Vo((function(e,t){return e>=t})),qr=En(function(){return arguments}())?En:function(e){return ea(e)&&De.call(e,"callee")&&!We.call(e,"callee")},Hr=n.isArray,Vr=mt?Kt(mt):function(e){return ea(e)&&kn(e)==M};function $r(e){return null!=e&&Xr(e.length)&&!Yr(e)}function Wr(e){return ea(e)&&$r(e)}var Gr=yt||fl,Zr=_t?Kt(_t):function(e){return ea(e)&&kn(e)==_};function Kr(e){if(!ea(e))return!1;var t=kn(e);return t==v||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!na(e)}function Yr(e){if(!Jr(e))return!1;var t=kn(e);return t==x||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qr(e){return"number"==typeof e&&e==da(e)}function Xr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function Jr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=vt?Kt(vt):function(e){return ea(e)&&hs(e)==b};function ia(e){return"number"==typeof e||ea(e)&&kn(e)==k}function na(e){if(!ea(e)||kn(e)!=T)return!1;var t=Ve(e);if(null===t)return!0;var i=De.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&Le.call(i)==Be}var oa=xt?Kt(xt):function(e){return ea(e)&&kn(e)==S},sa=wt?Kt(wt):function(e){return ea(e)&&hs(e)==C};function ra(e){return"string"==typeof e||!Hr(e)&&ea(e)&&kn(e)==A}function aa(e){return"symbol"==typeof e||ea(e)&&kn(e)==E}var la=bt?Kt(bt):function(e){return ea(e)&&Xr(e.length)&&!!ot[kn(e)]},ca=Vo(On),ua=Vo((function(e,t){return e<=t}));function pa(e){if(!e)return[];if($r(e))return ra(e)?ui(e):Co(e);if(Ke&&e[Ke])return function(e){for(var t,i=[];!(t=e.next()).done;)i.push(t.value);return i}(e[Ke]());var t=hs(e);return(t==b?oi:t==C?ai:Na)(e)}function ha(e){return e?(e=fa(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function da(e){var t=ha(e),i=t%1;return t==t?i?t-i:t:0}function ga(e){return e?sn(da(e),0,d):0}function fa(e){if("number"==typeof e)return e;if(aa(e))return h;if(Jr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Jr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var i=ge.test(e);return i||ye.test(e)?lt(e.slice(2),i?2:8):de.test(e)?h:+e}function ya(e){return Ao(e,Ma(e))}function ma(e){return null==e?"":ro(e)}var _a=Po((function(e,t){if(ws(t)||$r(t))Ao(t,Pa(t),e);else for(var i in t)De.call(t,i)&&Xi(e,i,t[i])})),va=Po((function(e,t){Ao(t,Ma(t),e)})),xa=Po((function(e,t,i,n){Ao(t,Ma(t),e,n)})),wa=Po((function(e,t,i,n){Ao(t,Pa(t),e,n)})),ba=es(on),ka=Gn((function(e,t){e=Te(e);var i=-1,n=t.length,s=n>2?t[2]:o;for(s&&ms(t[0],t[1],s)&&(n=1);++i<n;)for(var r=t[i],a=Ma(r),l=-1,c=a.length;++l<c;){var u=a[l],p=e[u];(p===o||Nr(p,Pe[u])&&!De.call(e,u))&&(e[u]=r[u])}return e})),Ta=Gn((function(e){return e.push(o,Qo),kt(Da,o,e)}));function za(e,t,i){var n=null==e?o:wn(e,t);return n===o?i:n}function Sa(e,t){return null!=e&&ds(e,t,Sn)}var Ca=No((function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=Re.call(t)),e[t]=i}),Ja(il)),Aa=No((function(e,t,i){null!=t&&"function"!=typeof t.toString&&(t=Re.call(t)),De.call(e,t)?e[t].push(i):e[t]=[i]}),rs),Ea=Gn(An);function Pa(e){return $r(e)?Gi(e):In(e)}function Ma(e){return $r(e)?Gi(e,!0):function(e){if(!Jr(e))return function(e){var t=[];if(null!=e)for(var i in Te(e))t.push(i);return t}(e);var t=ws(e),i=[];for(var n in e)("constructor"!=n||!t&&De.call(e,n))&&i.push(n);return i}(e)}var La=Po((function(e,t,i){Nn(e,t,i)})),Da=Po((function(e,t,i,n){Nn(e,t,i,n)})),Ia=es((function(e,t){var i={};if(null==e)return i;var n=!1;t=Mt(t,(function(t){return t=mo(t,e),n||(n=t.length>1),t})),Ao(e,is(e),i),n&&(i=rn(i,7,Xo));for(var o=t.length;o--;)lo(i,t[o]);return i})),Oa=es((function(e,t){return null==e?{}:function(e,t){return qn(e,t,(function(t,i){return Sa(e,i)}))}(e,t)}));function Ra(e,t){if(null==e)return{};var i=Mt(is(e),(function(e){return[e]}));return t=rs(t),qn(e,i,(function(e,i){return t(e,i[0])}))}var Ba=Zo(Pa),Fa=Zo(Ma);function Na(e){return null==e?[]:Yt(e,Pa(e))}var ja=Io((function(e,t,i){return t=t.toLowerCase(),e+(i?Ua(t):t)}));function Ua(e){return Ka(ma(e).toLowerCase())}function qa(e){return(e=ma(e))&&e.replace(_e,ei).replace(Qe,"")}var Ha=Io((function(e,t,i){return e+(i?"-":"")+t.toLowerCase()})),Va=Io((function(e,t,i){return e+(i?" ":"")+t.toLowerCase()})),$a=Do("toLowerCase"),Wa=Io((function(e,t,i){return e+(i?"_":"")+t.toLowerCase()})),Ga=Io((function(e,t,i){return e+(i?" ":"")+Ka(t)})),Za=Io((function(e,t,i){return e+(i?" ":"")+t.toUpperCase()})),Ka=Do("toUpperCase");function Ya(e,t,i){return e=ma(e),(t=i?o:t)===o?function(e){return tt.test(e)}(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Qa=Gn((function(e,t){try{return kt(e,o,t)}catch(e){return Kr(e)?e:new we(e)}})),Xa=es((function(e,t){return zt(t,(function(t){t=Rs(t),nn(e,t,Ar(e[t],e))})),e}));function Ja(e){return function(){return e}}var el=Bo(),tl=Bo(!0);function il(e){return e}function nl(e){return Dn("function"==typeof e?e:rn(e,1))}var ol=Gn((function(e,t){return function(i){return An(i,e,t)}})),sl=Gn((function(e,t){return function(i){return An(e,i,t)}}));function rl(e,t,i){var n=Pa(t),o=xn(t,n);null!=i||Jr(t)&&(o.length||!n.length)||(i=t,t=e,e=this,o=xn(t,Pa(t)));var s=!(Jr(i)&&"chain"in i&&!i.chain),r=Yr(e);return zt(o,(function(i){var n=t[i];e[i]=n,r&&(e.prototype[i]=function(){var t=this.__chain__;if(s||t){var i=e(this.__wrapped__);return(i.__actions__=Co(this.__actions__)).push({func:n,args:arguments,thisArg:e}),i.__chain__=t,i}return n.apply(e,Lt([this.value()],arguments))})})),e}function al(){}var ll=Uo(Mt),cl=Uo(Ct),ul=Uo(Ot);function pl(e){return _s(e)?Ht(Rs(e)):function(e){return function(t){return wn(t,e)}}(e)}var hl=Ho(),dl=Ho(!0);function gl(){return[]}function fl(){return!1}var yl,ml=jo((function(e,t){return e+t}),0),_l=Wo("ceil"),vl=jo((function(e,t){return e/t}),1),xl=Wo("floor"),wl=jo((function(e,t){return e*t}),1),bl=Wo("round"),kl=jo((function(e,t){return e-t}),0);return Bi.after=function(e,t){if("function"!=typeof t)throw new Ce(s);return e=da(e),function(){if(--e<1)return t.apply(this,arguments)}},Bi.ary=Sr,Bi.assign=_a,Bi.assignIn=va,Bi.assignInWith=xa,Bi.assignWith=wa,Bi.at=ba,Bi.before=Cr,Bi.bind=Ar,Bi.bindAll=Xa,Bi.bindKey=Er,Bi.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Hr(e)?e:[e]},Bi.chain=pr,Bi.chunk=function(e,t,i){t=(i?ms(e,t,i):t===o)?1:fi(da(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var r=0,a=0,l=n(ht(s/t));r<s;)l[a++]=eo(e,r,r+=t);return l},Bi.compact=function(e){for(var t=-1,i=null==e?0:e.length,n=0,o=[];++t<i;){var s=e[t];s&&(o[n++]=s)}return o},Bi.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),i=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Lt(Hr(i)?Co(i):[i],fn(t,1))},Bi.cond=function(e){var t=null==e?0:e.length,i=rs();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Ce(s);return[i(e[0]),e[1]]})):[],Gn((function(i){for(var n=-1;++n<t;){var o=e[n];if(kt(o[0],this,i))return kt(o[1],this,i)}}))},Bi.conforms=function(e){return function(e){var t=Pa(e);return function(i){return an(i,e,t)}}(rn(e,1))},Bi.constant=Ja,Bi.countBy=gr,Bi.create=function(e,t){var i=Fi(e);return null==t?i:tn(i,t)},Bi.curry=function e(t,i,n){var s=Ko(t,8,o,o,o,o,o,i=n?o:i);return s.placeholder=e.placeholder,s},Bi.curryRight=function e(t,i,n){var s=Ko(t,16,o,o,o,o,o,i=n?o:i);return s.placeholder=e.placeholder,s},Bi.debounce=Pr,Bi.defaults=ka,Bi.defaultsDeep=Ta,Bi.defer=Mr,Bi.delay=Lr,Bi.difference=Ns,Bi.differenceBy=js,Bi.differenceWith=Us,Bi.drop=function(e,t,i){var n=null==e?0:e.length;return n?eo(e,(t=i||t===o?1:da(t))<0?0:t,n):[]},Bi.dropRight=function(e,t,i){var n=null==e?0:e.length;return n?eo(e,0,(t=n-(t=i||t===o?1:da(t)))<0?0:t):[]},Bi.dropRightWhile=function(e,t){return e&&e.length?uo(e,rs(t,3),!0,!0):[]},Bi.dropWhile=function(e,t){return e&&e.length?uo(e,rs(t,3),!0):[]},Bi.fill=function(e,t,i,n){var s=null==e?0:e.length;return s?(i&&"number"!=typeof i&&ms(e,t,i)&&(i=0,n=s),function(e,t,i,n){var s=e.length;for((i=da(i))<0&&(i=-i>s?0:s+i),(n=n===o||n>s?s:da(n))<0&&(n+=s),n=i>n?0:ga(n);i<n;)e[i++]=t;return e}(e,t,i,n)):[]},Bi.filter=function(e,t){return(Hr(e)?At:gn)(e,rs(t,3))},Bi.flatMap=function(e,t){return fn(br(e,t),1)},Bi.flatMapDeep=function(e,t){return fn(br(e,t),u)},Bi.flatMapDepth=function(e,t,i){return i=i===o?1:da(i),fn(br(e,t),i)},Bi.flatten=Vs,Bi.flattenDeep=function(e){return null!=e&&e.length?fn(e,u):[]},Bi.flattenDepth=function(e,t){return null!=e&&e.length?fn(e,t=t===o?1:da(t)):[]},Bi.flip=function(e){return Ko(e,512)},Bi.flow=el,Bi.flowRight=tl,Bi.fromPairs=function(e){for(var t=-1,i=null==e?0:e.length,n={};++t<i;){var o=e[t];n[o[0]]=o[1]}return n},Bi.functions=function(e){return null==e?[]:xn(e,Pa(e))},Bi.functionsIn=function(e){return null==e?[]:xn(e,Ma(e))},Bi.groupBy=vr,Bi.initial=function(e){return null!=e&&e.length?eo(e,0,-1):[]},Bi.intersection=Ws,Bi.intersectionBy=Gs,Bi.intersectionWith=Zs,Bi.invert=Ca,Bi.invertBy=Aa,Bi.invokeMap=xr,Bi.iteratee=nl,Bi.keyBy=wr,Bi.keys=Pa,Bi.keysIn=Ma,Bi.map=br,Bi.mapKeys=function(e,t){var i={};return t=rs(t,3),_n(e,(function(e,n,o){nn(i,t(e,n,o),e)})),i},Bi.mapValues=function(e,t){var i={};return t=rs(t,3),_n(e,(function(e,n,o){nn(i,n,t(e,n,o))})),i},Bi.matches=function(e){return Bn(rn(e,1))},Bi.matchesProperty=function(e,t){return Fn(e,rn(t,1))},Bi.memoize=Dr,Bi.merge=La,Bi.mergeWith=Da,Bi.method=ol,Bi.methodOf=sl,Bi.mixin=rl,Bi.negate=Ir,Bi.nthArg=function(e){return e=da(e),Gn((function(t){return jn(t,e)}))},Bi.omit=Ia,Bi.omitBy=function(e,t){return Ra(e,Ir(rs(t)))},Bi.once=function(e){return Cr(2,e)},Bi.orderBy=function(e,t,i,n){return null==e?[]:(Hr(t)||(t=null==t?[]:[t]),Hr(i=n?o:i)||(i=null==i?[]:[i]),Un(e,t,i))},Bi.over=ll,Bi.overArgs=Or,Bi.overEvery=cl,Bi.overSome=ul,Bi.partial=Rr,Bi.partialRight=Br,Bi.partition=kr,Bi.pick=Oa,Bi.pickBy=Ra,Bi.property=pl,Bi.propertyOf=function(e){return function(t){return null==e?o:wn(e,t)}},Bi.pull=Ys,Bi.pullAll=Qs,Bi.pullAllBy=function(e,t,i){return e&&e.length&&t&&t.length?Hn(e,t,rs(i,2)):e},Bi.pullAllWith=function(e,t,i){return e&&e.length&&t&&t.length?Hn(e,t,o,i):e},Bi.pullAt=Xs,Bi.range=hl,Bi.rangeRight=dl,Bi.rearg=Fr,Bi.reject=function(e,t){return(Hr(e)?At:gn)(e,Ir(rs(t,3)))},Bi.remove=function(e,t){var i=[];if(!e||!e.length)return i;var n=-1,o=[],s=e.length;for(t=rs(t,3);++n<s;){var r=e[n];t(r,n,e)&&(i.push(r),o.push(n))}return Vn(e,o),i},Bi.rest=function(e,t){if("function"!=typeof e)throw new Ce(s);return Gn(e,t=t===o?t:da(t))},Bi.reverse=Js,Bi.sampleSize=function(e,t,i){return t=(i?ms(e,t,i):t===o)?1:da(t),(Hr(e)?Ki:Kn)(e,t)},Bi.set=function(e,t,i){return null==e?e:Yn(e,t,i)},Bi.setWith=function(e,t,i,n){return n="function"==typeof n?n:o,null==e?e:Yn(e,t,i,n)},Bi.shuffle=function(e){return(Hr(e)?Yi:Jn)(e)},Bi.slice=function(e,t,i){var n=null==e?0:e.length;return n?(i&&"number"!=typeof i&&ms(e,t,i)?(t=0,i=n):(t=null==t?0:da(t),i=i===o?n:da(i)),eo(e,t,i)):[]},Bi.sortBy=Tr,Bi.sortedUniq=function(e){return e&&e.length?oo(e):[]},Bi.sortedUniqBy=function(e,t){return e&&e.length?oo(e,rs(t,2)):[]},Bi.split=function(e,t,i){return i&&"number"!=typeof i&&ms(e,t,i)&&(t=i=o),(i=i===o?d:i>>>0)?(e=ma(e))&&("string"==typeof t||null!=t&&!oa(t))&&!(t=ro(t))&&ni(e)?vo(ui(e),0,i):e.split(t,i):[]},Bi.spread=function(e,t){if("function"!=typeof e)throw new Ce(s);return t=null==t?0:fi(da(t),0),Gn((function(i){var n=i[t],o=vo(i,0,t);return n&&Lt(o,n),kt(e,this,o)}))},Bi.tail=function(e){var t=null==e?0:e.length;return t?eo(e,1,t):[]},Bi.take=function(e,t,i){return e&&e.length?eo(e,0,(t=i||t===o?1:da(t))<0?0:t):[]},Bi.takeRight=function(e,t,i){var n=null==e?0:e.length;return n?eo(e,(t=n-(t=i||t===o?1:da(t)))<0?0:t,n):[]},Bi.takeRightWhile=function(e,t){return e&&e.length?uo(e,rs(t,3),!1,!0):[]},Bi.takeWhile=function(e,t){return e&&e.length?uo(e,rs(t,3)):[]},Bi.tap=function(e,t){return t(e),e},Bi.throttle=function(e,t,i){var n=!0,o=!0;if("function"!=typeof e)throw new Ce(s);return Jr(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),Pr(e,t,{leading:n,maxWait:t,trailing:o})},Bi.thru=hr,Bi.toArray=pa,Bi.toPairs=Ba,Bi.toPairsIn=Fa,Bi.toPath=function(e){return Hr(e)?Mt(e,Rs):aa(e)?[e]:Co(Os(ma(e)))},Bi.toPlainObject=ya,Bi.transform=function(e,t,i){var n=Hr(e),o=n||Gr(e)||la(e);if(t=rs(t,4),null==i){var s=e&&e.constructor;i=o?n?new s:[]:Jr(e)&&Yr(s)?Fi(Ve(e)):{}}return(o?zt:_n)(e,(function(e,n,o){return t(i,e,n,o)})),i},Bi.unary=function(e){return Sr(e,1)},Bi.union=er,Bi.unionBy=tr,Bi.unionWith=ir,Bi.uniq=function(e){return e&&e.length?ao(e):[]},Bi.uniqBy=function(e,t){return e&&e.length?ao(e,rs(t,2)):[]},Bi.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?ao(e,o,t):[]},Bi.unset=function(e,t){return null==e||lo(e,t)},Bi.unzip=nr,Bi.unzipWith=or,Bi.update=function(e,t,i){return null==e?e:co(e,t,yo(i))},Bi.updateWith=function(e,t,i,n){return n="function"==typeof n?n:o,null==e?e:co(e,t,yo(i),n)},Bi.values=Na,Bi.valuesIn=function(e){return null==e?[]:Yt(e,Ma(e))},Bi.without=sr,Bi.words=Ya,Bi.wrap=function(e,t){return Rr(yo(t),e)},Bi.xor=rr,Bi.xorBy=ar,Bi.xorWith=lr,Bi.zip=cr,Bi.zipObject=function(e,t){return go(e||[],t||[],Xi)},Bi.zipObjectDeep=function(e,t){return go(e||[],t||[],Yn)},Bi.zipWith=ur,Bi.entries=Ba,Bi.entriesIn=Fa,Bi.extend=va,Bi.extendWith=xa,rl(Bi,Bi),Bi.add=ml,Bi.attempt=Qa,Bi.camelCase=ja,Bi.capitalize=Ua,Bi.ceil=_l,Bi.clamp=function(e,t,i){return i===o&&(i=t,t=o),i!==o&&(i=(i=fa(i))==i?i:0),t!==o&&(t=(t=fa(t))==t?t:0),sn(fa(e),t,i)},Bi.clone=function(e){return rn(e,4)},Bi.cloneDeep=function(e){return rn(e,5)},Bi.cloneDeepWith=function(e,t){return rn(e,5,t="function"==typeof t?t:o)},Bi.cloneWith=function(e,t){return rn(e,4,t="function"==typeof t?t:o)},Bi.conformsTo=function(e,t){return null==t||an(e,t,Pa(t))},Bi.deburr=qa,Bi.defaultTo=function(e,t){return null==e||e!=e?t:e},Bi.divide=vl,Bi.endsWith=function(e,t,i){e=ma(e),t=ro(t);var n=e.length,s=i=i===o?n:sn(da(i),0,n);return(i-=t.length)>=0&&e.slice(i,s)==t},Bi.eq=Nr,Bi.escape=function(e){return(e=ma(e))&&Z.test(e)?e.replace(W,ti):e},Bi.escapeRegExp=function(e){return(e=ma(e))&&ie.test(e)?e.replace(te,"\\$&"):e},Bi.every=function(e,t,i){var n=Hr(e)?Ct:hn;return i&&ms(e,t,i)&&(t=o),n(e,rs(t,3))},Bi.find=fr,Bi.findIndex=qs,Bi.findKey=function(e,t){return Bt(e,rs(t,3),_n)},Bi.findLast=yr,Bi.findLastIndex=Hs,Bi.findLastKey=function(e,t){return Bt(e,rs(t,3),vn)},Bi.floor=xl,Bi.forEach=mr,Bi.forEachRight=_r,Bi.forIn=function(e,t){return null==e?e:yn(e,rs(t,3),Ma)},Bi.forInRight=function(e,t){return null==e?e:mn(e,rs(t,3),Ma)},Bi.forOwn=function(e,t){return e&&_n(e,rs(t,3))},Bi.forOwnRight=function(e,t){return e&&vn(e,rs(t,3))},Bi.get=za,Bi.gt=jr,Bi.gte=Ur,Bi.has=function(e,t){return null!=e&&ds(e,t,zn)},Bi.hasIn=Sa,Bi.head=$s,Bi.identity=il,Bi.includes=function(e,t,i,n){e=$r(e)?e:Na(e),i=i&&!n?da(i):0;var o=e.length;return i<0&&(i=fi(o+i,0)),ra(e)?i<=o&&e.indexOf(t,i)>-1:!!o&&Nt(e,t,i)>-1},Bi.indexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var o=null==i?0:da(i);return o<0&&(o=fi(n+o,0)),Nt(e,t,o)},Bi.inRange=function(e,t,i){return t=ha(t),i===o?(i=t,t=0):i=ha(i),function(e,t,i){return e>=yi(t,i)&&e<fi(t,i)}(e=fa(e),t,i)},Bi.invoke=Ea,Bi.isArguments=qr,Bi.isArray=Hr,Bi.isArrayBuffer=Vr,Bi.isArrayLike=$r,Bi.isArrayLikeObject=Wr,Bi.isBoolean=function(e){return!0===e||!1===e||ea(e)&&kn(e)==m},Bi.isBuffer=Gr,Bi.isDate=Zr,Bi.isElement=function(e){return ea(e)&&1===e.nodeType&&!na(e)},Bi.isEmpty=function(e){if(null==e)return!0;if($r(e)&&(Hr(e)||"string"==typeof e||"function"==typeof e.splice||Gr(e)||la(e)||qr(e)))return!e.length;var t=hs(e);if(t==b||t==C)return!e.size;if(ws(e))return!In(e).length;for(var i in e)if(De.call(e,i))return!1;return!0},Bi.isEqual=function(e,t){return Pn(e,t)},Bi.isEqualWith=function(e,t,i){var n=(i="function"==typeof i?i:o)?i(e,t):o;return n===o?Pn(e,t,o,i):!!n},Bi.isError=Kr,Bi.isFinite=function(e){return"number"==typeof e&&Rt(e)},Bi.isFunction=Yr,Bi.isInteger=Qr,Bi.isLength=Xr,Bi.isMap=ta,Bi.isMatch=function(e,t){return e===t||Mn(e,t,ls(t))},Bi.isMatchWith=function(e,t,i){return i="function"==typeof i?i:o,Mn(e,t,ls(t),i)},Bi.isNaN=function(e){return ia(e)&&e!=+e},Bi.isNative=function(e){if(xs(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ln(e)},Bi.isNil=function(e){return null==e},Bi.isNull=function(e){return null===e},Bi.isNumber=ia,Bi.isObject=Jr,Bi.isObjectLike=ea,Bi.isPlainObject=na,Bi.isRegExp=oa,Bi.isSafeInteger=function(e){return Qr(e)&&e>=-9007199254740991&&e<=p},Bi.isSet=sa,Bi.isString=ra,Bi.isSymbol=aa,Bi.isTypedArray=la,Bi.isUndefined=function(e){return e===o},Bi.isWeakMap=function(e){return ea(e)&&hs(e)==P},Bi.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==kn(e)},Bi.join=function(e,t){return null==e?"":Vt.call(e,t)},Bi.kebabCase=Ha,Bi.last=Ks,Bi.lastIndexOf=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var s=n;return i!==o&&(s=(s=da(i))<0?fi(n+s,0):yi(s,n-1)),t==t?function(e,t,i){for(var n=i+1;n--;)if(e[n]===t)return n;return n}(e,t,s):Ft(e,Ut,s,!0)},Bi.lowerCase=Va,Bi.lowerFirst=$a,Bi.lt=ca,Bi.lte=ua,Bi.max=function(e){return e&&e.length?dn(e,il,Tn):o},Bi.maxBy=function(e,t){return e&&e.length?dn(e,rs(t,2),Tn):o},Bi.mean=function(e){return qt(e,il)},Bi.meanBy=function(e,t){return qt(e,rs(t,2))},Bi.min=function(e){return e&&e.length?dn(e,il,On):o},Bi.minBy=function(e,t){return e&&e.length?dn(e,rs(t,2),On):o},Bi.stubArray=gl,Bi.stubFalse=fl,Bi.stubObject=function(){return{}},Bi.stubString=function(){return""},Bi.stubTrue=function(){return!0},Bi.multiply=wl,Bi.nth=function(e,t){return e&&e.length?jn(e,da(t)):o},Bi.noConflict=function(){return pt._===this&&(pt._=Fe),this},Bi.noop=al,Bi.now=zr,Bi.pad=function(e,t,i){e=ma(e);var n=(t=da(t))?ci(e):0;if(!t||n>=t)return e;var o=(t-n)/2;return qo(dt(o),i)+e+qo(ht(o),i)},Bi.padEnd=function(e,t,i){e=ma(e);var n=(t=da(t))?ci(e):0;return t&&n<t?e+qo(t-n,i):e},Bi.padStart=function(e,t,i){e=ma(e);var n=(t=da(t))?ci(e):0;return t&&n<t?qo(t-n,i)+e:e},Bi.parseInt=function(e,t,i){return i||null==t?t=0:t&&(t=+t),_i(ma(e).replace(ne,""),t||0)},Bi.random=function(e,t,i){if(i&&"boolean"!=typeof i&&ms(e,t,i)&&(t=i=o),i===o&&("boolean"==typeof t?(i=t,t=o):"boolean"==typeof e&&(i=e,e=o)),e===o&&t===o?(e=0,t=1):(e=ha(e),t===o?(t=e,e=0):t=ha(t)),e>t){var n=e;e=t,t=n}if(i||e%1||t%1){var s=vi();return yi(e+s*(t-e+at("1e-"+((s+"").length-1))),t)}return $n(e,t)},Bi.reduce=function(e,t,i){var n=Hr(e)?Dt:$t,o=arguments.length<3;return n(e,rs(t,4),i,o,un)},Bi.reduceRight=function(e,t,i){var n=Hr(e)?It:$t,o=arguments.length<3;return n(e,rs(t,4),i,o,pn)},Bi.repeat=function(e,t,i){return t=(i?ms(e,t,i):t===o)?1:da(t),Wn(ma(e),t)},Bi.replace=function(){var e=arguments,t=ma(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bi.result=function(e,t,i){var n=-1,s=(t=mo(t,e)).length;for(s||(s=1,e=o);++n<s;){var r=null==e?o:e[Rs(t[n])];r===o&&(n=s,r=i),e=Yr(r)?r.call(e):r}return e},Bi.round=bl,Bi.runInContext=e,Bi.sample=function(e){return(Hr(e)?Zi:Zn)(e)},Bi.size=function(e){if(null==e)return 0;if($r(e))return ra(e)?ci(e):e.length;var t=hs(e);return t==b||t==C?e.size:In(e).length},Bi.snakeCase=Wa,Bi.some=function(e,t,i){var n=Hr(e)?Ot:to;return i&&ms(e,t,i)&&(t=o),n(e,rs(t,3))},Bi.sortedIndex=function(e,t){return io(e,t)},Bi.sortedIndexBy=function(e,t,i){return no(e,t,rs(i,2))},Bi.sortedIndexOf=function(e,t){var i=null==e?0:e.length;if(i){var n=io(e,t);if(n<i&&Nr(e[n],t))return n}return-1},Bi.sortedLastIndex=function(e,t){return io(e,t,!0)},Bi.sortedLastIndexBy=function(e,t,i){return no(e,t,rs(i,2),!0)},Bi.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var i=io(e,t,!0)-1;if(Nr(e[i],t))return i}return-1},Bi.startCase=Ga,Bi.startsWith=function(e,t,i){return e=ma(e),i=null==i?0:sn(da(i),0,e.length),t=ro(t),e.slice(i,i+t.length)==t},Bi.subtract=kl,Bi.sum=function(e){return e&&e.length?Wt(e,il):0},Bi.sumBy=function(e,t){return e&&e.length?Wt(e,rs(t,2)):0},Bi.template=function(e,t,i){var n=Bi.templateSettings;i&&ms(e,t,i)&&(t=o),e=ma(e),t=xa({},t,n,Yo);var s,r,a=xa({},t.imports,n.imports,Yo),l=Pa(a),c=Yt(a,l),u=0,p=t.interpolate||ve,h="__p += '",d=ze((t.escape||ve).source+"|"+p.source+"|"+(p===Q?pe:ve).source+"|"+(t.evaluate||ve).source+"|$","g"),g="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nt+"]")+"\n";e.replace(d,(function(t,i,n,o,a,l){return n||(n=o),h+=e.slice(u,l).replace(xe,ii),i&&(s=!0,h+="' +\n__e("+i+") +\n'"),a&&(r=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var f=De.call(t,"variable")&&t.variable;if(f){if(ce.test(f))throw new we("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(r?h.replace(q,""):h).replace(H,"$1").replace(V,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Qa((function(){return be(l,g+"return "+h).apply(o,c)}));if(y.source=h,Kr(y))throw y;return y},Bi.times=function(e,t){if((e=da(e))<1||e>p)return[];var i=d,n=yi(e,d);t=rs(t),e-=d;for(var o=Gt(n,t);++i<e;)t(i);return o},Bi.toFinite=ha,Bi.toInteger=da,Bi.toLength=ga,Bi.toLower=function(e){return ma(e).toLowerCase()},Bi.toNumber=fa,Bi.toSafeInteger=function(e){return e?sn(da(e),-9007199254740991,p):0===e?e:0},Bi.toString=ma,Bi.toUpper=function(e){return ma(e).toUpperCase()},Bi.trim=function(e,t,i){if((e=ma(e))&&(i||t===o))return Zt(e);if(!e||!(t=ro(t)))return e;var n=ui(e),s=ui(t);return vo(n,Xt(n,s),Jt(n,s)+1).join("")},Bi.trimEnd=function(e,t,i){if((e=ma(e))&&(i||t===o))return e.slice(0,pi(e)+1);if(!e||!(t=ro(t)))return e;var n=ui(e);return vo(n,0,Jt(n,ui(t))+1).join("")},Bi.trimStart=function(e,t,i){if((e=ma(e))&&(i||t===o))return e.replace(ne,"");if(!e||!(t=ro(t)))return e;var n=ui(e);return vo(n,Xt(n,ui(t))).join("")},Bi.truncate=function(e,t){var i=30,n="...";if(Jr(t)){var s="separator"in t?t.separator:s;i="length"in t?da(t.length):i,n="omission"in t?ro(t.omission):n}var r=(e=ma(e)).length;if(ni(e)){var a=ui(e);r=a.length}if(i>=r)return e;var l=i-ci(n);if(l<1)return n;var c=a?vo(a,0,l).join(""):e.slice(0,l);if(s===o)return c+n;if(a&&(l+=c.length-l),oa(s)){if(e.slice(l).search(s)){var u,p=c;for(s.global||(s=ze(s.source,ma(he.exec(s))+"g")),s.lastIndex=0;u=s.exec(p);)var h=u.index;c=c.slice(0,h===o?l:h)}}else if(e.indexOf(ro(s),l)!=l){var d=c.lastIndexOf(s);d>-1&&(c=c.slice(0,d))}return c+n},Bi.unescape=function(e){return(e=ma(e))&&G.test(e)?e.replace($,hi):e},Bi.uniqueId=function(e){var t=++Ie;return ma(e)+t},Bi.upperCase=Za,Bi.upperFirst=Ka,Bi.each=mr,Bi.eachRight=_r,Bi.first=$s,rl(Bi,(yl={},_n(Bi,(function(e,t){De.call(Bi.prototype,t)||(yl[t]=e)})),yl),{chain:!1}),Bi.VERSION="4.17.21",zt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bi[e].placeholder=Bi})),zt(["drop","take"],(function(e,t){Ui.prototype[e]=function(i){i=i===o?1:fi(da(i),0);var n=this.__filtered__&&!t?new Ui(this):this.clone();return n.__filtered__?n.__takeCount__=yi(i,n.__takeCount__):n.__views__.push({size:yi(i,d),type:e+(n.__dir__<0?"Right":"")}),n},Ui.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),zt(["filter","map","takeWhile"],(function(e,t){var i=t+1,n=1==i||3==i;Ui.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:rs(e,3),type:i}),t.__filtered__=t.__filtered__||n,t}})),zt(["head","last"],(function(e,t){var i="take"+(t?"Right":"");Ui.prototype[e]=function(){return this[i](1).value()[0]}})),zt(["initial","tail"],(function(e,t){var i="drop"+(t?"":"Right");Ui.prototype[e]=function(){return this.__filtered__?new Ui(this):this[i](1)}})),Ui.prototype.compact=function(){return this.filter(il)},Ui.prototype.find=function(e){return this.filter(e).head()},Ui.prototype.findLast=function(e){return this.reverse().find(e)},Ui.prototype.invokeMap=Gn((function(e,t){return"function"==typeof e?new Ui(this):this.map((function(i){return An(i,e,t)}))})),Ui.prototype.reject=function(e){return this.filter(Ir(rs(e)))},Ui.prototype.slice=function(e,t){e=da(e);var i=this;return i.__filtered__&&(e>0||t<0)?new Ui(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==o&&(i=(t=da(t))<0?i.dropRight(-t):i.take(t-e)),i)},Ui.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ui.prototype.toArray=function(){return this.take(d)},_n(Ui.prototype,(function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),s=Bi[n?"take"+("last"==t?"Right":""):t],r=n||/^find/.test(t);s&&(Bi.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,l=t instanceof Ui,c=a[0],u=l||Hr(t),p=function(e){var t=s.apply(Bi,Lt([e],a));return n&&h?t[0]:t};u&&i&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,d=!!this.__actions__.length,g=r&&!h,f=l&&!d;if(!r&&u){t=f?t:new Ui(this);var y=e.apply(t,a);return y.__actions__.push({func:hr,args:[p],thisArg:o}),new ji(y,h)}return g&&f?e.apply(this,a):(y=this.thru(p),g?n?y.value()[0]:y.value():y)})})),zt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Bi.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var o=this.value();return t.apply(Hr(o)?o:[],e)}return this[i]((function(i){return t.apply(Hr(i)?i:[],e)}))}})),_n(Ui.prototype,(function(e,t){var i=Bi[t];if(i){var n=i.name+"";De.call(Ai,n)||(Ai[n]=[]),Ai[n].push({name:t,func:i})}})),Ai[Fo(o,2).name]=[{name:"wrapper",func:o}],Ui.prototype.clone=function(){var e=new Ui(this.__wrapped__);return e.__actions__=Co(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Co(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Co(this.__views__),e},Ui.prototype.reverse=function(){if(this.__filtered__){var e=new Ui(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ui.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,i=Hr(e),n=t<0,o=i?e.length:0,s=function(e,t,i){for(var n=-1,o=i.length;++n<o;){var s=i[n],r=s.size;switch(s.type){case"drop":e+=r;break;case"dropRight":t-=r;break;case"take":t=yi(t,e+r);break;case"takeRight":e=fi(e,t-r)}}return{start:e,end:t}}(0,o,this.__views__),r=s.start,a=s.end,l=a-r,c=n?a:r-1,u=this.__iteratees__,p=u.length,h=0,d=yi(l,this.__takeCount__);if(!i||!n&&o==l&&d==l)return po(e,this.__actions__);var g=[];e:for(;l--&&h<d;){for(var f=-1,y=e[c+=t];++f<p;){var m=u[f],_=m.iteratee,v=m.type,x=_(y);if(2==v)y=x;else if(!x){if(1==v)continue e;break e}}g[h++]=y}return g},Bi.prototype.at=dr,Bi.prototype.chain=function(){return pr(this)},Bi.prototype.commit=function(){return new ji(this.value(),this.__chain__)},Bi.prototype.next=function(){this.__values__===o&&(this.__values__=pa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Bi.prototype.plant=function(e){for(var t,i=this;i instanceof Ni;){var n=Fs(i);n.__index__=0,n.__values__=o,t?s.__wrapped__=n:t=n;var s=n;i=i.__wrapped__}return s.__wrapped__=e,t},Bi.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Ui){var t=e;return this.__actions__.length&&(t=new Ui(this)),(t=t.reverse()).__actions__.push({func:hr,args:[Js],thisArg:o}),new ji(t,this.__chain__)}return this.thru(Js)},Bi.prototype.toJSON=Bi.prototype.valueOf=Bi.prototype.value=function(){return po(this.__wrapped__,this.__actions__)},Bi.prototype.first=Bi.prototype.head,Ke&&(Bi.prototype[Ke]=function(){return this}),Bi}();pt._=di,(n=function(){return di}.call(t,i,t,e))===o||(e.exports=n)}.call(this)},6223:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,i){return 0===e&&0===i?1/e==1/i:e===i||!(!t(e)||!t(i))}},9513:(e,t,i)=>{"use strict";var n=i(5144),o=i(8179),s=i(6223),r=i(3809),a=i(2700),l=o(r(),Object);n(l,{getPolyfill:r,implementation:s,shim:a}),e.exports=l},3809:(e,t,i)=>{"use strict";var n=i(6223);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},2700:(e,t,i)=>{"use strict";var n=i(3809),o=i(5144);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},1895:(e,t,i)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,s=Object.prototype.toString,r=i(8825),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,i="[object Function]"===s.call(e),n=r(e),a=t&&"[object String]"===s.call(e),h=[];if(!t&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var g=c&&i;if(a&&e.length>0&&!o.call(e,0))for(var f=0;f<e.length;++f)h.push(String(f));if(n&&e.length>0)for(var y=0;y<e.length;++y)h.push(String(y));else for(var m in e)g&&"prototype"===m||!o.call(e,m)||h.push(String(m));if(l)for(var _=function(e){if("undefined"==typeof window||!d)return p(e);try{return p(e)}catch(e){return!1}}(e),v=0;v<u.length;++v)_&&"constructor"===u[v]||!o.call(e,u[v])||h.push(u[v]);return h}}e.exports=n},3425:(e,t,i)=>{"use strict";var n=Array.prototype.slice,o=i(8825),s=Object.keys,r=s?function(e){return s(e)}:i(1895),a=Object.keys;r.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?a(n.call(e)):a(e)})}else Object.keys=r;return Object.keys||r},e.exports=r},8825:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var i=t.call(e),n="[object Arguments]"===i;return n||(n="[object Array]"!==i&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},8599:(e,t,i)=>{"use strict";var n=i(3425),o=i(4361)(),s=i(9343),r=Object,a=s("Array.prototype.push"),l=s("Object.prototype.propertyIsEnumerable"),c=o?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var i=r(e);if(1===arguments.length)return i;for(var s=1;s<arguments.length;++s){var u=r(arguments[s]),p=n(u),h=o&&(Object.getOwnPropertySymbols||c);if(h)for(var d=h(u),g=0;g<d.length;++g){var f=d[g];l(u,f)&&a(p,f)}for(var y=0;y<p.length;++y){var m=p[y];if(l(u,m)){var _=u[m];i[m]=_}}}return i}},8662:(e,t,i)=>{"use strict";var n=i(8599);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),i={},n=0;n<t.length;++n)i[t[n]]=t[n];var o=Object.assign({},i),s="";for(var r in o)s+=r;return e!==s}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},6350:e=>{"use strict";e.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},8538:e=>{var t,i,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function r(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var a,l=[],c=!1,u=-1;function p(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&h())}function h(){if(!c){var e=r(p);c=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a&&a[u].run();u=-1,t=l.length}a=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new d(e,t)),1!==l.length||c||r(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},8973:(e,t,i)=>{"use strict";var n=i(8897),o=i(9381),s=i(6900)(),r=i(1399),a=i(1711),l=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new a("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in e&&r){var u=r(e,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(c=!1)}return(n||c||!i)&&(s?o(e,"length",t,!0,!0):o(e,"length",t)),e}},5171:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},1028:(e,t,i)=>{"use strict";var n=i(5456),o=i(6940),s=i(6059),r=i(2116);function a(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,u=a(Object.prototype.toString),p=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(l)var g=a(BigInt.prototype.valueOf);if(c)var f=a(Symbol.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function m(e){return"[object Map]"===u(e)}function _(e){return"[object Set]"===u(e)}function v(e){return"[object WeakMap]"===u(e)}function x(e){return"[object WeakSet]"===u(e)}function w(e){return"[object ArrayBuffer]"===u(e)}function b(e){return"undefined"!=typeof ArrayBuffer&&(w.working?w(e):e instanceof ArrayBuffer)}function k(e){return"[object DataView]"===u(e)}function T(e){return"undefined"!=typeof DataView&&(k.working?k(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=o,t.isTypedArray=r,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):r(e)||T(e)},t.isUint8Array=function(e){return"Uint8Array"===s(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===s(e)},t.isUint16Array=function(e){return"Uint16Array"===s(e)},t.isUint32Array=function(e){return"Uint32Array"===s(e)},t.isInt8Array=function(e){return"Int8Array"===s(e)},t.isInt16Array=function(e){return"Int16Array"===s(e)},t.isInt32Array=function(e){return"Int32Array"===s(e)},t.isFloat32Array=function(e){return"Float32Array"===s(e)},t.isFloat64Array=function(e){return"Float64Array"===s(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===s(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===s(e)},m.working="undefined"!=typeof Map&&m(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(m.working?m(e):e instanceof Map)},_.working="undefined"!=typeof Set&&_(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(_.working?_(e):e instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(v.working?v(e):e instanceof WeakMap)},x.working="undefined"!=typeof WeakSet&&x(new WeakSet),t.isWeakSet=function(e){return x(e)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),t.isArrayBuffer=b,k.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&k(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=T;var z="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function S(e){return"[object SharedArrayBuffer]"===u(e)}function C(e){return void 0!==z&&(void 0===S.working&&(S.working=S(new z)),S.working?S(e):e instanceof z)}function A(e){return y(e,p)}function E(e){return y(e,h)}function P(e){return y(e,d)}function M(e){return l&&y(e,g)}function L(e){return c&&y(e,f)}t.isSharedArrayBuffer=C,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===u(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===u(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===u(e)},t.isGeneratorObject=function(e){return"[object Generator]"===u(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===u(e)},t.isNumberObject=A,t.isStringObject=E,t.isBooleanObject=P,t.isBigIntObject=M,t.isSymbolObject=L,t.isBoxedPrimitive=function(e){return A(e)||E(e)||P(e)||M(e)||L(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(b(e)||C(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},7877:(e,t,i)=>{var n=i(8538),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),i={},n=0;n<t.length;n++)i[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return i},s=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(c(arguments[i]));return t.join(" ")}i=1;for(var n=arguments,o=n.length,r=String(e).replace(s,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return e}})),a=n[i];i<o;a=n[++i])m(a)||!b(a)?r+=" "+a:r+=" "+c(a);return r},t.deprecate=function(e,i){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,i).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var r={},a=/^$/;if(n.env.NODE_DEBUG){var l=n.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+l+"$","i")}function c(e,i){var n={seen:[],stylize:p};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(i)?n.showHidden=i:i&&t._extend(n,i),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),h(n,e,n.depth)}function u(e,t){var i=c.styles[t];return i?"["+c.colors[i][0]+"m"+e+"["+c.colors[i][1]+"m":e}function p(e,t){return e}function h(e,i,n){if(e.customInspect&&i&&z(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var o=i.inspect(n,e);return v(o)||(o=h(e,o,n)),o}var s=function(e,t){if(x(t))return e.stylize("undefined","undefined");if(v(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return _(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,i);if(s)return s;var r=Object.keys(i),a=function(e){var t={};return e.forEach((function(e,i){t[e]=!0})),t}(r);if(e.showHidden&&(r=Object.getOwnPropertyNames(i)),T(i)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return d(i);if(0===r.length){if(z(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(w(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(k(i))return e.stylize(Date.prototype.toString.call(i),"date");if(T(i))return d(i)}var c,u="",p=!1,b=["{","}"];return f(i)&&(p=!0,b=["[","]"]),z(i)&&(u=" [Function"+(i.name?": "+i.name:"")+"]"),w(i)&&(u=" "+RegExp.prototype.toString.call(i)),k(i)&&(u=" "+Date.prototype.toUTCString.call(i)),T(i)&&(u=" "+d(i)),0!==r.length||p&&0!=i.length?n<0?w(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),c=p?function(e,t,i,n,o){for(var s=[],r=0,a=t.length;r<a;++r)E(t,String(r))?s.push(g(e,t,i,n,String(r),!0)):s.push("");return o.forEach((function(o){o.match(/^\d+$/)||s.push(g(e,t,i,n,o,!0))})),s}(e,i,n,a,r):r.map((function(t){return g(e,i,n,a,t,p)})),e.seen.pop(),function(e,t,i){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}(c,u,b)):b[0]+u+b[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,i,n,o,s){var r,a,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),E(n,o)||(r="["+o+"]"),a||(e.seen.indexOf(l.value)<0?(a=m(i)?h(e,l.value,null):h(e,l.value,i-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),x(r)){if(s&&o.match(/^\d+$/))return a;(r=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.slice(1,-1),r=e.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=e.stylize(r,"string"))}return r+": "+a}function f(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function m(e){return null===e}function _(e){return"number"==typeof e}function v(e){return"string"==typeof e}function x(e){return void 0===e}function w(e){return b(e)&&"[object RegExp]"===S(e)}function b(e){return"object"==typeof e&&null!==e}function k(e){return b(e)&&"[object Date]"===S(e)}function T(e){return b(e)&&("[object Error]"===S(e)||e instanceof Error)}function z(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!r[e])if(a.test(e)){var i=n.pid;r[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else r[e]=function(){};return r[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=i(1028),t.isArray=f,t.isBoolean=y,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=_,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=x,t.isRegExp=w,t.types.isRegExp=w,t.isObject=b,t.isDate=k,t.types.isDate=k,t.isError=T,t.types.isNativeError=T,t.isFunction=z,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i(5171);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,i;console.log("%s - %s",(i=[C((e=new Date).getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":"),[e.getDate(),A[e.getMonth()],i].join(" ")),t.format.apply(t,arguments))},t.inherits=i(198),t._extend=function(e,t){if(!t||!b(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function M(e,t){if(!e){var i=new Error("Promise was rejected with a falsy value");i.reason=e,e=i}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,i,n=new Promise((function(e,n){t=e,i=n})),o=[],s=0;s<arguments.length;s++)o.push(arguments[s]);o.push((function(e,n){e?i(e):t(n)}));try{e.apply(this,o)}catch(e){i(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=P,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var s=this,r=function(){return o.apply(s,arguments)};e.apply(this,t).then((function(e){n.nextTick(r.bind(null,null,e))}),(function(e){n.nextTick(M.bind(null,e,r))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},6059:(e,t,i)=>{"use strict";var n=i(7270),o=i(2847),s=i(8179),r=i(9343),a=i(1399),l=r("Object.prototype.toString"),c=i(1432)(),u="undefined"==typeof globalThis?i.g:globalThis,p=o(),h=r("String.prototype.slice"),d=Object.getPrototypeOf,g=r("Array.prototype.indexOf",!0)||function(e,t){for(var i=0;i<e.length;i+=1)if(e[i]===t)return i;return-1},f={__proto__:null};n(p,c&&a&&d?function(e){var t=new u[e];if(Symbol.toStringTag in t){var i=d(t),n=a(i,Symbol.toStringTag);if(!n){var o=d(i);n=a(o,Symbol.toStringTag)}f["$"+e]=s(n.get)}}:function(e){var t=new u[e],i=t.slice||t.set;i&&(f["$"+e]=s(i))}),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!c){var t=h(l(e),8,-1);return g(p,t)>-1?t:"Object"===t&&function(e){var t=!1;return n(f,(function(i,n){if(!t)try{i(e),t=h(n,1)}catch(e){}})),t}(e)}return a?function(e){var t=!1;return n(f,(function(i,n){if(!t)try{"$"+i(e)===n&&(t=h(n,1))}catch(e){}})),t}(e):null}},8840:e=>{"use strict";if(void 0===t){var i=new Error("Cannot find module 'canvas'");throw i.code="MODULE_NOT_FOUND",i}e.exports=t},2258:e=>{"use strict";if(void 0===i){var t=new Error("Cannot find module 'electron/common'");throw t.code="MODULE_NOT_FOUND",t}e.exports=i},4588:t=>{"use strict";if(void 0===e){var i=new Error("Cannot find module 'sharp'");throw i.code="MODULE_NOT_FOUND",i}t.exports=e},9485:(e,t,i)=>{var n,o=i(8891).hp;globalThis,n=(e,t,i)=>(()=>{"use strict";var n={"./src/base/alt1api.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},"./src/base/declarations.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},"./src/base/imagedata-extensions.ts":function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var o=Object.getOwnPropertyDescriptor(t,i);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,o)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageData=void 0;const r=s(i("./src/base/index.ts")),a=s(i("./src/base/nodepolyfill.ts"));!function(){var e="undefined"!=typeof self?self:void 0!==i.g?i.g:null,n=void 0===e.ImageData,o=n;if(!n){e.ImageData;try{let t=new Uint8ClampedArray(4);t[0]=1;let i=new e.ImageData(t,1,1);o=1!=i.data[0]}catch(e){o=!0}}if(o){var s=function(){var e=0,t=arguments[e]instanceof Uint8ClampedArray?arguments[e++]:null,i=arguments[e++],s=arguments[e++];if(n)t||(t=new Uint8ClampedArray(i*s*4)),this.width=i,this.height=s,this.data=t;else if(o){var r=document.createElement("canvas");r.width=i,r.height=s;var a=r.getContext("2d").createImageData(i,s);return t&&a.data.set(t),a}};n||(s.prototype=e.ImageData.prototype),e.ImageData=s,t.ImageData=s}else t.ImageData=e.ImageData}(),t.ImageData.prototype.toDrawableData=function(){return"undefined"==typeof document?a.imageDataToDrawable(this):this},t.ImageData.prototype.putImageData=function(e,t,i){for(var n=0;n<e.width;n++)for(var o=0;o<e.height;o++){var s=4*(n+t)+4*(o+i)*this.width,r=4*n+4*o*e.width;this.data[s]=e.data[r],this.data[s+1]=e.data[r+1],this.data[s+2]=e.data[r+2],this.data[s+3]=e.data[r+3]}},t.ImageData.prototype.pixelOffset=function(e,t){return 4*e+t*this.width*4},t.ImageData.prototype.getPixelHash=function(e){e||(e=new r.Rect(0,0,this.width,this.height));for(var t=0,i=e.x;i<e.x+e.width;i++)for(var n=e.y;n<e.y+e.height;n++){var o=4*i+4*n*this.width;t=((t=((t=((t=(t<<5)-t+this.data[o]|0)<<5)-t+this.data[o+1]|0)<<5)-t+this.data[o+2]|0)<<5)-t+this.data[o+3]|0}return t},t.ImageData.prototype.clone=function(e){let i=new t.ImageData(e.width,e.height);return this.copyTo(i,e.x,e.y,e.width,e.height,0,0),i},t.ImageData.prototype.show=function(e=5,i=5,n=1){if("undefined"!=typeof document){for(var o=document.getElementsByClassName("debugimage");o.length>t.ImageData.prototype.show.maxImages;)o[0].remove();var s=this.toImage();return s.classList.add("debugimage"),s.style.position="absolute",s.style.zIndex="1000",s.style.left=e/n+"px",s.style.top=i/n+"px",s.style.background="purple",s.style.cursor="pointer",s.style.imageRendering="pixelated",s.style.outline="1px solid #0f0",s.style.width=(1==this.width?100:this.width)*n+"px",s.style.height=(1==this.height?100:this.height)*n+"px",s.onclick=function(){s.remove()},document.body.appendChild(s),s}console.error("need a document to show an imagedata object")},t.ImageData.prototype.show.maxImages=10,t.ImageData.prototype.toImage=function(e){if(e||(e=new r.Rect(0,0,this.width,this.height)),"undefined"!=typeof document){var t=document.createElement("canvas");t.width=e.width,t.height=e.height}else t=a.createCanvas(e.width,e.height);return t.getContext("2d").putImageData(this.toDrawableData(),-e.x,-e.y),t},t.ImageData.prototype.getPixel=function(e,t){var i=4*e+4*t*this.width;return[this.data[i],this.data[i+1],this.data[i+2],this.data[i+3]]},t.ImageData.prototype.getPixelValueSum=function(e,t){var i=4*e+4*t*this.width;return this.data[i]+this.data[i+1]+this.data[i+2]},t.ImageData.prototype.getPixelInt=function(e,t){var i=4*e+4*t*this.width;return(this.data[i+3]<<24)+(this.data[i+0]<<16)+(this.data[i+1]<<8)+(0|this.data[i+2])},t.ImageData.prototype.getColorDifference=function(e,t,i,n,o,s=255){var r=4*e+4*t*this.width;return Math.abs(this.data[r]-i)+Math.abs(this.data[r+1]-n)+Math.abs(this.data[r+2]-o)*s/255},t.ImageData.prototype.setPixel=function(e,t,...i){var n,o,s,r,[n,o,s,r]=Array.isArray(i[0])?i[0]:i,a=4*e+4*t*this.width;this.data[a]=n,this.data[a+1]=o,this.data[a+2]=s,this.data[a+3]=null==r?255:r},t.ImageData.prototype.setPixelInt=function(e,t,i){var n=4*e+4*t*this.width;this.data[n]=i>>24&255,this.data[n+1]=i>>16&255,this.data[n+2]=i>>8&255,this.data[n+3]=255&i},t.ImageData.prototype.toFileBytes=function(e,t){return"undefined"!=typeof HTMLCanvasElement?new Promise((i=>this.toImage().toBlob((e=>{var t=new FileReader;t.readAsArrayBuffer(e),t.onload=()=>i(new Uint8Array(t.result))}),e,t))):a.imageDataToFileBytes(this,e,t)},t.ImageData.prototype.toPngBase64=function(){if("undefined"!=typeof HTMLCanvasElement){var e=this.toImage().toDataURL("image/png");return e.slice(e.indexOf(",")+1)}throw new Error("synchronous image conversion not supported in nodejs, try using ImageData.prototype.toFileBytes")},t.ImageData.prototype.pixelCompare=function(e,t=0,i=0,n){return r.ImageDetect.simpleCompare(this,e,t,i,n)},t.ImageData.prototype.copyTo=function(e,t,i,n,o,s,r){const a=0|e.width,l=0|this.width,c=0|n,u=4*Math.floor(n/4),p=new Int32Array(this.data.buffer,this.data.byteOffset,this.data.byteLength/4),h=new Int32Array(e.data.buffer,e.data.byteOffset,e.data.byteLength/4);for(let e=0;e<o;e++){let n=0,o=n+s+(e+r)*a,d=n+t+(e+i)*l;for(;n<u;n+=4)h[o]=p[d],h[o+1]=p[d+1],h[o+2]=p[d+2],h[o+3]=p[d+3],o+=4,d+=4;for(;n<c;n++)h[o]=p[d],o+=1,d+=1}}},"./src/base/imagedetect.ts":function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var o=Object.getOwnPropertyDescriptor(t,i);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,o)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageDataSet=t.webpackImages=t.asyncMap=t.coldif=t.simpleCompareRMSE=t.simpleCompare=t.findSubbuffer=t.findSubimage=t.clearPngColorspace=t.isPngBuffer=t.imageDataFromFileBuffer=t.imageDataFromBase64=t.imageDataFromUrl=void 0;const r=i("./src/base/imgref.ts"),a=s(i("./src/base/wrapper.ts")),l=s(i("./src/base/nodepolyfill.ts")),c=i("./src/base/index.ts");async function u(e){var t=e.startsWith("data:image/png;base64,");if("undefined"!=typeof Image){if(t)return p(e);{let t=await fetch(e);if(!t.ok)throw new Error("failed to load image: "+e);return d(new Uint8Array(await t.arrayBuffer()))}}if(t)return h(e.slice(22));throw new Error("loading remote images in nodejs has been disabled, load the raw bytes and use imageDataFromNodeBuffer instead")}function p(e){if("undefined"==typeof Image)throw new Error("Browser environment expected");return new Promise(((t,i)=>{var n=new Image;n.crossOrigin="crossorigin",n.onload=function(){t(new r.ImgRefCtx(n).toData())},n.onerror=i,n.src=e}))}async function h(e){return"undefined"!=typeof Image?u("data:image/png;base64,"+e):l.imageDataFromBase64(e)}async function d(e){if(g(e)&&f(e),"undefined"!=typeof Image){let t=new Blob([e],{type:"image/png"}),i=URL.createObjectURL(t),n=await p(i);return URL.revokeObjectURL(i),n}return l.imageDataFromBuffer(e)}function g(e){return 137==e[0]&&80==e[1]&&78==e[2]&&71==e[3]}function f(e){if(!g(e))throw new Error("non-png image received");for(var t=8;t<e.length;){var i=16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t++],n=!!(e[t]>>5&1),o=String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3]);if("trns"!=o.toLowerCase()&&n){e[t+0]="n".charCodeAt(0),e[t+1]="o".charCodeAt(0),e[t+2]="P".charCodeAt(0),e[t+3]="E".charCodeAt(0);for(var s=t+4+i,r=4294967295,a=function(e){for(var t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;return e},l=t;l<s;l++)l>=t+4&&(e[l]=0),r=a(255&(r^e[l]))^r>>>8;r^=4294967295,e[t+4+i+0]=r>>24&255,e[t+4+i+1]=r>>16&255,e[t+4+i+2]=r>>8&255,e[t+4+i+3]=255&r}if("IEND"==o)break;t+=4,t+=i,t+=4}}function y(e,t,i=0,n=0,o=e.width,s=e.height){for(var r=[],a=4*t.width,l=4*e.width,c=[],u=0;u<t.height;u++){for(var p=0;p<t.width;p++){var h=4*p+u*a;if(255==t.data[h+3]&&c.push({x:p,y:u}),10==c.length)break}if(10==c.length)break}var d=i+o-t.width,g=n+s-t.height,f=c.length;for(u=n;u<=g;u++)e:for(p=i;p<=d;p++){for(var y=0;y<f;y++){var _=4*(p+c[y].x)+(u+c[y].y)*l,v=4*c[y].x+c[y].y*a,x=0;if(x=(x=(x=x+Math.abs(e.data[_+0]-t.data[v+0])|0)+Math.abs(e.data[_+1]-t.data[v+1])|0)+Math.abs(e.data[_+2]-t.data[v+2])|0,(x*=255/t.data[v+3])>30)continue e}if(m(e,t,p,u,30)!=1/0&&(r.push({x:p,y:u}),r.length>50))return r}return r}function m(e,t,i,n,o=30){if(i<0||n<0)throw new RangeError;if(i+t.width>e.width||n+t.height>e.height)throw new RangeError;-1==o&&(o=1020);for(var s=0,r=8;r>=1;r/=2)for(var a=0;a<t.width;a+=r)for(var l=0;l<t.height;l+=r){var c=4*(i+a)+(n+l)*e.width*4,u=4*a+l*t.width*4,p=0;if(p=(p=(p=p+Math.abs(e.data[c+0]-t.data[u+0])|0)+Math.abs(e.data[c+1]-t.data[u+1])|0)+Math.abs(e.data[c+2]-t.data[u+2])|0,p*=t.data[u+3]/255,1==r&&(s+=p),p>o)return 1/0}return s/t.width/t.height}function _(e){var t={},i=[];for(var n in e)e.hasOwnProperty(n)&&(t[n]=null,i.push(e[n].then(function(e,i){t[e]=i,o[e]=i}.bind(null,n))));var o={},s=Promise.all(i).then((()=>(o.loaded=!0,o)));return Object.defineProperty(o,"loaded",{enumerable:!1,value:!1,writable:!0}),Object.defineProperty(o,"promise",{enumerable:!1,value:s}),Object.defineProperty(o,"raw",{enumerable:!1,value:t}),Object.assign(o,t)}t.imageDataFromUrl=u,t.imageDataFromBase64=h,t.imageDataFromFileBuffer=d,t.isPngBuffer=g,t.clearPngColorspace=f,t.findSubimage=function(e,t,i=0,n=0,o=e.width,s=e.height){if(!e)throw new TypeError;if(!t)throw new TypeError;if(e instanceof r.ImgRefBind&&a.hasAlt1&&alt1.bindFindSubImg){var l=a.encodeImageString(t),c=alt1.bindFindSubImg(e.handle,l,t.width,i,n,o,s);if(!c)throw new a.Alt1Error;return JSON.parse(c)}return y(e.read(),t,i,n,o,s)},t.findSubbuffer=y,t.simpleCompare=m,t.simpleCompareRMSE=function(e,t,i,n){if(i<0||n<0)throw new RangeError;if(i+t.width>e.width||n+t.height>e.height)throw new RangeError;for(var o=0,s=0,r=0;r<t.width;r++)for(var a=0;a<t.height;a++){var l=4*(i+r)+(n+a)*e.width*4,c=4*r+a*t.width*4,u=0;u=(u=(u=u+Math.abs(e.data[l+0]-t.data[c+0])|0)+Math.abs(e.data[l+1]-t.data[c+1])|0)+Math.abs(e.data[l+2]-t.data[c+2])|0;var p=t.data[c+3]/255;s+=p,o+=u*u*p}return Math.sqrt(o/s)},t.coldif=function(e,t,i,n,o,s,r){return(Math.abs(e-n)+Math.abs(t-o)+Math.abs(i-s))*r/255},t.asyncMap=_,t.webpackImages=function(e){return _(e)};class v{constructor(){this.buffers=[]}matchBest(e,t,i,n){let o=null,s=n;for(let n=0;n<this.buffers.length;n++){let r=e.pixelCompare(this.buffers[n],t,i,s);isFinite(r)&&(null==s||r<s)&&(s=r,o=n)}return null==o?null:{index:o,score:s}}static fromFilmStrip(e,t){if(e.width%t!=0)throw new Error("slice size does not fit in base img");let i=new v;for(let n=0;n<e.width;n+=t)i.buffers.push(e.clone(new c.Rect(n,0,t,e.height)));return i}static fromFilmStripUneven(e,t){let i=new v,n=0;for(let o of t)if(i.buffers.push(e.clone(new c.Rect(n,0,o,e.height))),n+=o,n>e.width)throw new Error("sampling filmstrip outside bounds");if(n!=e.width)throw new Error("unconsumed pixels left in film strip imagedata");return i}static fromAtlas(e,t){let i=new v;for(let n of t)i.buffers.push(e.clone(n));return i}}t.ImageDataSet=v},"./src/base/imgref.ts":(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImgRefData=t.ImgRefBind=t.ImgRefCtx=t.ImgRef=void 0;const n=i("./src/base/index.ts");class o{constructor(e,t,i,n){this.t="none",this.x=e,this.y=t,this.width=i,this.height=n}read(e=0,t=0,i=this.width,n=this.height){throw new Error("This imgref ("+this.t+") does not support toData")}findSubimage(e,t=0,i=0,o=this.width,s=this.height){return n.ImageDetect.findSubimage(this,e,t,i,o,s)}toData(e=this.x,t=this.y,i=this.width,n=this.height){return this.read(e-this.x,t-this.y,i,n)}containsArea(e){return this.x<=e.x&&this.y<=e.y&&this.x+this.width>=e.x+e.width&&this.y+this.height>=e.y+e.height}}t.ImgRef=o,t.ImgRefCtx=class extends o{constructor(e,t=0,i=0){if(e instanceof CanvasRenderingContext2D)super(t,i,e.canvas.width,e.canvas.height),this.ctx=e;else if(super(t,i,e.width,e.height),e instanceof HTMLCanvasElement)this.ctx=e.getContext("2d",{willReadFrequently:!0});else{var n=document.createElement("canvas");n.width=e.width,n.height=e.height,this.ctx=n.getContext("2d",{willReadFrequently:!0}),this.ctx.drawImage(e,0,0)}this.t="ctx"}read(e=0,t=0,i=this.width,n=this.height){return this.ctx.getImageData(e,t,i,n)}},t.ImgRefBind=class extends o{constructor(e,t=0,i=0,n=0,o=0){super(t,i,n,o),this.handle=e,this.t="bind"}read(e=0,t=0,i=this.width,o=this.height){return(0,n.transferImageData)(this.handle,e,t,i,o)}},t.ImgRefData=class extends o{constructor(e,t=0,i=0){super(t,i,e.width,e.height),this.buf=e,this.t="data"}read(e=0,t=0,i=this.width,n=this.height){if(0==e&&0==t&&i==this.width&&n==this.height)return this.buf;for(var o=new ImageData(i,n),s=t;s<t+n;s++)for(var r=e;r<e+i;r++){var a=4*(r-e)+(s-t)*i*4,l=4*r+4*s*this.buf.width;o.data[a]=this.buf.data[l],o.data[a+1]=this.buf.data[l+1],o.data[a+2]=this.buf.data[l+2],o.data[a+3]=this.buf.data[l+3]}return o}}},"./src/base/index.ts":function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var o=Object.getOwnPropertyDescriptor(t,i);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,o)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return o(t,e),t},r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.imageDataFromUrl=t.ImageDataSet=t.findSubbuffer=t.simpleCompare=t.findSubimage=t.webpackImages=t.NodePolyfill=t.ImageData=t.Rect=t.PasteInput=t.ImageDetect=void 0,i("./src/base/declarations.ts"),t.ImageDetect=s(i("./src/base/imagedetect.ts")),t.PasteInput=s(i("./src/base/pasteinput.ts"));var l=i("./src/base/rect.ts");Object.defineProperty(t,"Rect",{enumerable:!0,get:function(){return a(l).default}});var c=i("./src/base/imagedata-extensions.ts");Object.defineProperty(t,"ImageData",{enumerable:!0,get:function(){return c.ImageData}}),t.NodePolyfill=s(i("./src/base/nodepolyfill.ts")),r(i("./src/base/imgref.ts"),t),r(i("./src/base/wrapper.ts"),t);var u=i("./src/base/imagedetect.ts");Object.defineProperty(t,"webpackImages",{enumerable:!0,get:function(){return u.webpackImages}}),Object.defineProperty(t,"findSubimage",{enumerable:!0,get:function(){return u.findSubimage}}),Object.defineProperty(t,"simpleCompare",{enumerable:!0,get:function(){return u.simpleCompare}}),Object.defineProperty(t,"findSubbuffer",{enumerable:!0,get:function(){return u.findSubbuffer}}),Object.defineProperty(t,"ImageDataSet",{enumerable:!0,get:function(){return u.ImageDataSet}}),Object.defineProperty(t,"imageDataFromUrl",{enumerable:!0,get:function(){return u.imageDataFromUrl}})},"./src/base/nodepolyfill.ts":(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.imageDataFromBuffer=t.imageDataFromBase64=t.imageDataToFileBytes=t.createCanvas=t.imageDataToDrawable=t.requireElectronCommon=t.requireNodeCanvas=t.requireSharp=t.polyfillRequire=void 0;const n=i("./src/base/index.ts"),s=i("./src/base/imagedetect.ts");var r=null;function a(){try{return r?r("sharp"):i("sharp")}catch(e){}return null}function l(){a();try{return r?r("canvas"):i("canvas")}catch(e){}return null}function c(){try{return r?r("electron/common"):i("electron/common")}catch(e){}return null}function u(e){for(let t=0;t<e.length;t+=4){let i=e[t+2];e[t+2]=e[t+0],e[t+0]=i}}async function p(e){var t,i;if((0,s.clearPngColorspace)(e),t=c()){let i=t.nativeImage.createFromBuffer(e),o=i.toBitmap(),s=i.getSize(),r=new Uint8ClampedArray(o.buffer,o.byteOffset,o.byteLength);return u(r),new n.ImageData(r,s.width,s.height)}if(i=l())return new Promise(((t,s)=>{let r=new i.Image;r.onerror=s,r.onload=()=>{var e=i.createCanvas(r.naturalWidth,r.naturalHeight).getContext("2d");e.drawImage(r,0,0);var o=e.getImageData(0,0,r.naturalWidth,r.naturalHeight);t(new n.ImageData(o.data,o.width,o.height))},r.src=o.from(e.buffer,e.byteOffset,e.byteLength)}));throw new Error("couldn't find built-in canvas, module 'electron/common' or the module 'canvas'")}t.polyfillRequire=function(e){r=e},t.requireSharp=a,t.requireNodeCanvas=l,t.requireElectronCommon=c,t.imageDataToDrawable=function(e){let t=l();if(!t)throw new Error("couldn't find built-in canvas or the module 'canvas'");return new t.ImageData(e.data,e.width,e.height)},t.createCanvas=function(e,t){let i=l();if(!i)throw new Error("couldn't find built-in canvas or the module 'canvas'");return i.createCanvas(e,t)},t.imageDataToFileBytes=async function(e,t,i){var n,s;if(n=c()){let t=n.nativeImage,i=o.from(e.data.slice(e.data.byteOffset,e.data.byteLength));return u(i),t.createFromBitmap(i,{width:e.width,height:e.height}).toPNG()}if(s=a()){let n=s(o.from(e.data.buffer),{raw:{width:e.width,height:e.height,channels:4}});if("image/png"==t)n.png();else{if("image/webp"!=t)throw new Error("unknown image format: "+t);var r={quality:80};"number"==typeof i&&(r.quality=100*i),n.webp(r)}return await n.toBuffer({resolveWithObject:!1}).buffer}throw new Error("coulnd't find build-in image compression methods or the module 'electron/common' or 'sharp'")},t.imageDataFromBase64=function(e){return p(o.from(e,"base64"))},t.imageDataFromBuffer=p},"./src/base/pasteinput.ts":function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var o=Object.getOwnPropertyDescriptor(t,i);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,o)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.fileDialog=t.start=t.startDragNDrop=t.triggerPaste=t.unlisten=t.listen=t.lastref=void 0;const r=i("./src/base/index.ts"),a=s(i("./src/base/imagedetect.ts"));var l=[],c=!1,u=!1;function p(e){for(var i in t.lastref=e,l)l[i].cb(t.lastref)}function h(e){u=!1,p(new r.ImgRefCtx(e))}function d(e,t){var i,n;for(var o in u=!1,l)null===(n=(i=l[o]).error)||void 0===n||n.call(i,t,e)}function g(){window.addEventListener("dragover",(function(e){e.preventDefault()})),window.addEventListener("drop",(function(e){if(e.dataTransfer){var t=function(e){for(var t="",i=0;i<e.length;i++){var n=e[i],o=n.type.match(/^image\/(\w+)$/);if(o){if("png"==o[1])return n;t=o[1]}}return t&&d("notpng","The image you uploaded is not a .png image. Other image type have compression noise and can't be used for image detection."),null}(e.dataTransfer.items);e.preventDefault(),t&&y(t.getAsFile())}}))}function f(){if(!c){c=!0;var e=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),t=function(e){if(e.clipboardData)for(var t=0;t<e.clipboardData.items.length;t++)if(-1!=e.clipboardData.items[t].type.indexOf("image")){var i=e.clipboardData.items[t].getAsFile();if(i){var n=new Image;n.src=(window.URL||window.webkitURL).createObjectURL(i),n.width>0?h(n):n.onload=function(){h(n)}}}};if(e)document.addEventListener("paste",t);else{var i=document.createElement("div");i.setAttribute("contenteditable",""),i.className="forcehidden",i.onpaste=function(e){e.clipboardData&&e.clipboardData.items?t(e):setTimeout((function(){var e=i.children[0];if(e&&"IMG"==e.tagName){var t=new Image;t.src=e.src,t.src.match(/^data:([\w\/]+);/),t.width>0?h(t):t.onload=function(){h(t)},i.innerHTML=""}}),1)},document.body.appendChild(i)}document.addEventListener("keydown",(function(e){"INPUT"!=e.target.tagName&&e.keyCode=="V".charCodeAt(0)&&e.ctrlKey&&(u=!0,setTimeout((function(){u&&d("noimg","You pressed Ctrl+V, but no image was pasted by your browser, make sure your clipboard contains an image, and not a link to an image.")}),1e3),i&&i.focus())}))}}function y(e){if(e){var t=new FileReader;t.onload=function(){var e=new Uint8Array(t.result);a.isPngBuffer(e)&&a.clearPngColorspace(e);var i=new Blob([e],{type:"image/png"}),n=new Image,o=URL.createObjectURL(i);n.onerror=()=>{URL.revokeObjectURL(o),d("invalidfile","The file you uploaded could not be opened as an image.")},n.src=o,n.width>0?(h(n),URL.revokeObjectURL(o)):n.onload=function(){h(n),URL.revokeObjectURL(o)}},t.readAsArrayBuffer(e)}}t.lastref=null,t.listen=function(e,t,i){l.push({cb:e,error:t}),c||f(),i&&g()},t.unlisten=function(e){let t=l.findIndex((t=>t.cb==e));-1!=t&&l.splice(t,1)},t.triggerPaste=p,t.startDragNDrop=g,t.start=f,t.fileDialog=function(){var e=document.createElement("input");return e.type="file",e.accept="image/png",e.onchange=function(){e.files&&e.files[0]&&y(e.files[0])},e.click(),e}},"./src/base/rect.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n}static fromArgs(...e){if("object"==typeof e[0])return new i(e[0].x,e[0].y,e[0].width,e[0].height);if("number"==typeof e[0]&&e.length>=4)return new i(e[0],e[1],e[2],e[3]);throw new Error("invalid rect args")}union(e){var t=Math.min(this.x,e.x),i=Math.min(this.y,e.y);return this.width=Math.max(this.x+this.width,e.x+e.width)-t,this.height=Math.max(this.y+this.height,e.y+e.height)-i,this.x=t,this.y=i,this}includePoint(e,t){this.union(new i(e,t,0,0))}inflate(e,t){this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t}intersect(e){this.x<e.x&&(this.width-=e.x-this.x,this.x=e.x),this.y<e.y&&(this.height-=e.y-this.y,this.y=e.y),this.width=Math.min(this.x+this.width,e.x+e.width)-this.x,this.height=Math.min(this.y+this.height,e.y+e.height)-this.y,(this.width<=0||this.height<=0)&&(this.width=0,this.height=0)}overlaps(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}contains(e){return this.x<=e.x&&this.x+this.width>=e.x+e.width&&this.y<=e.y&&this.y+this.height>=e.y+e.height}containsPoint(e,t){return this.x<=e&&this.x+this.width>e&&this.y<=t&&this.y+this.height>t}}t.default=i},"./src/base/wrapper.ts":function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.captureStream=t.captureMultiAsync=t.captureAsync=t.ImageStreamReader=t.once=t.removeListener=t.on=t.addResizeElement=t.getMousePosition=t.hasAlt1Version=t.resetEnvironment=t.identifyApp=t.unmixColor=t.mixColor=t.encodeImageString=t.decodeImageString=t.transferImageData=t.captureHoldFullRs=t.captureHoldScreen=t.captureHold=t.capture=t.getdisplaybounds=t.requireAlt1=t.openbrowser=t.skinName=t.hasAlt1=t.newestversion=t.Alt1Error=t.NoAlt1Error=void 0;const o=n(i("./src/base/rect.ts")),s=i("./src/base/imgref.ts"),r=i("./src/base/imagedata-extensions.ts");i("./src/base/alt1api.ts");class a extends Error{constructor(){super(),this.message="This method can not be ran outside of Alt1"}}t.NoAlt1Error=a;class l extends Error{}t.Alt1Error=l,t.newestversion="1.5.5",t.hasAlt1="undefined"!=typeof alt1,t.skinName=t.hasAlt1?alt1.skinName:"default";var c=4e6;function u(){if(!t.hasAlt1)throw new a}function p(...e){if(!t.hasAlt1)throw new a;var i=o.default.fromArgs(...e);if(alt1.capture)return new r.ImageData(alt1.capture(i.x,i.y,i.width,i.height),i.width,i.height);var n=new r.ImageData(i.width,i.height);if(i.width*i.height*4<=c){if(!(u=alt1.getRegion(i.x,i.y,i.width,i.height)))return null;d(u,n,0,0,i.width,i.height)}else{var s=i.x,l=alt1.bindRegion(i.x,i.y,i.width,i.height);if(l<=0)return null;for(;s<i.x+i.width;){var u,p=Math.min(i.x+i.width,Math.floor(s+c/4/i.height));if(!(u=alt1.bindGetRegion(l,s,i.y,p-s,i.height)))return null;d(u,n,s-i.x,0,p-s,i.height),s=p}}return n}function h(e,t,i,n){e=Math.round(e),t=Math.round(t),i=Math.round(i),n=Math.round(n),u();var o=alt1.bindRegion(e,t,i,n);if(o<=0)throw new l("capturehold failed");return new s.ImgRefBind(o,e,t,i,n)}function d(e,t,i,n,o,s){var r=atob(e),a=t.data;o|=0,s|=0;for(var l=4*i+4*n*t.width,c=0|t.width,u=0;u<o;u++)for(var p=0;p<s;p++){var h=l+(4*u|0)+(p*c*4|0)|0,d=(4*u|0)+(4*p*o|0)|0;a[h+0|0]=r.charCodeAt(d+2|0),a[h+1|0]=r.charCodeAt(d+1|0),a[h+2|0]=r.charCodeAt(d+0|0),a[h+3|0]=r.charCodeAt(d+3|0)}return t}t.openbrowser=function(e){t.hasAlt1?alt1.openBrowser(e):window.open(e,"_blank")},t.requireAlt1=u,t.getdisplaybounds=function(){return!!t.hasAlt1&&new o.default(alt1.screenX,alt1.screenY,alt1.screenWidth,alt1.screenHeight)},t.capture=p,t.captureHold=h,t.captureHoldScreen=function(e,t,i,n){e=Math.round(e),t=Math.round(t),i=Math.round(i),n=Math.round(n),u();var o=alt1.bindScreenRegion(e,t,i,n);return!(o<=0)&&new s.ImgRefBind(o,e,t,i,n)},t.captureHoldFullRs=function(){return h(0,0,alt1.rsWidth,alt1.rsHeight)},t.transferImageData=function(e,t,i,n,o){if(t=Math.round(t),i=Math.round(i),n=Math.round(n),o=Math.round(o),u(),alt1.bindGetRegionBuffer)return new r.ImageData(alt1.bindGetRegionBuffer(e,t,i,n,o),n,o);for(var s=new r.ImageData(n,o),a=t;;){var p=Math.min(t+n,Math.floor(a+c/4/o)),h=alt1.bindGetRegion(e,a,i,p-a,o);if(!h)throw new l;if(d(h,s,a-t,0,p-a,o),(a=p)==t+n)break}return s},t.decodeImageString=d,t.encodeImageString=function(e,t=0,i=0,n=e.width,o=e.height){for(var s="",r=i;r<i+o;r++)for(var a=t;a<t+n;a++){var l=4*a+4*e.width*r|0;s+=String.fromCharCode(e.data[l+2|0]),s+=String.fromCharCode(e.data[l+1|0]),s+=String.fromCharCode(e.data[l+0|0]),s+=String.fromCharCode(e.data[l+3|0])}return btoa(s)},t.mixColor=function(e,t,i,n=255){return(0|i)+(t<<8)+(e<<16)+(n<<24)},t.unmixColor=function(e){return[e>>16&255,e>>8&255,255&e]},t.identifyApp=function(e){t.hasAlt1&&alt1.identifyAppUrl(e)},t.resetEnvironment=function(){t.hasAlt1="undefined"!=typeof alt1,t.skinName=t.hasAlt1?alt1.skinName:"default"};var g=-1;function f(e){return!!t.hasAlt1&&(-1==g&&(g=alt1.versionint),g>=function(e){var t=e.match(/^(\d+)\.(\d+)\.(\d+)$/);if(!t)throw new RangeError("Invalid version string");return 1e3*+t[1]*1e3+1e3*+t[2]+1*+t[3]}(e))}function y(e,i){t.hasAlt1&&(alt1.events||(alt1.events={}),alt1.events[e]||(alt1.events[e]=[]),alt1.events[e].push(i))}function m(e,i){var n=t.hasAlt1&&alt1.events&&alt1.events[e];if(n){var o=n.indexOf(i);-1!=o&&n.splice(o,1)}}t.hasAlt1Version=f,t.getMousePosition=function(){var e=alt1.mousePosition;return-1==e?null:{x:e>>>16,y:65535&e}},t.addResizeElement=function(e,i,n,o,s){t.hasAlt1&&alt1.userResize&&e.addEventListener("mousedown",(function(e){alt1.userResize(i,n,o,s),e.preventDefault()}))},t.on=y,t.removeListener=m,t.once=function(e,t){var i=n=>{m(e,i),t(n)};y(e,i)};class _{constructor(e,...t){this.framebuffer=null,this.pos=0,this.reading=!1,this.closed=!1,this.pausedindex=-1,this.pausedbuffer=null,this.streamreader=e,t[0]instanceof r.ImageData?this.setFrameBuffer(t[0]):"number"==typeof t[0]&&this.setFrameBuffer(new r.ImageData(t[0],t[1]))}setFrameBuffer(e){if(this.reading)throw new Error("can't change framebuffer while reading");this.framebuffer=e}close(){this.streamreader.cancel()}async nextImage(){if(this.reading)throw new Error("already reading from this stream");if(!this.framebuffer)throw new Error("framebuffer not set");this.reading=!0,Date.now(),Date.now();for(var e=!1;!e;)if(-1!=this.pausedindex&&this.pausedbuffer)e=this.readChunk(this.pausedindex,this.framebuffer.data,this.pausedbuffer);else{Date.now();var t=await this.streamreader.read();if(Date.now(),t.done)throw new Error("Stream closed while reading");var i=t.value;e=this.readChunk(0,this.framebuffer.data,i)}return Date.now(),this.reading=!1,this.framebuffer}readChunk(e,t,i){e|=0;for(var n=0|t.length,o=this.pos,s=0|i.length;e<s;){for(;e<s&&o<n&&(o%16!=0||!((e+16|0)<=s&&(o+16|0)<=n));){var r=o;o%4==0&&(r=r+2|0),o%4==2&&(r=r-2|0),t[0|r]=i[0|e],e=e+1|0,o=o+1|0}if(o%16==0)for(;(e+16|0)<=s&&(o+16|0)<=n;)t[o+0|0]=i[e+2|0],t[o+1|0]=i[e+1|0],t[o+2|0]=i[e+0|0],t[o+3|0]=i[e+3|0],t[o+4|0]=i[e+6|0],t[o+5|0]=i[e+5|0],t[o+6|0]=i[e+4|0],t[o+7|0]=i[e+7|0],t[o+8|0]=i[e+10|0],t[o+9|0]=i[e+9|0],t[o+10|0]=i[e+8|0],t[o+11|0]=i[e+11|0],t[o+12|0]=i[e+14|0],t[o+13|0]=i[e+13|0],t[o+14|0]=i[e+12|0],t[o+15|0]=i[e+15|0],o=o+16|0,e=e+16|0;if(o>=n)return this.pausedbuffer=null,this.pausedindex=-1,this.pos=0,e!=i.length-1&&(this.pausedbuffer=i,this.pausedindex=e),!0}return this.pos=o,this.pausedbuffer=null,this.pausedindex=-1,!1}}async function v(...e){u();var t=o.default.fromArgs(...e);if(alt1.captureAsync){let e=await alt1.captureAsync(t.x,t.y,t.width,t.height);return new r.ImageData(e,t.width,t.height)}if(!f("1.4.6"))return p(t.x,t.y,t.width,t.height);var i="https://alt1api/pixel/getregion/"+encodeURIComponent(JSON.stringify(Object.assign(Object.assign({},t),{format:"raw",quality:1}))),n=await fetch(i);return new _(n.body.getReader(),t.width,t.height).nextImage()}t.ImageStreamReader=_,t.captureAsync=v,t.captureMultiAsync=async function(e){u();var t={};if(alt1.captureMultiAsync){let i=await alt1.captureMultiAsync(e);for(let n in e)i[n]||(t[n]=null),t[n]=new r.ImageData(i[n],e[n].width,e[n].height);return t}var i=[],n=[];for(var o in e)e[o]?(i.push(e[o]),n.push(o)):t[o]=null;if(0==i.length)return t;if(f("1.5.1")){var s=await fetch("https://alt1api/pixel/getregionmulti/"+encodeURIComponent(JSON.stringify({areas:i,format:"raw",quality:1}))),a=new _(s.body.getReader());for(p=0;p<i.length;p++){var l=i[p];a.setFrameBuffer(new r.ImageData(l.width,l.height)),t[n[p]]=await a.nextImage()}}else{for(var c=[],p=0;p<i.length;p++)c.push(v(i[p]));var h=await Promise.all(c);for(p=0;p<i.length;p++)t[n[p]]=h[p]}return t},t.captureStream=function(e,t,i,n,o,s,r){if(u(),!f("1.4.6"))throw new l("This function is not supported in this version of Alt1");var a="https://alt1api/pixel/streamregion/"+encodeURIComponent(JSON.stringify({x:e,y:t,width:i,height:n,fps:o,format:"raw"})),c=(fetch(a).then((async e=>{var t=new _(e.body.getReader(),i,n);try{for(;!t.closed&&!c.closed;){var o=await t.nextImage();c.closed||(s(o),c.framenr++)}}catch(e){if(!c.closed){if(t.close(),!r)throw e;r(e)}}!t.closed&&c.closed&&t.close()})),{x:e,y:t,width:i,height:n,framenr:0,close:()=>{c.closed=!0},closed:!1});return c}},canvas:e=>{if(void 0===t){var i=new Error("Cannot find module 'canvas'");throw i.code="MODULE_NOT_FOUND",i}e.exports=t},"electron/common":e=>{if(void 0===i){var t=new Error("Cannot find module 'electron/common'");throw t.code="MODULE_NOT_FOUND",t}e.exports=i},sharp:t=>{if(void 0===e){var i=new Error("Cannot find module 'sharp'");throw i.code="MODULE_NOT_FOUND",i}t.exports=e}},s={};function r(e){var t=s[e];if(void 0!==t)return t.exports;var i=s[e]={exports:{}};return n[e].call(i.exports,i,i.exports,r),i.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r("./src/base/index.ts")})(),e.exports=n(function(){try{return i(4588)}catch(e){}}(),function(){try{return i(8840)}catch(e){}}(),function(){try{return i(2258)}catch(e){}}())},6008:e=>{var t;globalThis,t=()=>(()=>{"use strict";var e={"./src/fonts/aa_10px_mono.fontmeta.json":e=>{e.exports=JSON.parse('{"chars":[{"width":4,"bonus":40,"chr":"!","pixels":[1,1,238,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,10,238],"secondary":false},{"width":5,"bonus":30,"chr":"\\"","pixels":[1,0,187,1,1,255,2,0,153,2,1,153,3,0,255,3,1,187],"secondary":true},{"width":10,"bonus":160,"chr":"#","pixels":[1,4,238,1,8,255,2,4,255,2,8,255,2,9,221,2,10,255,3,1,153,3,2,187,3,3,221,3,4,255,3,5,255,3,6,204,3,7,170,3,8,255,4,1,153,4,4,255,4,8,255,5,4,255,5,8,255,5,9,204,5,10,255,6,2,187,6,3,221,6,4,255,6,5,255,6,6,221,6,7,187,6,8,255,7,1,153,7,4,255,7,8,255,8,4,255],"secondary":false},{"width":8,"bonus":105,"chr":"$","pixels":[1,2,221,1,3,255,1,4,255,1,9,238,2,1,221,2,2,153,2,5,255,2,10,238,3,0,255,3,1,255,3,5,187,3,6,170,3,10,255,3,11,255,4,1,238,4,6,255,4,10,221,5,2,153,5,7,255,5,8,255,5,9,238],"secondary":false},{"width":10,"bonus":125,"chr":"%","pixels":[1,2,255,1,3,255,1,10,187,2,1,255,2,4,255,2,9,238,3,2,255,3,3,255,3,7,170,3,8,221,4,6,238,5,4,153,5,5,238,5,8,255,5,9,255,6,3,238,6,4,170,6,7,255,6,10,255,7,2,238,7,7,255,7,10,255,8,1,187,8,8,255,8,9,255],"secondary":false},{"width":9,"bonus":150,"chr":"&","pixels":[1,2,204,1,3,255,1,4,204,1,6,204,1,7,255,1,8,255,1,9,204,2,1,204,2,2,170,2,4,153,2,5,255,2,6,187,2,9,187,2,10,187,3,1,255,3,5,255,3,10,255,4,1,255,4,5,255,4,10,255,5,5,255,5,9,204,5,10,170,6,4,255,6,5,255,6,6,255,6,7,255,6,8,238,6,9,153,7,5,255],"secondary":false},{"width":4,"bonus":10,"chr":"\'","pixels":[2,1,221,2,2,187],"secondary":true},{"width":4,"bonus":55,"chr":"(","pixels":[1,3,170,1,4,221,1,5,255,1,6,255,1,7,255,1,8,221,1,9,170,2,1,221,2,2,204,2,10,187,2,11,255],"secondary":false},{"width":4,"bonus":55,"chr":")","pixels":[1,1,221,1,2,204,1,10,187,1,11,255,2,3,170,2,4,221,2,5,255,2,6,255,2,7,255,2,8,221,2,9,170],"secondary":false},{"width":7,"bonus":60,"chr":"*","pixels":[1,3,170,2,3,238,2,4,170,2,5,238,3,1,255,3,2,255,3,3,255,3,4,238,4,3,238,4,4,170,4,5,238,5,3,153],"secondary":false},{"width":9,"bonus":65,"chr":"+","pixels":[1,7,255,2,7,255,3,7,255,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,5,7,255,6,7,255,7,7,255],"secondary":false},{"width":4,"bonus":20,"chr":",","pixels":[1,10,187,1,11,170,2,9,255,2,10,153],"secondary":true},{"width":6,"bonus":20,"chr":"-","pixels":[1,7,255,2,7,255,3,7,255,4,7,170],"secondary":true},{"width":4,"bonus":5,"chr":".","pixels":[1,10,255],"secondary":true},{"width":6,"bonus":55,"chr":"/","pixels":[1,10,187,1,11,187,2,7,204,2,8,255,2,9,187,3,3,170,3,4,255,3,5,221,3,6,153,4,1,255,4,2,204],"secondary":false},{"width":9,"bonus":110,"chr":"0","pixels":[1,3,187,1,4,238,1,5,255,1,6,255,1,7,238,1,8,187,2,2,255,2,9,255,3,1,238,3,10,238,4,1,255,4,10,255,5,1,238,5,10,238,6,2,255,6,9,255,7,3,187,7,4,238,7,5,255,7,6,255,7,7,238,7,8,187],"secondary":false},{"width":7,"bonus":80,"chr":"1","pixels":[1,3,204,1,10,255,2,2,238,2,10,255,3,1,255,3,2,255,3,3,255,3,4,255,3,5,255,3,6,255,3,7,255,3,8,255,3,9,255,3,10,255,4,10,255,5,10,255],"secondary":false},{"width":8,"bonus":110,"chr":"2","pixels":[2,2,255,2,8,204,2,9,255,2,10,255,3,1,204,3,7,221,3,8,170,3,10,255,4,1,255,4,6,204,4,7,170,4,10,255,5,1,221,5,2,153,5,5,187,5,6,204,5,10,255,6,2,221,6,3,255,6,4,255,6,5,170,6,10,255],"secondary":false},{"width":8,"bonus":120,"chr":"3","pixels":[1,9,170,2,1,255,2,9,187,2,10,170,3,1,255,3,5,255,3,10,255,4,1,255,4,3,170,4,4,221,4,5,238,4,10,255,5,1,255,5,2,238,5,3,187,5,5,170,5,6,187,5,9,187,5,10,170,6,1,255,6,6,187,6,7,255,6,8,255,6,9,187],"secondary":false},{"width":9,"bonus":115,"chr":"4","pixels":[1,6,187,1,7,255,2,5,221,2,6,153,2,7,255,3,4,238,3,7,255,4,3,238,4,7,255,5,1,170,5,2,255,5,7,255,6,1,255,6,2,255,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,6,10,255,7,7,255],"secondary":false},{"width":8,"bonus":120,"chr":"5","pixels":[1,9,153,2,1,255,2,2,255,2,3,255,2,4,221,2,5,255,2,9,153,2,10,187,3,1,255,3,5,255,3,10,255,4,1,255,4,5,255,4,10,255,5,1,255,5,5,187,5,6,187,5,9,187,5,10,170,6,1,170,6,6,187,6,7,255,6,8,255,6,9,187],"secondary":false},{"width":9,"bonus":150,"chr":"6","pixels":[1,4,187,1,5,238,1,6,255,1,7,255,1,8,187,2,2,153,2,3,255,2,4,170,2,5,204,2,6,204,2,8,170,2,9,255,3,2,238,3,5,238,3,10,221,4,1,238,4,5,255,4,10,255,5,1,255,5,5,255,5,10,255,6,1,255,6,5,170,6,6,204,6,9,221,6,10,153,7,6,170,7,7,255,7,8,255,7,9,153],"secondary":false},{"width":9,"bonus":95,"chr":"7","pixels":[1,1,255,2,1,255,2,8,153,2,9,255,2,10,204,3,1,255,3,6,153,3,7,255,3,8,187,4,1,255,4,4,153,4,5,255,4,6,187,5,1,255,5,2,187,5,3,255,5,4,187,6,1,255,6,2,170],"secondary":false},{"width":9,"bonus":170,"chr":"8","pixels":[1,2,204,1,3,255,1,4,204,1,6,153,1,7,255,1,8,255,1,9,153,2,1,187,2,2,187,2,4,187,2,5,255,2,6,204,2,9,221,2,10,153,3,1,255,3,5,255,3,10,255,4,1,255,4,5,170,4,10,255,5,1,204,5,2,153,5,5,204,5,6,204,5,10,238,6,2,238,6,3,255,6,4,255,6,5,170,6,6,255,6,9,221,7,7,238,7,8,255,7,9,153],"secondary":false},{"width":9,"bonus":140,"chr":"9","pixels":[1,3,238,1,4,255,1,5,238,2,2,238,2,6,238,2,10,255,3,1,255,3,7,238,3,10,255,4,1,255,4,7,255,4,10,238,5,1,204,5,2,153,5,7,204,5,9,204,5,10,153,6,2,238,6,3,187,6,6,238,6,7,187,6,8,221,6,9,204,7,3,153,7,4,221,7,5,255,7,6,255,7,7,221],"secondary":false},{"width":3,"bonus":10,"chr":":","pixels":[1,3,255,1,9,255],"secondary":true},{"width":4,"bonus":15,"chr":";","pixels":[2,3,255,2,9,255,2,10,204],"secondary":true},{"width":8,"bonus":60,"chr":"<","pixels":[1,5,187,1,6,238,2,5,255,2,6,204,3,4,170,3,7,204,4,4,255,4,7,238,5,4,170,5,8,187,6,3,187,6,8,204],"secondary":false},{"width":9,"bonus":70,"chr":"=","pixels":[1,6,221,1,8,221,2,6,255,2,8,255,3,6,255,3,8,255,4,6,255,4,8,255,5,6,255,5,8,255,6,6,255,6,8,255,7,6,255,7,8,255],"secondary":false},{"width":8,"bonus":75,"chr":">","pixels":[1,3,153,2,3,153,2,4,170,2,8,255,3,4,255,3,7,187,3,8,170,4,4,170,4,5,153,4,7,255,5,5,255,5,6,187,5,7,153,6,5,170,6,6,255],"secondary":false},{"width":6,"bonus":55,"chr":"?","pixels":[1,1,204,2,1,255,2,6,187,2,7,255,2,10,255,3,1,238,3,5,238,3,6,153,4,2,238,4,3,255,4,4,255],"secondary":false},{"width":10,"bonus":165,"chr":"@","pixels":[1,5,153,1,6,255,1,7,255,1,8,255,1,9,187,2,4,204,2,5,187,2,9,170,2,10,255,3,4,204,3,11,255,4,3,238,4,6,238,4,7,255,4,8,238,4,12,187,5,3,255,5,5,204,5,9,221,5,12,255,6,3,255,6,5,255,6,9,255,7,3,221,7,5,255,7,9,255,8,4,221,8,5,255,8,6,255,8,7,255,8,8,255,8,9,255,9,9,255],"secondary":false},{"width":10,"bonus":140,"chr":"A","pixels":[1,9,153,1,10,238,2,7,221,2,8,255,2,9,204,3,4,204,3,5,255,3,6,204,3,7,255,4,1,187,4,2,255,4,3,204,4,7,255,5,1,238,5,2,255,5,3,187,5,7,255,6,3,153,6,4,238,6,5,255,6,6,187,6,7,255,7,6,153,7,7,255,7,8,255,7,9,170,8,9,187,8,10,255],"secondary":false},{"width":9,"bonus":160,"chr":"B","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,1,255,2,6,255,2,10,255,3,1,255,3,6,255,3,10,255,4,1,255,4,6,255,4,10,255,5,1,221,5,2,153,5,5,170,5,6,255,5,9,153,5,10,204,6,2,238,6,3,255,6,4,255,6,5,204,6,7,238,6,8,255,6,9,238],"secondary":false},{"width":10,"bonus":105,"chr":"C","pixels":[1,3,153,1,4,255,1,5,255,1,6,255,1,7,238,2,2,204,2,3,204,2,8,204,2,9,204,3,2,187,3,9,204,4,1,221,4,10,221,5,1,255,5,10,255,6,1,238,6,10,238,7,1,187,7,10,187,8,2,221,8,9,255],"secondary":false},{"width":10,"bonus":160,"chr":"D","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,1,255,2,10,255,3,1,255,3,10,255,4,1,255,4,10,255,5,1,238,5,10,238,6,1,153,6,2,204,6,9,204,6,10,153,7,2,221,7,3,204,7,8,204,7,9,221,8,3,170,8,4,255,8,5,255,8,6,255,8,7,255,8,8,170],"secondary":false},{"width":8,"bonus":105,"chr":"E","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,1,255,2,6,255,2,10,255,3,1,255,3,6,255,3,10,255,4,1,255,4,6,255,4,10,255,5,1,255,5,10,255],"secondary":false},{"width":7,"bonus":85,"chr":"F","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,1,255,2,6,255,3,1,255,3,6,255,4,1,255,4,6,255,5,1,255],"secondary":false},{"width":10,"bonus":145,"chr":"G","pixels":[1,3,153,1,4,255,1,5,255,1,6,255,1,7,255,1,8,153,2,2,204,2,3,187,2,8,204,2,9,221,3,1,153,3,2,187,3,9,187,3,10,170,4,1,255,4,10,255,5,1,255,5,10,255,6,1,238,6,6,170,6,10,204,7,2,204,7,6,255,7,9,238,8,6,255,8,7,255,8,8,255,8,9,255,8,10,255],"secondary":false},{"width":9,"bonus":125,"chr":"H","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,6,255,3,6,255,4,6,255,5,6,255,6,6,255,7,1,255,7,2,255,7,3,255,7,4,255,7,5,255,7,6,255,7,7,255,7,8,255,7,9,255,7,10,255],"secondary":false},{"width":5,"bonus":70,"chr":"I","pixels":[1,1,255,1,10,255,2,1,255,2,2,255,2,3,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,3,1,255,3,10,255],"secondary":false},{"width":8,"bonus":100,"chr":"J","pixels":[1,8,255,1,9,187,2,9,187,2,10,187,3,1,221,3,10,255,4,1,255,4,10,255,5,1,255,5,9,187,5,10,187,6,1,255,6,2,255,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,187],"secondary":false},{"width":9,"bonus":120,"chr":"K","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,6,255,3,6,255,4,4,187,4,5,255,4,6,170,4,7,255,5,2,187,5,3,255,5,8,221,5,9,204,6,1,255,6,2,153,6,9,153,6,10,255],"secondary":false},{"width":8,"bonus":75,"chr":"L","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,10,255,3,10,255,4,10,255,5,10,255,6,10,170],"secondary":false},{"width":11,"bonus":180,"chr":"M","pixels":[1,3,170,1,4,170,1,5,204,1,6,221,1,7,238,1,8,255,1,9,255,1,10,255,2,1,255,2,2,255,2,3,255,2,4,170,3,3,204,3,4,255,3,5,170,4,5,153,4,6,255,4,7,221,5,7,221,5,8,255,6,5,187,6,6,255,6,7,187,7,3,221,7,4,238,8,1,255,8,2,255,8,3,255,8,4,187,8,5,153,9,5,170,9,6,187,9,7,204,9,8,221,9,9,238,9,10,255],"secondary":false},{"width":10,"bonus":145,"chr":"N","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,2,238,2,3,221,3,3,170,3,4,255,4,5,221,4,6,204,5,7,255,6,8,204,6,9,221,7,1,255,7,2,255,7,3,255,7,4,255,7,5,255,7,6,255,7,7,255,7,8,255,7,9,255,7,10,255],"secondary":false},{"width":11,"bonus":130,"chr":"O","pixels":[1,4,255,1,5,255,1,6,255,1,7,238,2,2,204,2,3,204,2,8,204,2,9,204,3,2,187,3,9,187,4,1,221,4,10,221,5,1,255,5,10,255,6,1,221,6,10,221,7,2,204,7,9,221,8,2,187,8,3,221,8,8,221,8,9,170,9,4,221,9,5,255,9,6,255,9,7,204],"secondary":false},{"width":9,"bonus":125,"chr":"P","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,1,255,2,7,255,3,1,255,3,7,255,4,1,255,4,7,255,5,1,187,5,2,187,5,6,187,5,7,187,6,2,187,6,3,255,6,4,255,6,5,255,6,6,187],"secondary":false},{"width":11,"bonus":140,"chr":"Q","pixels":[1,4,255,1,5,255,1,6,255,1,7,238,2,2,204,2,3,204,2,8,204,2,9,204,3,2,187,3,9,187,4,1,238,4,10,238,5,1,255,5,10,255,6,1,221,6,10,221,7,2,204,7,8,238,7,9,221,8,2,187,8,3,221,8,8,238,8,9,255,9,4,221,9,5,255,9,6,255,9,7,204,9,10,187],"secondary":false},{"width":9,"bonus":140,"chr":"R","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,1,255,2,6,255,3,1,255,3,6,255,4,1,255,4,6,255,5,1,204,5,2,153,5,5,153,5,6,221,5,7,238,5,8,238,6,2,221,6,3,255,6,4,255,6,5,221,6,9,238,6,10,221],"secondary":false},{"width":7,"bonus":95,"chr":"S","pixels":[1,2,221,1,3,255,1,4,255,1,9,238,2,1,204,2,2,153,2,5,255,2,10,238,3,1,255,3,5,187,3,6,153,3,10,255,4,1,238,4,6,255,4,10,221,5,2,170,5,7,255,5,8,255,5,9,238],"secondary":false},{"width":10,"bonus":80,"chr":"T","pixels":[1,1,255,2,1,255,3,1,255,4,1,255,4,2,255,4,3,255,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,5,1,255,6,1,255,7,1,255],"secondary":false},{"width":10,"bonus":110,"chr":"U","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,238,2,9,238,3,10,204,4,10,255,5,10,255,6,10,204,7,9,238,8,1,255,8,2,255,8,3,255,8,4,255,8,5,255,8,6,255,8,7,255,8,8,221],"secondary":false},{"width":10,"bonus":110,"chr":"V","pixels":[1,1,238,1,2,153,2,2,187,2,3,255,2,4,221,3,5,187,3,6,255,3,7,204,4,8,204,4,9,255,4,10,204,5,8,204,5,9,255,5,10,204,6,5,187,6,6,255,6,7,204,7,2,187,7,3,255,7,4,221,8,1,238,8,2,153],"secondary":false},{"width":13,"bonus":195,"chr":"W","pixels":[1,1,255,1,2,187,2,3,187,2,4,255,2,5,255,2,6,204,3,7,170,3,8,221,3,9,255,3,10,221,4,7,170,4,8,238,4,9,255,4,10,187,5,3,187,5,4,255,5,5,255,5,6,187,6,1,255,6,2,255,6,3,255,7,3,170,7,4,238,7,5,255,7,6,204,8,7,153,8,8,221,8,9,255,8,10,204,9,7,187,9,8,255,9,9,255,9,10,204,10,3,204,10,4,255,10,5,255,10,6,187,11,1,255,11,2,187],"secondary":false},{"width":9,"bonus":125,"chr":"X","pixels":[1,1,221,1,10,255,2,1,153,2,2,255,2,3,187,2,8,238,2,9,221,3,3,170,3,4,255,3,5,153,3,6,204,3,7,238,4,4,187,4,5,255,4,6,255,5,3,238,5,4,221,5,7,255,5,8,170,6,1,221,6,2,238,6,8,187,6,9,255,7,1,153,7,10,221],"secondary":false},{"width":9,"bonus":80,"chr":"Y","pixels":[1,1,238,2,2,238,2,3,204,3,4,255,3,5,187,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,5,4,238,5,5,204,6,2,221,6,3,238,7,1,255],"secondary":false},{"width":9,"bonus":115,"chr":"Z","pixels":[1,10,170,2,1,255,2,8,153,2,9,255,2,10,255,3,1,255,3,7,238,3,8,221,3,10,255,4,1,255,4,5,187,4,6,255,4,10,255,5,1,255,5,4,255,5,5,187,5,10,255,6,1,255,6,2,204,6,3,221,6,10,255,7,1,255,7,10,255],"secondary":false},{"width":4,"bonus":65,"chr":"[","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,2,1,255,2,11,255],"secondary":false},{"width":6,"bonus":50,"chr":"\\\\","pixels":[1,1,238,1,2,255,1,3,170,2,4,221,2,5,255,2,6,187,3,7,204,3,8,255,3,9,187,4,10,204],"secondary":false},{"width":3,"bonus":65,"chr":"]","pixels":[0,1,255,0,11,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255],"secondary":false},{"width":8,"bonus":55,"chr":"^","pixels":[1,6,170,2,4,221,2,5,238,3,2,255,3,3,187,4,1,187,4,2,255,4,3,153,5,4,255,5,5,204,6,6,204],"secondary":false},{"width":9,"bonus":35,"chr":"_","pixels":[1,11,255,2,11,255,3,11,255,4,11,255,5,11,255,6,11,255,7,11,255],"secondary":false},{"width":8,"bonus":110,"chr":"a","pixels":[1,8,221,1,9,255,2,4,187,2,7,170,2,8,153,2,10,221,3,4,255,3,7,221,3,10,255,4,4,255,4,7,255,4,10,238,5,4,204,5,5,170,5,7,255,5,9,204,6,5,204,6,6,255,6,7,255,6,8,255,6,9,255,6,10,255],"secondary":false},{"width":8,"bonus":135,"chr":"b","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,4,153,2,5,221,2,9,221,2,10,153,3,4,238,3,10,238,4,4,255,4,10,255,5,4,187,5,5,187,5,9,187,5,10,170,6,5,187,6,6,255,6,7,255,6,8,255,6,9,170],"secondary":false},{"width":8,"bonus":60,"chr":"c","pixels":[1,6,255,1,7,255,1,8,255,2,5,221,2,9,221,3,4,238,3,10,238,4,4,255,4,10,255,5,4,221,5,10,221,6,9,204],"secondary":false},{"width":8,"bonus":135,"chr":"d","pixels":[1,5,170,1,6,255,1,7,255,1,8,255,1,9,187,2,4,170,2,5,187,2,9,187,2,10,170,3,4,255,3,10,255,4,4,238,4,10,238,5,4,153,5,5,221,5,9,221,5,10,153,6,1,255,6,2,255,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,6,10,255],"secondary":false},{"width":8,"bonus":100,"chr":"e","pixels":[1,6,255,1,7,255,1,8,255,1,9,153,2,5,204,2,7,255,2,9,204,3,4,255,3,7,255,3,10,238,4,4,255,4,7,255,4,10,255,5,4,170,5,5,187,5,7,255,5,10,221,6,5,153,6,6,238,6,7,255],"secondary":false},{"width":6,"bonus":70,"chr":"f","pixels":[1,4,221,2,2,221,2,3,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,3,1,221,3,4,255,4,1,255,4,4,221],"secondary":false},{"width":8,"bonus":135,"chr":"g","pixels":[1,5,187,1,6,255,1,7,255,1,8,255,1,9,187,2,4,204,2,5,170,2,9,170,2,10,221,2,13,238,3,4,255,3,10,255,3,13,255,4,4,187,4,5,153,4,10,204,4,12,170,4,13,187,5,4,255,5,5,255,5,6,255,5,7,255,5,8,255,5,9,255,5,10,255,5,11,255,5,12,204],"secondary":false},{"width":9,"bonus":100,"chr":"h","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,5,238,3,4,204,4,4,255,5,4,238,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,6,10,255],"secondary":false},{"width":4,"bonus":40,"chr":"i","pixels":[1,1,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255],"secondary":false},{"width":5,"bonus":60,"chr":"j","pixels":[0,13,221,1,13,238,2,1,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255,2,12,255],"secondary":false},{"width":7,"bonus":100,"chr":"k","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,7,255,3,6,187,3,7,255,3,8,170,4,5,255,4,6,170,4,8,187,4,9,221,5,4,255,5,10,255],"secondary":false},{"width":5,"bonus":50,"chr":"l","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,10,255],"secondary":false},{"width":12,"bonus":130,"chr":"m","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,5,238,3,4,204,4,4,255,5,4,221,6,5,238,6,6,255,6,7,255,6,8,255,6,9,255,6,10,255,7,5,204,8,4,255,9,4,255,10,5,255,10,6,255,10,7,255,10,8,255,10,9,255,10,10,255],"secondary":false},{"width":8,"bonus":85,"chr":"n","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,5,238,3,4,204,4,4,255,5,4,238,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,6,10,255],"secondary":false},{"width":9,"bonus":80,"chr":"o","pixels":[1,6,255,1,7,255,1,8,255,2,5,221,2,9,221,3,4,221,3,10,221,4,4,255,4,10,255,5,4,221,5,10,221,6,5,238,6,9,238,7,6,221,7,7,255,7,8,221],"secondary":false},{"width":8,"bonus":130,"chr":"p","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,153,2,5,204,2,9,221,2,10,153,3,4,238,3,10,238,4,4,255,4,10,255,5,4,187,5,5,187,5,9,187,5,10,170,6,5,187,6,6,255,6,7,255,6,8,255,6,9,170],"secondary":false},{"width":8,"bonus":130,"chr":"q","pixels":[1,5,170,1,6,255,1,7,255,1,8,255,1,9,187,2,4,170,2,5,187,2,9,187,2,10,187,3,4,255,3,10,255,4,4,238,4,10,238,5,4,153,5,5,204,5,9,221,5,10,153,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,6,10,255,6,11,255,6,12,255],"secondary":false},{"width":6,"bonus":45,"chr":"r","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,2,5,238,3,4,238],"secondary":false},{"width":6,"bonus":65,"chr":"s","pixels":[1,5,255,1,6,255,1,9,153,1,10,170,2,4,255,2,7,221,2,10,255,3,4,255,3,7,238,3,10,255,4,4,153,4,8,255,4,9,255],"secondary":false},{"width":5,"bonus":65,"chr":"t","pixels":[0,4,255,1,2,238,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,221,2,4,255,2,10,221,3,4,221,3,10,255],"secondary":false},{"width":9,"bonus":85,"chr":"u","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,238,2,10,221,3,10,255,4,10,221,5,9,221,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,6,10,255],"secondary":false},{"width":8,"bonus":75,"chr":"v","pixels":[1,4,238,2,5,187,2,6,255,2,7,204,3,8,221,3,9,255,3,10,170,4,8,153,4,9,255,4,10,238,5,6,221,5,7,255,5,8,170,6,4,255,6,5,204],"secondary":false},{"width":12,"bonus":135,"chr":"w","pixels":[1,4,238,1,5,153,2,5,170,2,6,255,2,7,238,2,8,153,3,8,153,3,9,255,3,10,255,4,8,204,4,9,255,4,10,170,5,5,187,5,6,255,5,7,187,6,5,255,6,6,221,7,7,187,7,8,255,7,9,187,8,9,255,8,10,255,9,6,187,9,7,255,9,8,221,10,4,255,10,5,204],"secondary":false},{"width":8,"bonus":90,"chr":"x","pixels":[1,4,153,1,10,221,2,4,204,2,5,238,2,9,255,2,10,153,3,6,238,3,7,238,3,8,221,4,6,238,4,7,238,4,8,221,5,4,204,5,5,238,5,9,255,5,10,153,6,4,153,6,10,221],"secondary":false},{"width":9,"bonus":100,"chr":"y","pixels":[1,4,238,1,13,204,2,5,221,2,6,255,2,7,170,2,13,255,3,7,153,3,8,238,3,9,238,3,12,238,3,13,153,4,9,255,4,10,255,4,11,187,5,6,170,5,7,255,5,8,221,6,4,238,6,5,255,6,6,170],"secondary":false},{"width":8,"bonus":95,"chr":"z","pixels":[1,4,255,1,10,255,2,4,255,2,8,187,2,9,255,2,10,255,3,4,255,3,7,221,3,8,187,3,10,255,4,4,255,4,6,238,4,7,153,4,10,255,5,4,255,5,5,255,5,10,255,6,4,238,6,10,255],"secondary":false},{"width":6,"bonus":55,"chr":"{","pixels":[1,6,255,2,2,255,2,3,255,2,4,255,2,5,221,2,7,238,2,8,255,2,9,255,2,10,255,3,1,255,3,11,255],"secondary":false},{"width":4,"bonus":60,"chr":"|","pixels":[1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255],"secondary":false},{"width":5,"bonus":55,"chr":"}","pixels":[1,1,255,1,11,255,2,2,221,2,3,255,2,4,255,2,5,238,2,7,255,2,8,255,2,9,255,2,10,221,3,6,255],"secondary":false},{"width":8,"bonus":30,"chr":"~","pixels":[1,6,238,2,5,255,3,5,238,4,6,238,5,6,255,6,5,238],"secondary":false}],"width":13,"spacewidth":3,"shadow":false,"height":14,"basey":10}')}},t={},i=function i(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}("./src/fonts/aa_10px_mono.fontmeta.json");return i})(),e.exports=t()},9001:e=>{var t;globalThis,t=()=>(()=>{"use strict";var e={"./src/fonts/aa_8px.fontmeta.json":e=>{e.exports=JSON.parse('{"chars":[{"width":7,"bonus":140,"chr":"a","pixels":[0,7,187,255,1,3,221,255,1,6,169,255,1,7,164,132,1,8,255,255,2,3,255,255,2,4,221,0,2,5,196,243,2,7,170,0,2,8,255,255,2,9,255,0,3,3,255,255,3,4,255,0,3,5,255,255,3,6,187,0,3,8,221,255,3,9,255,0,4,4,254,239,4,5,255,255,4,6,254,204,4,7,255,255,4,8,240,253,4,9,221,0,5,5,240,36,5,6,255,34,5,7,211,41,5,8,255,34,5,9,238,0],"secondary":false},{"width":7,"bonus":175,"chr":"b","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,211,41,1,3,248,209,1,4,243,178,1,5,230,75,1,6,230,75,1,7,243,178,1,8,246,194,1,9,204,0,2,3,255,255,2,4,204,0,2,5,170,0,2,8,255,255,2,9,187,0,3,3,255,255,3,4,255,0,3,8,255,255,3,9,255,0,4,3,169,255,4,4,254,171,4,7,169,255,4,9,255,0,5,4,204,128,5,5,232,205,5,6,205,233,5,8,170,0,6,6,187,0,6,7,187,0],"secondary":false},{"width":7,"bonus":95,"chr":"c","pixels":[0,5,169,255,0,6,187,255,1,4,187,255,1,6,193,90,1,7,237,201,1,8,164,185,2,3,255,255,2,5,187,0,2,8,255,255,3,3,255,255,3,4,255,0,3,8,255,255,3,9,255,0,4,3,221,255,4,4,255,34,4,8,221,255,4,9,255,0,5,4,226,39,5,9,221,0],"secondary":false},{"width":7,"bonus":180,"chr":"d","pixels":[0,5,187,255,0,6,187,255,1,4,169,255,1,6,205,85,1,7,232,187,1,8,203,213,2,3,255,255,2,5,170,0,2,8,255,255,2,9,170,0,3,3,255,255,3,4,255,0,3,8,255,255,3,9,255,0,4,3,203,255,4,4,254,171,4,7,169,255,4,8,187,255,4,9,255,0,5,1,203,255,5,2,225,251,5,3,225,251,5,4,248,227,5,5,244,231,5,6,230,245,5,7,230,245,5,8,237,219,5,9,187,0,6,2,204,0,6,3,221,0,6,4,221,0,6,5,221,0,6,6,221,0,6,7,221,0,6,8,221,0,6,9,204,0],"secondary":false},{"width":7,"bonus":135,"chr":"e","pixels":[0,5,187,255,0,6,169,255,1,4,187,255,1,5,255,255,1,6,209,104,1,7,237,219,2,3,255,255,2,5,255,255,2,6,255,0,2,8,255,255,3,3,255,255,3,4,255,0,3,5,255,255,3,6,255,0,3,8,255,255,3,9,255,0,4,3,187,255,4,4,255,119,4,5,255,255,4,6,255,0,4,8,221,255,4,9,255,0,5,4,224,155,5,5,227,229,5,6,255,0,5,9,221,0,6,6,204,0],"secondary":false},{"width":4,"bonus":90,"chr":"f","pixels":[0,3,203,255,1,2,221,255,1,3,255,255,1,4,248,227,1,5,225,251,1,6,225,251,1,7,225,251,1,8,210,247,2,1,255,255,2,3,255,255,2,4,255,0,2,5,221,0,2,6,221,0,2,7,221,0,2,8,221,0,2,9,204,0,3,2,255,0,3,4,255,0],"secondary":false},{"width":7,"bonus":200,"chr":"g","pixels":[0,5,187,255,0,6,187,255,1,3,169,255,1,4,153,255,1,5,155,112,1,6,205,85,1,7,232,187,1,8,184,189,1,11,153,255,2,3,255,255,2,4,170,0,2,5,153,0,2,8,255,255,2,11,245,247,3,3,255,255,3,4,255,0,3,8,255,255,3,9,255,0,3,11,221,255,4,3,221,255,4,4,255,136,4,7,153,255,4,8,221,255,4,9,255,85,4,10,203,255,5,3,203,255,5,4,250,226,5,5,239,236,5,6,230,245,5,7,230,245,5,8,241,234,5,9,243,178,5,11,204,0,6,4,204,0,6,5,221,0,6,6,221,0,6,7,221,0,6,8,221,0,6,9,221,0,6,10,170,0],"secondary":false},{"width":7,"bonus":165,"chr":"h","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,211,41,1,3,243,178,1,4,248,209,1,5,230,75,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,3,255,255,2,4,170,0,2,5,204,0,3,3,255,255,3,4,255,0,4,3,169,255,4,4,255,221,4,5,221,255,4,6,221,255,4,7,221,255,4,8,203,255,5,4,175,25,5,5,226,39,5,6,226,39,5,7,226,39,5,8,226,39,5,9,204,0],"secondary":false},{"width":3,"bonus":70,"chr":"i","pixels":[0,1,237,255,0,3,203,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,238,0,1,4,211,41,1,5,226,39,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0],"secondary":false},{"width":4,"bonus":90,"chr":"j","pixels":[0,11,153,255,1,11,169,255,2,1,203,255,2,3,203,255,2,4,225,251,2,5,225,251,2,6,225,251,2,7,225,251,2,8,225,251,2,9,225,251,3,2,204,0,3,4,204,0,3,5,221,0,3,6,221,0,3,7,221,0,3,8,221,0,3,9,221,0,3,10,221,0],"secondary":false},{"width":6,"bonus":130,"chr":"k","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,255,255,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,4,166,235,2,5,255,255,2,6,255,221,3,3,203,255,3,5,153,0,3,6,255,51,3,7,250,226,3,8,160,217,4,4,204,0,4,8,239,145],"secondary":false},{"width":3,"bonus":75,"chr":"l","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,226,39,1,6,226,39,1,7,226,39,1,8,255,255,2,9,255,0],"secondary":false},{"width":10,"bonus":210,"chr":"m","pixels":[0,3,203,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,4,248,227,1,5,230,75,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,3,237,255,2,5,221,0,3,3,255,255,3,4,238,0,4,3,153,255,4,4,255,255,4,5,221,255,4,6,221,255,4,7,221,255,4,8,203,255,5,4,228,209,5,5,255,68,5,6,226,39,5,7,226,39,5,8,226,39,5,9,204,0,6,3,255,255,6,5,187,0,7,3,237,255,7,4,255,85,8,4,249,174,8,5,232,243,8,6,225,251,8,7,225,251,8,8,210,247,9,5,170,0,9,6,221,0,9,7,221,0,9,8,221,0,9,9,204,0],"secondary":false},{"width":7,"bonus":140,"chr":"n","pixels":[0,3,203,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,4,248,227,1,5,232,93,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,3,237,255,2,5,221,0,3,3,255,255,3,4,238,0,4,3,237,255,4,4,255,85,5,4,249,174,5,5,232,243,5,6,225,251,5,7,225,251,5,8,210,247,6,5,170,0,6,6,221,0,6,7,221,0,6,8,221,0,6,9,204,0],"secondary":false},{"width":8,"bonus":120,"chr":"o","pixels":[0,5,187,255,0,6,169,255,1,4,203,255,1,6,209,104,1,7,244,231,2,3,237,255,2,5,204,0,2,8,252,241,3,3,255,255,3,4,238,0,3,8,255,255,3,9,238,0,4,3,237,255,4,4,255,0,4,8,255,255,4,9,255,0,5,4,251,207,5,7,221,255,5,9,255,0,6,5,237,183,6,6,192,225,6,8,221,0,7,6,170,0,7,7,170,0],"secondary":false},{"width":6,"bonus":170,"chr":"p","pixels":[0,3,237,255,0,4,255,255,0,5,187,255,0,6,203,255,0,7,255,255,0,8,221,255,0,9,221,255,0,10,221,255,1,3,255,255,1,4,240,36,1,5,255,0,1,6,187,0,1,7,211,41,1,8,254,239,1,9,221,0,1,10,221,0,1,11,221,0,2,3,255,255,2,4,255,0,2,8,255,255,2,9,238,0,3,3,237,255,3,4,255,34,3,8,237,255,3,9,255,0,4,4,253,240,4,5,255,255,4,6,255,255,4,7,237,255,4,9,238,0,5,5,239,18,5,6,255,17,5,7,255,0,5,8,238,0],"secondary":false},{"width":7,"bonus":165,"chr":"q","pixels":[0,5,187,255,0,6,187,255,1,3,169,255,1,4,153,255,1,5,155,112,1,6,205,85,1,7,228,171,1,8,209,207,2,3,255,255,2,4,170,0,2,5,153,0,2,8,255,255,2,9,170,0,3,3,237,255,3,4,255,17,3,8,237,255,3,9,255,0,4,3,255,255,4,4,255,255,4,5,191,250,4,6,187,255,4,7,255,255,4,8,239,254,4,9,253,223,4,10,221,255,5,4,255,34,5,5,255,34,5,6,196,45,5,7,196,45,5,8,255,34,5,9,240,36,5,10,226,39,5,11,221,0],"secondary":false},{"width":4,"bonus":85,"chr":"r","pixels":[0,3,203,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,3,187,255,1,4,244,213,1,5,232,93,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,3,255,255,2,4,187,0,2,5,204,0,3,4,255,0],"secondary":false},{"width":6,"bonus":100,"chr":"s","pixels":[0,4,187,255,1,3,255,255,1,5,250,243,1,8,255,255,2,3,255,255,2,4,255,0,2,5,155,196,2,6,246,123,2,8,255,255,2,9,255,0,3,3,255,255,3,4,255,0,3,6,245,247,3,7,164,132,3,8,255,255,3,9,255,0,4,4,255,17,4,7,250,191,4,9,255,0,5,8,187,0],"secondary":false},{"width":5,"bonus":80,"chr":"t","pixels":[1,2,221,255,1,3,255,255,1,4,235,240,1,5,221,255,1,6,221,255,1,7,169,255,2,3,255,255,2,4,255,34,2,5,226,39,2,6,226,39,2,7,232,93,2,8,249,243,3,4,255,0,3,8,187,209,3,9,238,0,4,9,153,0],"secondary":false},{"width":6,"bonus":135,"chr":"u","pixels":[0,3,203,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,169,255,1,4,211,41,1,5,226,39,1,6,226,39,1,7,232,93,1,8,249,243,2,8,255,255,2,9,238,0,3,8,203,255,3,9,255,0,4,3,203,255,4,4,221,255,4,5,221,255,4,6,203,255,4,7,255,255,4,8,228,247,4,9,204,0,5,4,211,41,5,5,226,39,5,6,226,39,5,7,211,41,5,8,255,34,5,9,221,0],"secondary":false},{"width":6,"bonus":95,"chr":"v","pixels":[0,3,237,255,1,4,247,141,1,5,245,247,1,6,203,255,2,6,241,54,2,7,255,255,2,8,255,255,3,5,153,255,3,6,255,255,3,7,173,226,3,8,255,51,3,9,255,0,4,3,237,255,4,4,203,255,4,6,153,0,4,7,255,0,4,8,153,0,5,4,238,0,5,5,204,0],"secondary":false},{"width":10,"bonus":170,"chr":"w","pixels":[1,3,153,255,1,4,243,249,1,5,187,255,2,4,153,0,2,5,243,71,2,6,228,171,2,7,243,249,2,8,187,255,3,6,217,239,3,7,248,244,3,8,248,157,3,9,187,0,4,3,169,255,4,4,255,255,4,7,204,0,4,8,238,0,4,9,153,0,5,4,244,231,5,5,255,221,5,6,191,159,6,5,223,19,6,6,237,128,6,7,255,255,6,8,223,253,7,6,239,254,7,7,227,229,7,8,255,119,7,9,221,0,8,3,237,255,8,4,203,255,8,7,238,0,8,8,204,0,9,4,238,0,9,5,204,0],"secondary":false},{"width":6,"bonus":95,"chr":"x","pixels":[0,8,169,255,1,3,169,255,1,4,224,232,1,7,221,255,1,9,170,0,2,4,193,90,2,5,255,255,2,6,240,253,2,8,221,0,3,4,255,255,3,5,155,196,3,6,255,187,3,7,250,191,4,3,221,255,4,5,255,0,4,7,209,104,4,8,255,255,5,4,221,0,5,9,255,0],"secondary":false},{"width":6,"bonus":110,"chr":"y","pixels":[0,3,255,255,0,4,153,255,0,11,221,255,1,4,255,85,1,5,234,222,1,6,228,247,1,11,196,243,2,6,207,21,2,7,246,194,2,8,255,255,2,9,237,255,3,6,237,255,3,7,191,250,3,8,205,85,3,9,255,0,3,10,238,0,4,3,203,255,4,4,221,255,4,7,238,0,4,8,187,0,5,4,204,0,5,5,221,0],"secondary":false},{"width":6,"bonus":130,"chr":"z","pixels":[0,3,153,255,0,8,203,255,1,3,255,255,1,4,153,0,1,7,221,255,1,8,255,255,1,9,204,0,2,3,255,255,2,4,255,0,2,6,255,255,2,8,255,255,2,9,255,0,3,3,255,255,3,4,254,171,3,5,169,255,3,7,255,0,3,8,255,255,3,9,255,0,4,3,255,255,4,4,255,119,4,5,170,0,4,6,170,0,4,8,255,255,4,9,255,0,5,4,255,0,5,9,255,0],"secondary":false},{"width":8,"bonus":155,"chr":"A","pixels":[0,8,153,255,1,6,221,255,1,7,237,255,1,9,153,0,2,3,169,255,2,4,255,255,2,5,187,255,2,6,255,255,2,7,221,0,2,8,238,0,3,1,255,255,3,2,255,255,3,4,170,0,3,5,255,0,3,6,255,255,3,7,255,0,4,2,255,255,4,3,254,239,4,4,184,189,4,6,255,255,4,7,255,0,5,3,255,34,5,4,247,141,5,5,255,255,5,6,255,255,5,7,255,102,6,6,255,85,6,7,255,187,6,8,255,255,7,8,187,0,7,9,255,0],"secondary":false},{"width":7,"bonus":225,"chr":"B","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,1,255,255,1,2,211,41,1,3,226,39,1,4,255,255,1,5,226,39,1,6,226,39,1,7,226,39,1,8,255,255,1,9,204,0,2,1,255,255,2,2,255,0,2,4,255,255,2,5,255,0,2,8,255,255,2,9,255,0,3,1,255,255,3,2,255,0,3,4,255,255,3,5,255,0,3,8,255,255,3,9,255,0,4,1,221,255,4,2,255,85,4,4,255,255,4,5,254,171,4,8,203,255,4,9,255,0,5,2,243,178,5,3,198,219,5,5,255,102,5,6,232,205,5,7,180,217,5,9,204,0,6,3,170,0,6,4,170,0,6,7,187,0,6,8,153,0],"secondary":false},{"width":9,"bonus":155,"chr":"C","pixels":[0,4,187,255,0,5,187,255,1,2,221,255,1,3,153,255,1,4,155,112,1,5,205,85,1,6,228,171,1,7,224,232,2,1,169,255,2,3,221,0,2,4,153,0,2,7,194,135,2,8,237,183,3,1,255,255,3,2,170,0,3,8,255,255,3,9,170,0,4,1,255,255,4,2,255,0,4,8,255,255,4,9,255,0,5,1,255,255,5,2,255,0,5,8,255,255,5,9,255,0,6,1,169,255,6,2,255,102,6,8,169,255,6,9,255,0,7,2,181,48,7,9,170,0],"secondary":false},{"width":8,"bonus":200,"chr":"D","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,1,255,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,226,39,1,6,226,39,1,7,226,39,1,8,255,255,1,9,204,0,2,1,255,255,2,2,255,0,2,8,255,255,2,9,255,0,3,1,255,255,3,2,255,0,3,8,255,255,3,9,255,0,4,1,203,255,4,2,255,68,4,8,203,255,4,9,255,0,5,2,248,227,5,3,168,207,5,7,221,255,5,9,204,0,6,3,237,128,6,4,223,214,6,5,205,233,6,6,155,196,6,8,221,0,7,5,187,0,7,6,187,0],"secondary":false},{"width":6,"bonus":180,"chr":"E","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,1,255,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,255,255,1,6,226,39,1,7,226,39,1,8,255,255,1,9,204,0,2,1,255,255,2,2,255,0,2,5,255,255,2,6,255,0,2,8,255,255,2,9,255,0,3,1,255,255,3,2,255,0,3,5,255,255,3,6,255,0,3,8,255,255,3,9,255,0,4,1,153,255,4,2,255,0,4,6,255,0,4,8,221,255,4,9,255,0,5,2,153,0,5,9,221,0],"secondary":false},{"width":6,"bonus":135,"chr":"F","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,1,255,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,255,255,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,1,255,255,2,2,255,0,2,5,255,255,2,6,255,0,3,1,255,255,3,2,255,0,3,5,255,255,3,6,255,0,4,2,255,0,4,6,255,0],"secondary":false},{"width":9,"bonus":200,"chr":"G","pixels":[0,4,169,255,0,5,187,255,1,2,203,255,1,3,153,255,1,5,193,90,1,6,224,155,1,7,237,238,2,1,169,255,2,3,204,0,2,4,153,0,2,7,175,124,2,8,246,194,3,1,255,255,3,2,170,0,3,8,255,255,3,9,187,0,4,1,255,255,4,2,255,0,4,8,255,255,4,9,255,0,5,1,255,255,5,2,255,0,5,8,237,255,5,9,255,0,6,1,169,255,6,2,255,85,6,5,255,255,6,7,153,255,6,8,169,255,6,9,238,0,7,2,175,25,7,5,153,255,7,6,255,221,7,7,225,251,7,8,234,222,7,9,170,0,8,6,153,0,8,7,221,0,8,8,221,0,8,9,204,0],"secondary":false},{"width":8,"bonus":200,"chr":"H","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,255,255,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,5,255,255,2,6,255,0,3,5,255,255,3,6,255,0,4,5,255,255,4,6,255,0,5,5,255,255,5,6,255,34,6,1,203,255,6,2,225,251,6,3,225,251,6,4,225,251,6,5,225,251,6,6,255,221,6,7,225,251,6,8,210,247,7,2,204,0,7,3,221,0,7,4,221,0,7,5,221,0,7,6,221,0,7,7,221,0,7,8,221,0,7,9,204,0],"secondary":false},{"width":4,"bonus":110,"chr":"I","pixels":[0,1,191,255,0,8,191,255,1,1,255,255,1,2,255,255,1,3,255,255,1,4,255,255,1,5,255,255,1,6,255,255,1,7,255,255,1,8,255,255,1,9,191,0,2,1,191,255,2,2,255,0,2,3,255,0,2,4,255,0,2,5,255,0,2,6,255,0,2,7,255,0,2,8,255,191,2,9,255,0,3,2,192,0,3,9,191,0],"secondary":false},{"width":6,"bonus":130,"chr":"J","pixels":[0,6,153,255,0,7,153,255,1,7,194,135,1,8,234,222,2,1,221,255,2,8,255,255,2,9,204,0,3,1,255,255,3,2,226,39,3,8,203,255,3,9,255,0,4,1,203,255,4,2,255,221,4,3,225,251,4,4,225,251,4,5,225,251,4,6,225,251,4,7,166,235,4,9,204,0,5,2,204,0,5,3,221,0,5,4,221,0,5,5,221,0,5,6,221,0,5,7,221,0,5,8,153,0],"secondary":false},{"width":7,"bonus":155,"chr":"K","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,211,41,1,3,226,39,1,4,255,255,1,5,226,39,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,4,255,255,2,5,255,102,3,3,221,255,3,5,254,171,3,6,224,232,4,1,203,255,4,2,153,255,4,4,221,0,4,6,193,90,4,7,251,242,4,8,173,226,5,2,204,0,5,3,153,0,5,8,247,141,5,9,153,0],"secondary":false},{"width":6,"bonus":115,"chr":"L","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,226,39,1,6,226,39,1,7,226,39,1,8,255,255,1,9,204,0,2,8,255,255,2,9,255,0,3,8,255,255,3,9,255,0,4,8,255,255,4,9,255,0,5,9,255,0],"secondary":false},{"width":9,"bonus":240,"chr":"M","pixels":[0,1,245,255,0,2,255,255,0,3,255,255,0,4,255,255,0,5,255,255,0,6,255,255,0,7,255,255,0,8,255,255,1,2,251,173,1,3,255,225,1,4,255,85,1,5,255,0,1,6,255,0,1,7,255,0,1,8,255,0,1,9,255,0,2,3,191,83,2,4,249,212,2,5,212,229,3,5,226,119,3,6,249,237,3,7,165,227,4,6,241,245,4,7,245,155,4,8,155,32,5,4,207,255,5,5,191,254,5,7,232,0,6,2,169,255,6,3,223,255,6,5,207,0,6,6,190,0,7,1,245,255,7,2,255,255,7,3,255,255,7,4,255,255,7,5,255,255,7,6,255,255,7,7,255,255,7,8,255,255,8,2,245,0,8,3,255,0,8,4,255,0,8,5,255,0,8,6,255,0,8,7,255,0,8,8,255,0,8,9,255,0],"secondary":false},{"width":8,"bonus":200,"chr":"N","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,2,255,255,1,3,235,111,1,4,226,39,1,5,226,39,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,3,255,221,2,4,163,160,3,4,246,194,3,5,214,223,4,5,214,122,4,6,246,229,5,6,163,160,5,7,255,255,6,1,203,255,6,2,225,251,6,3,225,251,6,4,225,251,6,5,225,251,6,6,225,251,6,7,235,240,6,8,254,204,7,2,204,0,7,3,221,0,7,4,221,0,7,5,221,0,7,6,221,0,7,7,221,0,7,8,221,0,7,9,204,0],"secondary":false},{"width":10,"bonus":200,"chr":"O","pixels":[0,4,187,255,0,5,169,255,1,2,203,255,1,3,153,255,1,5,205,85,1,6,226,192,1,7,224,232,2,1,153,255,2,3,204,0,2,4,153,0,2,7,209,145,2,8,234,167,3,1,255,255,3,2,153,0,3,8,255,255,3,9,153,0,4,1,255,255,4,2,255,0,4,8,255,255,4,9,255,0,5,1,255,255,5,2,255,0,5,8,255,255,5,9,255,0,6,1,153,255,6,2,255,102,6,8,153,255,6,9,255,0,7,2,234,222,7,3,194,201,7,6,169,255,7,7,203,255,7,9,153,0,8,3,225,116,8,4,228,209,8,5,192,225,8,7,170,0,8,8,204,0,9,5,187,0,9,6,170,0],"secondary":false},{"width":7,"bonus":165,"chr":"P","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,1,255,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,255,255,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,1,255,255,2,2,255,0,2,5,255,255,2,6,255,0,3,1,255,255,3,2,255,0,3,5,255,255,3,6,255,0,4,1,187,255,4,2,255,136,4,5,187,255,4,6,255,0,5,2,224,155,5,3,239,236,5,6,187,0,6,4,221,0],"secondary":false},{"width":9,"bonus":185,"chr":"Q","pixels":[0,4,187,255,0,5,187,255,1,2,221,255,1,4,155,112,1,5,205,85,1,6,228,171,1,7,235,240,2,1,187,255,2,3,221,0,2,7,187,116,2,8,243,178,3,1,255,255,3,2,187,0,3,8,255,255,3,9,170,0,4,1,255,255,4,2,255,0,4,8,255,255,4,9,255,0,5,1,237,255,5,2,255,0,5,8,237,255,5,9,255,0,6,2,251,207,6,7,255,255,6,9,238,0,7,3,255,255,7,4,203,255,7,5,221,255,7,6,255,255,7,7,155,196,7,8,254,204,8,4,255,17,8,5,207,21,8,6,221,0,8,7,255,0,8,9,204,0],"secondary":false},{"width":7,"bonus":180,"chr":"R","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,1,255,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,255,255,1,6,226,39,1,7,226,39,1,8,226,39,1,9,204,0,2,1,255,255,2,2,255,0,2,5,255,255,2,6,255,0,3,1,255,255,3,2,255,0,3,5,255,255,3,6,255,187,4,2,254,239,4,3,203,255,4,4,255,255,4,6,255,68,4,7,250,243,4,8,181,239,5,3,239,18,5,4,204,0,5,5,255,0,5,8,245,107,5,9,170,0],"secondary":false},{"width":6,"bonus":130,"chr":"S","pixels":[0,2,153,255,0,3,169,255,1,1,203,255,1,3,187,116,1,4,244,231,1,8,243,249,2,1,255,255,2,2,204,0,2,4,198,219,2,5,232,93,2,8,255,255,2,9,238,0,3,1,255,255,3,2,255,0,3,5,255,255,3,8,255,255,3,9,255,0,4,1,169,255,4,2,255,68,4,5,160,217,4,6,255,221,4,7,237,255,4,9,255,0,5,2,170,0,5,7,223,19,5,8,238,0],"secondary":false},{"width":8,"bonus":125,"chr":"T","pixels":[0,1,255,255,1,1,255,255,1,2,255,0,2,1,255,255,2,2,255,34,3,1,255,255,3,2,255,221,3,3,225,251,3,4,225,251,3,5,225,251,3,6,225,251,3,7,225,251,3,8,210,247,4,1,255,255,4,2,255,0,4,3,221,0,4,4,221,0,4,5,221,0,4,6,221,0,4,7,221,0,4,8,221,0,4,9,204,0,5,1,255,255,5,2,255,0,6,2,255,0],"secondary":false},{"width":8,"bonus":165,"chr":"U","pixels":[0,1,203,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,187,255,1,2,211,41,1,3,226,39,1,4,226,39,1,5,226,39,1,6,230,75,1,7,232,187,1,8,184,189,2,8,255,255,3,8,255,255,3,9,255,0,4,8,221,255,4,9,255,0,5,1,203,255,5,2,221,255,5,3,221,255,5,4,221,255,5,5,221,255,5,6,255,255,5,7,237,255,5,9,221,0,6,2,211,41,6,3,226,39,6,4,226,39,6,5,226,39,6,6,223,19,6,7,255,0,6,8,238,0],"secondary":false},{"width":7,"bonus":125,"chr":"V","pixels":[0,1,255,255,0,2,187,255,1,2,255,68,1,3,228,171,1,4,255,255,1,5,153,255,2,4,153,0,2,5,255,85,2,6,228,209,2,7,242,251,3,6,164,185,3,7,255,255,3,8,251,207,4,4,203,255,4,5,237,255,4,8,255,0,4,9,204,0,5,1,169,255,5,2,255,255,5,3,153,255,5,5,204,0,5,6,238,0,6,2,170,0,6,3,255,0,6,4,153,0],"secondary":false},{"width":10,"bonus":245,"chr":"W","pixels":[0,1,255,255,0,2,221,255,1,2,255,17,1,3,237,128,1,4,223,214,1,5,255,255,1,6,203,255,2,5,191,23,2,6,255,136,2,7,255,255,2,8,255,255,3,3,153,255,3,4,237,255,3,5,221,255,3,7,168,103,3,8,255,0,3,9,255,0,4,1,255,255,4,2,255,255,4,3,187,209,4,4,153,0,4,5,238,0,4,6,221,0,5,2,255,102,5,3,254,171,5,4,248,244,5,5,203,255,6,4,170,0,6,5,241,54,6,6,231,150,6,7,255,255,6,8,255,255,7,4,153,255,7,5,237,255,7,6,241,252,7,7,207,188,7,8,255,85,7,9,255,0,8,1,237,255,8,2,237,255,8,3,153,255,8,4,153,171,8,5,153,0,8,6,238,0,8,7,238,0,8,8,153,0,9,2,238,0,9,3,238,0,9,4,153,0],"secondary":false},{"width":7,"bonus":130,"chr":"X","pixels":[0,8,169,255,1,1,187,255,1,2,220,236,1,7,237,255,1,9,170,0,2,2,205,85,2,3,248,227,2,4,166,235,2,5,255,255,2,6,153,255,2,8,238,0,3,3,155,196,3,4,255,255,3,5,248,244,3,6,255,51,3,7,153,0,4,2,237,255,4,5,255,51,4,6,251,207,4,7,186,233,5,1,203,255,5,3,238,0,5,7,225,116,5,8,255,255,6,2,204,0,6,9,255,0],"secondary":false},{"width":7,"bonus":90,"chr":"Y","pixels":[0,1,169,255,1,2,249,243,2,3,248,157,2,4,255,255,3,4,241,234,3,5,254,204,3,6,232,243,3,7,225,251,3,8,210,247,4,3,255,255,4,5,221,0,4,6,204,0,4,7,221,0,4,8,221,0,4,9,204,0,5,1,237,255,5,4,255,0,6,2,238,0],"secondary":false},{"width":7,"bonus":140,"chr":"Z","pixels":[0,8,187,255,1,1,255,255,1,7,221,255,1,8,255,255,1,9,187,0,2,1,255,255,2,2,255,0,2,5,203,255,2,8,255,255,2,9,255,0,3,1,255,255,3,2,255,0,3,4,203,255,3,6,204,0,3,8,255,255,3,9,255,0,4,1,255,255,4,2,255,221,4,5,204,0,4,8,255,255,4,9,255,0,5,1,187,255,5,2,255,34,5,3,221,0,5,8,153,255,5,9,255,0,6,2,187,0,6,9,153,0],"secondary":false},{"width":7,"bonus":170,"chr":"0","pixels":[0,2,153,255,0,3,221,255,0,4,255,255,0,5,255,255,0,6,237,255,0,7,169,255,1,1,187,255,1,3,153,0,1,4,221,0,1,5,255,0,1,6,255,0,1,7,243,71,1,8,237,219,2,1,187,255,2,2,187,0,2,8,205,233,2,9,211,41,3,1,221,255,3,2,205,85,3,8,203,255,3,9,187,0,4,2,243,178,4,3,255,255,4,4,187,255,4,5,187,255,4,6,237,255,4,7,169,255,4,9,204,0,5,3,170,0,5,4,255,0,5,5,187,0,5,6,187,0,5,7,238,0,5,8,170,0],"secondary":false},{"width":7,"bonus":100,"chr":"1","pixels":[1,8,187,255,2,1,203,255,2,2,224,232,2,3,219,218,2,4,187,255,2,5,187,255,2,6,187,255,2,7,187,255,2,8,237,255,2,9,187,0,3,2,218,80,3,3,218,80,3,4,205,85,3,5,205,85,3,6,205,85,3,7,205,85,3,8,241,215,3,9,238,0,4,8,168,207,4,9,204,0],"secondary":false},{"width":7,"bonus":105,"chr":"2","pixels":[1,8,255,255,2,1,187,255,2,6,153,255,2,8,223,214,2,9,255,0,3,1,203,255,3,2,187,0,3,5,153,255,3,7,153,0,3,8,219,218,3,9,187,0,4,1,187,255,4,2,234,167,4,4,203,255,4,6,153,0,4,8,187,255,4,9,187,0,5,2,214,122,5,3,200,152,5,5,204,0,5,9,187,0],"secondary":false},{"width":7,"bonus":105,"chr":"3","pixels":[0,8,203,255,1,1,187,255,1,8,191,250,1,9,204,0,2,1,187,255,2,2,196,45,2,4,187,255,2,5,174,150,2,8,203,255,2,9,187,0,3,2,246,229,3,3,210,247,3,5,241,215,3,6,173,175,3,7,169,255,3,9,204,0,4,3,227,57,4,4,204,0,4,6,228,133,4,7,174,150,4,8,170,0],"secondary":false},{"width":7,"bonus":150,"chr":"4","pixels":[0,6,237,255,1,4,187,255,1,6,219,218,1,7,238,0,2,3,169,255,2,5,187,0,2,6,219,218,2,7,187,0,3,1,187,255,3,2,153,255,3,3,155,112,3,4,193,90,3,6,203,255,3,7,205,85,4,1,187,255,4,2,237,201,4,3,228,209,4,4,205,233,4,5,205,233,4,6,242,251,4,7,241,198,4,8,205,233,5,2,187,0,5,3,187,0,5,4,187,0,5,5,187,0,5,6,224,155,5,7,238,0,5,8,187,0,5,9,187,0],"secondary":false},{"width":7,"bonus":130,"chr":"5","pixels":[1,1,237,255,1,2,187,255,1,3,187,255,1,4,187,255,1,8,207,251,2,1,187,255,2,2,238,0,2,3,187,0,2,4,237,201,2,5,187,0,2,8,187,255,2,9,204,0,3,1,187,255,3,2,187,0,3,4,203,255,3,5,191,23,3,8,203,255,3,9,187,0,4,2,187,0,4,5,251,242,4,6,191,250,4,7,221,255,4,9,204,0,5,6,243,71,5,7,191,23,5,8,221,0],"secondary":false},{"width":7,"bonus":150,"chr":"6","pixels":[0,3,169,255,0,4,255,255,0,5,255,255,0,6,237,255,0,7,153,255,1,2,187,255,1,4,209,145,1,5,255,68,1,6,255,0,1,7,246,123,1,8,228,209,2,1,203,255,2,3,187,0,2,4,200,238,2,8,219,218,2,9,187,0,3,1,187,255,3,2,204,0,3,4,203,255,3,5,205,85,3,8,187,255,3,9,187,0,4,2,187,0,4,5,248,227,4,6,255,255,4,7,187,255,4,9,187,0,5,6,221,0,5,7,255,0,5,8,187,0],"secondary":false},{"width":7,"bonus":105,"chr":"7","pixels":[0,1,187,255,1,1,187,255,1,2,187,0,1,8,203,255,2,1,187,255,2,2,187,0,2,6,237,255,2,7,153,255,2,9,204,0,3,1,187,255,3,2,205,85,3,3,153,255,3,4,221,255,3,7,238,0,3,8,153,0,4,1,255,255,4,2,237,201,4,4,153,0,4,5,221,0,5,2,255,0,5,3,187,0],"secondary":false},{"width":7,"bonus":165,"chr":"8","pixels":[1,2,237,255,1,3,221,255,1,6,203,255,1,7,228,247,2,1,203,255,2,3,241,54,2,4,248,209,2,5,186,233,2,7,207,21,2,8,250,226,3,1,187,255,3,2,204,0,3,4,186,233,3,5,221,98,3,6,170,0,3,8,191,250,3,9,221,0,4,1,221,255,4,2,209,104,4,4,169,255,4,5,237,219,4,8,187,255,4,9,187,0,5,2,243,178,5,3,187,209,5,5,204,128,5,6,251,242,5,7,240,253,5,9,187,0,6,3,170,0,6,4,153,0,6,7,238,0,6,8,238,0],"secondary":false},{"width":7,"bonus":160,"chr":"9","pixels":[1,2,221,255,1,3,191,250,1,4,242,251,1,8,153,255,2,1,203,255,2,3,221,0,2,4,191,23,2,5,253,223,2,8,191,250,2,9,153,0,3,1,187,255,3,2,204,0,3,5,191,250,3,6,221,0,3,8,203,255,3,9,187,0,4,1,187,255,4,2,218,139,4,6,200,65,4,7,169,255,4,9,204,0,5,2,228,171,5,3,245,247,5,4,255,255,5,5,255,255,5,6,223,214,5,8,170,0,6,3,153,0,6,4,238,0,6,5,255,0,6,6,255,0,6,7,187,0],"secondary":false},{"width":8,"bonus":130,"chr":"%","pixels":[0,3,255,255,0,8,255,255,1,2,255,255,1,4,255,255,1,7,255,255,1,9,255,0,2,3,255,255,2,5,255,41,2,6,255,255,2,8,255,0,3,4,255,41,3,5,255,255,3,7,255,0,4,4,255,255,4,6,255,92,4,7,255,255,5,3,255,255,5,5,255,0,5,6,255,255,5,8,255,255,6,2,255,255,6,4,255,0,6,7,255,255,6,9,255,0,7,3,255,0,7,8,255,0],"secondary":false},{"width":4,"bonus":80,"chr":"/","pixels":[0,7,153,255,0,8,237,255,0,9,221,255,1,4,187,255,1,5,237,255,1,6,169,255,1,8,153,0,1,9,238,0,1,10,221,0,2,1,221,255,2,2,221,255,2,5,187,0,2,6,238,0,2,7,170,0,3,2,221,0,3,3,221,0],"secondary":false},{"width":7,"bonus":110,"chr":"+","pixels":[0,5,221,255,1,5,255,255,1,6,221,0,2,5,255,255,2,6,255,34,3,2,153,255,3,3,223,253,3,4,225,251,3,5,255,255,3,6,255,221,3,7,225,251,3,8,210,247,4,3,153,0,4,4,221,0,4,5,255,255,4,6,255,0,4,7,221,0,4,8,221,0,4,9,204,0,5,5,255,255,5,6,255,0,6,6,255,0],"secondary":false},{"width":5,"bonus":75,"chr":"?","pixels":[0,1,169,255,1,1,255,255,1,2,170,0,1,6,221,255,1,8,255,255,2,1,255,255,2,2,255,0,2,5,169,255,2,7,221,0,2,9,255,0,3,2,255,255,3,3,221,255,3,6,170,0,4,3,255,17,4,4,221,0],"secondary":false},{"width":2,"bonus":70,"chr":"!","pixels":[0,1,169,255,0,2,187,255,0,3,187,255,0,4,187,255,0,5,187,255,0,6,169,255,0,8,255,255,1,2,181,48,1,3,196,45,1,4,196,45,1,5,196,45,1,6,196,45,1,7,170,0,1,9,255,0],"secondary":false},{"width":8,"bonus":230,"chr":"@","pixels":[0,4,255,255,0,5,255,255,0,6,221,255,0,7,255,255,0,8,187,255,1,3,221,255,1,5,255,0,1,6,255,34,1,7,221,0,1,8,255,68,1,9,250,243,2,2,221,255,2,4,232,93,2,5,255,255,2,6,237,255,2,7,255,255,2,10,248,157,3,2,255,255,3,3,221,0,3,4,255,255,3,6,255,0,3,7,241,54,3,8,254,204,3,10,214,223,3,11,153,0,4,2,237,255,4,3,255,0,4,4,255,255,4,5,255,0,4,8,255,255,4,9,204,0,4,11,187,0,5,3,253,240,5,4,255,255,5,5,255,221,5,6,221,255,5,7,221,255,5,8,237,255,5,9,255,0,6,4,240,36,6,5,255,34,6,6,226,39,6,7,226,39,6,8,250,226,6,9,238,0,7,9,221,0],"secondary":false},{"width":8,"bonus":200,"chr":"#","pixels":[0,6,255,255,1,3,255,255,1,6,255,255,1,7,254,171,1,8,237,255,2,1,169,255,2,2,237,255,2,3,255,255,2,4,255,221,2,5,175,247,2,6,255,255,2,7,255,85,2,8,170,0,2,9,238,0,3,2,170,0,3,3,255,255,3,4,255,0,3,5,221,0,3,6,255,255,3,7,255,0,4,3,255,255,4,4,255,153,4,5,203,255,4,6,255,255,4,7,254,239,4,8,187,255,5,1,255,255,5,2,187,255,5,3,255,255,5,4,255,85,5,5,159,27,5,6,255,255,5,7,255,0,5,8,238,0,5,9,187,0,6,2,255,0,6,3,255,255,6,4,255,0,6,7,255,0,7,4,255,0],"secondary":false},{"width":6,"bonus":130,"chr":"$","pixels":[0,2,153,255,0,3,169,255,1,1,203,255,1,3,187,116,1,4,244,231,1,8,243,249,2,0,203,255,2,1,237,255,2,2,204,0,2,4,176,197,2,5,237,128,2,8,240,253,2,9,251,207,3,1,251,242,3,2,239,18,3,5,247,245,3,6,164,132,3,8,255,255,3,9,240,36,3,10,204,0,4,2,240,36,4,6,249,174,4,7,198,219,4,9,255,0,5,7,170,0,5,8,170,0],"secondary":false},{"width":6,"bonus":75,"chr":"^","pixels":[0,4,153,255,0,5,237,255,1,2,203,255,1,3,221,255,1,5,153,0,1,6,238,0,2,1,221,255,2,2,230,245,2,3,218,80,2,4,221,0,3,2,227,57,3,3,246,194,3,4,230,245,4,4,187,0,4,5,239,145],"secondary":false},{"width":6,"bonus":35,"chr":"~","pixels":[1,5,255,255,2,5,221,255,2,6,255,51,3,6,250,226,4,5,203,255,4,7,221,0,5,6,204,0],"secondary":false},{"width":7,"bonus":175,"chr":"&","pixels":[0,6,187,255,1,2,237,255,1,3,255,255,1,4,191,250,1,5,187,255,1,7,224,155,1,8,223,214,2,1,255,255,2,3,238,0,2,4,255,255,2,5,191,23,2,6,187,0,2,8,255,255,2,9,187,0,3,1,255,255,3,2,255,0,3,4,255,255,3,5,255,0,3,8,255,255,3,9,255,0,4,2,255,0,4,4,255,255,4,5,255,34,4,8,187,255,4,9,255,0,5,3,203,255,5,4,255,255,5,5,255,221,5,6,196,243,5,7,155,196,5,9,187,0,6,4,234,167,6,5,255,0,6,6,221,0,6,7,187,0],"secondary":false},{"width":6,"bonus":70,"chr":"*","pixels":[0,2,169,255,1,2,169,255,1,3,237,219,1,4,255,255,2,1,203,255,2,2,240,253,2,3,255,255,2,4,228,133,2,5,255,0,3,2,237,183,3,3,245,107,3,4,255,153,4,3,170,0,4,5,153,0],"secondary":false},{"width":4,"bonus":100,"chr":"(","pixels":[0,3,173,255,0,4,239,255,0,5,253,255,0,6,229,255,0,7,171,255,1,1,193,255,1,2,203,255,1,4,188,64,1,5,241,25,1,6,252,46,1,7,240,112,1,8,238,218,1,9,210,232,2,0,209,255,2,2,194,2,2,3,204,0,2,9,223,111,2,10,245,224,3,1,210,0,3,11,216,0],"secondary":false},{"width":4,"bonus":75,"chr":")","pixels":[1,0,211,255,1,10,215,255,2,1,244,203,2,2,222,234,2,8,203,255,2,9,191,255,2,11,216,0,3,2,213,94,3,3,238,186,3,4,246,248,3,5,253,255,3,6,231,253,3,7,186,234,3,9,203,1,3,10,191,0],"secondary":false},{"width":7,"bonus":60,"chr":"_","pixels":[0,9,153,255,1,9,255,255,1,10,153,0,2,9,255,255,2,10,255,0,3,9,255,255,3,10,255,0,4,9,255,255,4,10,255,0,5,9,255,255,5,10,255,0,6,10,255,0],"secondary":false},{"width":4,"bonus":30,"chr":"-","pixels":[0,5,255,255,1,5,255,255,1,6,255,0,2,5,255,255,2,6,255,0,3,6,255,0],"secondary":true},{"width":8,"bonus":100,"chr":"=","pixels":[0,4,255,255,0,6,255,255,1,4,255,255,1,5,255,0,1,6,255,255,1,7,255,0,2,4,255,255,2,5,255,0,2,6,255,255,2,7,255,0,3,4,255,255,3,5,255,0,3,6,255,255,3,7,255,0,4,4,255,255,4,5,255,0,4,6,255,255,4,7,255,0,5,5,255,0,5,7,255,0],"secondary":false},{"width":3,"bonus":105,"chr":"[","pixels":[0,0,203,255,0,1,221,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,203,255,1,0,237,255,1,1,211,41,1,2,226,39,1,3,226,39,1,4,226,39,1,5,226,39,1,6,226,39,1,7,226,39,1,8,252,241,1,9,204,0,2,1,238,0,2,9,238,0],"secondary":false},{"width":3,"bonus":105,"chr":"]","pixels":[0,0,237,255,0,8,237,255,1,0,203,255,1,1,253,223,1,2,225,251,1,3,225,251,1,4,225,251,1,5,225,251,1,6,225,251,1,7,225,251,1,8,210,247,1,9,238,0,2,1,204,0,2,2,221,0,2,3,221,0,2,4,221,0,2,5,221,0,2,6,221,0,2,7,221,0,2,8,221,0,2,9,204,0],"secondary":false},{"width":5,"bonus":90,"chr":"{","pixels":[0,5,153,255,1,2,169,255,1,3,221,255,1,4,221,255,1,5,203,255,1,6,255,255,1,7,221,255,1,8,169,255,2,1,237,255,2,3,181,48,2,4,223,19,2,5,221,0,2,6,207,21,2,7,255,34,2,8,232,93,2,9,249,243,3,2,238,0,3,10,238,0],"secondary":false},{"width":5,"bonus":90,"chr":"}","pixels":[1,1,237,255,1,9,237,255,2,2,249,174,2,3,232,243,2,4,225,251,2,5,207,251,2,6,255,255,2,7,223,253,2,8,181,239,2,10,238,0,3,3,170,0,3,4,221,0,3,5,241,162,3,6,204,0,3,7,255,0,3,8,221,0,3,9,170,0,4,6,153,0],"secondary":false},{"width":3,"bonus":20,"chr":":","pixels":[1,3,255,255,1,7,255,255,2,4,255,0,2,8,255,0],"secondary":true},{"width":3,"bonus":40,"chr":";","pixels":[0,9,201,255,1,3,255,255,1,7,241,255,1,8,255,255,1,10,201,0,2,4,255,0,2,8,241,0,2,9,255,0],"secondary":true},{"width":3,"bonus":30,"chr":"\\"","pixels":[0,1,255,255,0,2,255,255,1,2,255,0,1,3,255,0,2,1,255,255,2,2,255,255],"secondary":true},{"width":2,"bonus":20,"chr":"\'","pixels":[0,1,255,255,0,2,177,255,1,2,255,30,1,3,177,0],"secondary":true},{"width":7,"bonus":70,"chr":"<","pixels":[0,5,203,255,1,5,255,255,1,6,228,133,2,4,237,255,2,6,254,239,3,4,169,255,3,5,238,0,3,6,175,247,3,7,243,89,4,3,221,255,4,5,170,0,4,7,244,231,5,4,221,0,5,8,221,0],"secondary":false},{"width":7,"bonus":80,"chr":">","pixels":[0,3,203,255,0,7,203,255,1,4,228,133,1,7,187,255,1,8,204,0,2,4,247,245,2,6,255,255,2,8,187,0,3,4,175,247,3,5,248,157,3,6,203,255,3,7,255,0,4,5,255,255,4,6,173,75,4,7,204,0,5,6,255,0],"secondary":false},{"width":5,"bonus":70,"chr":"\\\\","pixels":[1,1,153,255,1,2,255,255,1,3,203,255,2,2,153,0,2,3,255,51,2,4,231,150,2,5,255,255,2,6,203,255,3,6,255,34,3,7,231,150,3,8,255,255,3,9,207,251,4,9,255,0,4,10,204,0],"secondary":false},{"width":2,"bonus":10,"chr":".","pixels":[0,8,255,255,1,9,255,0],"secondary":true},{"width":3,"bonus":30,"chr":",","pixels":[0,9,205,255,1,7,205,255,1,8,255,255,1,10,205,0,2,8,205,0,2,9,255,0],"secondary":true},{"width":3,"bonus":100,"chr":"|","pixels":[0,1,221,255,0,2,221,255,0,3,221,255,0,4,221,255,0,5,221,255,0,6,221,255,0,7,221,255,0,8,221,255,0,9,221,255,0,10,203,255,1,2,226,39,1,3,226,39,1,4,226,39,1,5,226,39,1,6,226,39,1,7,226,39,1,8,226,39,1,9,226,39,1,10,226,39,1,11,204,0],"secondary":false}],"width":10,"spacewidth":3,"shadow":true,"height":12,"basey":8}')}},t={},i=function i(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}("./src/fonts/aa_8px.fontmeta.json");return i})(),e.exports=t()},1223:e=>{var t;globalThis,t=()=>(()=>{"use strict";var e={"./src/fonts/aa_9px_mono_allcaps.fontmeta.json":e=>{e.exports=JSON.parse('{"chars":[{"width":3,"bonus":55,"chr":"!","pixels":[0,4,221,0,5,170,0,6,153,0,12,153,1,3,221,1,4,255,1,5,221,1,6,204,1,7,170,1,8,153,1,12,204],"secondary":false},{"width":6,"bonus":30,"chr":"\\"","pixels":[1,2,221,1,3,255,1,4,170,3,2,221,3,3,255,3,4,170],"secondary":true},{"width":9,"bonus":160,"chr":"#","pixels":[1,5,221,1,8,255,2,5,255,2,7,153,2,8,255,2,9,204,2,10,238,2,11,238,3,2,187,3,3,238,3,4,255,3,5,255,3,6,170,3,7,170,3,8,255,4,5,255,4,8,255,5,4,153,5,5,255,5,6,170,5,7,204,5,8,255,5,9,238,5,10,204,5,11,170,6,2,238,6,3,204,6,4,204,6,5,255,6,8,255,7,5,255,7,8,153],"secondary":false},{"width":7,"bonus":145,"chr":"$","pixels":[1,3,204,1,4,255,1,5,187,1,10,153,1,11,204,2,2,187,2,5,221,2,6,255,2,10,170,2,11,255,2,12,221,3,1,153,3,2,238,3,3,221,3,4,238,3,5,204,3,6,238,3,7,255,3,8,153,3,11,221,4,2,221,4,7,255,4,8,221,4,10,187,5,2,170,5,3,187,5,8,221,5,9,255,5,10,153],"secondary":false},{"width":12,"bonus":175,"chr":"%","pixels":[1,4,255,1,5,255,1,6,255,2,3,153,2,7,204,3,3,170,3,7,204,3,12,187,4,3,187,4,4,255,4,5,255,4,6,255,4,10,238,4,11,204,5,7,170,5,8,238,5,9,153,6,5,204,6,6,221,6,9,187,6,10,255,6,11,204,7,3,238,7,4,170,7,8,187,7,11,153,7,12,204,8,8,187,8,12,187,9,8,204,9,9,153,9,12,187,10,9,187,10,10,255,10,11,187],"secondary":false},{"width":12,"bonus":175,"chr":"&","pixels":[0,9,221,0,10,255,0,11,153,1,5,153,1,8,238,1,9,187,1,10,238,1,11,255,2,4,255,2,5,255,2,6,255,2,7,255,2,11,170,2,12,221,3,3,204,3,7,255,3,8,221,3,12,255,4,3,221,4,8,238,4,9,221,4,12,238,5,3,238,5,9,238,5,10,187,5,12,170,6,4,153,6,10,255,6,11,238,7,10,221,7,11,255,8,8,238,8,9,170,8,12,238,9,12,221],"secondary":false},{"width":3,"bonus":15,"chr":"\'","pixels":[0,2,153,1,2,187,1,3,204],"secondary":true},{"width":5,"bonus":60,"chr":"(","pixels":[0,6,204,0,7,255,0,8,238,0,9,187,1,4,238,1,5,204,1,6,153,1,9,170,1,10,238,1,11,204,2,3,153,2,12,187],"secondary":false},{"width":5,"bonus":50,"chr":")","pixels":[1,3,204,1,4,153,1,11,221,2,4,153,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,204],"secondary":false},{"width":5,"bonus":40,"chr":"*","pixels":[0,3,170,0,5,153,1,2,187,1,3,187,1,4,221,2,4,170,2,5,221,3,3,153],"secondary":true},{"width":8,"bonus":65,"chr":"+","pixels":[0,8,153,1,8,255,2,8,255,3,5,153,3,6,255,3,7,255,3,8,255,3,9,255,3,10,255,3,11,153,4,8,255,5,8,255,6,8,187],"secondary":false},{"width":3,"bonus":10,"chr":",","pixels":[1,10,187,1,11,221],"secondary":true},{"width":6,"bonus":20,"chr":"-","pixels":[0,9,204,1,9,255,2,9,255,3,9,204],"secondary":true},{"width":3,"bonus":10,"chr":".","pixels":[1,11,170,1,12,204],"secondary":true},{"width":8,"bonus":50,"chr":"/","pixels":[0,11,187,1,10,238,2,8,221,2,9,153,3,6,170,3,7,204,4,5,238,5,3,221,5,4,170,6,2,153],"secondary":false},{"width":8,"bonus":145,"chr":"0","pixels":[0,7,153,0,8,187,0,9,170,1,5,221,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,238,2,4,187,2,11,170,2,12,204,3,4,187,3,12,204,4,4,221,4,12,187,5,5,255,5,6,255,5,7,204,5,8,187,5,9,187,5,10,238,5,11,238,6,6,187,6,7,238,6,8,255,6,9,221,6,10,170],"secondary":false},{"width":7,"bonus":95,"chr":"1","pixels":[1,5,153,2,5,255,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,187,2,12,238,3,4,204,3,5,255,3,6,255,3,7,255,3,8,255,3,9,255,3,10,255,3,11,255,3,12,255,4,12,153],"secondary":false},{"width":9,"bonus":115,"chr":"2","pixels":[1,4,170,1,5,204,1,12,255,2,4,204,2,11,221,2,12,255,3,4,204,3,10,204,3,12,255,4,4,221,4,9,238,4,12,255,5,4,153,5,5,255,5,6,255,5,7,255,5,8,255,5,12,255,6,5,153,6,6,221,6,7,170,6,11,187,6,12,204],"secondary":false},{"width":7,"bonus":105,"chr":"3","pixels":[0,11,187,0,12,187,1,4,204,1,12,238,2,4,221,2,12,221,3,4,238,3,7,187,3,8,221,3,12,204,4,4,170,4,5,255,4,6,255,4,7,153,4,8,238,4,9,255,4,10,221,4,11,255,5,5,170,5,9,221,5,10,238],"secondary":false},{"width":9,"bonus":120,"chr":"4","pixels":[1,9,204,1,10,255,2,8,204,2,10,255,3,7,187,3,10,255,4,5,170,4,6,238,4,7,153,4,8,153,4,9,170,4,10,255,4,11,153,4,12,221,5,4,204,5,5,255,5,6,255,5,7,255,5,8,255,5,9,255,5,10,255,5,11,255,5,12,255,6,10,255],"secondary":false},{"width":7,"bonus":110,"chr":"5","pixels":[0,11,170,0,12,221,1,4,255,1,5,204,1,6,221,1,7,187,1,12,238,2,4,255,2,7,255,2,12,204,3,4,255,3,7,255,3,8,204,3,12,170,4,4,255,4,8,255,4,9,255,4,10,255,4,11,238,5,4,153,5,9,187,5,10,153],"secondary":false},{"width":7,"bonus":105,"chr":"6","pixels":[0,8,187,0,9,255,0,10,238,1,6,170,1,7,255,1,8,221,1,9,187,1,10,204,1,11,255,2,5,187,2,6,153,2,12,221,3,8,221,3,12,204,4,8,204,4,9,238,4,10,187,4,11,221,5,9,221,5,10,255,5,11,153],"secondary":false},{"width":7,"bonus":90,"chr":"7","pixels":[0,4,204,0,5,187,1,4,255,1,12,170,2,4,255,2,10,221,2,11,255,2,12,187,3,4,255,3,8,221,3,9,238,3,10,153,4,4,255,4,5,153,4,6,204,4,7,187,5,4,255,5,5,187],"secondary":false},{"width":8,"bonus":170,"chr":"8","pixels":[0,10,153,1,5,204,1,6,238,1,9,238,1,10,255,1,11,255,2,4,170,2,5,153,2,6,170,2,7,255,2,8,204,2,12,221,3,4,187,3,7,204,3,8,187,3,12,204,4,4,204,4,7,153,4,8,255,4,12,204,5,4,204,5,5,187,5,6,187,5,7,187,5,8,187,5,9,255,5,10,170,5,11,204,5,12,153,6,5,238,6,6,204,6,9,187,6,10,255,6,11,170],"secondary":false},{"width":7,"bonus":105,"chr":"9","pixels":[0,6,238,0,7,238,0,8,153,1,5,204,1,6,153,1,7,187,1,8,255,2,4,204,2,9,187,3,4,221,3,11,187,4,5,255,4,6,238,4,7,187,4,8,187,4,9,238,4,10,255,5,6,221,5,7,255,5,8,238,5,9,170],"secondary":false},{"width":3,"bonus":20,"chr":":","pixels":[0,5,170,0,6,204,0,10,204,0,11,170],"secondary":true},{"width":3,"bonus":25,"chr":";","pixels":[0,4,170,0,5,204,0,9,221,0,11,153,1,9,170],"secondary":true},{"width":8,"bonus":55,"chr":"<","pixels":[1,8,255,1,9,187,2,8,170,2,9,238,3,7,238,4,7,187,4,10,238,5,6,204,5,10,187,6,6,221,6,11,204],"secondary":false},{"width":8,"bonus":60,"chr":"=","pixels":[1,7,255,1,9,255,2,7,255,2,9,255,3,7,255,3,9,255,4,7,255,4,9,255,5,7,255,5,9,255,6,7,255,6,9,255],"secondary":false},{"width":8,"bonus":55,"chr":">","pixels":[1,6,238,1,11,170,2,6,170,2,10,221,3,7,238,3,10,204,4,7,204,4,9,187,5,8,221,5,9,238,6,8,221],"secondary":false},{"width":7,"bonus":80,"chr":"?","pixels":[1,3,170,1,4,153,2,3,221,2,9,238,2,12,153,3,3,238,3,7,170,3,8,221,3,12,204,4,3,204,4,4,238,4,5,221,4,6,255,4,7,187,5,4,221,5,5,238],"secondary":false},{"width":11,"bonus":185,"chr":"@","pixels":[0,7,187,0,8,238,0,9,255,0,10,187,1,5,153,1,6,170,1,11,238,2,12,170,3,7,221,3,8,255,3,9,255,3,10,238,3,12,204,4,3,153,4,6,170,4,12,187,5,3,153,5,5,170,5,8,170,5,9,204,5,12,170,6,3,170,6,5,187,6,6,238,6,7,255,6,8,255,6,9,255,6,10,238,6,12,153,7,3,170,7,10,204,8,4,187,8,9,170,9,5,204,9,6,221,9,7,221,9,8,170],"secondary":false},{"width":10,"bonus":125,"chr":"A","pixels":[1,12,238,2,9,187,2,10,238,2,11,170,2,12,187,3,7,221,3,8,204,3,9,238,4,5,238,4,6,238,4,9,221,5,5,187,5,6,255,5,7,255,5,8,187,5,9,238,6,7,153,6,8,255,6,9,255,6,10,238,6,11,153,7,10,221,7,11,255,7,12,255,8,12,221],"secondary":false},{"width":8,"bonus":160,"chr":"B","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,238,2,9,187,2,10,187,2,11,187,2,12,255,3,4,204,3,8,204,3,12,204,4,4,221,4,5,187,4,7,187,4,8,255,4,12,204,5,5,238,5,6,238,5,9,255,5,10,255,5,11,255,6,10,187],"secondary":false},{"width":9,"bonus":120,"chr":"C","pixels":[0,7,221,0,8,255,0,9,221,1,5,221,1,6,255,1,7,238,1,8,221,1,9,255,1,10,255,1,11,204,2,5,187,2,11,255,3,4,204,3,12,204,4,4,221,4,12,238,5,4,221,5,12,221,6,4,221,6,12,238,7,4,187,7,5,204,7,11,187,7,12,170],"secondary":false},{"width":11,"bonus":200,"chr":"D","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,204,2,12,255,3,4,221,3,12,238,4,4,238,4,12,221,5,4,238,5,12,221,6,4,204,6,5,153,6,12,187,7,5,255,7,6,153,7,11,238,8,5,204,8,6,255,8,7,255,8,8,255,8,9,255,8,10,255,8,11,170,9,7,204,9,8,221,9,9,187],"secondary":false},{"width":7,"bonus":135,"chr":"E","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,255,2,9,187,2,10,187,2,11,204,2,12,255,3,4,221,3,8,221,3,12,238,4,4,238,4,8,221,4,12,221,5,4,187,5,8,153,5,12,238],"secondary":false},{"width":7,"bonus":115,"chr":"F","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,255,2,9,187,2,10,187,2,11,187,2,12,238,3,4,221,3,8,221,4,4,238,4,8,221,5,4,221],"secondary":false},{"width":10,"bonus":150,"chr":"G","pixels":[0,7,204,0,8,255,0,9,255,0,10,187,1,5,187,1,6,255,1,7,238,1,8,221,1,9,238,1,10,255,1,11,221,2,5,204,2,11,238,3,4,204,3,12,204,4,4,221,4,12,238,5,4,238,5,12,221,6,4,221,6,9,238,6,10,187,6,11,187,6,12,221,7,4,170,7,5,221,7,9,255,7,10,255,7,11,255,7,12,153],"secondary":false},{"width":11,"bonus":200,"chr":"H","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,255,2,9,187,2,10,187,2,11,187,2,12,238,3,8,221,4,8,221,5,8,221,6,8,221,7,4,255,7,5,255,7,6,255,7,7,255,7,8,255,7,9,255,7,10,255,7,11,255,7,12,255,8,4,238,8,5,187,8,6,187,8,7,187,8,8,187,8,9,187,8,10,187,8,11,187,8,12,238],"secondary":false},{"width":5,"bonus":90,"chr":"I","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,187,2,12,238],"secondary":false},{"width":6,"bonus":100,"chr":"J","pixels":[2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255,2,12,255,2,13,255,2,14,187,3,4,238,3,5,187,3,6,187,3,7,187,3,8,187,3,9,187,3,10,187,3,11,187,3,12,187],"secondary":false},{"width":10,"bonus":170,"chr":"K","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,255,2,9,204,2,10,187,2,11,187,2,12,238,3,7,170,3,8,255,3,9,221,4,6,204,4,9,238,4,10,238,5,4,153,5,5,238,5,10,238,5,11,238,6,4,255,6,11,238,6,12,187,7,4,153,7,12,255,8,12,153],"secondary":false},{"width":8,"bonus":105,"chr":"L","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,204,2,12,255,3,12,238,4,12,221,5,12,255],"secondary":false},{"width":13,"bonus":190,"chr":"M","pixels":[1,9,170,1,10,204,1,11,238,1,12,255,2,4,187,2,5,255,2,6,255,2,7,238,2,8,153,2,12,153,3,6,238,3,7,255,3,8,238,4,8,238,4,9,255,4,10,238,5,10,238,5,11,255,5,12,187,6,9,153,6,10,238,7,7,153,7,8,238,8,5,170,8,6,255,8,7,238,9,4,153,9,5,204,9,6,255,9,7,255,9,8,255,9,9,255,9,10,255,9,11,255,9,12,238,10,10,153,10,11,187,10,12,255],"secondary":false},{"width":11,"bonus":170,"chr":"N","pixels":[0,12,170,1,4,187,1,5,255,1,6,255,1,7,238,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,5,204,2,6,255,2,12,153,3,6,221,3,7,255,4,7,238,4,8,255,5,8,238,5,9,255,6,9,238,6,10,238,7,4,153,7,10,255,7,11,238,8,4,255,8,5,255,8,6,255,8,7,255,8,8,255,8,9,255,8,10,255,8,11,255,8,12,204,9,4,153],"secondary":false},{"width":10,"bonus":160,"chr":"O","pixels":[0,7,221,0,8,255,0,9,221,1,5,204,1,6,255,1,7,221,1,8,221,1,9,255,1,10,255,1,11,221,2,5,170,2,11,238,3,4,221,3,12,221,4,4,221,4,12,221,5,4,238,5,12,204,6,4,153,6,5,238,6,11,170,7,5,238,7,6,255,7,7,255,7,8,221,7,9,238,7,10,255,7,11,187,8,6,153,8,7,238,8,8,255,8,9,204],"secondary":false},{"width":8,"bonus":130,"chr":"P","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,187,2,12,238,3,4,204,4,4,238,5,4,170,5,5,255,5,6,255,5,7,255,5,8,204,6,6,187],"secondary":false},{"width":10,"bonus":200,"chr":"Q","pixels":[0,7,221,0,8,255,0,9,221,1,5,187,1,6,255,1,7,238,1,8,221,1,9,255,1,10,255,1,11,221,2,5,170,2,11,238,2,12,153,3,4,221,3,12,221,4,4,221,4,12,238,5,4,238,5,12,204,6,4,153,6,5,238,6,11,153,6,12,238,7,5,221,7,6,255,7,7,255,7,8,221,7,9,238,7,10,255,7,11,170,7,12,204,7,13,221,8,6,153,8,7,238,8,8,255,8,9,221,8,13,255,8,14,170,9,13,170,9,14,255],"secondary":false},{"width":10,"bonus":175,"chr":"R","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,187,2,9,255,2,10,187,2,11,187,2,12,238,3,4,221,3,9,221,4,4,238,4,9,255,4,10,170,5,4,153,5,5,255,5,6,255,5,7,255,5,8,187,5,10,255,5,11,187,6,6,187,6,11,238,6,12,170,7,12,255,8,12,153],"secondary":false},{"width":7,"bonus":95,"chr":"S","pixels":[0,11,221,0,12,187,1,5,255,1,6,255,1,7,255,1,12,238,2,4,187,2,7,255,2,8,238,2,12,221,3,4,187,3,8,255,3,9,187,3,12,221,4,4,221,4,8,187,4,9,255,4,10,255,4,11,255],"secondary":false},{"width":10,"bonus":125,"chr":"T","pixels":[0,4,187,1,4,221,2,4,221,3,4,255,3,5,187,3,6,187,3,7,187,3,8,187,3,9,187,3,10,187,3,11,187,3,12,238,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,4,11,255,4,12,255,5,4,221,5,12,153,6,4,221,7,4,255],"secondary":false},{"width":11,"bonus":145,"chr":"U","pixels":[1,4,238,1,5,187,1,6,187,1,7,187,1,8,187,1,9,187,1,10,153,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255,3,11,170,3,12,204,4,12,238,5,12,221,6,12,204,7,4,187,7,11,221,8,4,255,8,5,255,8,6,255,8,7,255,8,8,255,8,9,238,8,10,204],"secondary":false},{"width":11,"bonus":120,"chr":"V","pixels":[1,4,204,2,4,255,2,5,255,2,6,204,3,4,187,3,5,170,3,6,255,3,7,255,3,8,238,3,9,153,4,8,204,4,9,255,4,10,255,4,11,187,5,10,238,5,11,255,6,8,204,6,9,221,7,4,170,7,5,153,7,6,238,7,7,187,8,4,255,8,5,170],"secondary":false},{"width":14,"bonus":200,"chr":"W","pixels":[1,4,255,1,5,221,2,4,238,2,5,255,2,6,255,2,7,255,2,8,221,3,7,153,3,8,221,3,9,255,3,10,255,3,11,221,4,9,153,4,10,255,4,11,204,5,7,170,5,8,238,5,9,153,6,5,238,6,6,255,6,7,153,7,5,187,7,6,255,7,7,255,7,8,204,8,8,238,8,9,255,8,10,238,8,11,153,9,9,153,9,10,255,9,11,255,9,12,170,10,7,170,10,8,238,10,9,187,11,4,238,11,5,255,11,6,187,12,4,170],"secondary":false},{"width":10,"bonus":135,"chr":"X","pixels":[1,4,221,1,12,238,2,4,255,2,5,255,2,10,170,2,11,221,2,12,187,3,4,153,3,5,187,3,6,255,3,7,238,3,9,221,4,7,255,4,8,255,4,9,204,5,6,204,5,7,153,5,9,255,5,10,255,5,11,153,6,4,221,6,5,238,6,10,204,6,11,255,6,12,255,7,4,204,7,12,238],"secondary":false},{"width":9,"bonus":115,"chr":"Y","pixels":[0,5,187,1,5,255,1,6,221,2,5,170,2,6,238,2,7,255,2,8,170,3,8,255,3,9,255,3,10,187,3,11,187,3,12,187,3,13,238,4,9,255,4,10,255,4,11,255,4,12,255,4,13,255,5,7,187,5,8,204,6,5,238,6,6,238,7,5,204],"secondary":false},{"width":9,"bonus":145,"chr":"Z","pixels":[1,5,187,1,6,153,1,13,255,2,5,238,2,11,221,2,12,255,2,13,255,3,5,221,3,9,153,3,10,255,3,11,238,3,13,255,4,5,221,4,8,238,4,9,255,4,10,187,4,13,255,5,5,238,5,6,187,5,7,255,5,8,238,5,13,255,6,5,255,6,6,255,6,7,153,6,13,255,7,5,204,7,12,187,7,13,187],"secondary":false},{"width":5,"bonus":70,"chr":"[","pixels":[1,3,187,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,1,13,255,1,14,187,2,3,153,2,14,153],"secondary":false},{"width":8,"bonus":50,"chr":"\\\\","pixels":[0,4,170,1,5,204,1,6,170,2,7,238,3,8,170,3,9,204,4,10,221,4,11,153,5,12,238,6,13,187],"secondary":false},{"width":4,"bonus":70,"chr":"]","pixels":[1,3,170,1,14,170,2,3,187,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255,2,12,255,2,13,255,2,14,187],"secondary":false},{"width":7,"bonus":55,"chr":"^","pixels":[0,9,238,1,6,170,1,7,238,1,8,153,2,4,204,2,5,221,3,4,187,3,5,238,4,7,238,4,8,187,5,9,204],"secondary":false},{"width":8,"bonus":35,"chr":"_","pixels":[0,12,221,1,12,221,2,12,221,3,12,221,4,12,221,5,12,221,6,12,153],"secondary":false},{"width":10,"bonus":125,"chr":"a","pixels":[1,12,238,2,9,187,2,10,238,2,11,170,2,12,187,3,7,221,3,8,204,3,9,238,4,5,238,4,6,238,4,9,221,5,5,187,5,6,255,5,7,255,5,8,187,5,9,238,6,7,153,6,8,255,6,9,255,6,10,238,6,11,153,7,10,221,7,11,255,7,12,255,8,12,221],"secondary":false},{"width":8,"bonus":160,"chr":"b","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,238,2,9,187,2,10,187,2,11,187,2,12,255,3,4,204,3,8,204,3,12,204,4,4,221,4,5,187,4,7,187,4,8,255,4,12,204,5,5,238,5,6,238,5,9,255,5,10,255,5,11,255,6,10,187],"secondary":false},{"width":9,"bonus":120,"chr":"c","pixels":[0,7,221,0,8,255,0,9,221,1,5,221,1,6,255,1,7,238,1,8,221,1,9,255,1,10,255,1,11,204,2,5,187,2,11,255,3,4,204,3,12,204,4,4,221,4,12,238,5,4,221,5,12,221,6,4,221,6,12,238,7,4,187,7,5,204,7,11,187,7,12,170],"secondary":false},{"width":11,"bonus":200,"chr":"d","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,204,2,12,255,3,4,221,3,12,238,4,4,238,4,12,221,5,4,238,5,12,221,6,4,204,6,5,153,6,12,187,7,5,255,7,6,153,7,11,238,8,5,204,8,6,255,8,7,255,8,8,255,8,9,255,8,10,255,8,11,170,9,7,204,9,8,221,9,9,187],"secondary":false},{"width":7,"bonus":135,"chr":"e","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,255,2,9,187,2,10,187,2,11,204,2,12,255,3,4,221,3,8,221,3,12,238,4,4,238,4,8,221,4,12,221,5,4,187,5,8,153,5,12,238],"secondary":false},{"width":7,"bonus":115,"chr":"f","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,255,2,9,187,2,10,187,2,11,187,2,12,238,3,4,221,3,8,221,4,4,238,4,8,221,5,4,221],"secondary":false},{"width":10,"bonus":150,"chr":"g","pixels":[0,7,204,0,8,255,0,9,255,0,10,187,1,5,187,1,6,255,1,7,238,1,8,221,1,9,238,1,10,255,1,11,221,2,5,204,2,11,238,3,4,204,3,12,204,4,4,221,4,12,238,5,4,238,5,12,221,6,4,221,6,9,238,6,10,187,6,11,187,6,12,221,7,4,170,7,5,221,7,9,255,7,10,255,7,11,255,7,12,153],"secondary":false},{"width":11,"bonus":200,"chr":"h","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,255,2,9,187,2,10,187,2,11,187,2,12,238,3,8,221,4,8,221,5,8,221,6,8,221,7,4,255,7,5,255,7,6,255,7,7,255,7,8,255,7,9,255,7,10,255,7,11,255,7,12,255,8,4,238,8,5,187,8,6,187,8,7,187,8,8,187,8,9,187,8,10,187,8,11,187,8,12,238],"secondary":false},{"width":5,"bonus":90,"chr":"i","pixels":[1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,1,13,255,2,5,238,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,187,2,12,187,2,13,238],"secondary":false},{"width":6,"bonus":100,"chr":"j","pixels":[2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255,2,12,255,2,13,255,2,14,187,3,4,238,3,5,187,3,6,187,3,7,187,3,8,187,3,9,187,3,10,187,3,11,187,3,12,187],"secondary":false},{"width":10,"bonus":170,"chr":"k","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,255,2,9,204,2,10,187,2,11,187,2,12,238,3,7,170,3,8,255,3,9,221,4,6,204,4,9,238,4,10,238,5,4,153,5,5,238,5,10,238,5,11,238,6,4,255,6,11,238,6,12,187,7,4,153,7,12,255,8,12,153],"secondary":false},{"width":8,"bonus":105,"chr":"l","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,204,2,12,255,3,12,238,4,12,221,5,12,255],"secondary":false},{"width":13,"bonus":190,"chr":"m","pixels":[1,9,170,1,10,204,1,11,238,1,12,255,2,4,187,2,5,255,2,6,255,2,7,238,2,8,153,2,12,153,3,6,238,3,7,255,3,8,238,4,8,238,4,9,255,4,10,238,5,10,238,5,11,255,5,12,187,6,9,153,6,10,238,7,7,153,7,8,238,8,5,170,8,6,255,8,7,238,9,4,153,9,5,204,9,6,255,9,7,255,9,8,255,9,9,255,9,10,255,9,11,255,9,12,238,10,10,153,10,11,187,10,12,255],"secondary":false},{"width":11,"bonus":170,"chr":"n","pixels":[0,12,170,1,4,187,1,5,255,1,6,255,1,7,238,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,5,204,2,6,255,2,12,153,3,6,221,3,7,255,4,7,238,4,8,255,5,8,238,5,9,255,6,9,238,6,10,238,7,4,153,7,10,255,7,11,238,8,4,255,8,5,255,8,6,255,8,7,255,8,8,255,8,9,255,8,10,255,8,11,255,8,12,204,9,4,153],"secondary":false},{"width":10,"bonus":160,"chr":"o","pixels":[0,7,221,0,8,255,0,9,221,1,5,204,1,6,255,1,7,221,1,8,221,1,9,255,1,10,255,1,11,221,2,5,170,2,11,238,3,4,221,3,12,221,4,4,221,4,12,221,5,4,238,5,12,204,6,4,153,6,5,238,6,11,170,7,5,238,7,6,255,7,7,255,7,8,221,7,9,238,7,10,255,7,11,187,8,6,153,8,7,238,8,8,255,8,9,204],"secondary":false},{"width":8,"bonus":130,"chr":"p","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,238,2,5,187,2,6,187,2,7,187,2,8,187,2,9,187,2,10,187,2,11,187,2,12,238,3,4,204,4,4,238,5,4,170,5,5,255,5,6,255,5,7,255,5,8,204,6,6,187],"secondary":false},{"width":10,"bonus":200,"chr":"q","pixels":[0,7,221,0,8,255,0,9,221,1,5,187,1,6,255,1,7,238,1,8,221,1,9,255,1,10,255,1,11,221,2,5,170,2,11,238,2,12,153,3,4,221,3,12,221,4,4,221,4,12,238,5,4,238,5,12,204,6,4,153,6,5,238,6,11,153,6,12,238,7,5,221,7,6,255,7,7,255,7,8,221,7,9,238,7,10,255,7,11,170,7,12,204,7,13,221,8,6,153,8,7,238,8,8,255,8,9,221,8,13,255,8,14,170,9,13,170,9,14,255],"secondary":false},{"width":10,"bonus":175,"chr":"r","pixels":[1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255,2,4,255,2,5,187,2,6,187,2,7,187,2,8,187,2,9,255,2,10,187,2,11,187,2,12,238,3,4,221,3,9,221,4,4,238,4,9,255,4,10,170,5,4,153,5,5,255,5,6,255,5,7,255,5,8,187,5,10,255,5,11,187,6,6,187,6,11,238,6,12,170,7,12,255,8,12,153],"secondary":false},{"width":7,"bonus":95,"chr":"s","pixels":[0,11,221,0,12,187,1,5,255,1,6,255,1,7,255,1,12,238,2,4,187,2,7,255,2,8,238,2,12,221,3,4,187,3,8,255,3,9,187,3,12,221,4,4,221,4,8,187,4,9,255,4,10,255,4,11,255],"secondary":false},{"width":10,"bonus":125,"chr":"t","pixels":[0,4,187,1,4,221,2,4,221,3,4,255,3,5,187,3,6,187,3,7,187,3,8,187,3,9,187,3,10,187,3,11,187,3,12,238,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,4,10,255,4,11,255,4,12,255,5,4,221,5,12,153,6,4,221,7,4,255],"secondary":false},{"width":11,"bonus":145,"chr":"u","pixels":[1,4,238,1,5,187,1,6,187,1,7,187,1,8,187,1,9,187,1,10,153,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255,3,11,170,3,12,204,4,12,238,5,12,221,6,12,204,7,4,187,7,11,221,8,4,255,8,5,255,8,6,255,8,7,255,8,8,255,8,9,238,8,10,204],"secondary":false},{"width":11,"bonus":120,"chr":"v","pixels":[1,4,204,2,4,255,2,5,255,2,6,204,3,4,187,3,5,170,3,6,255,3,7,255,3,8,238,3,9,153,4,8,204,4,9,255,4,10,255,4,11,187,5,10,238,5,11,255,6,8,204,6,9,221,7,4,170,7,5,153,7,6,238,7,7,187,8,4,255,8,5,170],"secondary":false},{"width":14,"bonus":200,"chr":"w","pixels":[1,4,255,1,5,221,2,4,238,2,5,255,2,6,255,2,7,255,2,8,221,3,7,153,3,8,221,3,9,255,3,10,255,3,11,221,4,9,153,4,10,255,4,11,204,5,7,170,5,8,238,5,9,153,6,5,238,6,6,255,6,7,153,7,5,187,7,6,255,7,7,255,7,8,204,8,8,238,8,9,255,8,10,238,8,11,153,9,9,153,9,10,255,9,11,255,9,12,170,10,7,170,10,8,238,10,9,187,11,4,238,11,5,255,11,6,187,12,4,170],"secondary":false},{"width":10,"bonus":135,"chr":"x","pixels":[1,4,221,1,12,238,2,4,255,2,5,255,2,10,170,2,11,221,2,12,187,3,4,153,3,5,187,3,6,255,3,7,238,3,9,221,4,7,255,4,8,255,4,9,204,5,6,204,5,7,153,5,9,255,5,10,255,5,11,153,6,4,221,6,5,238,6,10,204,6,11,255,6,12,255,7,4,204,7,12,238],"secondary":false},{"width":9,"bonus":115,"chr":"y","pixels":[0,4,187,1,4,255,1,5,221,2,4,170,2,5,238,2,6,255,2,7,170,3,7,255,3,8,255,3,9,187,3,10,187,3,11,187,3,12,238,4,8,255,4,9,255,4,10,255,4,11,255,4,12,255,5,6,187,5,7,204,6,4,238,6,5,238,7,4,204],"secondary":false},{"width":9,"bonus":145,"chr":"z","pixels":[1,4,187,1,5,153,1,12,255,2,4,238,2,10,221,2,11,255,2,12,255,3,4,221,3,8,153,3,9,255,3,10,238,3,12,255,4,4,221,4,7,238,4,8,255,4,9,187,4,12,255,5,4,238,5,5,187,5,6,255,5,7,238,5,12,255,6,4,255,6,5,255,6,6,153,6,12,255,7,4,204,7,11,187,7,12,187],"secondary":false},{"width":5,"bonus":55,"chr":"{","pixels":[1,8,204,2,4,255,2,5,255,2,6,255,2,7,187,2,9,238,2,10,255,2,11,255,2,12,255,2,13,187,3,3,170],"secondary":false},{"width":3,"bonus":65,"chr":"|","pixels":[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,1,12,255],"secondary":true},{"width":6,"bonus":55,"chr":"}","pixels":[1,3,170,2,4,255,2,5,255,2,6,255,2,7,187,2,9,238,2,10,255,2,11,255,2,12,255,2,13,187,3,8,204],"secondary":false},{"width":7,"bonus":35,"chr":"~","pixels":[0,9,255,1,8,255,2,8,187,3,9,238,4,10,255,5,8,255,5,9,221],"secondary":false}],"width":14,"spacewidth":5,"shadow":false,"height":15,"basey":12}')}},t={},i=function i(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}("./src/fonts/aa_9px_mono_allcaps.fontmeta.json");return i})(),e.exports=t()},1344:(e,t,i)=>{var n;globalThis,n=e=>(()=>{"use strict";var t={"./src/ocr/index.ts":(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateFont=t.loadFontImage=t.readChar=t.readSmallCapsBackwards=t.readLine=t.getChatColor=t.getChatColorMono=t.findReadLine=t.findChar=t.decompose3col=t.decomposeblack=t.decompose2col=t.canblend=t.unblendTrans=t.unblendKnownBg=t.unblendBlackBackground=t.debugFont=t.debugout=t.debug=void 0;const n=i("alt1/base");function o(e,t,i,o){for(var s=new n.ImageData(e.width,e.height),r=0;r<e.data.length;r+=4){var a=c(e.data[r],e.data[r+1],e.data[r+2],t,i,o);s.data[r+0]=255*a[0],s.data[r+1]=s.data[r+0],s.data[r+2]=s.data[r+0],s.data[r+3]=255}return s}function s(e,t,i,o,s,r){if(t&&(e.width!=t.width||e.height!=t.height))throw"bgimg size doesn't match";for(var a=new n.ImageData(e.width,e.height),c=0;c<e.data.length;c+=4){var u=l(e.data[c],e.data[c+1],e.data[c+2],o,s,r,t.data[c+0],t.data[c+1],t.data[c+2]);if(i){u[2]>.01&&console.log("high error component: "+(100*u[2]).toFixed(1)+"%"),u[2];var p=1-u[1]-Math.abs(u[2]);a.data[c+0]=255*p,a.data[c+1]=u[0]/p*255,a.data[c+2]=a.data[c+0]}else a.data[c+0]=255*u[0],a.data[c+1]=a.data[c+0],a.data[c+2]=a.data[c+0];a.data[c+3]=255}return a}function r(e,t,i,o,s){for(var r=new n.ImageData(e.width,e.height),a=i+o+s,l=0;l<e.data.length;l+=4){if(t){var c=e.data[l+0]+e.data[l+1]+e.data[l+2];r.data[l+0]=e.data[l+3],r.data[l+1]=c/a*255,r.data[l+2]=r.data[l+0]}else r.data[l+0]=e.data[l+3],r.data[l+1]=r.data[l+0],r.data[l+2]=r.data[l+0];r.data[l+3]=255}return r}function a(e,t,i,n,o,s,r){var a=Math.min(50,r/(1-r)),l=e+(e-n)*a,c=t+(t-o)*a,u=i+(i-s)*a;return Math.max(0,-l,-c,-u,l-255,c-255,u-255)}function l(e,t,i,n,o,s,r,a,l){var c=o*l-a*s,p=s*r-l*n,h=n*a-r*o,d=255/Math.sqrt(c*c+p*p+h*h);return u(e,t,i,n,o,s,r,a,l,c*=d,p*=d,h*=d)}function c(e,t,i,n,o,s){var r=Math.abs(e-n),a=Math.abs(t-o),l=Math.abs(i-s);return[1-Math.max(r,a,l)/255]}function u(e,t,i,n,o,s,r,a,l,c,u,p){var h=a*p-l*u,d=l*c-r*p,g=r*u-a*c,f=n*h+o*d+s*g;return[(h*e+d*t+g*i)/f,((u*s-p*o)*e+(p*n-c*s)*t+(c*o-u*n)*i)/f,((o*l-s*a)*e+(s*r-n*l)*t+(n*a-o*r)*i)/f]}function p(e,t,i,n,o,s,r){if(n<0)return null;if(o-t.basey<0)return null;if(n+s+t.width>e.width)return null;if(o+r-t.basey+t.height>e.height)return null;for(var a=1e3,l=null,c=n;c<n+s;c++)for(var u=o;u<o+r;u++){var p=y(e,t,i,c,u,!1,!1);null!=p&&p.sizescore<a&&(a=p.sizescore,l=p)}return l}function h(e,t,i){var n=i.map((e=>({col:e,score:0})));if(t.x<0||t.y<0||t.x+t.width>e.width||t.y+t.height>e.height)return n;var o=e.data;for(var s of n){for(var r=0,a=s.col,l=t.y;l<t.y+t.height;l++)for(var c=t.x;c<t.x+t.width;c++){var u=4*c+4*l*e.width,p=Math.abs(o[u]-a[0])+Math.abs(o[u+1]-a[1])+Math.abs(o[u+2]-a[2]);p<50&&(r+=50-p)}s.score=r}return n.sort(((e,t)=>t.score-e.score))}function d(e,t,i,n,o,s){var r=Math.sqrt(e*e+t*t+i*i),a=Math.sqrt(n*n+o*o+s*s),l=(e*n+t*o+i*s)/a,c=Math.sqrt(Math.max(0,r*r-l*l)),u=Math.max(0,4*(63.75-c)),p=l/a*255;return p>255&&(u=Math.max(0,u-p+255),p=255),[u,p]}function g(e,t,i){var n=-1,o=null,s=0,r=e.data;for(let h of i){for(var a=0,l=t.y;l<t.y+t.height;l++)for(var c=t.x;c<t.x+t.width;c++){if(c<0||c+1>=e.width)continue;if(l<0||l+1>=e.width)continue;let t=e.pixelOffset(c,l),i=e.pixelOffset(c+1,l+1);var u=d(r[t+0],r[t+1],r[t+2],h[0],h[1],h[2]),p=d(r[i+0],r[i+1],r[i+2],h[0],h[1],h[2]);a+=u[0]/255*u[1]/255*(p[0]/255*(255-p[1])/255)}a>n?(s=n,n=a,o=h):a>s&&(s=a)}return o}function f(e,t,i,n,o,s,r=!1){"number"!=typeof i[0]&&1==i.length&&(i=i[0]);var a="number"!=typeof i[0],l=a?i:[i],c=function(i,n,o){var s=Math.floor(1.5*t.width);return o&&(i-=s),n-=t.basey,g(e,{x:i,y:n,width:s,height:t.height},l)},u=[],p=n,h=n,d="number"==typeof t.maxspaces?t.maxspaces:1;let f="",m=!1;var _=null;let v=e=>{if(!f)return;let t={text:f,color:_,index:0,xstart:n+(e?b:k),xend:n+(e?k:b)};e?u.push(t):u.unshift(t),f="",b=w,m=!1};for(var x of[!0,!1])if((!x||s)&&(x||r)){for(var w=0,b=w,k=w,T=0,z=!1,S=a?null:i;;){var C=(S=S||c(n+w,o,!x))?y(e,t,S,n+w,o,!x,!0):null;if(null==S||null==C){if(T<d){w+=(x?1:-1)*t.spacewidth,T++;continue}if(a&&!z&&m){w-=(x?1:-1)*T*t.spacewidth,T=0,S=null,z=!0;continue}x?h=n+w-t.spacewidth:p=n+w+t.spacewidth;break}!_||S[0]==_[0]&&S[1]==_[1]&&S[2]==_[2]||v(x);for(var A="",E=0;E<T;E++)A+=" ";x?f+=A+C.chr:f=C.chr+A+f,C.basechar.secondary||(m=!0),T=0,z=!1,w+=(x?1:-1)*C.basechar.width,k=w,_=S}_&&m&&v(x)}return u.forEach(((e,t)=>e.index=t)),{debugArea:{x:p,y:o-9,w:h-p,h:10},text:u.map((e=>e.text)).join(""),fragments:u}}function y(e,i,o,s,r,l,c){r-=i.basey;var u=i.basey,p=i.shadow,h=null,d=null;if(t.debug.trackread){var g=s+";"+r+" "+JSON.stringify(o);t.debugout[g]||(t.debugout[g]=[]),h=t.debugout[g]}if(r<0||r+i.height>=e.height)return null;if(l){if(s-i.width<0||s>e.width)return null}else if(s<0||s+i.width>e.width)return null;var f=[];e:for(var y=0;y<i.chars.length;y++){var m=i.chars[y];if(m.secondary&&!c)continue;const u={score:0,sizescore:0,chr:m};var _=l?s-m.width:s;t.debug.trackread&&(d=new n.ImageData(i.width,i.height));for(var v=0;v<m.pixels.length;){var x=4*(_+m.pixels[v])+(r+m.pixels[v+1])*e.width*4,w=0;if(p){var b=m.pixels[v+3]/255;w=a(e.data[x],e.data[x+1],e.data[x+2],o[0]*b,o[1]*b,o[2]*b,m.pixels[v+2]/255),v+=4}else w=a(e.data[x],e.data[x+1],e.data[x+2],o[0],o[1],o[2],m.pixels[v+2]/255),v+=3;if(u.score+=w,!h&&u.score>400)continue e;d&&d.setPixel(m.pixels[v],m.pixels[v+1],[w,w,w,255])}u.sizescore=u.score-m.bonus,h&&h.push({chr:m.chr,score:u.sizescore,rawscore:u.score,img:d}),f.push(u)}t.debug.printcharscores&&(f.sort(((e,t)=>e.sizescore-t.sizescore)),f.slice(0,5).forEach((e=>console.log(e.chr.chr,e.score.toFixed(3),e.sizescore.toFixed(3)))));let k=null;for(const e of f)(!k||e&&e.sizescore<k.sizescore)&&(k=e);return!k||k.score>400?null:{chr:k.chr.chr,basechar:k.chr,x:s+0,y:r+u,score:k.score,sizescore:k.sizescore}}function m(e,t,i,n,o,s,r,a){r*=255;for(var l=e.height-1,c=0,u={chars:[],width:0,spacewidth:s,shadow:a,height:0,basey:0},p=!1,h=[],d=0;d<e.width;d++){var g=4*d+4*e.width*(e.height-1);if(255==e.data[g]&&255==e.data[g+3])!1===p&&(p=d);else if(!1!==p){var f=d,y=t[h.length],m={ds:p,de:f,width:f-p,chr:y,bonus:n&&n[y]||0,secondary:-1!=i.indexOf(t[h.length]),pixels:[]};for(h.push(m),u.width=Math.max(u.width,m.width),v=0;v<f-p;v++)for(x=0;x<e.height-1;x++)g=4*(v+p)+x*e.width*4,e.data[g]>=r&&(l=Math.min(l,x),c=Math.max(c,x));p=!1}}for(var _ in u.height=c+1-l,u.basey=o-l,h){m=h[_];for(var v=0;v<m.width;v++)for(var x=0;x<c+1-l;x++)g=4*(v+m.ds)+(x+l)*e.width*4,e.data[g]>=r&&(m.pixels.push(v,x),m.pixels.push(e.data[g]),a&&m.pixels.push(e.data[g+1]),m.bonus+=5);m.bonus=+m.bonus.toFixed(3),u.chars.push({width:m.width,bonus:m.bonus,chr:m.chr,pixels:m.pixels,secondary:m.secondary})}return u}t.debug={printcharscores:!1,trackread:!1},t.debugout={},t.debugFont=function(e){for(var t=e.width+2,i=new n.ImageData(t*e.chars.length,e.height+1),o=0;o<i.data.length;o+=4)i.data[o]=i.data[o+1]=i.data[o+2]=0,i.data[o+3]=255;for(o=0;o<e.chars.length;o++)for(var s=o*t,r=e.chars[o],a=0;a<r.pixels.length;a+=e.shadow?4:3)i.setPixel(s+r.pixels[a],r.pixels[a+1],[r.pixels[a+2],r.pixels[a+2],r.pixels[a+2],255]),e.shadow&&i.setPixel(s+r.pixels[a],r.pixels[a+1],[r.pixels[a+3],0,0,255]);i.show()},t.unblendBlackBackground=o,t.unblendKnownBg=s,t.unblendTrans=r,t.canblend=a,t.decompose2col=l,t.decomposeblack=c,t.decompose3col=u,t.findChar=p,t.findReadLine=function(e,t,i,o,s,r=-1,a=-1){-1==r&&(r=t.width+t.spacewidth,o-=Math.ceil(r/2)),-1==a&&(a=7,s-=1);var l=null;if(i.length>1)for(var c=h(e,new n.Rect(o,s-t.basey,r,a),i),u=0;u<2&&u<c.length&&null==l;u++)l=p(e,t,c[u].col,o,s,r,a);else l=p(e,t,i[0],o,s,r,a);return null==l?{debugArea:{x:o,y:s,w:r,h:a},text:"",fragments:[]}:f(e,t,i,l.x,l.y,!0,!0)},t.getChatColorMono=h,t.getChatColor=g,t.readLine=f,t.readSmallCapsBackwards=function(e,t,i,o,s,r=-1,a=-1){-1==r&&(r=t.width+t.spacewidth,o-=Math.ceil(r/2)),-1==a&&(a=7,s-=1);for(var l=null,c=1==i.length?[{col:i[0],score:1}]:h(e,new n.Rect(o,s-t.basey,r,a),i),u=0;u<2&&u<c.length&&null==l;u++)for(var p=o+r-1;p>=o;p--){for(var d=1e3,g=null,m=s;m<s+a;m++){var _=y(e,t,c[u].col,p,m,!0,!1);null!=_&&_.sizescore<d&&(d=_.sizescore,g=_)}if(g){l=g;break}}return null==l?{text:"",debugArea:{x:o,y:s,w:r,h:a}}:f(e,t,i,l.x,l.y,!1,!0)},t.readChar=y,t.loadFontImage=function(e,t){var i=e.height-1;"removebg"==t.unblendmode&&(i/=2);var a,l=e.clone({x:0,y:0,width:e.width,height:i});if("removebg"==t.unblendmode)a=s(l,e.clone({x:0,y:i+1,width:e.width,height:i}),t.shadow,t.color[0],t.color[1],t.color[2]);else if("raw"==t.unblendmode)a=r(l,t.shadow,t.color[0],t.color[1],t.color[2]);else{if("blackbg"!=t.unblendmode)throw new Error("no unblend mode");a=o(l,t.color[0],t.color[1],t.color[2])}var c=new n.ImageData(e.width,i+1);return a.copyTo(c,0,0,a.width,a.height,0,0),e.copyTo(c,0,i,e.width,1,0,i),m(c,t.chars,t.seconds,t.bonus||{},t.basey,t.spacewidth,t.treshold,t.shadow)},t.generateFont=m},"alt1/base":t=>{t.exports=e}},i={},n=function e(n){var o=i[n];if(void 0!==o)return o.exports;var s=i[n]={exports:{}};return t[n](s,s.exports,e),s.exports}("./src/ocr/index.ts");return n})(),e.exports=n(i(9485))},2847:(e,t,i)=>{"use strict";var n=i(6350),o="undefined"==typeof globalThis?i.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof o[n[t]]&&(e[e.length]=n[t]);return e}}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={id:e,loaded:!1,exports:{}};return n[e].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}return s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e;!function(e){function t(e,t=(()=>null)){let i=localStorage.getItem(e);return null==i?t():JSON.parse(i)}function i(e,t){localStorage.setItem(e,JSON.stringify(t))}e.get=t,e.set=i,e.Variable=class{constructor(e,i){this.key=e,this.value=null,this.value=t(e,i)}get(){return this.value}set(e){this.value=e,i(this.key,e)}map(e){let t=this.get(),i=e(this.get());null==i&&(i=t),this.set(i)}save(){i(this.key,this.value)}}}(e||(e={}));const{entries:t,setPrototypeOf:i,isFrozen:n,getPrototypeOf:o,getOwnPropertyDescriptor:r}=Object;let{freeze:a,seal:l,create:u}=Object,{apply:p,construct:h}="undefined"!=typeof Reflect&&Reflect;a||(a=function(e){return e}),l||(l=function(e){return e}),p||(p=function(e,t,i){return e.apply(t,i)}),h||(h=function(e,t){return new e(...t)});const d=A(Array.prototype.forEach),g=A(Array.prototype.lastIndexOf),f=A(Array.prototype.pop),y=A(Array.prototype.push),m=A(Array.prototype.splice),_=A(String.prototype.toLowerCase),v=A(String.prototype.toString),x=A(String.prototype.match),w=A(String.prototype.replace),b=A(String.prototype.indexOf),k=A(String.prototype.trim),T=A(Object.prototype.hasOwnProperty),z=A(RegExp.prototype.test),S=(C=TypeError,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return h(C,t)});var C;function A(e){return function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return p(e,t,n)}}function E(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;i&&i(e,null);let s=t.length;for(;s--;){let i=t[s];if("string"==typeof i){const e=o(i);e!==i&&(n(t)||(t[s]=e),i=e)}e[i]=!0}return e}function P(e){for(let t=0;t<e.length;t++)T(e,t)||(e[t]=null);return e}function M(e){const i=u(null);for(const[n,o]of t(e))T(e,n)&&(Array.isArray(o)?i[n]=P(o):o&&"object"==typeof o&&o.constructor===Object?i[n]=M(o):i[n]=o);return i}function L(e,t){for(;null!==e;){const i=r(e,t);if(i){if(i.get)return A(i.get);if("function"==typeof i.value)return A(i.value)}e=o(e)}return function(){return null}}const D=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),I=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=a(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),F=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),N=a(["#text"]),j=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),U=a(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),q=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),H=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),V=l(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$=l(/<%[\w\W]*|[\w\W]*%>/gm),W=l(/\$\{[\w\W]*/gm),G=l(/^data-[\-\w.\u00B7-\uFFFF]+$/),Z=l(/^aria-[\-\w]+$/),K=l(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y=l(/^(?:\w+script|data):/i),Q=l(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),X=l(/^html$/i),J=l(/^[a-z][.\w]*(-[.\w]+)+$/i);var ee=Object.freeze({__proto__:null,ARIA_ATTR:Z,ATTR_WHITESPACE:Q,CUSTOM_ELEMENT:J,DATA_ATTR:G,DOCTYPE_NAME:X,ERB_EXPR:$,IS_ALLOWED_URI:K,IS_SCRIPT_OR_DATA:Y,MUSTACHE_EXPR:V,TMPLIT_EXPR:W});const te=function(){return"undefined"==typeof window?null:window};var ie,ne=function e(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te();const n=t=>e(t);if(n.version="3.2.4",n.removed=[],!i||!i.document||9!==i.document.nodeType||!i.Element)return n.isSupported=!1,n;let{document:o}=i;const s=o,r=s.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:p,Element:h,NodeFilter:C,NamedNodeMap:A=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:P,DOMParser:V,trustedTypes:$}=i,W=h.prototype,G=L(W,"cloneNode"),Z=L(W,"remove"),Y=L(W,"nextSibling"),Q=L(W,"childNodes"),J=L(W,"parentNode");if("function"==typeof c){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let ie,ne="";const{implementation:oe,createNodeIterator:se,createDocumentFragment:re,getElementsByTagName:ae}=o,{importNode:le}=s;let ce={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof t&&"function"==typeof J&&oe&&void 0!==oe.createHTMLDocument;const{MUSTACHE_EXPR:ue,ERB_EXPR:pe,TMPLIT_EXPR:he,DATA_ATTR:de,ARIA_ATTR:ge,IS_SCRIPT_OR_DATA:fe,ATTR_WHITESPACE:ye,CUSTOM_ELEMENT:me}=ee;let{IS_ALLOWED_URI:_e}=ee,ve=null;const xe=E({},[...D,...I,...O,...B,...N]);let we=null;const be=E({},[...j,...U,...q,...H]);let ke=Object.seal(u(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Te=null,ze=null,Se=!0,Ce=!0,Ae=!1,Ee=!0,Pe=!1,Me=!0,Le=!1,De=!1,Ie=!1,Oe=!1,Re=!1,Be=!1,Fe=!0,Ne=!1,je=!0,Ue=!1,qe={},He=null;const Ve=E({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $e=null;const We=E({},["audio","video","img","source","image","track"]);let Ge=null;const Ze=E({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ke="http://www.w3.org/1998/Math/MathML",Ye="http://www.w3.org/2000/svg",Qe="http://www.w3.org/1999/xhtml";let Xe=Qe,Je=!1,et=null;const tt=E({},[Ke,Ye,Qe],v);let it=E({},["mi","mo","mn","ms","mtext"]),nt=E({},["annotation-xml"]);const ot=E({},["title","style","font","a","script"]);let st=null;const rt=["application/xhtml+xml","text/html"];let at=null,lt=null;const ct=o.createElement("form"),ut=function(e){return e instanceof RegExp||e instanceof Function},pt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!lt||lt!==e){if(e&&"object"==typeof e||(e={}),e=M(e),st=-1===rt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,at="application/xhtml+xml"===st?v:_,ve=T(e,"ALLOWED_TAGS")?E({},e.ALLOWED_TAGS,at):xe,we=T(e,"ALLOWED_ATTR")?E({},e.ALLOWED_ATTR,at):be,et=T(e,"ALLOWED_NAMESPACES")?E({},e.ALLOWED_NAMESPACES,v):tt,Ge=T(e,"ADD_URI_SAFE_ATTR")?E(M(Ze),e.ADD_URI_SAFE_ATTR,at):Ze,$e=T(e,"ADD_DATA_URI_TAGS")?E(M(We),e.ADD_DATA_URI_TAGS,at):We,He=T(e,"FORBID_CONTENTS")?E({},e.FORBID_CONTENTS,at):Ve,Te=T(e,"FORBID_TAGS")?E({},e.FORBID_TAGS,at):{},ze=T(e,"FORBID_ATTR")?E({},e.FORBID_ATTR,at):{},qe=!!T(e,"USE_PROFILES")&&e.USE_PROFILES,Se=!1!==e.ALLOW_ARIA_ATTR,Ce=!1!==e.ALLOW_DATA_ATTR,Ae=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ee=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Pe=e.SAFE_FOR_TEMPLATES||!1,Me=!1!==e.SAFE_FOR_XML,Le=e.WHOLE_DOCUMENT||!1,Oe=e.RETURN_DOM||!1,Re=e.RETURN_DOM_FRAGMENT||!1,Be=e.RETURN_TRUSTED_TYPE||!1,Ie=e.FORCE_BODY||!1,Fe=!1!==e.SANITIZE_DOM,Ne=e.SANITIZE_NAMED_PROPS||!1,je=!1!==e.KEEP_CONTENT,Ue=e.IN_PLACE||!1,_e=e.ALLOWED_URI_REGEXP||K,Xe=e.NAMESPACE||Qe,it=e.MATHML_TEXT_INTEGRATION_POINTS||it,nt=e.HTML_INTEGRATION_POINTS||nt,ke=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ke.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ut(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ke.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ke.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pe&&(Ce=!1),Re&&(Oe=!0),qe&&(ve=E({},N),we=[],!0===qe.html&&(E(ve,D),E(we,j)),!0===qe.svg&&(E(ve,I),E(we,U),E(we,H)),!0===qe.svgFilters&&(E(ve,O),E(we,U),E(we,H)),!0===qe.mathMl&&(E(ve,B),E(we,q),E(we,H))),e.ADD_TAGS&&(ve===xe&&(ve=M(ve)),E(ve,e.ADD_TAGS,at)),e.ADD_ATTR&&(we===be&&(we=M(we)),E(we,e.ADD_ATTR,at)),e.ADD_URI_SAFE_ATTR&&E(Ge,e.ADD_URI_SAFE_ATTR,at),e.FORBID_CONTENTS&&(He===Ve&&(He=M(He)),E(He,e.FORBID_CONTENTS,at)),je&&(ve["#text"]=!0),Le&&E(ve,["html","head","body"]),ve.table&&(E(ve,["tbody"]),delete Te.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ie=e.TRUSTED_TYPES_POLICY,ne=ie.createHTML("")}else void 0===ie&&(ie=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let i=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(i=t.getAttribute(n));const o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}($,r)),null!==ie&&"string"==typeof ne&&(ne=ie.createHTML(""));a&&a(e),lt=e}},ht=E({},[...I,...O,...R]),dt=E({},[...B,...F]),gt=function(e){y(n.removed,{element:e});try{J(e).removeChild(e)}catch(t){Z(e)}},ft=function(e,t){try{y(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){y(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Oe||Re)try{gt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},yt=function(e){let t=null,i=null;if(Ie)e="<remove></remove>"+e;else{const t=x(e,/^[\r\n\t ]+/);i=t&&t[0]}"application/xhtml+xml"===st&&Xe===Qe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const n=ie?ie.createHTML(e):e;if(Xe===Qe)try{t=(new V).parseFromString(n,st)}catch(e){}if(!t||!t.documentElement){t=oe.createDocument(Xe,"template",null);try{t.documentElement.innerHTML=Je?ne:n}catch(e){}}const s=t.body||t.documentElement;return e&&i&&s.insertBefore(o.createTextNode(i),s.childNodes[0]||null),Xe===Qe?ae.call(t,Le?"html":"body")[0]:Le?t.documentElement:s},mt=function(e){return se.call(e.ownerDocument||e,e,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT|C.SHOW_PROCESSING_INSTRUCTION|C.SHOW_CDATA_SECTION,null)},_t=function(e){return e instanceof P&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof A)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},vt=function(e){return"function"==typeof p&&e instanceof p};function xt(e,t,i){d(e,(e=>{e.call(n,t,i,lt)}))}const wt=function(e){let t=null;if(xt(ce.beforeSanitizeElements,e,null),_t(e))return gt(e),!0;const i=at(e.nodeName);if(xt(ce.uponSanitizeElement,e,{tagName:i,allowedTags:ve}),e.hasChildNodes()&&!vt(e.firstElementChild)&&z(/<[/\w]/g,e.innerHTML)&&z(/<[/\w]/g,e.textContent))return gt(e),!0;if(7===e.nodeType)return gt(e),!0;if(Me&&8===e.nodeType&&z(/<[/\w]/g,e.data))return gt(e),!0;if(!ve[i]||Te[i]){if(!Te[i]&&kt(i)){if(ke.tagNameCheck instanceof RegExp&&z(ke.tagNameCheck,i))return!1;if(ke.tagNameCheck instanceof Function&&ke.tagNameCheck(i))return!1}if(je&&!He[i]){const t=J(e)||e.parentNode,i=Q(e)||e.childNodes;if(i&&t)for(let n=i.length-1;n>=0;--n){const o=G(i[n],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,Y(e))}}return gt(e),!0}return e instanceof h&&!function(e){let t=J(e);t&&t.tagName||(t={namespaceURI:Xe,tagName:"template"});const i=_(e.tagName),n=_(t.tagName);return!!et[e.namespaceURI]&&(e.namespaceURI===Ye?t.namespaceURI===Qe?"svg"===i:t.namespaceURI===Ke?"svg"===i&&("annotation-xml"===n||it[n]):Boolean(ht[i]):e.namespaceURI===Ke?t.namespaceURI===Qe?"math"===i:t.namespaceURI===Ye?"math"===i&&nt[n]:Boolean(dt[i]):e.namespaceURI===Qe?!(t.namespaceURI===Ye&&!nt[n])&&!(t.namespaceURI===Ke&&!it[n])&&!dt[i]&&(ot[i]||!ht[i]):!("application/xhtml+xml"!==st||!et[e.namespaceURI]))}(e)?(gt(e),!0):"noscript"!==i&&"noembed"!==i&&"noframes"!==i||!z(/<\/no(script|embed|frames)/i,e.innerHTML)?(Pe&&3===e.nodeType&&(t=e.textContent,d([ue,pe,he],(e=>{t=w(t,e," ")})),e.textContent!==t&&(y(n.removed,{element:e.cloneNode()}),e.textContent=t)),xt(ce.afterSanitizeElements,e,null),!1):(gt(e),!0)},bt=function(e,t,i){if(Fe&&("id"===t||"name"===t)&&(i in o||i in ct))return!1;if(Ce&&!ze[t]&&z(de,t));else if(Se&&z(ge,t));else if(!we[t]||ze[t]){if(!(kt(e)&&(ke.tagNameCheck instanceof RegExp&&z(ke.tagNameCheck,e)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(e))&&(ke.attributeNameCheck instanceof RegExp&&z(ke.attributeNameCheck,t)||ke.attributeNameCheck instanceof Function&&ke.attributeNameCheck(t))||"is"===t&&ke.allowCustomizedBuiltInElements&&(ke.tagNameCheck instanceof RegExp&&z(ke.tagNameCheck,i)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(i))))return!1}else if(Ge[t]);else if(z(_e,w(i,ye,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==b(i,"data:")||!$e[e])if(Ae&&!z(fe,w(i,ye,"")));else if(i)return!1;return!0},kt=function(e){return"annotation-xml"!==e&&x(e,me)},Tt=function(e){xt(ce.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||_t(e))return;const i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:we,forceKeepAttr:void 0};let o=t.length;for(;o--;){const s=t[o],{name:r,namespaceURI:a,value:l}=s,c=at(r);let u="value"===r?l:k(l);if(i.attrName=c,i.attrValue=u,i.keepAttr=!0,i.forceKeepAttr=void 0,xt(ce.uponSanitizeAttribute,e,i),u=i.attrValue,!Ne||"id"!==c&&"name"!==c||(ft(r,e),u="user-content-"+u),Me&&z(/((--!?|])>)|<\/(style|title)/i,u)){ft(r,e);continue}if(i.forceKeepAttr)continue;if(ft(r,e),!i.keepAttr)continue;if(!Ee&&z(/\/>/i,u)){ft(r,e);continue}Pe&&d([ue,pe,he],(e=>{u=w(u,e," ")}));const p=at(e.nodeName);if(bt(p,c,u)){if(ie&&"object"==typeof $&&"function"==typeof $.getAttributeType)if(a);else switch($.getAttributeType(p,c)){case"TrustedHTML":u=ie.createHTML(u);break;case"TrustedScriptURL":u=ie.createScriptURL(u)}try{a?e.setAttributeNS(a,r,u):e.setAttribute(r,u),_t(e)?gt(e):f(n.removed)}catch(e){}}}xt(ce.afterSanitizeAttributes,e,null)},zt=function e(t){let i=null;const n=mt(t);for(xt(ce.beforeSanitizeShadowDOM,t,null);i=n.nextNode();)xt(ce.uponSanitizeShadowNode,i,null),wt(i),Tt(i),i.content instanceof l&&e(i.content);xt(ce.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null,o=null,r=null,a=null;if(Je=!e,Je&&(e="\x3c!--\x3e"),"string"!=typeof e&&!vt(e)){if("function"!=typeof e.toString)throw S("toString is not a function");if("string"!=typeof(e=e.toString()))throw S("dirty is not a string, aborting")}if(!n.isSupported)return e;if(De||pt(t),n.removed=[],"string"==typeof e&&(Ue=!1),Ue){if(e.nodeName){const t=at(e.nodeName);if(!ve[t]||Te[t])throw S("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof p)i=yt("\x3c!----\x3e"),o=i.ownerDocument.importNode(e,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?i=o:i.appendChild(o);else{if(!Oe&&!Pe&&!Le&&-1===e.indexOf("<"))return ie&&Be?ie.createHTML(e):e;if(i=yt(e),!i)return Oe?null:Be?ne:""}i&&Ie&&gt(i.firstChild);const c=mt(Ue?e:i);for(;r=c.nextNode();)wt(r),Tt(r),r.content instanceof l&&zt(r.content);if(Ue)return e;if(Oe){if(Re)for(a=re.call(i.ownerDocument);i.firstChild;)a.appendChild(i.firstChild);else a=i;return(we.shadowroot||we.shadowrootmode)&&(a=le.call(s,a,!0)),a}let u=Le?i.outerHTML:i.innerHTML;return Le&&ve["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&z(X,i.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+u),Pe&&d([ue,pe,he],(e=>{u=w(u,e," ")})),ie&&Be?ie.createHTML(u):u},n.setConfig=function(){pt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),De=!0},n.clearConfig=function(){lt=null,De=!1},n.isValidAttribute=function(e,t,i){lt||pt({});const n=at(e),o=at(t);return bt(n,o,i)},n.addHook=function(e,t){"function"==typeof t&&y(ce[e],t)},n.removeHook=function(e,t){if(void 0!==t){const i=g(ce[e],t);return-1===i?void 0:m(ce[e],i,1)[0]}return f(ce[e])},n.removeHooks=function(e){ce[e]=[]},n.removeAllHooks=function(){ce={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}(),oe=s(7243),se=s.n(oe);!function(e){function t(e){return c(e)}function i(e){return t("<img>").setAttribute("src",e)}function n(...e){return c().append(...e)}function o(e,t=!1){return c("<span class='nisl-npc'></span>").toggleClass("ctr-clickable",t).text(e)}function s(e,t=!1){return c("<span class='nisl-entity'></span>").toggleClass("ctr-clickable",t).text(e)}function r(e){return e.startsWith("Nothing")||e.startsWith("No ")?t("<span class='nisl-noitem'></span>").text(e):t("<span class='nisl-item'></span>").text(e)}function a(t){return e.div().addClass(t)}e.create=t,e.hbox=function(...e){return t("<div style='display: flex; justify-content: center'></div>").append(...e)},e.hgrid=function(...e){return a("nisl-hgrid").append(...e.map((e=>"string"==typeof e?n(e):e)))},e.hboxl=function(...e){return t("<div style='display: flex'></div>").append(...e)},e.btnrow=function(...e){return t("<div style='display: flex' class='ctr-button-container'></div>").append(...e)},e.hboxc=function(...e){return t("<div style='display: flex; justify-content: center'></div>").append(...e)},e.vbox=function(...e){return t("<div></div>").append(...e)},e.centered=function(...e){return t("<div style='text-align: center'></div>").append(...e)},e.spacer=function(){return t("<div style='flex-grow: 1'></div>")},e.span=function(e=""){return t("<span></span>").text(e)},e.italic=function(e=""){return t("<span style='font-style: italic'></span>").text(e)},e.bold=function(e){return t("<span style='font-weight: bold'></span>").text(e)},e.space=function(){return t("<span>&nbsp;</span>")},e.h=function(e,i){return t(`<h${e}>${i}</h${e}>`)},e.img=i,e.inlineimg=function(e){return i(e).addClass("text-icon")},e.div=n,e.text_link=function(e,t){return c("<span class='nisl-textlink'>").text(e).on("click",(e=>{e.preventDefault(),e.stopPropagation(),t()}))},e.link=function(e){return c("<a target='_blank'></a>").setAttribute("href",e).tooltip(e)},e.npc=o,e.staticentity=s,e.item=r,e.entity=function(e){switch(e.kind){case"npc":return o(e.name);case"static":return s(e.name);case"item":return r(e.name)}},e.cls=a,e.mediaContainer=function(...e){return a("ctr-media-container").append(...e)}}(ie||(ie={}));class re{constructor(...e){this.templates={};for(let t of e)this.templates[t.name]=t}with(...e){let t=this.copy();for(let i of e)t.templates[i.name]=i;return t}resolve(e){const t=re.Expression.parse(e,this.templates);return re.Expression.evaluate(t).map(re.Value.asAppendable)}copy(){return new re(...Object.values(this.templates))}}!function(e){var t=ie.span;let i,n;e.ExpressionType=["safestring","application","domelement","error"],function(e){e.asAppendable=function(e){switch(e.type){case"safestring":case"domelement":return e.value;case"error":return"ERROR"}}}(i=e.Value||(e.Value={})),e.Concat={name:"concat",apply:e=>{const i=[];let n=[];const o=e.some((e=>"domelement"==e.type));function s(){if(n.length>0){let e=i.length>0?"&nbsp;":"";e+=n.map((e=>e.value)).join(" "),e+="&nbsp;",o?i.push({type:"domelement",value:t().setInnerHtml(e).css("white-space","nowrap")}):i.push({type:"safestring",value:e}),n=[]}}for(const t of e)switch(t.type){case"safestring":n.push(t);break;case"domelement":s(),i.push(t)}return s(),i}},e.Unknown={name:"Unknown",apply:()=>[{type:"safestring",value:"UNKNOWN FUNCTION"}]},function(t){t.evaluate=function t(i){var n;try{if("application"===i.type){const o=i.arguments.flatMap((e=>t(e)));return(null!==(n=i.function)&&void 0!==n?n:e.Unknown).apply(o)}return[i]}catch(e){return[{type:"error",message:e.toString()}]}},t.parse=function(t,i){const n=function(e){let t=[],i=0;for(;i<e.length;){if(e.startsWith("{{",i))t.push("open"),i+=2;else if(e.startsWith("}}",i))t.push("close"),i+=2;else{let n=Math.min(...[e.indexOf(" ",i),e.indexOf("{{",i),e.indexOf("}}",i)].filter((e=>e>0)));n<0&&(n=e.length),t.push({type:"safestring",value:ne.sanitize(oe.escape(e.substring(i,n).trimEnd()))}),i=n}for(;" "==e.charAt(i);)i++}return t}(t);let o=0;function s(){return n[o]}function r(){let t=s();if(!t||"open"==t||"close"==t)return{type:"application",function:e.Concat,arguments:[]};const n=ne.sanitize(oe.escape(t.value));o+=1;const r=i[n];return r?{type:"application",function:r,arguments:a()}:{type:"error",message:`Unknown Function ${n}`}}function a(){const e=[];for(;;){const t=s();if("close"==t||null==t)return o+=1,e;"open"==t?(o+=1,e.push(r())):(e.push(t),o+=1)}}const l=a();return{type:"application",function:e.Concat,arguments:l}}}(n=e.Expression||(e.Expression={}))}(re||(re={}));var ae,le,ce=s(6541);!function(e){e.toCoords=function(e){return{x:2440+Math.round((60*e.longitude.degrees+e.longitude.minutes)*("west"==e.longitude.direction?-1:1)/1.875),y:3161+Math.round((60*e.latitude.degrees+e.latitude.minutes)*("south"==e.latitude.direction?-1:1)/1.875),level:0}},e.toString=function(e){return`${e.latitude.degrees}°${e.latitude.minutes}' ${"north"==e.latitude.direction?"N":"S"}, ${e.longitude.degrees}°${e.longitude.minutes}' ${"east"==e.longitude.direction?"E":"W"}`}}(ae||(ae={})),function(e){let t;function i(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function n(e,t){return e[t]}function o(e,t){return[e[0][t],e[1][t],e[2][t]]}function s(e,t){return[0,1,2].map((s=>[0,1,2].map((r=>i(n(e,s),o(t,r))))))}!function(e){e.toVector2=function(e){return{x:e[0],y:e[1]}},e.position=function(e){return[e.x,e.y,1]},e.direction=function(e){return[e.x,e.y,0]}}(t=e.Vector3||(e.Vector3={})),e.translation=function(e){return[[1,0,e.x],[0,1,e.y],[0,0,1]]},e.rotation=function(e){let t=e*Math.PI/2;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},e.rotationRadians=function(e){let t=e;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},e.scale=function(e){return[[e.x,0,0],[0,e.y,0],[0,0,1]]},e.mirror_x=function(){return[[-1,0,0],[0,1,0],[0,0,1]]},e.mirror_y=function(){return[[1,0,0],[0,-1,0],[0,0,1]]},e.row=n,e.col=o,e.mult=s,e.chain=function(...e){let t=[[1,0,0],[0,1,0],[0,0,1]];for(let i of e)t=s(t,i);return t},e.apply=function(e,t){return[i(n(e,0),t),i(n(e,1),t),i(n(e,2),t)]},e.identity=function(){return[[1,0,0],[0,1,0],[0,0,1]]}}(le||(le={}));const ue={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let pe;const he=new Uint8Array(16);function de(){if(!pe){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");pe=crypto.getRandomValues.bind(crypto)}return pe(he)}const ge=[];for(let e=0;e<256;++e)ge.push((e+256).toString(16).slice(1));const fe=function(e,t,i){if(ue.randomUUID&&!t&&!e)return ue.randomUUID();const n=(e=e||{}).random||(e.rng||de)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=n[e];return t}return function(e,t=0){return(ge[e[t+0]]+ge[e[t+1]]+ge[e[t+2]]+ge[e[t+3]]+"-"+ge[e[t+4]]+ge[e[t+5]]+"-"+ge[e[t+6]]+ge[e[t+7]]+"-"+ge[e[t+8]]+ge[e[t+9]]+"-"+ge[e[t+10]]+ge[e[t+11]]+ge[e[t+12]]+ge[e[t+13]]+ge[e[t+14]]+ge[e[t+15]]).toLowerCase()}(n)},ye=[],me=[];var _e,ve,xe,we,be=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){function t(e,t,i="s"){let n=`${e} ${t}`;return 1!=e&&(n+=i),n}let i;function n(e,t){return e[(e.length+t)%e.length]}function o(e,t){const i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}function s(e,t){function i(e,t){return Math.max(0,1-Math.abs(e-t)/128)}return(i(e[0],t[0])+i(e[1],t[1])+i(e[2],t[2]))/3}function r(e,t){return se().padStart(e.toString(),t,"0")}e.natural_join=function(e,t="and"){return 0==e.length?"":1==e.length?e.toString():2==e.length?`${e[0]} ${t} ${e[1]}`:e.slice(0,-1).join(", ")+`, ${t} `+e[e.length-1]},e.plural=t,function(e){e.natural_order=function(e,t){return e-t},e.comap=function(e,t){return(i,n)=>e(t(i),t(n))},e.reverse=function(e){return(t,i)=>-e(t,i)},e.chain=function(...e){return(t,i)=>{for(let n of e){let e=n(t,i);if(0!=e)return e}return 0}}}(i=e.Order||(e.Order={})),e.capitalize=function(e){return e?e[0].toUpperCase()+e.slice(1):""},e.index=n,e.multiIndex=function(e,...t){let i=e;return t.forEach((e=>{i=n(i,e)})),i},e.minIndex=function(e){return e.indexOf(Math.min(...e))},e.shorten_integer_list=function(e,t=(e=>e.toString())){e.sort(i.natural_order);let n=[],o=e[0],s=o;for(let i=1;i<e.length;i++){let r=e[i];r<=s+1||(s==o?n.push(t(s)):s==o+1?n.push(t(o),t(s)):n.push(`${t(o)} - ${t(s)}`),o=r),s=r}return s==o?n.push(t(s)):s==o+1?n.push(t(o),t(s)):n.push(`${t(o)} - ${t(s)}`),n},e.convert_bounds=function(e){return ce.latLngBounds([[e.getTopLeft().y,e.getTopLeft().x],[e.getBottomRight().y,e.getBottomRight().x]])},e.compose=function(e,...t){return t.reduce(((e,t)=>i=>t(e(i))),e)},e.swap=function(e,t){return[t,e]},e.count=function(e,t){return e.reduce(((e,i)=>e+(t(i)?1:0)),0)},e.signedToString=function(e){return`${Math.sign(e)<0?"":"+"}${e}`},e.tap=function(e,...t){return t.forEach((t=>t(e))),e},e.profile=function(e,t=null){let i=window.performance.now();console.log(`Starting task ${t}: `);let n=e();const o=window.performance.now()-i;return console.log(`Task ${t} took ${o.toFixed(1)}ms\n`),n},e.profileAsync=function(e){return be(this,arguments,void 0,(function*(e,t=null,i=!0){let n=window.performance.now();i&&console.log(`Starting task ${t}: `);try{return yield e()}finally{const e=window.performance.now()-n;console.log(`Task ${t} took ${e.toFixed(1)}ms\n`)}}))},e.avg=function(...e){return e.reduce(((e,t)=>e+t),0)/e.length},e.positiveMod=function(e,t){return(e+=Math.ceil(Math.abs(e/t))*t)%t},e.uuid=function(){return fe()},e.timestamp=function(){return Math.floor((new Date).getTime()/1e3)},e.asyncFilter=function(e,t){return be(this,void 0,void 0,(function*(){let i=yield Promise.all(e.map(t));return e.filter(((e,t)=>i[t]))}))},e.todo=function(){throw new Error("Not implemented.")},e.copyUpdate=function(e,t){const i=se().cloneDeep(e);return t(i),i},e.copyUpdate2=function(e,t){const i=se().clone(e);return t(i),i},e.cleanedJSON=function(e,t=void 0){return JSON.stringify(e,((e,t)=>{if(!e.startsWith("_"))return t}),t)},e.eqWithNull=function(e){return(t,i)=>t==i||null!=t&&null!=i&&e(t,i)},e.downloadTextFile=function(e,t){o(e,"data:text/plain;charset=utf-8,"+encodeURIComponent(t))},e.download=o,e.downloadBinaryFile=function(e,t){o(e,window.URL.createObjectURL(new Blob([t])))},e.selectFile=function(e=void 0){return new Promise((t=>{const i=document.createElement("input");i.setAttribute("type","file"),e&&i.setAttribute("accept",e),i.addEventListener("change",(e=>{var i;t(null===(i=e.currentTarget.files)||void 0===i?void 0:i[0])})),i.click()}))},e.stringSimilarity=function(e,t){return 1-function(e,t,i){if(e===t)return 0;if(0===e.length)return t.length;if(0===t.length)return e.length;e=e.toLowerCase(),t=t.toLowerCase();let n=0;for(;n<e.length;)ye[n]=e.charCodeAt(n),me[n]=++n;let o,s=0;for(;s<t.length;){const i=t.charCodeAt(s);let n=-1,r=s++;for(o=r;++n<e.length;){const e=i===ye[n]?r:r+1;r=me[n],o=r>o?e>o?o+1:e:e>r?r+1:e,me[n]=o}}return o}(e,t)/t.length},e.scoreAll=function(e,t){return e.map((e=>({value:e,score:t(e)})))},e.findBestMatch=function(e,t,i=void 0,n=!1){const o=e.map((e=>({value:e,score:t(e)})));if(n){const e=se().minBy(o,(e=>e.score));return null!=i&&e.score>i?null:e}{const e=se().maxBy(o,(e=>e.score));return null!=i&&e.score<i?null:e}},e.hslSimilarity=function(e,t){return 1-function(e,t){let i=Math.abs(e-t);return i>128&&(i=255-i),i/128}(e[0],t[0])*(1-Math.abs(e[1]-t[1])/255)*(1-Math.abs(e[2]-t[2])/255)},e.rgbSimilarity=s,e.rgbContrast=function(e,t){return 1-s(e,t)},e.greatestCommonDivisor=function e(t,i){return 0==i?Math.abs(t):e(i,t%i)},e.sampleImage=function(e,t){return e.getPixel(t.x,t.y)},e.positive_mod=function(e,t){return(e%t+t)%t},e.factorial=function e(t,i=1){return t<=i?1:t*e(t-1,i)},e.numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},e.padInteger=r,e.chooseRandom=function(e){return e[Math.floor(Math.random()*e.length)]},e.formatTime=function(e){const t=new Date(e);return`${r(t.getHours(),2)}:${r(t.getMinutes(),2)}:${r(t.getSeconds(),2)}.${r(t.getMilliseconds(),4)}`},e.formatTimeWithoutMilliseconds=function(e){const t=new Date(e);return`${r(t.getHours(),2)}:${r(t.getMinutes(),2)}:${r(t.getSeconds(),2)}`};class a{constructor(e){this._is_initialized=!1,this._value=void 0,this.promise=e().then((e=>(this._is_initialized=!0,this._value=e,e)))}isInitialized(){return this._is_initialized}wait(){return this.promise}get(){return this._value}}e.AsyncInitialization=a,e.async_init=function(e){return new a(e)},e.delay=function(e){return be(this,void 0,void 0,(function*(){return new Promise((t=>setTimeout(t,e)))}))},e.renderTimespan=function(e){const i=36e5,n=24*i;return e>2*n?t(Math.floor(e/n),"day"):e>3*i?t(Math.floor(e/i),"hour"):e>12e4?t(Math.floor(e/6e4),"minute"):t(Math.floor(e/1e3),"second")},e.findAsync=function(e,t){return be(this,void 0,void 0,(function*(){const i=e.map(t),n=(yield Promise.all(i)).findIndex((e=>e));return e[n]}))},e.median=function(e){if(0==e.length)return Number.NaN;const t=se().sortBy(e,i.natural_order);return t[~~(t.length/2)]},e.makeCSV=function(e,t="\t"){return(...i)=>[i.map((e=>e.name)).join(t),...e.map((e=>i.map((t=>t.f(e))).join(t)))].join("\n")}}(_e||(_e={})),function(e){var t=_e.positive_mod;function i(e){return e/(2*Math.PI)*360}function n(e){return e/360*(2*Math.PI)}function o(e){for(;e<0;)e+=2*Math.PI;for(;e>2*Math.PI;)e-=2*Math.PI;return e}function s(e){return Math.atan2(se().sum(e.map(Math.sin)),se().sum(e.map(Math.cos)))}function r(e,i){return Math.abs(t(i-e+Math.PI,2*Math.PI)-Math.PI)}let a,l;e.radiansToDegrees=i,e.degreesToRadians=n,e.EQUALITY_EPSILON=n(.035),e.isSameRadians=function(t,i){return Math.abs(t-i)<e.EQUALITY_EPSILON},e.normalizeAngle=o,e.circularMean=s,e.angleDifference=r,e.angleDifferenceSigned=function(e,i){return t(i-e+Math.PI,2*Math.PI)-Math.PI},e.toString=function(e,t=1){return`${i(e).toFixed(t)}°`},function(t){function i(e,t){return n({from:e,to:t})}function n(e){return[e.from,e.to].every((e=>e>2*Math.PI))&&(e.from=o(e.from),e.to=o(e.to)),e.to<e.from&&(e.to+=2*Math.PI),e}t.construct=i,t.split=function(e,i){const n=t.size(e)/i;return new Array(i).fill(null).map(((t,i)=>({from:e.from+i*n,to:e.from+(i+1)*n})))},t.contains=function(e,t){if(t>=e.from&&t<=e.to)return!0;const i=t+2*Math.PI;return i>e.from&&i<e.to},t.normalize=n,t.shrink=function(e,t){n(e);const i=r(e[0],e[1])*t/2;return n({from:e.from+i,to:e.to-i})},t.around=function(e,t){return n({from:e-t/2,to:e+t/2})},t.fromAngles=function(...e){let t=s(e);t<0&&(t+=2*Math.PI);let i={from:t,to:t};for(let n of e)r(n,t)>Math.PI&&(n+=2*Math.PI),n<i.from&&(i.from=n),n>i.to&&(i.to=n);return n(i)},t.mean=function(e){return o((e.from+e.to)/2)},t.between=function(t,n){return t==n&&t.from==t.to?i(t.to+e.EQUALITY_EPSILON,t.from-e.EQUALITY_EPSILON):i(t.to,n.from)},t.size=function(e){return o(e.to-e.from)},t.overlaps=function(e,t){return e.from<=t.to&&e.to>=t.from||t.from<=e.to&&t.to>=e.from},t.toString=function(t,i=1){return`${e.toString(t.from,i)} - ${e.toString(t.to,i)}`}}(a=e.AngleRange||(e.AngleRange={})),function(t){var n=_e.positive_mod;function o(e,t=1){return`${i(e.median).toFixed(t)}°`}function s(e,t=2){return`±${i(e.epsilon).toFixed(t)}°`}t.fromAngle=function(e){return{median:e,epsilon:0,range:a.fromAngles(e)}},t.fromEpsilonAngle=function(e,t){return{median:e,epsilon:t,range:{from:e-t,to:e+t}}},t.fromRange=function(e){return{median:a.mean(e),epsilon:a.size(e)/2,range:e}},t.meanDifference=function(e,t){return Math.abs(n(e.median-t.median+Math.PI,2*Math.PI)-Math.PI)},t.toAngleString=o,t.toUncertaintyString=s,t.toString=function(e,t=1){return o(e,t)+"  "+s(e,t)},t.contains=function(t,i){return r(i,t.median)<t.epsilon+e.EQUALITY_EPSILON},t.equals=function(t,i){return e.isSameRadians(t.median,i.median)&&e.isSameRadians(t.epsilon,i.epsilon)}}(l=e.UncertainAngle||(e.UncertainAngle={}))}(ve||(ve={})),function(e){function t(e,t){return{x:e.x-t.x,y:e.y-t.y}}function i(e,t){return{x:t.x*e,y:t.y*e}}function n(e){return Math.sqrt(o(e))}function o(e){return e.x*e.x+e.y*e.y}function s(e,t=1){return{x:Math.round(e.x/t)*t,y:Math.round(e.y/t)*t}}e.add=function(...e){return{x:e.map((e=>e.x)).reduce(((e,t)=>e+t),0),y:e.map((e=>e.y)).reduce(((e,t)=>e+t),0)}},e.sub=t,e.mul=function(e,t){return{x:e.x*t.x,y:e.y*t.y}},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.det=function(e,t){return e.x*t.y-e.y*t.x},e.neg=function(e){return{x:-e.x,y:-e.y}},e.scale=i,e.length=n,e.lengthSquared=o,e.normalize=function(e){return i(1/n(e),e)},e.sign=function(e){return{x:Math.sign(e.x),y:Math.sign(e.y)}},e.rotate=function(e,t){let i=Math.sin(t),n=Math.cos(t);return{x:n*e.x-i*e.y,y:i*e.x+n*e.y}},e.angle=function(t,i){return ve.normalizeAngle(Math.atan2(e.det(t,i),e.dot(t,i)))},e.eq=function(e,t){return e.x==t.x&&e.y==t.y},e.manhatten=function(e){return Math.abs(e.x)+Math.abs(e.y)},e.max_axis=function(e){return Math.max(Math.abs(e.x),Math.abs(e.y))},e.min_axis=function(e){return Math.min(Math.abs(e.x),Math.abs(e.y))},e.toLatLong=function(e){return ce.latLng(e.y,e.x)},e.asTuple=function(e){return[e.x,e.y]},e.fromLatLong=function(e){return{x:e.lng,y:e.lat}},e.toPoint=function(e){return ce.point(e.x,e.y)},e.copy=function(e){return{x:e.x,y:e.y}},e.snap=s,e.swap=function(e){return{x:e.y,y:e.x}},e.transform=function(e,t){let i=le.apply(t,[e.x,e.y,0]);return{x:i[0],y:i[1]}},e.transform_point=function(e,t){let i=le.apply(t,[e.x,e.y,1]);return s({x:i[0],y:i[1]},.5)},e.abs=function(e){return{x:Math.abs(e.x),y:Math.abs(e.y)}},e.toString=function(e){return`${e.x} | ${e.y}`},e.hash=function(e,t=64){return Math.floor(Math.abs((e.x^e.y)%t))},e.mirrorThroughPoint=function(i,n){return e.add(n,t(n,i))}}(xe||(xe={})),function(e){function t(...e){return 0==(e=e.filter(oe.identity)).length?null:{topleft:{x:Math.min(...e.map((e=>e.x))),y:Math.max(...e.map((e=>e.y)))},botright:{x:Math.max(...e.map((e=>e.x))),y:Math.min(...e.map((e=>e.y)))}}}function i(e,i){return t(e,xe.add(e,i,{x:-1,y:-1}))}function n(e,...t){return{topleft:{x:Math.min(e.topleft.x,...t.map((e=>e.x))),y:Math.max(e.topleft.y,...t.map((e=>e.y)))},botright:{x:Math.max(e.botright.x,...t.map((e=>e.x))),y:Math.min(e.botright.y,...t.map((e=>e.y)))}}}e.from=t,e.fromOriginAndSize=i,e.fromRectLike=function(e){return i({x:e.x,y:e.y},{x:e.width,y:e.height})},e.containsTile=function(e,t){return e.topleft.x-.5<=t.x&&e.topleft.y+.5>=t.y&&e.botright.x+.5>=t.x&&e.botright.y-.5<=t.y},e.contains=function(e,t){return e.topleft.x<=t.x&&e.topleft.y>=t.y&&e.botright.x>=t.x&&e.botright.y<=t.y},e.extend=function(e,t){if(Array.isArray(t)){const[i,n]=t;return{topleft:xe.add(e.topleft,{x:-i,y:n}),botright:xe.add(e.botright,{x:i,y:-n})}}return{topleft:xe.add(e.topleft,{x:-t,y:t}),botright:xe.add(e.botright,{x:t,y:-t})}},e.clampInto=function(e,t){return{x:(0,oe.clamp)(e.x,t.topleft.x,t.botright.x),y:(0,oe.clamp)(e.y,t.botright.y,t.topleft.y)}},e.center=function(e,t=!0){let i={x:(e.topleft.x+e.botright.x)/2,y:(e.topleft.y+e.botright.y)/2};return t?xe.snap(i):i},e.toBounds=function(e){let t=ce.point(e.topleft),i=ce.point(e.botright);return ce.bounds(t,i)},e.left=function(e){return{topleft:{x:e.topleft.x,y:e.topleft.y},botright:{x:e.topleft.x,y:e.botright.y}}},e.right=function(e){return{topleft:{x:e.botright.x,y:e.topleft.y},botright:{x:e.botright.x,y:e.botright.y}}},e.top=function(e){return{topleft:{x:e.topleft.x,y:e.topleft.y},botright:{x:e.botright.x,y:e.topleft.y}}},e.bottom=function(e){return{topleft:{x:e.topleft.x,y:e.botright.y},botright:{x:e.botright.x,y:e.botright.y}}},e.topRight=function(e){return{x:e.botright.x,y:e.topleft.y}},e.bottomLeft=function(e){return{x:e.topleft.x,y:e.botright.y}},e.topLeft=function(e){return{x:e.topleft.x,y:e.topleft.y}},e.bottomRight=function(e){return{x:e.botright.x,y:e.botright.y}},e.tileWidth=function(e){return e.botright.x-e.topleft.x+1},e.tileHeight=function(e){return e.topleft.y-e.botright.y+1},e.width=function(e){return e.botright.x-e.topleft.x},e.height=function(e){return e.topleft.y-e.botright.y},e.extendTo=n,e.extendToRect=function(e,t){return n(n(e,t.topleft),t.botright)},e.combine=function(...t){return e.from(...t.flatMap((e=>e?[e.topleft,e.botright]:[])))},e.translate=function(e,t){return{topleft:xe.add(e.topleft,t),botright:xe.add(e.botright,t)}},e.transform=function(t,i){return e.from(xe.transform_point(t.topleft,i),xe.transform_point(t.botright,i))},e.overlaps=function(e,t){return e.topleft.x<=t.botright.x&&e.botright.x>=t.topleft.x&&e.botright.y<=t.topleft.y&&e.topleft.y>=t.botright.y},e.centeredOn=function(e,t,i=void 0){return null==i&&(i=t),{topleft:xe.add(e,{x:-t,y:i}),botright:xe.add(e,{x:t,y:-i})}},e.equals=function(e,t){return e==t||!!e&&!!t&&xe.eq(e.topleft,t.topleft)&&xe.eq(e.botright,t.botright)},e.containsRect=function(t,i){return e.containsTile(t,i.topleft)&&e.containsTile(t,i.botright)},e.screenOrigin=function(t){return e.bottomLeft(t)},e.union=function(...t){return e.from(...t.flatMap((e=>[e.topleft,e.botright])))},e.size=function(e){return{x:e.botright.x-e.topleft.x+1,y:e.topleft.y-e.botright.y+1}},e.move=function(e,t){return{topleft:xe.add(e.topleft,t),botright:xe.add(e.botright,t)}}}(we||(we={}));var ke,Te,ze,Se,Ce=ve.angleDifference;function Ae(e,t){const i=xe.length(e),n=[Math.atan2(e.y,e.x),Math.atan2(e.y,-e.x)].map((e=>{let n=Ce(e,t);return n>Math.PI&&(n=2*Math.PI-n),n>Math.PI/2&&(n=Math.PI-n),Math.sin(n)*i}));return Math.max(...n)}!function(e){function t(e){return(0,oe.isArray)(e)?{matrix:e,level_offset:0}:e}function i(e,t=0){return{matrix:e,level_offset:t}}function n(e,n){let o=t(e),s=t(n);return i(le.mult(o.matrix,s.matrix),o.level_offset+s.level_offset)}function o(){return{matrix:le.identity(),level_offset:0}}e.normalize=t,e.lift=i,e.mult=n,e.chain=function(...e){let t=o();for(let i of e)t=n(t,i);return t},e.translation=function(e,t){return{matrix:le.translation(e),level_offset:t}},e.identity=o}(ke||(ke={})),function(e){function t(e,t){return xe.eq(e,t)&&e.level==t.level}function i(e,i){return null!=e&&null!=i&&(e==i||t(e,i))}function n(e,t){return Object.assign(Object.assign({},e),{level:t})}e.eq=t,e.eq2=i,e.equals=function(e,t){return e==t||i(e,t)},e.lift=n,e.move=function(e,t){return{x:e.x+t.x,y:e.y+t.y,level:e.level}},e.toString=function(e){return`${e.x} | ${e.y} | ${e.level}`},e.snap=function(e,t=1){return 0==t?e:{x:Math.round(e.x/t)*t,y:Math.round(e.y/t)*t,level:e.level}},e.distance=function(e,t){return xe.max_axis(xe.sub(e,t))},e.transform=function(e,t){let i=ke.normalize(t);return n(xe.transform_point(e,i.matrix),e.level+i.level_offset)},e.chunk=function(e){return{x:Math.floor(e.x/64),y:Math.floor(e.y/64)}},e.toShortString=function(e){return`${e.x}.${e.y}.${e.level}`}}(Te||(Te={})),function(e){function t(e,t){return Object.assign(Object.assign({},e),{level:t})}e.contains=function(e,t){return t.level==e.level&&we.containsTile(e,t)},e.containsCoords=function(e,t){return t.level==e.level&&we.contains(e,t)},e.clampInto=function(e,t){return Te.lift(we.clampInto(e,t),e.level)},e.extend=function(e,i){return t(we.extend(e,i),e.level)},e.tl=function(e){return Te.lift(e.topleft,e.level)},e.br=function(e){return Te.lift(e.botright,e.level)},e.tr=function(e){return Te.lift(we.topRight(e),e.level)},e.bl=function(e){return Te.lift(we.bottomLeft(e),e.level)},e.center=function(e,t=!0){return Te.lift(we.center(e,t),e.level)},e.fromTile=function(e){return e?{level:e.level,topleft:{x:e.x,y:e.y},botright:{x:e.x,y:e.y}}:null},e.isTile=function(e){return xe.eq(e.topleft,e.botright)},e.lift=t,e.left=function(e){return t(we.left(e),e.level)},e.right=function(e){return t(we.right(e),e.level)},e.top=function(e){return t(we.top(e),e.level)},e.bottom=function(e){return t(we.bottom(e),e.level)},e.from=function(...e){return t(we.from(...e),Math.min(...e.map((e=>e.level))))},e.extendTo=function(e,i){return t(we.extendTo(e,i),e.level)},e.extendToRect=function(e,i){return t(we.extendToRect(e,i),e.level)},e.translate=function(e,i){return t(we.translate(e,i),e.level)},e.transform=function(e,i){let n=ke.normalize(i);return t(we.transform(e,n.matrix),Se.clamp(e.level+n.level_offset))},e.equals=function(e,t){return e==t||!!e&&!!t&&we.equals(e,t)&&e.level==t.level}}(ze||(ze={})),function(e){e.all=[0,1,2,3],e.clamp=function(e){return Math.max(0,Math.min(3,e))}}(Se||(Se={}));class Ee extends ce.FeatureGroup{constructor(e){super(),this._options=e,this.last_drawn=null,this._hook=()=>this.redraw(),this._style=e.lineStyle,this._options.offset||(this._options.offset={x:.5,y:.5}),this._options.lineStyle||(this._options.lineStyle={stroke:!0,color:"#111",opacity:.6,weight:1,interactive:!1}),e.pane&&!this._style.pane&&(this._style.pane=e.pane)}onAdd(e){return super.onAdd(e),this._map=e,this._map.on("zoomend",this._hook),this._map.on("moveend",this._hook),this.redraw(),this}onRemove(e){return this._map.off("zoomend",this._hook),this._map.off("moveend",this._hook),this}redraw(){let e=this._map.getBounds(),t=oe.minBy(this._options.intervals.filter((e=>this._map.getZoom()>=e.min_zoom)),(e=>e.interval));this.last_drawn&&this.last_drawn.bounds.contains(e)&&this.last_drawn.interval==(null==t?void 0:t.interval)||this.constructLines(this._map.getBounds().pad(.5),null==t?void 0:t.interval)}constructLines(e,t){if(this.last_drawn={bounds:e,interval:t},this.clearLayers(),!t)return;let i=Math.ceil((e.getEast()-e.getWest())/t),n=Math.ceil((e.getNorth()-e.getSouth())/t),o=Math.floor(e.getWest()/t)*t,s=Math.floor(e.getSouth()/t)*t;const r=[];for(let n=0;n<=i;n++){let i=o+n*t+this._options.offset.x-1;r.push([[e.getSouth(),i],[e.getNorth(),i]])}for(let i=0;i<=n;i++){let n=s+i*t+this._options.offset.y-1;r.push([[n,e.getWest()],[n,e.getEast()]])}new ce.Polyline(r,this._style).addTo(this)}}var Pe=s(5616);function Me(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Le(e){return e instanceof Me(e).Element||e instanceof Element}function De(e){return e instanceof Me(e).HTMLElement||e instanceof HTMLElement}function Ie(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Me(e).ShadowRoot||e instanceof ShadowRoot)}var Oe=Math.max,Re=Math.min,Be=Math.round;function Fe(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Ne(){return!/^((?!chrome|android).)*safari/i.test(Fe())}function je(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=e.getBoundingClientRect(),o=1,s=1;t&&De(e)&&(o=e.offsetWidth>0&&Be(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Be(n.height)/e.offsetHeight||1);var r=(Le(e)?Me(e):window).visualViewport,a=!Ne()&&i,l=(n.left+(a&&r?r.offsetLeft:0))/o,c=(n.top+(a&&r?r.offsetTop:0))/s,u=n.width/o,p=n.height/s;return{width:u,height:p,top:c,right:l+u,bottom:c+p,left:l,x:l,y:c}}function Ue(e){var t=Me(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function qe(e){return e?(e.nodeName||"").toLowerCase():null}function He(e){return((Le(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ve(e){return je(He(e)).left+Ue(e).scrollLeft}function $e(e){return Me(e).getComputedStyle(e)}function We(e){var t=$e(e),i=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+o+n)}function Ge(e,t,i){void 0===i&&(i=!1);var n,o,s=De(t),r=De(t)&&function(e){var t=e.getBoundingClientRect(),i=Be(t.width)/e.offsetWidth||1,n=Be(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),a=He(t),l=je(e,r,i),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(s||!s&&!i)&&(("body"!==qe(t)||We(a))&&(c=(n=t)!==Me(n)&&De(n)?{scrollLeft:(o=n).scrollLeft,scrollTop:o.scrollTop}:Ue(n)),De(t)?((u=je(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=Ve(a))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function Ze(e){var t=je(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function Ke(e){return"html"===qe(e)?e:e.assignedSlot||e.parentNode||(Ie(e)?e.host:null)||He(e)}function Ye(e){return["html","body","#document"].indexOf(qe(e))>=0?e.ownerDocument.body:De(e)&&We(e)?e:Ye(Ke(e))}function Qe(e,t){var i;void 0===t&&(t=[]);var n=Ye(e),o=n===(null==(i=e.ownerDocument)?void 0:i.body),s=Me(n),r=o?[s].concat(s.visualViewport||[],We(n)?n:[]):n,a=t.concat(r);return o?a:a.concat(Qe(Ke(r)))}function Xe(e){return["table","td","th"].indexOf(qe(e))>=0}function Je(e){return De(e)&&"fixed"!==$e(e).position?e.offsetParent:null}function et(e){for(var t=Me(e),i=Je(e);i&&Xe(i)&&"static"===$e(i).position;)i=Je(i);return i&&("html"===qe(i)||"body"===qe(i)&&"static"===$e(i).position)?t:i||function(e){var t=/firefox/i.test(Fe());if(/Trident/i.test(Fe())&&De(e)&&"fixed"===$e(e).position)return null;var i=Ke(e);for(Ie(i)&&(i=i.host);De(i)&&["html","body"].indexOf(qe(i))<0;){var n=$e(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}var tt="top",it="bottom",nt="right",ot="left",st="auto",rt=[tt,it,nt,ot],at="start",lt="end",ct="viewport",ut="popper",pt=rt.reduce((function(e,t){return e.concat([t+"-"+at,t+"-"+lt])}),[]),ht=[].concat(rt,[st]).reduce((function(e,t){return e.concat([t,t+"-"+at,t+"-"+lt])}),[]),dt=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function gt(e){var t=new Map,i=new Set,n=[];function o(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||o(e)})),n}var ft={placement:"bottom",modifiers:[],strategy:"absolute"};function yt(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function mt(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,o=t.defaultOptions,s=void 0===o?ft:o;return function(e,t,i){void 0===i&&(i=s);var o,r,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},ft,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(i){var o="function"==typeof i?i(a.options):i;p(),a.options=Object.assign({},s,a.options,o),a.scrollParents={reference:Le(e)?Qe(e):e.contextElement?Qe(e.contextElement):[],popper:Qe(t)};var r,c,h=function(e){var t=gt(e);return dt.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}((r=[].concat(n,a.options.modifiers),c=r.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return a.orderedModifiers=h.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,o=e.effect;if("function"==typeof o){var s=o({state:a,name:t,instance:u,options:n});l.push(s||function(){})}})),u.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,i=e.popper;if(yt(t,i)){a.rects={reference:Ge(t,et(i),"fixed"===a.options.strategy),popper:Ze(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var o=a.orderedModifiers[n],s=o.fn,r=o.options,l=void 0===r?{}:r,p=o.name;"function"==typeof s&&(a=s({state:a,options:l,name:p,instance:u})||a)}else a.reset=!1,n=-1}}},update:(o=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return r||(r=new Promise((function(e){Promise.resolve().then((function(){r=void 0,e(o())}))}))),r}),destroy:function(){p(),c=!0}};if(!yt(e,t))return u;function p(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(i).then((function(e){!c&&i.onFirstUpdate&&i.onFirstUpdate(e)})),u}}var _t={passive:!0};function vt(e){return e.split("-")[0]}function xt(e){return e.split("-")[1]}function wt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function bt(e){var t,i=e.reference,n=e.element,o=e.placement,s=o?vt(o):null,r=o?xt(o):null,a=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(s){case tt:t={x:a,y:i.y-n.height};break;case it:t={x:a,y:i.y+i.height};break;case nt:t={x:i.x+i.width,y:l};break;case ot:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var c=s?wt(s):null;if(null!=c){var u="y"===c?"height":"width";switch(r){case at:t[c]=t[c]-(i[u]/2-n[u]/2);break;case lt:t[c]=t[c]+(i[u]/2-n[u]/2)}}return t}var kt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Tt(e){var t,i=e.popper,n=e.popperRect,o=e.placement,s=e.variation,r=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,p=e.isFixed,h=r.x,d=void 0===h?0:h,g=r.y,f=void 0===g?0:g,y="function"==typeof u?u({x:d,y:f}):{x:d,y:f};d=y.x,f=y.y;var m=r.hasOwnProperty("x"),_=r.hasOwnProperty("y"),v=ot,x=tt,w=window;if(c){var b=et(i),k="clientHeight",T="clientWidth";b===Me(i)&&"static"!==$e(b=He(i)).position&&"absolute"===a&&(k="scrollHeight",T="scrollWidth"),(o===tt||(o===ot||o===nt)&&s===lt)&&(x=it,f-=(p&&b===w&&w.visualViewport?w.visualViewport.height:b[k])-n.height,f*=l?1:-1),o!==ot&&(o!==tt&&o!==it||s!==lt)||(v=nt,d-=(p&&b===w&&w.visualViewport?w.visualViewport.width:b[T])-n.width,d*=l?1:-1)}var z,S=Object.assign({position:a},c&&kt),C=!0===u?function(e,t){var i=e.x,n=e.y,o=t.devicePixelRatio||1;return{x:Be(i*o)/o||0,y:Be(n*o)/o||0}}({x:d,y:f},Me(i)):{x:d,y:f};return d=C.x,f=C.y,l?Object.assign({},S,((z={})[x]=_?"0":"",z[v]=m?"0":"",z.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+f+"px)":"translate3d("+d+"px, "+f+"px, 0)",z)):Object.assign({},S,((t={})[x]=_?f+"px":"",t[v]=m?d+"px":"",t.transform="",t))}const zt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];De(o)&&qe(o)&&(Object.assign(o.style,i),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});De(n)&&qe(n)&&(Object.assign(n.style,s),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};var St={left:"right",right:"left",bottom:"top",top:"bottom"};function Ct(e){return e.replace(/left|right|bottom|top/g,(function(e){return St[e]}))}var At={start:"end",end:"start"};function Et(e){return e.replace(/start|end/g,(function(e){return At[e]}))}function Pt(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Ie(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Mt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Lt(e,t,i){return t===ct?Mt(function(e,t){var i=Me(e),n=He(e),o=i.visualViewport,s=n.clientWidth,r=n.clientHeight,a=0,l=0;if(o){s=o.width,r=o.height;var c=Ne();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:r,x:a+Ve(e),y:l}}(e,i)):Le(t)?function(e,t){var i=je(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):Mt(function(e){var t,i=He(e),n=Ue(e),o=null==(t=e.ownerDocument)?void 0:t.body,s=Oe(i.scrollWidth,i.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=Oe(i.scrollHeight,i.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+Ve(e),l=-n.scrollTop;return"rtl"===$e(o||i).direction&&(a+=Oe(i.clientWidth,o?o.clientWidth:0)-s),{width:s,height:r,x:a,y:l}}(He(e)))}function Dt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function It(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}function Ot(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=void 0===n?e.placement:n,s=i.strategy,r=void 0===s?e.strategy:s,a=i.boundary,l=void 0===a?"clippingParents":a,c=i.rootBoundary,u=void 0===c?ct:c,p=i.elementContext,h=void 0===p?ut:p,d=i.altBoundary,g=void 0!==d&&d,f=i.padding,y=void 0===f?0:f,m=Dt("number"!=typeof y?y:It(y,rt)),_=h===ut?"reference":ut,v=e.rects.popper,x=e.elements[g?_:h],w=function(e,t,i,n){var o="clippingParents"===t?function(e){var t=Qe(Ke(e)),i=["absolute","fixed"].indexOf($e(e).position)>=0&&De(e)?et(e):e;return Le(i)?t.filter((function(e){return Le(e)&&Pt(e,i)&&"body"!==qe(e)})):[]}(e):[].concat(t),s=[].concat(o,[i]),r=s[0],a=s.reduce((function(t,i){var o=Lt(e,i,n);return t.top=Oe(o.top,t.top),t.right=Re(o.right,t.right),t.bottom=Re(o.bottom,t.bottom),t.left=Oe(o.left,t.left),t}),Lt(e,r,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(Le(x)?x:x.contextElement||He(e.elements.popper),l,u,r),b=je(e.elements.reference),k=bt({reference:b,element:v,strategy:"absolute",placement:o}),T=Mt(Object.assign({},v,k)),z=h===ut?T:b,S={top:w.top-z.top+m.top,bottom:z.bottom-w.bottom+m.bottom,left:w.left-z.left+m.left,right:z.right-w.right+m.right},C=e.modifiersData.offset;if(h===ut&&C){var A=C[o];Object.keys(S).forEach((function(e){var t=[nt,it].indexOf(e)>=0?1:-1,i=[tt,it].indexOf(e)>=0?"y":"x";S[e]+=A[i]*t}))}return S}function Rt(e,t,i){return Oe(e,Re(t,i))}function Bt(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function Ft(e){return[tt,nt,it,ot].some((function(t){return e[t]>=0}))}var Nt=mt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,o=n.scroll,s=void 0===o||o,r=n.resize,a=void 0===r||r,l=Me(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach((function(e){e.addEventListener("scroll",i.update,_t)})),a&&l.addEventListener("resize",i.update,_t),function(){s&&c.forEach((function(e){e.removeEventListener("scroll",i.update,_t)})),a&&l.removeEventListener("resize",i.update,_t)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=bt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,o=void 0===n||n,s=i.adaptive,r=void 0===s||s,a=i.roundOffsets,l=void 0===a||a,c={placement:vt(t.placement),variation:xt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Tt(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Tt(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},zt,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.offset,s=void 0===o?[0,0]:o,r=ht.reduce((function(e,i){return e[i]=function(e,t,i){var n=vt(e),o=[ot,tt].indexOf(n)>=0?-1:1,s="function"==typeof i?i(Object.assign({},t,{placement:e})):i,r=s[0],a=s[1];return r=r||0,a=(a||0)*o,[ot,nt].indexOf(n)>=0?{x:a,y:r}:{x:r,y:a}}(i,t.rects,s),e}),{}),a=r[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=r}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=i.mainAxis,s=void 0===o||o,r=i.altAxis,a=void 0===r||r,l=i.fallbackPlacements,c=i.padding,u=i.boundary,p=i.rootBoundary,h=i.altBoundary,d=i.flipVariations,g=void 0===d||d,f=i.allowedAutoPlacements,y=t.options.placement,m=vt(y),_=l||(m!==y&&g?function(e){if(vt(e)===st)return[];var t=Ct(e);return[Et(e),t,Et(t)]}(y):[Ct(y)]),v=[y].concat(_).reduce((function(e,i){return e.concat(vt(i)===st?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=i.boundary,s=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?ht:l,u=xt(n),p=u?a?pt:pt.filter((function(e){return xt(e)===u})):rt,h=p.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=p);var d=h.reduce((function(t,i){return t[i]=Ot(e,{placement:i,boundary:o,rootBoundary:s,padding:r})[vt(i)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:i,boundary:u,rootBoundary:p,padding:c,flipVariations:g,allowedAutoPlacements:f}):i)}),[]),x=t.rects.reference,w=t.rects.popper,b=new Map,k=!0,T=v[0],z=0;z<v.length;z++){var S=v[z],C=vt(S),A=xt(S)===at,E=[tt,it].indexOf(C)>=0,P=E?"width":"height",M=Ot(t,{placement:S,boundary:u,rootBoundary:p,altBoundary:h,padding:c}),L=E?A?nt:ot:A?it:tt;x[P]>w[P]&&(L=Ct(L));var D=Ct(L),I=[];if(s&&I.push(M[C]<=0),a&&I.push(M[L]<=0,M[D]<=0),I.every((function(e){return e}))){T=S,k=!1;break}b.set(S,I)}if(k)for(var O=function(e){var t=v.find((function(t){var i=b.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return T=t,"break"},R=g?3:1;R>0&&"break"!==O(R);R--);t.placement!==T&&(t.modifiersData[n]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.mainAxis,s=void 0===o||o,r=i.altAxis,a=void 0!==r&&r,l=i.boundary,c=i.rootBoundary,u=i.altBoundary,p=i.padding,h=i.tether,d=void 0===h||h,g=i.tetherOffset,f=void 0===g?0:g,y=Ot(t,{boundary:l,rootBoundary:c,padding:p,altBoundary:u}),m=vt(t.placement),_=xt(t.placement),v=!_,x=wt(m),w="x"===x?"y":"x",b=t.modifiersData.popperOffsets,k=t.rects.reference,T=t.rects.popper,z="function"==typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,S="number"==typeof z?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(b){if(s){var E,P="y"===x?tt:ot,M="y"===x?it:nt,L="y"===x?"height":"width",D=b[x],I=D+y[P],O=D-y[M],R=d?-T[L]/2:0,B=_===at?k[L]:T[L],F=_===at?-T[L]:-k[L],N=t.elements.arrow,j=d&&N?Ze(N):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=U[P],H=U[M],V=Rt(0,k[L],j[L]),$=v?k[L]/2-R-V-q-S.mainAxis:B-V-q-S.mainAxis,W=v?-k[L]/2+R+V+H+S.mainAxis:F+V+H+S.mainAxis,G=t.elements.arrow&&et(t.elements.arrow),Z=G?"y"===x?G.clientTop||0:G.clientLeft||0:0,K=null!=(E=null==C?void 0:C[x])?E:0,Y=D+W-K,Q=Rt(d?Re(I,D+$-K-Z):I,D,d?Oe(O,Y):O);b[x]=Q,A[x]=Q-D}if(a){var X,J="x"===x?tt:ot,ee="x"===x?it:nt,te=b[w],ie="y"===w?"height":"width",ne=te+y[J],oe=te-y[ee],se=-1!==[tt,ot].indexOf(m),re=null!=(X=null==C?void 0:C[w])?X:0,ae=se?ne:te-k[ie]-T[ie]-re+S.altAxis,le=se?te+k[ie]+T[ie]-re-S.altAxis:oe,ce=d&&se?function(e,t,i){var n=Rt(e,t,i);return n>i?i:n}(ae,te,le):Rt(d?ae:ne,te,d?le:oe);b[w]=ce,A[w]=ce-te}t.modifiersData[n]=A}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,o=e.options,s=i.elements.arrow,r=i.modifiersData.popperOffsets,a=vt(i.placement),l=wt(a),c=[ot,nt].indexOf(a)>=0?"height":"width";if(s&&r){var u=function(e,t){return Dt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:It(e,rt))}(o.padding,i),p=Ze(s),h="y"===l?tt:ot,d="y"===l?it:nt,g=i.rects.reference[c]+i.rects.reference[l]-r[l]-i.rects.popper[c],f=r[l]-i.rects.reference[l],y=et(s),m=y?"y"===l?y.clientHeight||0:y.clientWidth||0:0,_=g/2-f/2,v=u[h],x=m-p[c]-u[d],w=m/2-p[c]/2+_,b=Rt(v,w,x),k=l;i.modifiersData[n]=((t={})[k]=b,t.centerOffset=b-w,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&Pt(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,o=t.rects.popper,s=t.modifiersData.preventOverflow,r=Ot(t,{elementContext:"reference"}),a=Ot(t,{altBoundary:!0}),l=Bt(r,n),c=Bt(a,o,s),u=Ft(l),p=Ft(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}}]}),jt="tippy-content",Ut="tippy-backdrop",qt="tippy-arrow",Ht="tippy-svg-arrow",Vt={passive:!0,capture:!0},$t=function(){return document.body};function Wt(e,t,i){if(Array.isArray(e)){var n=e[t];return null==n?Array.isArray(i)?i[t]:i:n}return e}function Gt(e,t){var i={}.toString.call(e);return 0===i.indexOf("[object")&&i.indexOf(t+"]")>-1}function Zt(e,t){return"function"==typeof e?e.apply(void 0,t):e}function Kt(e,t){return 0===t?e:function(n){clearTimeout(i),i=setTimeout((function(){e(n)}),t)};var i}function Yt(e){return[].concat(e)}function Qt(e,t){-1===e.indexOf(t)&&e.push(t)}function Xt(e){return[].slice.call(e)}function Jt(e){return Object.keys(e).reduce((function(t,i){return void 0!==e[i]&&(t[i]=e[i]),t}),{})}function ei(){return document.createElement("div")}function ti(e){return["Element","Fragment"].some((function(t){return Gt(e,t)}))}function ii(e){return Gt(e,"MouseEvent")}function ni(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function oi(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function si(e){var t,i=Yt(e)[0];return null!=i&&null!=(t=i.ownerDocument)&&t.body?i.ownerDocument:document}function ri(e,t,i){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[n](t,i)}))}function ai(e,t){for(var i=t;i;){var n;if(e.contains(i))return!0;i=null==i.getRootNode||null==(n=i.getRootNode())?void 0:n.host}return!1}var li={isTouch:!1},ci=0;function ui(){li.isTouch||(li.isTouch=!0,window.performance&&document.addEventListener("mousemove",pi))}function pi(){var e=performance.now();e-ci<20&&(li.isTouch=!1,document.removeEventListener("mousemove",pi)),ci=e}function hi(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var i=t._tippy;t.blur&&!i.state.isVisible&&t.blur()}}var di=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto),gi=Object.assign({appendTo:$t,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),fi=Object.keys(gi);function yi(e){var t=(e.plugins||[]).reduce((function(t,i){var n,o=i.name,s=i.defaultValue;return o&&(t[o]=void 0!==e[o]?e[o]:null!=(n=gi[o])?n:s),t}),{});return Object.assign({},e,t)}function mi(e,t){var i=Object.assign({},t,{content:Zt(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(yi(Object.assign({},gi,{plugins:t}))):fi).reduce((function(t,i){var n=(e.getAttribute("data-tippy-"+i)||"").trim();if(!n)return t;if("content"===i)t[i]=n;else try{t[i]=JSON.parse(n)}catch(e){t[i]=n}return t}),{})}(e,t.plugins));return i.aria=Object.assign({},gi.aria,i.aria),i.aria={expanded:"auto"===i.aria.expanded?t.interactive:i.aria.expanded,content:"auto"===i.aria.content?t.interactive?null:"describedby":i.aria.content},i}var _i=function(){return"innerHTML"};function vi(e,t){e[_i()]=t}function xi(e){var t=ei();return!0===e?t.className=qt:(t.className=Ht,ti(e)?t.appendChild(e):vi(t,e)),t}function wi(e,t){ti(t.content)?(vi(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?vi(e,t.content):e.textContent=t.content)}function bi(e){var t=e.firstElementChild,i=Xt(t.children);return{box:t,content:i.find((function(e){return e.classList.contains(jt)})),arrow:i.find((function(e){return e.classList.contains(qt)||e.classList.contains(Ht)})),backdrop:i.find((function(e){return e.classList.contains(Ut)}))}}function ki(e){var t=ei(),i=ei();i.className="tippy-box",i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var n=ei();function o(i,n){var o=bi(t),s=o.box,r=o.content,a=o.arrow;n.theme?s.setAttribute("data-theme",n.theme):s.removeAttribute("data-theme"),"string"==typeof n.animation?s.setAttribute("data-animation",n.animation):s.removeAttribute("data-animation"),n.inertia?s.setAttribute("data-inertia",""):s.removeAttribute("data-inertia"),s.style.maxWidth="number"==typeof n.maxWidth?n.maxWidth+"px":n.maxWidth,n.role?s.setAttribute("role",n.role):s.removeAttribute("role"),i.content===n.content&&i.allowHTML===n.allowHTML||wi(r,e.props),n.arrow?a?i.arrow!==n.arrow&&(s.removeChild(a),s.appendChild(xi(n.arrow))):s.appendChild(xi(n.arrow)):a&&s.removeChild(a)}return n.className=jt,n.setAttribute("data-state","hidden"),wi(n,e.props),t.appendChild(i),i.appendChild(n),o(e.props,e.props),{popper:t,onUpdate:o}}ki.$$tippy=!0;var Ti=1,zi=[],Si=[];function Ci(e,t){var i,n,o,s,r,a,l,c,u=mi(e,Object.assign({},gi,yi(Jt(t)))),p=!1,h=!1,d=!1,g=!1,f=[],y=Kt(G,u.interactiveDebounce),m=Ti++,_=(c=u.plugins).filter((function(e,t){return c.indexOf(e)===t})),v={id:m,reference:e,popper:ei(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:_,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(o)},setProps:function(t){if(!v.state.isDestroyed){D("onBeforeUpdate",[v,t]),$();var i=v.props,n=mi(e,Object.assign({},i,Jt(t),{ignoreAttributes:!0}));v.props=n,V(),i.interactiveDebounce!==n.interactiveDebounce&&(R(),y=Kt(G,n.interactiveDebounce)),i.triggerTarget&&!n.triggerTarget?Yt(i.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):n.triggerTarget&&e.removeAttribute("aria-expanded"),O(),L(),b&&b(i,n),v.popperInstance&&(Q(),J().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),D("onAfterUpdate",[v,t])}},setContent:function(e){v.setProps({content:e})},show:function(){var e=v.state.isVisible,t=v.state.isDestroyed,i=!v.state.isEnabled,n=li.isTouch&&!v.props.touch,o=Wt(v.props.duration,0,gi.duration);if(!(e||t||i||n||A().hasAttribute("disabled")||(D("onShow",[v],!1),!1===v.props.onShow(v)))){if(v.state.isVisible=!0,C()&&(w.style.visibility="visible"),L(),j(),v.state.isMounted||(w.style.transition="none"),C()){var s=P();ni([s.box,s.content],0)}var r,l,c;a=function(){var e;if(v.state.isVisible&&!g){if(g=!0,w.offsetHeight,w.style.transition=v.props.moveTransition,C()&&v.props.animation){var t=P(),i=t.box,n=t.content;ni([i,n],o),oi([i,n],"visible")}I(),O(),Qt(Si,v),null==(e=v.popperInstance)||e.forceUpdate(),D("onMount",[v]),v.props.animation&&C()&&function(e,t){q(e,(function(){v.state.isShown=!0,D("onShown",[v])}))}(o)}},l=v.props.appendTo,c=A(),(r=v.props.interactive&&l===$t||"parent"===l?c.parentNode:Zt(l,[c])).contains(w)||r.appendChild(w),v.state.isMounted=!0,Q()}},hide:function(){var e=!v.state.isVisible,t=v.state.isDestroyed,i=!v.state.isEnabled,n=Wt(v.props.duration,1,gi.duration);if(!(e||t||i)&&(D("onHide",[v],!1),!1!==v.props.onHide(v))){if(v.state.isVisible=!1,v.state.isShown=!1,g=!1,p=!1,C()&&(w.style.visibility="hidden"),R(),U(),L(!0),C()){var o=P(),s=o.box,r=o.content;v.props.animation&&(ni([s,r],n),oi([s,r],"hidden"))}I(),O(),v.props.animation?C()&&function(e,t){q(e,(function(){!v.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&t()}))}(n,v.unmount):v.unmount()}},hideWithInteractivity:function(e){E().addEventListener("mousemove",y),Qt(zi,y),y(e)},enable:function(){v.state.isEnabled=!0},disable:function(){v.hide(),v.state.isEnabled=!1},unmount:function(){v.state.isVisible&&v.hide(),v.state.isMounted&&(X(),J().forEach((function(e){e._tippy.unmount()})),w.parentNode&&w.parentNode.removeChild(w),Si=Si.filter((function(e){return e!==v})),v.state.isMounted=!1,D("onHidden",[v]))},destroy:function(){v.state.isDestroyed||(v.clearDelayTimeouts(),v.unmount(),$(),delete e._tippy,v.state.isDestroyed=!0,D("onDestroy",[v]))}};if(!u.render)return v;var x=u.render(v),w=x.popper,b=x.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+v.id,v.popper=w,e._tippy=v,w._tippy=v;var k=_.map((function(e){return e.fn(v)})),T=e.hasAttribute("aria-expanded");return V(),O(),L(),D("onCreate",[v]),u.showOnCreate&&ee(),w.addEventListener("mouseenter",(function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()})),w.addEventListener("mouseleave",(function(){v.props.interactive&&v.props.trigger.indexOf("mouseenter")>=0&&E().addEventListener("mousemove",y)})),v;function z(){var e=v.props.touch;return Array.isArray(e)?e:[e,0]}function S(){return"hold"===z()[0]}function C(){var e;return!(null==(e=v.props.render)||!e.$$tippy)}function A(){return l||e}function E(){var e=A().parentNode;return e?si(e):document}function P(){return bi(w)}function M(e){return v.state.isMounted&&!v.state.isVisible||li.isTouch||s&&"focus"===s.type?0:Wt(v.props.delay,e?0:1,gi.delay)}function L(e){void 0===e&&(e=!1),w.style.pointerEvents=v.props.interactive&&!e?"":"none",w.style.zIndex=""+v.props.zIndex}function D(e,t,i){var n;void 0===i&&(i=!0),k.forEach((function(i){i[e]&&i[e].apply(i,t)})),i&&(n=v.props)[e].apply(n,t)}function I(){var t=v.props.aria;if(t.content){var i="aria-"+t.content,n=w.id;Yt(v.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(i);if(v.state.isVisible)e.setAttribute(i,t?t+" "+n:n);else{var o=t&&t.replace(n,"").trim();o?e.setAttribute(i,o):e.removeAttribute(i)}}))}}function O(){!T&&v.props.aria.expanded&&Yt(v.props.triggerTarget||e).forEach((function(e){v.props.interactive?e.setAttribute("aria-expanded",v.state.isVisible&&e===A()?"true":"false"):e.removeAttribute("aria-expanded")}))}function R(){E().removeEventListener("mousemove",y),zi=zi.filter((function(e){return e!==y}))}function B(t){if(!li.isTouch||!d&&"mousedown"!==t.type){var i=t.composedPath&&t.composedPath()[0]||t.target;if(!v.props.interactive||!ai(w,i)){if(Yt(v.props.triggerTarget||e).some((function(e){return ai(e,i)}))){if(li.isTouch)return;if(v.state.isVisible&&v.props.trigger.indexOf("click")>=0)return}else D("onClickOutside",[v,t]);!0===v.props.hideOnClick&&(v.clearDelayTimeouts(),v.hide(),h=!0,setTimeout((function(){h=!1})),v.state.isMounted||U())}}}function F(){d=!0}function N(){d=!1}function j(){var e=E();e.addEventListener("mousedown",B,!0),e.addEventListener("touchend",B,Vt),e.addEventListener("touchstart",N,Vt),e.addEventListener("touchmove",F,Vt)}function U(){var e=E();e.removeEventListener("mousedown",B,!0),e.removeEventListener("touchend",B,Vt),e.removeEventListener("touchstart",N,Vt),e.removeEventListener("touchmove",F,Vt)}function q(e,t){var i=P().box;function n(e){e.target===i&&(ri(i,"remove",n),t())}if(0===e)return t();ri(i,"remove",r),ri(i,"add",n),r=n}function H(t,i,n){void 0===n&&(n=!1),Yt(v.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,i,n),f.push({node:e,eventType:t,handler:i,options:n})}))}function V(){var e;S()&&(H("touchstart",W,{passive:!0}),H("touchend",Z,{passive:!0})),(e=v.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(H(e,W),e){case"mouseenter":H("mouseleave",Z);break;case"focus":H(di?"focusout":"blur",K);break;case"focusin":H("focusout",K)}}))}function $(){f.forEach((function(e){var t=e.node,i=e.eventType,n=e.handler,o=e.options;t.removeEventListener(i,n,o)})),f=[]}function W(e){var t,i=!1;if(v.state.isEnabled&&!Y(e)&&!h){var n="focus"===(null==(t=s)?void 0:t.type);s=e,l=e.currentTarget,O(),!v.state.isVisible&&ii(e)&&zi.forEach((function(t){return t(e)})),"click"===e.type&&(v.props.trigger.indexOf("mouseenter")<0||p)&&!1!==v.props.hideOnClick&&v.state.isVisible?i=!0:ee(e),"click"===e.type&&(p=!i),i&&!n&&te(e)}}function G(e){var t=e.target,i=A().contains(t)||w.contains(t);if("mousemove"!==e.type||!i){var n=J().concat(w).map((function(e){var t,i=null==(t=e._tippy.popperInstance)?void 0:t.state;return i?{popperRect:e.getBoundingClientRect(),popperState:i,props:u}:null})).filter(Boolean);(function(e,t){var i=t.clientX,n=t.clientY;return e.every((function(e){var t=e.popperRect,o=e.popperState,s=e.props.interactiveBorder,r=o.placement.split("-")[0],a=o.modifiersData.offset;if(!a)return!0;var l="bottom"===r?a.top.y:0,c="top"===r?a.bottom.y:0,u="right"===r?a.left.x:0,p="left"===r?a.right.x:0,h=t.top-n+l>s,d=n-t.bottom-c>s,g=t.left-i+u>s,f=i-t.right-p>s;return h||d||g||f}))})(n,e)&&(R(),te(e))}}function Z(e){Y(e)||v.props.trigger.indexOf("click")>=0&&p||(v.props.interactive?v.hideWithInteractivity(e):te(e))}function K(e){v.props.trigger.indexOf("focusin")<0&&e.target!==A()||v.props.interactive&&e.relatedTarget&&w.contains(e.relatedTarget)||te(e)}function Y(e){return!!li.isTouch&&S()!==e.type.indexOf("touch")>=0}function Q(){X();var t=v.props,i=t.popperOptions,n=t.placement,o=t.offset,s=t.getReferenceClientRect,r=t.moveTransition,l=C()?bi(w).arrow:null,c=s?{getBoundingClientRect:s,contextElement:s.contextElement||A()}:e,u=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!r}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(C()){var i=P().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?i.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?i.setAttribute("data-"+e,""):i.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];C()&&l&&u.push({name:"arrow",options:{element:l,padding:3}}),u.push.apply(u,(null==i?void 0:i.modifiers)||[]),v.popperInstance=Nt(c,w,Object.assign({},i,{placement:n,onFirstUpdate:a,modifiers:u}))}function X(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function J(){return Xt(w.querySelectorAll("[data-tippy-root]"))}function ee(e){v.clearDelayTimeouts(),e&&D("onTrigger",[v,e]),j();var t=M(!0),n=z(),o=n[0],s=n[1];li.isTouch&&"hold"===o&&s&&(t=s),t?i=setTimeout((function(){v.show()}),t):v.show()}function te(e){if(v.clearDelayTimeouts(),D("onUntrigger",[v,e]),v.state.isVisible){if(!(v.props.trigger.indexOf("mouseenter")>=0&&v.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&p)){var t=M(!1);t?n=setTimeout((function(){v.state.isVisible&&v.hide()}),t):o=requestAnimationFrame((function(){v.hide()}))}}else U()}}function Ai(e,t){void 0===t&&(t={});var i=gi.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",ui,Vt),window.addEventListener("blur",hi);var n,o=Object.assign({},t,{plugins:i}),s=(n=e,ti(n)?[n]:function(e){return Gt(e,"NodeList")}(n)?Xt(n):Array.isArray(n)?n:Xt(document.querySelectorAll(n))).reduce((function(e,t){var i=t&&Ci(t,o);return i&&e.push(i),e}),[]);return ti(e)?s[0]:s}Ai.defaultProps=gi,Ai.setDefaultProps=function(e){Object.keys(e).forEach((function(t){gi[t]=e[t]}))},Ai.currentInput=li,Object.assign({},zt,{effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow)}});var Ei={clientX:0,clientY:0},Pi=[];function Mi(e){var t=e.clientX,i=e.clientY;Ei={clientX:t,clientY:i}}var Li={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,i=si(e.props.triggerTarget||t),n=!1,o=!1,s=!0,r=e.props;function a(){return"initial"===e.props.followCursor&&e.state.isVisible}function l(){i.addEventListener("mousemove",p)}function c(){i.removeEventListener("mousemove",p)}function u(){n=!0,e.setProps({getReferenceClientRect:null}),n=!1}function p(i){var n=!i.target||t.contains(i.target),o=e.props.followCursor,s=i.clientX,r=i.clientY,a=t.getBoundingClientRect(),l=s-a.left,c=r-a.top;!n&&e.props.interactive||e.setProps({getReferenceClientRect:function(){var e=t.getBoundingClientRect(),i=s,n=r;"initial"===o&&(i=e.left+l,n=e.top+c);var a="horizontal"===o?e.top:n,u="vertical"===o?e.right:i,p="horizontal"===o?e.bottom:n,h="vertical"===o?e.left:i;return{width:u-h,height:p-a,top:a,right:u,bottom:p,left:h}}})}function h(){e.props.followCursor&&(Pi.push({instance:e,doc:i}),function(e){e.addEventListener("mousemove",Mi)}(i))}function d(){0===(Pi=Pi.filter((function(t){return t.instance!==e}))).filter((function(e){return e.doc===i})).length&&function(e){e.removeEventListener("mousemove",Mi)}(i)}return{onCreate:h,onDestroy:d,onBeforeUpdate:function(){r=e.props},onAfterUpdate:function(t,i){var s=i.followCursor;n||void 0!==s&&r.followCursor!==s&&(d(),s?(h(),!e.state.isMounted||o||a()||l()):(c(),u()))},onMount:function(){e.props.followCursor&&!o&&(s&&(p(Ei),s=!1),a()||l())},onTrigger:function(e,t){ii(t)&&(Ei={clientX:t.clientX,clientY:t.clientY}),o="focus"===t.type},onHidden:function(){e.props.followCursor&&(u(),c(),s=!0)}}}};Ai.setDefaultProps({render:ki});const Di=Ai;class Ii{constructor(e=Pe("<div>")){this.init(e)}init(e=Pe("<div>")){return this.container=e instanceof Ii?e.container:e||Pe("<div>"),this._raw=this.container.get()[0],this}raw(){return this._raw}empty(){return this.container.empty(),this}appendTo(e){return e instanceof Ii&&(e=e.container),e.append(this.container),this}prependTo(e){return e instanceof Ii&&(e=e.container),e.prepend(this.container),this}append(...e){return e.forEach((e=>{e&&(e instanceof Ii&&(e=e.container),this.container.append(e))})),this}prepend(e){return e instanceof Ii&&(e=e.container),this.container.prepend(e),this}css(e,t){return this._raw.style[e]=t,this}css2(e){return Object.assign(this._raw.style,e),this}tooltip(e){return this._raw.setAttribute("title",e),this}remove(){return this._raw.remove(),this}detach(){return this.container.detach(),this}addClass(e){return e&&this._raw.classList.add(e),this}static wrap(e){return"string"==typeof e&&(e=Pe(e)),e instanceof HTMLElement&&(e=Pe(e)),new Ii(e)}text(e){var t;return this.raw().textContent=null!==(t=null==e?void 0:e.toString())&&void 0!==t?t:"",this}setVisible(e){return e?this.container.show():this.container.hide(),this}toggleClass(e,t=null){return this._raw.classList.toggle(e,t),this}tapRaw(e){return e(this.container),this}addTippy(e,t={}){return Di(this.raw(),Object.assign({content:()=>"function"==typeof e?c("<div class='ctr-entity-tooltip'></div>").append(e()).raw():c("<div class='ctr-entity-tooltip'></div>").append(e).raw(),arrow:!0,animation:!1,delay:0,zIndex:1000001},t)),this}html(){return this.raw().outerHTML}setInnerHtml(e){return this.raw().innerHTML=e,this}on(e,t){return this.container.on(e,t),this}setAttribute(e,t=""){return this._raw.setAttribute(e,t),this}setProperty(e,t){return t?this._raw.setAttribute(e,""):this._raw.removeAttribute(e),this}}globalThis.c=(e="<div>")=>Ii.wrap(e);class Oi{constructor(e){this.handler=e,this.alive=!0}remove(){this.alive=!1,this.handler=null}apply(e){return this.handler(e)}isAlive(){return this.alive}bindTo(e){return e.bind(this),this}endLifetime(){this.remove()}}var Ri,Bi,Fi,Ni;function ji(){return new Bi.Real}!function(e){e.Once=class extends Oi{apply(e){return this.remove(),super.apply(e)}}}(Ri||(Ri={})),function(e){class t{filtered(e){return new i(this,e)}}e.AbstractEwent=t,e.Real=class extends t{constructor(){super(...arguments),this.trigger_count=0,this.handlers=[]}clean_pass(){this.trigger_count+=1,this.trigger_count>10&&(this.handlers=this.handlers.filter((e=>e.isAlive())))}on(e){this.clean_pass();let t=new Oi(e);return this.handlers.push(t),t}handlerCount(){return this.handlers.length}trigger(e){return this.clean_pass(),Promise.all(this.handlers.filter((e=>e.isAlive())).map((t=>t.apply(e))))}};class i extends t{constructor(e,t){super(),this.base=e,this.predicate=t}on(e){return this.base.on((t=>{this.predicate(t)&&e(t)}))}}e.Filtered=i,e.Derived=class extends t{constructor(e,t){super(),this.base=e,this.map=t}on(e){return this.base.on((t=>e(this.map(t))))}}}(Bi||(Bi={})),function(e){class t{constructor(){this._value=null,this.equality_f=(e,t)=>e==t,this.changed=ji()}trigger_changed(e){return this.changed.trigger({value:this._value,old:e})}_set(e){let t=this._value;this._value=e,this.equality_f(t,this._value)||this.trigger_changed(t)}equality(e){return this.equality_f=e,this}structuralEquality(){return this.equality(oe.isEqual),this}value(){return this._value}set(e){this._set(e)}update(e){e(this._value),this.trigger_changed(void 0)}update2(e){let t=oe.cloneDeep(this._value);e(this._value),this.equality_f(t,this._value)||this.trigger_changed(t)}subscribe2(e,t=!1){let i=this.changed.on((t=>e(t.value,t.old)));return t&&e(this._value,void 0),i}subscribe(e,t=!1,i=null){let n=this.subscribe2(e,t);return i&&i(n),this}map(t,i=void 0){return new e.Derived(this,t,i)}bindTo(e){return e.subscribe((e=>this._set(e))),this._set(e.value()),this}bind(e){return this.bindTo(e),e.bindTo(this),this}}e.AbstractObservable=t,e.Derived=class extends t{constructor(e,t,i){super(),this.lifetime_manager=i,e.subscribe((e=>this._set(t(e))),!0,(e=>null==i?void 0:i.bind(e)))}set(e){throw new TypeError("Set not supported on derived observable")}},e.Simple=class extends t{constructor(e){super(),this._value=e}},e.observe_combined=function(e,t=void 0){let i=qi({});for(let n in e)e[n].subscribe((e=>i.update((t=>t[n]=e))),!0,(e=>null==t?void 0:t.bind(e)));return i}}(Fi||(Fi={}));class Ui extends Fi.AbstractObservable{constructor(){super(),this.element_added=ji(),this.element_removed=ji(),this.element_changed=ji(),this.array_changed=ji(),this._value=[]}update(e){throw new TypeError("Operation not supported! Use setTo or other observable mutations!")}set(e){throw new TypeError("Operation not supported! Use setTo or other modifiers")}add(e){let t=new Ui.ObservableArrayValue(this,e);return t.index.set(this._value.length),this._value.push(t),this.element_added.trigger(t),this.changed.trigger({value:this._value}),this.array_changed.trigger({order:!0,set:!0,data:this._value}),t}remove(e){let t=this.value().indexOf(e);if(t>=0){let[e]=this._value.splice(t,1);this.element_removed.trigger(e),this.changed.trigger({value:this._value}),this.array_changed.trigger({order:!0,set:!0,data:this._value}),e.removed.trigger(e)}}get(){return this._value}setTo(e){for(let e of this.value())e.removed.trigger(e),this.element_removed.trigger(e);return this._value=e.map(((e,t)=>{let i=new Ui.ObservableArrayValue(this,e);return i.index.set(t),i})),this._value.forEach((e=>this.element_added.trigger(e))),this.changed.trigger({value:this._value}),this.array_changed.trigger({order:!0,set:!0,data:this._value}),this}move(e,t){if(e==t)return this;let[i]=this._value.splice(e,1);return this._value.splice(t,0,i),this.changed.trigger({value:this._value}),this.array_changed.trigger({order:!0,set:!1,data:this._value}),this.updateIndices(),this}updateIndices(){this._value.forEach(((e,t)=>e.index.set(t)))}}function qi(e){return new Fi.Simple(e)}!function(e){class t extends Fi.Simple{constructor(e,t){super(t),this._parent=e,this.removed=ji(),this.index=qi(0),this.changed.on((()=>{this._parent.element_changed.trigger(this),this._parent.changed.trigger({value:this._parent.value()})}))}parent(){return this._parent}remove(){var e;null===(e=this._parent)||void 0===e||e.remove(this)}moveTo(e){return this.parent().move(this.index.value(),e),this}move(e){return this.moveTo(this.index.value()+e)}}e.ObservableArrayValue=t}(Ui||(Ui={})),function(e){e.CombinedEventMap=class{constructor(){this.events={}}get(e){var t;return null!==(t=this.events[e])&&void 0!==t?t:this.events[e]=ji()}on(e,t){return this.get(e).on(t)}}}(Ni||(Ni={}));var Hi,Vi=ie.hbox,$i=ie.span,Wi=ie.spacer;function Gi(e){return"string"==typeof e?e:e()}!function(e){var t=ie.cls;function i(e){e&&(e.open_child&&i(e.open_child),e.tippy_instance&&(e.tippy_instance.destroy(),e.tippy_instance=null,e.root_widget.remove(),e.parent?e.parent.open_child=null:e.root.root_page=null))}function n(e){e.option_selected||e.cancelled.trigger(e),e.closed.trigger(e),i(e.root_page)}function o(e,t=null){if(null!=t&&t!=e.highlight&&r(e,t),null!=e.highlight){let t=e.underlying.children[e.highlight];"basic"==t.type?(e.root.option_selected=!0,t.handler(),n(e.root)):(l(e),r(e.open_child,0))}}function s(e,i,n){let s={root:n,parent:i,underlying:e,root_widget:t("nisl-context-menu").tapRaw((e=>e.attr("tabindex","0"))),rows:null,tippy_instance:null,highlight:null,open_child:null};i||t("nisl-context-menu-header").append(e.text?Gi(e.text):"Choose Option").appendTo(s.root_widget);let a=e.children.some((e=>!!e.icon));return s.rows=e.children.map(((e,t)=>Vi(a?c("<div class='nisl-context-menu-entry-icon-container'></div>").append(e.icon?"string"==typeof e.icon?c(`<img src="${e.icon}">`):e.icon():null):null,Gi(e.text),Wi().css("min-width","10px"),"submenu"==e.type?$i().setInnerHtml("&#x276F;"):null).addClass("nisl-context-menu-entry").tapRaw((e=>e.on("click",(e=>{e.stopPropagation(),o(s,t)})).on("mouseover",(()=>{r(s,t),l(s)})))))),s.root_widget.append(...s.rows),s}function r(e,t){t!=e.highlight&&(e.open_child&&i(e.open_child),null!=e.highlight&&(e.rows[e.highlight].toggleClass("nisl-context-menu-entry-selected",!1),e.highlight=null),null!=t&&(e.rows[t].toggleClass("nisl-context-menu-entry-selected",!0),e.highlight=t))}function a(e){let t=e.root_page;for(;null==t?void 0:t.open_child;)t=t.open_child;return t}function l(e){if(null==e.highlight)return;let t=e.underlying.children[e.highlight];"submenu"==t.type&&(i(e.open_child),e.open_child=s(t,e,e.root),u(e.open_child,e.rows[e.highlight].raw(),null))}function u(e,t,i){const o=Pe(t).is(".tippy-content *");e.tippy_instance=Di(t,{placement:"right-start",trigger:"manual",interactive:!0,arrow:!1,offset:[0,0],animation:!1,interactiveBorder:20,interactiveDebounce:.5,content:e.root_widget.raw(),maxWidth:"none",zIndex:10001,appendTo:o?"parent":document.body}),e.parent||e.tippy_instance.setProps({onHidden:()=>n(e.root),onMount:()=>e.root.root_page.root_widget.raw().focus()}),i&&e.tippy_instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:i.y,bottom:i.y,left:i.x,right:i.x})}),e.tippy_instance.show()}e.init=function(t){let r={cancelled:ji(),closed:ji(),menu:t,root_page:null};return t.children.push({type:"basic",text:"Cancel",handler:()=>n(r)}),r.root_page=s(t,null,r),r.root_page.root_widget.container.on("keydown",(t=>{"Escape"==t.key&&(t.stopPropagation(),n(r));let s=a(r);"ArrowRight"==t.key&&null!=s.highlight&&"submenu"==s.underlying.children[s.highlight].type&&o(s),"ArrowLeft"==t.key&&s.parent&&i(s),"ArrowUp"==t.key&&e.highlight(s,null!=s.highlight?(s.highlight-1+s.underlying.children.length)%s.underlying.children.length:s.underlying.children.length-1),"ArrowDown"==t.key&&e.highlight(s,null!=s.highlight?(s.highlight+1)%s.underlying.children.length:0),"Enter"==t.key&&o(s)})),r},e.close=i,e.cancel=n,e.confirm=o,e.render=s,e.highlight=r,e.deepest=a,e.openSubmenu=l,e.show=u}(Hi||(Hi={}));class Zi{constructor(e){this.menu=e,this.openMenuTree=null,this.openMenuTree&&(Hi.cancel(this.openMenuTree),this.openMenuTree=null),this.openMenuTree=Hi.init(this.menu)}showFromEvent(e){return this.showFromEvent2(e.originalEvent)}showFromEvent2(e){return this.show(e.target,{x:e.clientX,y:e.clientY})}show(e,t){return Hi.show(this.openMenuTree.root_page,e,t),this}onCancel(e){return this.openMenuTree.cancelled.on(e),this}onClosed(e){return this.openMenuTree.closed.on(e),this}}class Ki{constructor(e){this.groups=e}getGroupIndex(e){if(null==e)return null;for(let t=0;t<this.groups.length-1;t++)if(e<this.groups[t+1].min)return t;return this.groups.length-1}get(e){return this.groups[e]}getForZoom(e){return this.groups[this.getGroupIndex(e)]}}!function(e){e.none=new e([{min:-1e3,value:null}])}(Ki||(Ki={}));class Yi{constructor(e){this.groups=e}getGroupIndex(e){return this.groups.findIndex((t=>t.floors.includes(e)))}get(e){return this.groups[e]}}!function(e){e.none=new e([{floors:[0,1,2,3],value:null}]),e.single=function(t,i=void 0){return new e([{floors:[t],value:i},{floors:[0,1,2,3],hidden_here:!0}])},e.special=function(t){return new e([{floors:[t],value:{correct_level:!0}},{floors:[0,1,2,3],value:{correct_level:!1}}])}}(Yi||(Yi={}));var Qi=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Xi=Fi.observe_combined;class Ji extends ce.FeatureGroup{constructor(){super([]),this.tooltip_hook=qi(null),this.interactive=!1,this.tooltip=null,this.parent=null,this.zoom_sensitivity_layers=Ki.none,this.floor_sensitivity_layers=Yi.none,this.render_group=qi({floor:0,zoom:0}).equality(((e,t)=>e.floor==t.floor&&e.zoom==t.zoom)),this.highlighted=qi(!1),this.visible=qi(!0),this.opacity=qi(1),this.culled=qi(!1),this.rendering_requested=!1,this.rendered_props=null,this.desired_render_props=qi(null).equality(Ji.RenderProps.equals),this.on("mouseover",(()=>{var e;this.interactive&&(null===(e=this.parent)||void 0===e||e.updateHovering(this,!0))})),this.on("mouseout",(()=>{var e;this.interactive&&(null===(e=this.parent)||void 0===e||e.updateHovering(this,!1))})),Xi({v:this.visible,c:this.culled,o:this.opacity,h:this.highlighted,g:this.render_group}).subscribe((()=>this.desired_render_props.set(this.getDesiredRenderProps())),!0),this.desired_render_props.subscribe((()=>this.requestRendering()))}setInteractive(e=!0){var t;return this.interactive=e,e||null===(t=this.parent)||void 0===t||t.updateHovering(this,!1),this}setTooltip(e){return this.tooltip=e,e&&this.setInteractive(!0),this}renderTool(){return Qi(this,void 0,void 0,(function*(){var e;return null===(e=this.tooltip)||void 0===e?void 0:e.call(this,this)}))}remove(){return this.parent?this.parent.removeEntity(this):super.remove(),this}getDesiredRenderProps(){const e=this.floor_sensitivity_layers.get(this.render_group.value().floor),t=this.zoom_sensitivity_layers.get(this.render_group.value().zoom);return{render_at_all:!e.hidden_here&&!t.hidden_here&&this.visible.value()&&!this.culled.value(),opacity:this.opacity.value(),highlight:this.highlighted.value(),zoom_group_index:this.render_group.value().zoom,floor_group_index:this.render_group.value().floor}}isStillHovered(){return this.getLayers().some((e=>{var t;return(e instanceof ce.Marker||e instanceof ce.Path)&&(null===(t=e.getElement())||void 0===t?void 0:t.matches(":hover"))}))}isActive(){var e;return(null===(e=this.parent)||void 0===e?void 0:e.activeEntity())==this}setVisible(e){return this.visible.set(e),this}requestRendering(e=!1){!this.parent||this.rendering_requested&&!e||(this.rendering_requested=!0,this.parent.rendering.request(this))}render(e=!1){var t;const i=this.desired_render_props.value();(null===(t=this.parent)||void 0===t?void 0:t.getMap())&&(this.rendering_requested||e||!Ji.RenderProps.equals(this.rendered_props,i))&&(this.rendering_requested=!1,this.rendered_props=i,this.clearLayers(),i.render_at_all&&this.tooltip_hook.set(this.render_implementation(i)))}requestActivation(e){var t;return null===(t=this.parent)||void 0===t?void 0:t.requestEntityActivation(this,e)}resetActivation(){return Qi(this,void 0,void 0,(function*(){var e;this.isActive()&&(yield null===(e=this.parent)||void 0===e?void 0:e.requestEntityActivation(null))}))}contextMenu(e){return Qi(this,void 0,void 0,(function*(){return null}))}setCulled(e){this.culled.set(e)}setOpacity(e){this.opacity.set(e)}setFloorAndZoom(e,t){const i=this.zoom_sensitivity_layers.getGroupIndex(t),n=this.floor_sensitivity_layers.getGroupIndex(e);this.render_group.set({floor:n,zoom:i})}}!function(e){let t;e.default_zoom_scale_layers=new Ki([{min:-100,value:{scale:.25}},{min:0,value:{scale:.5}},{min:1.5,value:{scale:1}}]),e.default_local_zoom_scale_layers=new Ki([{min:-100,hidden_here:!0,value:{scale:.25}},{min:0,value:{scale:.5}},{min:5,value:{scale:1}}]),function(e){e.equals=function(e,t){return null!=e&&null!=t&&(!e.render_at_all&&!t.render_at_all||e.render_at_all==t.render_at_all&&e.highlight==t.highlight&&e.opacity==t.opacity&&e.floor_group_index==t.floor_group_index&&e.zoom_group_index==t.zoom_group_index)}}(t=e.RenderProps||(e.RenderProps={}))}(Ji||(Ji={}));class en{constructor(e,t){this.parent=e,this.rect=t,this.elements=[],this.subdivisions=[],this.cull_rectangle=null,this.is_culled=!1,this.is_final_depth=we.width(t)<=32}propagateCulled(e,t,i=!1){this.cull_rectangle=e;const n=this.is_culled;t&&!n?(this.is_culled=t,this.elements.forEach((e=>e.setCulled(!0))),this.subdivisions.forEach((t=>t.propagateCulled(e,!0)))):t||(this.is_culled=t,i?this.elements.forEach((t=>t.setCulled(!we.overlaps(t.bounds(),e)))):this.elements.forEach((e=>e.setCulled(!1))),this.subdivisions.forEach((t=>{t.cull(e,i)})))}cull(e,t=!1){e&&this.propagateCulled(e,!we.overlaps(e,this.rect),t)}createSubdivisions(){if(we.width(this.rect)<=32)return;if(this.subdivisions.length>0)return;const e=we.center(this.rect);this.subdivisions=[we.from(this.rect.topleft,xe.add(e,{x:0,y:1})),we.from(we.topRight(this.rect),xe.add(e,{x:1,y:1})),we.from(this.rect.botright,xe.add(e,{x:1,y:0})),we.from(we.bottomLeft(this.rect),e)].map((e=>new en(this,e)));const t=this.elements;this.elements=[],this.isCulled()?this.subdivisions.forEach((e=>e.propagateCulled(this.cull_rectangle,!0))):this.subdivisions.forEach((e=>e.cull(this.cull_rectangle))),t.forEach((e=>this.insert(e)))}insert(e){const t=e.bounds();let i=this;for(;;){!i.is_final_depth&&0==i.subdivisions.length&&i.elements.length>=10&&i.createSubdivisions();const n=i.subdivisions.find((e=>we.containsRect(e.rect,t)));if(!n){e.setCulled(i.is_culled),i.elements.push(e),e.spatial=i;break}i=n}}remove(...e){this.elements=this.elements.filter((t=>!e.includes(t))),e.forEach((e=>{e.spatial=null,e.setCulled(!1)}))}forEachVisible(e){this.is_culled||(this.elements.forEach(e),this.subdivisions.forEach((t=>t.forEachVisible(e))))}isLeaf(){return 0==this.subdivisions.length}bounds(){return oe.cloneDeep(this.rect)}isCulled(){return this.is_culled}getChildren(){return[...this.subdivisions]}getElements(){return[...this.elements]}static init(e){return new en(null,e)}}var tn=s(8350);class nn{constructor(){this._data=[],this._data=new Array(nn.CHUNK_DIMENSIONS.x*nn.CHUNK_DIMENSIONS.y)}get(e){var t;return null===(t=this._data[e.chunk_i])||void 0===t?void 0:t[e.tile_i]}set(e,t){this._data[e.chunk_i]||(this._data[e.chunk_i]=new Array(nn.CHUNK_SIZE*nn.CHUNK_SIZE)),this._data[e.chunk_i][e.tile_i]=t}}function on(e){let t=e.length;for(;--t>=0;)e[t]=0}!function(e){e.CHUNK_SIZE=64,e.CHUNK_DIMENSIONS={x:100,y:200},e.split=function(t){let i={x:Math.floor(t.x/e.CHUNK_SIZE),y:Math.floor(t.y/e.CHUNK_SIZE)},n={x:t.x%e.CHUNK_SIZE,y:t.y%e.CHUNK_SIZE};return{coords:t,chunk:i,tile:n,chunk_i:i.y*e.CHUNK_DIMENSIONS.x+i.x,tile_i:n.y*e.CHUNK_SIZE+n.x}}}(nn||(nn={}));const sn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),rn=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),an=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ln=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cn=new Array(576);on(cn);const un=new Array(60);on(un);const pn=new Array(512);on(pn);const hn=new Array(256);on(hn);const dn=new Array(29);on(dn);const gn=new Array(30);function fn(e,t,i,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}let yn,mn,_n;function vn(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}on(gn);const xn=e=>e<256?pn[e]:pn[256+(e>>>7)],wn=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},bn=(e,t,i)=>{e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,wn(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},kn=(e,t,i)=>{bn(e,i[2*t],i[2*t+1])},Tn=(e,t)=>{let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1},zn=(e,t,i)=>{const n=new Array(16);let o,s,r=0;for(o=1;o<=15;o++)r=r+i[o-1]<<1,n[o]=r;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=Tn(n[t]++,t))}},Sn=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Cn=e=>{e.bi_valid>8?wn(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},An=(e,t,i,n)=>{const o=2*t,s=2*i;return e[o]<e[s]||e[o]===e[s]&&n[t]<=n[i]},En=(e,t,i)=>{const n=e.heap[i];let o=i<<1;for(;o<=e.heap_len&&(o<e.heap_len&&An(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!An(t,n,e.heap[o],e.depth));)e.heap[i]=e.heap[o],i=o,o<<=1;e.heap[i]=n},Pn=(e,t,i)=>{let n,o,s,r,a=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+a++],n+=(255&e.pending_buf[e.sym_buf+a++])<<8,o=e.pending_buf[e.sym_buf+a++],0===n?kn(e,o,t):(s=hn[o],kn(e,s+256+1,t),r=sn[s],0!==r&&(o-=dn[s],bn(e,o,r)),n--,s=xn(n),kn(e,s,i),r=rn[s],0!==r&&(n-=gn[s],bn(e,n,r)))}while(a<e.sym_next);kn(e,256,t)},Mn=(e,t)=>{const i=t.dyn_tree,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.elems;let r,a,l,c=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<s;r++)0!==i[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,i[2*l]=1,e.depth[l]=0,e.opt_len--,o&&(e.static_len-=n[2*l+1]);for(t.max_code=c,r=e.heap_len>>1;r>=1;r--)En(e,i,r);l=s;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],En(e,i,1),a=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=a,i[2*l]=i[2*r]+i[2*a],e.depth[l]=(e.depth[r]>=e.depth[a]?e.depth[r]:e.depth[a])+1,i[2*r+1]=i[2*a+1]=l,e.heap[1]=l++,En(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const i=t.dyn_tree,n=t.max_code,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,r=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,p,h,d,g,f=0;for(h=0;h<=15;h++)e.bl_count[h]=0;for(i[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)u=e.heap[c],h=i[2*i[2*u+1]+1]+1,h>l&&(h=l,f++),i[2*u+1]=h,u>n||(e.bl_count[h]++,d=0,u>=a&&(d=r[u-a]),g=i[2*u],e.opt_len+=g*(h+d),s&&(e.static_len+=g*(o[2*u+1]+d)));if(0!==f){do{for(h=l-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,f-=2}while(f>0);for(h=l;0!==h;h--)for(u=e.bl_count[h];0!==u;)p=e.heap[--c],p>n||(i[2*p+1]!==h&&(e.opt_len+=(h-i[2*p+1])*i[2*p],i[2*p+1]=h),u--)}})(e,t),zn(i,c,e.bl_count)},Ln=(e,t,i)=>{let n,o,s=-1,r=t[1],a=0,l=7,c=4;for(0===r&&(l=138,c=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)o=r,r=t[2*(n+1)+1],++a<l&&o===r||(a<c?e.bl_tree[2*o]+=a:0!==o?(o!==s&&e.bl_tree[2*o]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=o,0===r?(l=138,c=3):o===r?(l=6,c=3):(l=7,c=4))},Dn=(e,t,i)=>{let n,o,s=-1,r=t[1],a=0,l=7,c=4;for(0===r&&(l=138,c=3),n=0;n<=i;n++)if(o=r,r=t[2*(n+1)+1],!(++a<l&&o===r)){if(a<c)do{kn(e,o,e.bl_tree)}while(0!=--a);else 0!==o?(o!==s&&(kn(e,o,e.bl_tree),a--),kn(e,16,e.bl_tree),bn(e,a-3,2)):a<=10?(kn(e,17,e.bl_tree),bn(e,a-3,3)):(kn(e,18,e.bl_tree),bn(e,a-11,7));a=0,s=o,0===r?(l=138,c=3):o===r?(l=6,c=3):(l=7,c=4)}};let In=!1;const On=(e,t,i,n)=>{bn(e,0+(n?1:0),3),Cn(e),wn(e,i),wn(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i};var Rn={_tr_init:e=>{In||((()=>{let e,t,i,n,o;const s=new Array(16);for(i=0,n=0;n<28;n++)for(dn[n]=i,e=0;e<1<<sn[n];e++)hn[i++]=n;for(hn[i-1]=n,o=0,n=0;n<16;n++)for(gn[n]=o,e=0;e<1<<rn[n];e++)pn[o++]=n;for(o>>=7;n<30;n++)for(gn[n]=o<<7,e=0;e<1<<rn[n]-7;e++)pn[256+o++]=n;for(t=0;t<=15;t++)s[t]=0;for(e=0;e<=143;)cn[2*e+1]=8,e++,s[8]++;for(;e<=255;)cn[2*e+1]=9,e++,s[9]++;for(;e<=279;)cn[2*e+1]=7,e++,s[7]++;for(;e<=287;)cn[2*e+1]=8,e++,s[8]++;for(zn(cn,287,s),e=0;e<30;e++)un[2*e+1]=5,un[2*e]=Tn(e,5);yn=new fn(cn,sn,257,286,15),mn=new fn(un,rn,0,30,15),_n=new fn(new Array(0),an,0,19,7)})(),In=!0),e.l_desc=new vn(e.dyn_ltree,yn),e.d_desc=new vn(e.dyn_dtree,mn),e.bl_desc=new vn(e.bl_tree,_n),e.bi_buf=0,e.bi_valid=0,Sn(e)},_tr_stored_block:On,_tr_flush_block:(e,t,i,n)=>{let o,s,r=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Mn(e,e.l_desc),Mn(e,e.d_desc),r=(e=>{let t;for(Ln(e,e.dyn_ltree,e.l_desc.max_code),Ln(e,e.dyn_dtree,e.d_desc.max_code),Mn(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*ln[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),o=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=o&&(o=s)):o=s=i+5,i+4<=o&&-1!==t?On(e,t,i,n):4===e.strategy||s===o?(bn(e,2+(n?1:0),3),Pn(e,cn,un)):(bn(e,4+(n?1:0),3),((e,t,i,n)=>{let o;for(bn(e,t-257,5),bn(e,i-1,5),bn(e,n-4,4),o=0;o<n;o++)bn(e,e.bl_tree[2*ln[o]+1],3);Dn(e,e.dyn_ltree,t-1),Dn(e,e.dyn_dtree,i-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,r+1),Pn(e,e.dyn_ltree,e.dyn_dtree)),Sn(e),n&&Cn(e)},_tr_tally:(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(hn[i]+256+1)]++,e.dyn_dtree[2*xn(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{bn(e,2,3),kn(e,256,cn),(e=>{16===e.bi_valid?(wn(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},Bn=(e,t,i,n)=>{let o=65535&e,s=e>>>16&65535,r=0;for(;0!==i;){r=i>2e3?2e3:i,i-=r;do{o=o+t[n++]|0,s=s+o|0}while(--r);o%=65521,s%=65521}return o|s<<16};const Fn=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})());var Nn=(e,t,i,n)=>{const o=Fn,s=n+i;e^=-1;for(let i=n;i<s;i++)e=e>>>8^o[255&(e^t[i])];return~e},jn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Un={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:qn,_tr_stored_block:Hn,_tr_flush_block:Vn,_tr_tally:$n,_tr_align:Wn}=Rn,{Z_NO_FLUSH:Gn,Z_PARTIAL_FLUSH:Zn,Z_FULL_FLUSH:Kn,Z_FINISH:Yn,Z_BLOCK:Qn,Z_OK:Xn,Z_STREAM_END:Jn,Z_STREAM_ERROR:eo,Z_DATA_ERROR:to,Z_BUF_ERROR:io,Z_DEFAULT_COMPRESSION:no,Z_FILTERED:oo,Z_HUFFMAN_ONLY:so,Z_RLE:ro,Z_FIXED:ao,Z_DEFAULT_STRATEGY:lo,Z_UNKNOWN:co,Z_DEFLATED:uo}=Un,po=258,ho=262,go=42,fo=113,yo=666,mo=(e,t)=>(e.msg=jn[t],t),_o=e=>2*e-(e>4?9:0),vo=e=>{let t=e.length;for(;--t>=0;)e[t]=0},xo=e=>{let t,i,n,o=e.w_size;t=e.hash_size,n=t;do{i=e.head[--n],e.head[n]=i>=o?i-o:0}while(--t);t=o,n=t;do{i=e.prev[--n],e.prev[n]=i>=o?i-o:0}while(--t)};let wo=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask;const bo=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},ko=(e,t)=>{Vn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,bo(e.strm)},To=(e,t)=>{e.pending_buf[e.pending++]=t},zo=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},So=(e,t,i,n)=>{let o=e.avail_in;return o>n&&(o=n),0===o?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),i),1===e.state.wrap?e.adler=Bn(e.adler,t,o,i):2===e.state.wrap&&(e.adler=Nn(e.adler,t,o,i)),e.next_in+=o,e.total_in+=o,o)},Co=(e,t)=>{let i,n,o=e.max_chain_length,s=e.strstart,r=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-ho?e.strstart-(e.w_size-ho):0,c=e.window,u=e.w_mask,p=e.prev,h=e.strstart+po;let d=c[s+r-1],g=c[s+r];e.prev_length>=e.good_match&&(o>>=2),a>e.lookahead&&(a=e.lookahead);do{if(i=t,c[i+r]===g&&c[i+r-1]===d&&c[i]===c[s]&&c[++i]===c[s+1]){s+=2,i++;do{}while(c[++s]===c[++i]&&c[++s]===c[++i]&&c[++s]===c[++i]&&c[++s]===c[++i]&&c[++s]===c[++i]&&c[++s]===c[++i]&&c[++s]===c[++i]&&c[++s]===c[++i]&&s<h);if(n=po-(h-s),s=h-po,n>r){if(e.match_start=t,r=n,n>=a)break;d=c[s+r-1],g=c[s+r]}}}while((t=p[t&u])>l&&0!=--o);return r<=e.lookahead?r:e.lookahead},Ao=e=>{const t=e.w_size;let i,n,o;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ho)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),xo(e),n+=t),0===e.strm.avail_in)break;if(i=So(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=wo(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=wo(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ho&&0!==e.strm.avail_in)},Eo=(e,t)=>{let i,n,o,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r=0,a=e.strm.avail_in;do{if(i=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o)break;if(o=e.strm.avail_out-o,n=e.strstart-e.block_start,i>n+e.strm.avail_in&&(i=n+e.strm.avail_in),i>o&&(i=o),i<s&&(0===i&&t!==Yn||t===Gn||i!==n+e.strm.avail_in))break;r=t===Yn&&i===n+e.strm.avail_in?1:0,Hn(e,0,0,r),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,bo(e.strm),n&&(n>i&&(n=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,i-=n),i&&(So(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(0===r);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),r?4:t!==Gn&&t!==Yn&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(So(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,s=o>e.w_size?e.w_size:o,n=e.strstart-e.block_start,(n>=s||(n||t===Yn)&&t!==Gn&&0===e.strm.avail_in&&n<=o)&&(i=n>o?o:n,r=t===Yn&&0===e.strm.avail_in&&i===n?1:0,Hn(e,e.block_start,i,r),e.block_start+=i,bo(e.strm)),r?3:1)},Po=(e,t)=>{let i,n;for(;;){if(e.lookahead<ho){if(Ao(e),e.lookahead<ho&&t===Gn)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=wo(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-ho&&(e.match_length=Co(e,i)),e.match_length>=3)if(n=$n(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=wo(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=wo(e,e.ins_h,e.window[e.strstart+1]);else n=$n(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ko(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Yn?(ko(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(ko(e,!1),0===e.strm.avail_out)?1:2},Mo=(e,t)=>{let i,n,o;for(;;){if(e.lookahead<ho){if(Ao(e),e.lookahead<ho&&t===Gn)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=wo(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-ho&&(e.match_length=Co(e,i),e.match_length<=5&&(e.strategy===oo||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,n=$n(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=wo(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(ko(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=$n(e,0,e.window[e.strstart-1]),n&&ko(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=$n(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Yn?(ko(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(ko(e,!1),0===e.strm.avail_out)?1:2};function Lo(e,t,i,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=o}const Do=[new Lo(0,0,0,0,Eo),new Lo(4,4,8,4,Po),new Lo(4,5,16,8,Po),new Lo(4,6,32,32,Po),new Lo(4,4,16,16,Mo),new Lo(8,16,32,32,Mo),new Lo(8,16,128,128,Mo),new Lo(8,32,128,256,Mo),new Lo(32,128,258,1024,Mo),new Lo(32,258,258,4096,Mo)];function Io(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=uo,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),vo(this.dyn_ltree),vo(this.dyn_dtree),vo(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),vo(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),vo(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Oo=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==go&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==fo&&t.status!==yo?1:0},Ro=e=>{if(Oo(e))return mo(e,eo);e.total_in=e.total_out=0,e.data_type=co;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?go:fo,e.adler=2===t.wrap?0:1,t.last_flush=-2,qn(t),Xn},Bo=e=>{const t=Ro(e);var i;return t===Xn&&((i=e.state).window_size=2*i.w_size,vo(i.head),i.max_lazy_match=Do[i.level].max_lazy,i.good_match=Do[i.level].good_length,i.nice_match=Do[i.level].nice_length,i.max_chain_length=Do[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),t},Fo=(e,t,i,n,o,s)=>{if(!e)return eo;let r=1;if(t===no&&(t=6),n<0?(r=0,n=-n):n>15&&(r=2,n-=16),o<1||o>9||i!==uo||n<8||n>15||t<0||t>9||s<0||s>ao||8===n&&1!==r)return mo(e,eo);8===n&&(n=9);const a=new Io;return e.state=a,a.strm=e,a.status=go,a.wrap=r,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=t,a.strategy=s,a.method=i,Bo(e)};var No={deflateInit:(e,t)=>Fo(e,t,uo,15,8,lo),deflateInit2:Fo,deflateReset:Bo,deflateResetKeep:Ro,deflateSetHeader:(e,t)=>Oo(e)||2!==e.state.wrap?eo:(e.state.gzhead=t,Xn),deflate:(e,t)=>{if(Oo(e)||t>Qn||t<0)return e?mo(e,eo):eo;const i=e.state;if(!e.output||0!==e.avail_in&&!e.input||i.status===yo&&t!==Yn)return mo(e,0===e.avail_out?io:eo);const n=i.last_flush;if(i.last_flush=t,0!==i.pending){if(bo(e),0===e.avail_out)return i.last_flush=-1,Xn}else if(0===e.avail_in&&_o(t)<=_o(n)&&t!==Yn)return mo(e,io);if(i.status===yo&&0!==e.avail_in)return mo(e,io);if(i.status===go&&0===i.wrap&&(i.status=fo),i.status===go){let t=uo+(i.w_bits-8<<4)<<8,n=-1;if(n=i.strategy>=so||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,zo(i,t),0!==i.strstart&&(zo(i,e.adler>>>16),zo(i,65535&e.adler)),e.adler=1,i.status=fo,bo(e),0!==i.pending)return i.last_flush=-1,Xn}if(57===i.status)if(e.adler=0,To(i,31),To(i,139),To(i,8),i.gzhead)To(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),To(i,255&i.gzhead.time),To(i,i.gzhead.time>>8&255),To(i,i.gzhead.time>>16&255),To(i,i.gzhead.time>>24&255),To(i,9===i.level?2:i.strategy>=so||i.level<2?4:0),To(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(To(i,255&i.gzhead.extra.length),To(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Nn(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(To(i,0),To(i,0),To(i,0),To(i,0),To(i,0),To(i,9===i.level?2:i.strategy>=so||i.level<2?4:0),To(i,3),i.status=fo,bo(e),0!==i.pending)return i.last_flush=-1,Xn;if(69===i.status){if(i.gzhead.extra){let t=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let o=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+o),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>t&&(e.adler=Nn(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex+=o,bo(e),0!==i.pending)return i.last_flush=-1,Xn;t=0,n-=o}let o=new Uint8Array(i.gzhead.extra);i.pending_buf.set(o.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>t&&(e.adler=Nn(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=Nn(e.adler,i.pending_buf,i.pending-n,n)),bo(e),0!==i.pending)return i.last_flush=-1,Xn;n=0}t=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,To(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=Nn(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=Nn(e.adler,i.pending_buf,i.pending-n,n)),bo(e),0!==i.pending)return i.last_flush=-1,Xn;n=0}t=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,To(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=Nn(e.adler,i.pending_buf,i.pending-n,n))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(bo(e),0!==i.pending))return i.last_flush=-1,Xn;To(i,255&e.adler),To(i,e.adler>>8&255),e.adler=0}if(i.status=fo,bo(e),0!==i.pending)return i.last_flush=-1,Xn}if(0!==e.avail_in||0!==i.lookahead||t!==Gn&&i.status!==yo){let n=0===i.level?Eo(i,t):i.strategy===so?((e,t)=>{let i;for(;;){if(0===e.lookahead&&(Ao(e),0===e.lookahead)){if(t===Gn)return 1;break}if(e.match_length=0,i=$n(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(ko(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Yn?(ko(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(ko(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===ro?((e,t)=>{let i,n,o,s;const r=e.window;for(;;){if(e.lookahead<=po){if(Ao(e),e.lookahead<=po&&t===Gn)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(o=e.strstart-1,n=r[o],n===r[++o]&&n===r[++o]&&n===r[++o])){s=e.strstart+po;do{}while(n===r[++o]&&n===r[++o]&&n===r[++o]&&n===r[++o]&&n===r[++o]&&n===r[++o]&&n===r[++o]&&n===r[++o]&&o<s);e.match_length=po-(s-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=$n(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=$n(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(ko(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Yn?(ko(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(ko(e,!1),0===e.strm.avail_out)?1:2})(i,t):Do[i.level].func(i,t);if(3!==n&&4!==n||(i.status=yo),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),Xn;if(2===n&&(t===Zn?Wn(i):t!==Qn&&(Hn(i,0,0,!1),t===Kn&&(vo(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),bo(e),0===e.avail_out))return i.last_flush=-1,Xn}return t!==Yn?Xn:i.wrap<=0?Jn:(2===i.wrap?(To(i,255&e.adler),To(i,e.adler>>8&255),To(i,e.adler>>16&255),To(i,e.adler>>24&255),To(i,255&e.total_in),To(i,e.total_in>>8&255),To(i,e.total_in>>16&255),To(i,e.total_in>>24&255)):(zo(i,e.adler>>>16),zo(i,65535&e.adler)),bo(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?Xn:Jn)},deflateEnd:e=>{if(Oo(e))return eo;const t=e.state.status;return e.state=null,t===fo?mo(e,to):Xn},deflateSetDictionary:(e,t)=>{let i=t.length;if(Oo(e))return eo;const n=e.state,o=n.wrap;if(2===o||1===o&&n.status!==go||n.lookahead)return eo;if(1===o&&(e.adler=Bn(e.adler,t,i,0)),n.wrap=0,i>=n.w_size){0===o&&(vo(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(i-n.w_size,i),0),t=e,i=n.w_size}const s=e.avail_in,r=e.next_in,a=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,Ao(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=wo(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,Ao(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=r,e.input=a,e.avail_in=s,n.wrap=o,Xn},deflateInfo:"pako deflate (from Nodeca project)"};const jo=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Uo={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const t in i)jo(i,t)&&(e[t]=i[t])}}return e},flattenChunks:e=>{let t=0;for(let i=0,n=e.length;i<n;i++)t+=e[i].length;const i=new Uint8Array(t);for(let t=0,n=0,o=e.length;t<o;t++){let o=e[t];i.set(o,n),n+=o.length}return i}};let qo=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){qo=!1}const Ho=new Uint8Array(256);for(let e=0;e<256;e++)Ho[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ho[254]=Ho[254]=1;var Vo={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,n,o,s,r=e.length,a=0;for(o=0;o<r;o++)i=e.charCodeAt(o),55296==(64512&i)&&o+1<r&&(n=e.charCodeAt(o+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),o++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(a),s=0,o=0;s<a;o++)i=e.charCodeAt(o),55296==(64512&i)&&o+1<r&&(n=e.charCodeAt(o+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),o++)),i<128?t[s++]=i:i<2048?(t[s++]=192|i>>>6,t[s++]=128|63&i):i<65536?(t[s++]=224|i>>>12,t[s++]=128|i>>>6&63,t[s++]=128|63&i):(t[s++]=240|i>>>18,t[s++]=128|i>>>12&63,t[s++]=128|i>>>6&63,t[s++]=128|63&i);return t},buf2string:(e,t)=>{const i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,o;const s=new Array(2*i);for(o=0,n=0;n<i;){let t=e[n++];if(t<128){s[o++]=t;continue}let r=Ho[t];if(r>4)s[o++]=65533,n+=r-1;else{for(t&=2===r?31:3===r?15:7;r>1&&n<i;)t=t<<6|63&e[n++],r--;r>1?s[o++]=65533:t<65536?s[o++]=t:(t-=65536,s[o++]=55296|t>>10&1023,s[o++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&qo)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i})(s,o)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+Ho[e[i]]>t?i:t}},$o=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Wo=Object.prototype.toString,{Z_NO_FLUSH:Go,Z_SYNC_FLUSH:Zo,Z_FULL_FLUSH:Ko,Z_FINISH:Yo,Z_OK:Qo,Z_STREAM_END:Xo,Z_DEFAULT_COMPRESSION:Jo,Z_DEFAULT_STRATEGY:es,Z_DEFLATED:ts}=Un;function is(e){this.options=Uo.assign({level:Jo,method:ts,chunkSize:16384,windowBits:15,memLevel:8,strategy:es},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $o,this.strm.avail_out=0;let i=No.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==Qo)throw new Error(jn[i]);if(t.header&&No.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Vo.string2buf(t.dictionary):"[object ArrayBuffer]"===Wo.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,i=No.deflateSetDictionary(this.strm,e),i!==Qo)throw new Error(jn[i]);this._dict_set=!0}}function ns(e,t){const i=new is(t);if(i.push(e,!0),i.err)throw i.msg||jn[i.err];return i.result}is.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize;let o,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?Yo:Go,"string"==typeof e?i.input=Vo.string2buf(e):"[object ArrayBuffer]"===Wo.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(s===Zo||s===Ko)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(o=No.deflate(i,s),o===Xo)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),o=No.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Qo;if(0!==i.avail_out){if(s>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},is.prototype.onData=function(e){this.chunks.push(e)},is.prototype.onEnd=function(e){e===Qo&&(this.result=Uo.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var os={Deflate:is,deflate:ns,deflateRaw:function(e,t){return(t=t||{}).raw=!0,ns(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,ns(e,t)},constants:Un};const ss=16209;var rs=function(e,t){let i,n,o,s,r,a,l,c,u,p,h,d,g,f,y,m,_,v,x,w,b,k,T,z;const S=e.state;i=e.next_in,T=e.input,n=i+(e.avail_in-5),o=e.next_out,z=e.output,s=o-(t-e.avail_out),r=o+(e.avail_out-257),a=S.dmax,l=S.wsize,c=S.whave,u=S.wnext,p=S.window,h=S.hold,d=S.bits,g=S.lencode,f=S.distcode,y=(1<<S.lenbits)-1,m=(1<<S.distbits)-1;e:do{d<15&&(h+=T[i++]<<d,d+=8,h+=T[i++]<<d,d+=8),_=g[h&y];t:for(;;){if(v=_>>>24,h>>>=v,d-=v,v=_>>>16&255,0===v)z[o++]=65535&_;else{if(!(16&v)){if(64&v){if(32&v){S.mode=16191;break e}e.msg="invalid literal/length code",S.mode=ss;break e}_=g[(65535&_)+(h&(1<<v)-1)];continue t}for(x=65535&_,v&=15,v&&(d<v&&(h+=T[i++]<<d,d+=8),x+=h&(1<<v)-1,h>>>=v,d-=v),d<15&&(h+=T[i++]<<d,d+=8,h+=T[i++]<<d,d+=8),_=f[h&m];;){if(v=_>>>24,h>>>=v,d-=v,v=_>>>16&255,16&v){if(w=65535&_,v&=15,d<v&&(h+=T[i++]<<d,d+=8,d<v&&(h+=T[i++]<<d,d+=8)),w+=h&(1<<v)-1,w>a){e.msg="invalid distance too far back",S.mode=ss;break e}if(h>>>=v,d-=v,v=o-s,w>v){if(v=w-v,v>c&&S.sane){e.msg="invalid distance too far back",S.mode=ss;break e}if(b=0,k=p,0===u){if(b+=l-v,v<x){x-=v;do{z[o++]=p[b++]}while(--v);b=o-w,k=z}}else if(u<v){if(b+=l+u-v,v-=u,v<x){x-=v;do{z[o++]=p[b++]}while(--v);if(b=0,u<x){v=u,x-=v;do{z[o++]=p[b++]}while(--v);b=o-w,k=z}}}else if(b+=u-v,v<x){x-=v;do{z[o++]=p[b++]}while(--v);b=o-w,k=z}for(;x>2;)z[o++]=k[b++],z[o++]=k[b++],z[o++]=k[b++],x-=3;x&&(z[o++]=k[b++],x>1&&(z[o++]=k[b++]))}else{b=o-w;do{z[o++]=z[b++],z[o++]=z[b++],z[o++]=z[b++],x-=3}while(x>2);x&&(z[o++]=z[b++],x>1&&(z[o++]=z[b++]))}break}if(64&v){e.msg="invalid distance code",S.mode=ss;break e}_=f[(65535&_)+(h&(1<<v)-1)]}}break}}while(i<n&&o<r);x=d>>3,i-=x,d-=x<<3,h&=(1<<d)-1,e.next_in=i,e.next_out=o,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=o<r?r-o+257:257-(o-r),S.hold=h,S.bits=d};const as=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ls=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),cs=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),us=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ps=(e,t,i,n,o,s,r,a)=>{const l=a.bits;let c,u,p,h,d,g,f=0,y=0,m=0,_=0,v=0,x=0,w=0,b=0,k=0,T=0,z=null;const S=new Uint16Array(16),C=new Uint16Array(16);let A,E,P,M=null;for(f=0;f<=15;f++)S[f]=0;for(y=0;y<n;y++)S[t[i+y]]++;for(v=l,_=15;_>=1&&0===S[_];_--);if(v>_&&(v=_),0===_)return o[s++]=20971520,o[s++]=20971520,a.bits=1,0;for(m=1;m<_&&0===S[m];m++);for(v<m&&(v=m),b=1,f=1;f<=15;f++)if(b<<=1,b-=S[f],b<0)return-1;if(b>0&&(0===e||1!==_))return-1;for(C[1]=0,f=1;f<15;f++)C[f+1]=C[f]+S[f];for(y=0;y<n;y++)0!==t[i+y]&&(r[C[t[i+y]]++]=y);if(0===e?(z=M=r,g=20):1===e?(z=as,M=ls,g=257):(z=cs,M=us,g=0),T=0,y=0,f=m,d=s,x=v,w=0,p=-1,k=1<<v,h=k-1,1===e&&k>852||2===e&&k>592)return 1;for(;;){A=f-w,r[y]+1<g?(E=0,P=r[y]):r[y]>=g?(E=M[r[y]-g],P=z[r[y]-g]):(E=96,P=0),c=1<<f-w,u=1<<x,m=u;do{u-=c,o[d+(T>>w)+u]=A<<24|E<<16|P}while(0!==u);for(c=1<<f-1;T&c;)c>>=1;if(0!==c?(T&=c-1,T+=c):T=0,y++,0==--S[f]){if(f===_)break;f=t[i+r[y]]}if(f>v&&(T&h)!==p){for(0===w&&(w=v),d+=m,x=f-w,b=1<<x;x+w<_&&(b-=S[x+w],!(b<=0));)x++,b<<=1;if(k+=1<<x,1===e&&k>852||2===e&&k>592)return 1;p=T&h,o[p]=v<<24|x<<16|d-s}}return 0!==T&&(o[d+T]=f-w<<24|64<<16),a.bits=v,0};const{Z_FINISH:hs,Z_BLOCK:ds,Z_TREES:gs,Z_OK:fs,Z_STREAM_END:ys,Z_NEED_DICT:ms,Z_STREAM_ERROR:_s,Z_DATA_ERROR:vs,Z_MEM_ERROR:xs,Z_BUF_ERROR:ws,Z_DEFLATED:bs}=Un,ks=16180,Ts=16190,zs=16191,Ss=16192,Cs=16194,As=16199,Es=16200,Ps=16206,Ms=16209,Ls=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Ds(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Is=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<ks||t.mode>16211?1:0},Os=e=>{if(Is(e))return _s;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=ks,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,fs},Rs=e=>{if(Is(e))return _s;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Os(e)},Bs=(e,t)=>{let i;if(Is(e))return _s;const n=e.state;return t<0?(i=0,t=-t):(i=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?_s:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,Rs(e))},Fs=(e,t)=>{if(!e)return _s;const i=new Ds;e.state=i,i.strm=e,i.window=null,i.mode=ks;const n=Bs(e,t);return n!==fs&&(e.state=null),n};let Ns,js,Us=!0;const qs=e=>{if(Us){Ns=new Int32Array(512),js=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ps(1,e.lens,0,288,Ns,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ps(2,e.lens,0,32,js,0,e.work,{bits:5}),Us=!1}e.lencode=Ns,e.lenbits=9,e.distcode=js,e.distbits=5},Hs=(e,t,i,n)=>{let o;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(i-s.wsize,i),0),s.wnext=0,s.whave=s.wsize):(o=s.wsize-s.wnext,o>n&&(o=n),s.window.set(t.subarray(i-n,i-n+o),s.wnext),(n-=o)?(s.window.set(t.subarray(i-n,i),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0};var Vs={inflateReset:Rs,inflateReset2:Bs,inflateResetKeep:Os,inflateInit:e=>Fs(e,15),inflateInit2:Fs,inflate:(e,t)=>{let i,n,o,s,r,a,l,c,u,p,h,d,g,f,y,m,_,v,x,w,b,k,T=0;const z=new Uint8Array(4);let S,C;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Is(e)||!e.output||!e.input&&0!==e.avail_in)return _s;i=e.state,i.mode===zs&&(i.mode=Ss),r=e.next_out,o=e.output,l=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,c=i.hold,u=i.bits,p=a,h=l,k=fs;e:for(;;)switch(i.mode){case ks:if(0===i.wrap){i.mode=Ss;break}for(;u<16;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}if(2&i.wrap&&35615===c){0===i.wbits&&(i.wbits=15),i.check=0,z[0]=255&c,z[1]=c>>>8&255,i.check=Nn(i.check,z,2,0),c=0,u=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",i.mode=Ms;break}if((15&c)!==bs){e.msg="unknown compression method",i.mode=Ms;break}if(c>>>=4,u-=4,b=8+(15&c),0===i.wbits&&(i.wbits=b),b>15||b>i.wbits){e.msg="invalid window size",i.mode=Ms;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=512&c?16189:zs,c=0,u=0;break;case 16181:for(;u<16;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}if(i.flags=c,(255&i.flags)!==bs){e.msg="unknown compression method",i.mode=Ms;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=Ms;break}i.head&&(i.head.text=c>>8&1),512&i.flags&&4&i.wrap&&(z[0]=255&c,z[1]=c>>>8&255,i.check=Nn(i.check,z,2,0)),c=0,u=0,i.mode=16182;case 16182:for(;u<32;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}i.head&&(i.head.time=c),512&i.flags&&4&i.wrap&&(z[0]=255&c,z[1]=c>>>8&255,z[2]=c>>>16&255,z[3]=c>>>24&255,i.check=Nn(i.check,z,4,0)),c=0,u=0,i.mode=16183;case 16183:for(;u<16;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}i.head&&(i.head.xflags=255&c,i.head.os=c>>8),512&i.flags&&4&i.wrap&&(z[0]=255&c,z[1]=c>>>8&255,i.check=Nn(i.check,z,2,0)),c=0,u=0,i.mode=16184;case 16184:if(1024&i.flags){for(;u<16;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}i.length=c,i.head&&(i.head.extra_len=c),512&i.flags&&4&i.wrap&&(z[0]=255&c,z[1]=c>>>8&255,i.check=Nn(i.check,z,2,0)),c=0,u=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(d=i.length,d>a&&(d=a),d&&(i.head&&(b=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(s,s+d),b)),512&i.flags&&4&i.wrap&&(i.check=Nn(i.check,n,d,s)),a-=d,s+=d,i.length-=d),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===a)break e;d=0;do{b=n[s+d++],i.head&&b&&i.length<65536&&(i.head.name+=String.fromCharCode(b))}while(b&&d<a);if(512&i.flags&&4&i.wrap&&(i.check=Nn(i.check,n,d,s)),a-=d,s+=d,b)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===a)break e;d=0;do{b=n[s+d++],i.head&&b&&i.length<65536&&(i.head.comment+=String.fromCharCode(b))}while(b&&d<a);if(512&i.flags&&4&i.wrap&&(i.check=Nn(i.check,n,d,s)),a-=d,s+=d,b)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;u<16;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}if(4&i.wrap&&c!==(65535&i.check)){e.msg="header crc mismatch",i.mode=Ms;break}c=0,u=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=zs;break;case 16189:for(;u<32;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}e.adler=i.check=Ls(c),c=0,u=0,i.mode=Ts;case Ts:if(0===i.havedict)return e.next_out=r,e.avail_out=l,e.next_in=s,e.avail_in=a,i.hold=c,i.bits=u,ms;e.adler=i.check=1,i.mode=zs;case zs:if(t===ds||t===gs)break e;case Ss:if(i.last){c>>>=7&u,u-=7&u,i.mode=Ps;break}for(;u<3;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}switch(i.last=1&c,c>>>=1,u-=1,3&c){case 0:i.mode=16193;break;case 1:if(qs(i),i.mode=As,t===gs){c>>>=2,u-=2;break e}break;case 2:i.mode=16196;break;case 3:e.msg="invalid block type",i.mode=Ms}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",i.mode=Ms;break}if(i.length=65535&c,c=0,u=0,i.mode=Cs,t===gs)break e;case Cs:i.mode=16195;case 16195:if(d=i.length,d){if(d>a&&(d=a),d>l&&(d=l),0===d)break e;o.set(n.subarray(s,s+d),r),a-=d,s+=d,l-=d,r+=d,i.length-=d;break}i.mode=zs;break;case 16196:for(;u<14;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}if(i.nlen=257+(31&c),c>>>=5,u-=5,i.ndist=1+(31&c),c>>>=5,u-=5,i.ncode=4+(15&c),c>>>=4,u-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=Ms;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;u<3;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}i.lens[A[i.have++]]=7&c,c>>>=3,u-=3}for(;i.have<19;)i.lens[A[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,S={bits:i.lenbits},k=ps(0,i.lens,0,19,i.lencode,0,i.work,S),i.lenbits=S.bits,k){e.msg="invalid code lengths set",i.mode=Ms;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;T=i.lencode[c&(1<<i.lenbits)-1],y=T>>>24,m=T>>>16&255,_=65535&T,!(y<=u);){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}if(_<16)c>>>=y,u-=y,i.lens[i.have++]=_;else{if(16===_){for(C=y+2;u<C;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}if(c>>>=y,u-=y,0===i.have){e.msg="invalid bit length repeat",i.mode=Ms;break}b=i.lens[i.have-1],d=3+(3&c),c>>>=2,u-=2}else if(17===_){for(C=y+3;u<C;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}c>>>=y,u-=y,b=0,d=3+(7&c),c>>>=3,u-=3}else{for(C=y+7;u<C;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}c>>>=y,u-=y,b=0,d=11+(127&c),c>>>=7,u-=7}if(i.have+d>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=Ms;break}for(;d--;)i.lens[i.have++]=b}}if(i.mode===Ms)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=Ms;break}if(i.lenbits=9,S={bits:i.lenbits},k=ps(1,i.lens,0,i.nlen,i.lencode,0,i.work,S),i.lenbits=S.bits,k){e.msg="invalid literal/lengths set",i.mode=Ms;break}if(i.distbits=6,i.distcode=i.distdyn,S={bits:i.distbits},k=ps(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,S),i.distbits=S.bits,k){e.msg="invalid distances set",i.mode=Ms;break}if(i.mode=As,t===gs)break e;case As:i.mode=Es;case Es:if(a>=6&&l>=258){e.next_out=r,e.avail_out=l,e.next_in=s,e.avail_in=a,i.hold=c,i.bits=u,rs(e,h),r=e.next_out,o=e.output,l=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,c=i.hold,u=i.bits,i.mode===zs&&(i.back=-1);break}for(i.back=0;T=i.lencode[c&(1<<i.lenbits)-1],y=T>>>24,m=T>>>16&255,_=65535&T,!(y<=u);){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}if(m&&!(240&m)){for(v=y,x=m,w=_;T=i.lencode[w+((c&(1<<v+x)-1)>>v)],y=T>>>24,m=T>>>16&255,_=65535&T,!(v+y<=u);){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}c>>>=v,u-=v,i.back+=v}if(c>>>=y,u-=y,i.back+=y,i.length=_,0===m){i.mode=16205;break}if(32&m){i.back=-1,i.mode=zs;break}if(64&m){e.msg="invalid literal/length code",i.mode=Ms;break}i.extra=15&m,i.mode=16201;case 16201:if(i.extra){for(C=i.extra;u<C;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}i.length+=c&(1<<i.extra)-1,c>>>=i.extra,u-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;T=i.distcode[c&(1<<i.distbits)-1],y=T>>>24,m=T>>>16&255,_=65535&T,!(y<=u);){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}if(!(240&m)){for(v=y,x=m,w=_;T=i.distcode[w+((c&(1<<v+x)-1)>>v)],y=T>>>24,m=T>>>16&255,_=65535&T,!(v+y<=u);){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}c>>>=v,u-=v,i.back+=v}if(c>>>=y,u-=y,i.back+=y,64&m){e.msg="invalid distance code",i.mode=Ms;break}i.offset=_,i.extra=15&m,i.mode=16203;case 16203:if(i.extra){for(C=i.extra;u<C;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}i.offset+=c&(1<<i.extra)-1,c>>>=i.extra,u-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=Ms;break}i.mode=16204;case 16204:if(0===l)break e;if(d=h-l,i.offset>d){if(d=i.offset-d,d>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=Ms;break}d>i.wnext?(d-=i.wnext,g=i.wsize-d):g=i.wnext-d,d>i.length&&(d=i.length),f=i.window}else f=o,g=r-i.offset,d=i.length;d>l&&(d=l),l-=d,i.length-=d;do{o[r++]=f[g++]}while(--d);0===i.length&&(i.mode=Es);break;case 16205:if(0===l)break e;o[r++]=i.length,l--,i.mode=Es;break;case Ps:if(i.wrap){for(;u<32;){if(0===a)break e;a--,c|=n[s++]<<u,u+=8}if(h-=l,e.total_out+=h,i.total+=h,4&i.wrap&&h&&(e.adler=i.check=i.flags?Nn(i.check,o,h,r-h):Bn(i.check,o,h,r-h)),h=l,4&i.wrap&&(i.flags?c:Ls(c))!==i.check){e.msg="incorrect data check",i.mode=Ms;break}c=0,u=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;u<32;){if(0===a)break e;a--,c+=n[s++]<<u,u+=8}if(4&i.wrap&&c!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=Ms;break}c=0,u=0}i.mode=16208;case 16208:k=ys;break e;case Ms:k=vs;break e;case 16210:return xs;default:return _s}return e.next_out=r,e.avail_out=l,e.next_in=s,e.avail_in=a,i.hold=c,i.bits=u,(i.wsize||h!==e.avail_out&&i.mode<Ms&&(i.mode<Ps||t!==hs))&&Hs(e,e.output,e.next_out,h-e.avail_out),p-=e.avail_in,h-=e.avail_out,e.total_in+=p,e.total_out+=h,i.total+=h,4&i.wrap&&h&&(e.adler=i.check=i.flags?Nn(i.check,o,h,e.next_out-h):Bn(i.check,o,h,e.next_out-h)),e.data_type=i.bits+(i.last?64:0)+(i.mode===zs?128:0)+(i.mode===As||i.mode===Cs?256:0),(0===p&&0===h||t===hs)&&k===fs&&(k=ws),k},inflateEnd:e=>{if(Is(e))return _s;let t=e.state;return t.window&&(t.window=null),e.state=null,fs},inflateGetHeader:(e,t)=>{if(Is(e))return _s;const i=e.state;return 2&i.wrap?(i.head=t,t.done=!1,fs):_s},inflateSetDictionary:(e,t)=>{const i=t.length;let n,o,s;return Is(e)?_s:(n=e.state,0!==n.wrap&&n.mode!==Ts?_s:n.mode===Ts&&(o=1,o=Bn(o,t,i,0),o!==n.check)?vs:(s=Hs(e,t,i,i),s?(n.mode=16210,xs):(n.havedict=1,fs)))},inflateInfo:"pako inflate (from Nodeca project)"},$s=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Ws=Object.prototype.toString,{Z_NO_FLUSH:Gs,Z_FINISH:Zs,Z_OK:Ks,Z_STREAM_END:Ys,Z_NEED_DICT:Qs,Z_STREAM_ERROR:Xs,Z_DATA_ERROR:Js,Z_MEM_ERROR:er}=Un;function tr(e){this.options=Uo.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $o,this.strm.avail_out=0;let i=Vs.inflateInit2(this.strm,t.windowBits);if(i!==Ks)throw new Error(jn[i]);if(this.header=new $s,Vs.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Vo.string2buf(t.dictionary):"[object ArrayBuffer]"===Ws.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=Vs.inflateSetDictionary(this.strm,t.dictionary),i!==Ks)))throw new Error(jn[i])}function ir(e,t){const i=new tr(t);if(i.push(e),i.err)throw i.msg||jn[i.err];return i.result}tr.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize,o=this.options.dictionary;let s,r,a;if(this.ended)return!1;for(r=t===~~t?t:!0===t?Zs:Gs,"[object ArrayBuffer]"===Ws.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),s=Vs.inflate(i,r),s===Qs&&o&&(s=Vs.inflateSetDictionary(i,o),s===Ks?s=Vs.inflate(i,r):s===Js&&(s=Qs));i.avail_in>0&&s===Ys&&i.state.wrap>0&&0!==e[i.next_in];)Vs.inflateReset(i),s=Vs.inflate(i,r);switch(s){case Xs:case Js:case Qs:case er:return this.onEnd(s),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||s===Ys))if("string"===this.options.to){let e=Vo.utf8border(i.output,i.next_out),t=i.next_out-e,o=Vo.buf2string(i.output,e);i.next_out=t,i.avail_out=n-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(o)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(s!==Ks||0!==a){if(s===Ys)return s=Vs.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},tr.prototype.onData=function(e){this.chunks.push(e)},tr.prototype.onEnd=function(e){e===Ks&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Uo.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var nr={Inflate:tr,inflate:ir,inflateRaw:function(e,t){return(t=t||{}).raw=!0,ir(e,t)},ungzip:ir,constants:Un};const{Deflate:or,deflate:sr,deflateRaw:rr,gzip:ar}=os,{Inflate:lr,inflate:cr,inflateRaw:ur,ungzip:pr}=nr;var hr,dr,gr,fr,yr,mr,_r=sr,vr=cr,xr={Deflate:or,deflate:_r,deflateRaw:rr,gzip:ar,Inflate:lr,inflate:vr,inflateRaw:ur,ungzip:pr,constants:Un},wr=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){e.free=function(e,t){return Math.floor(e/[1,2,4,8,16,32,64,128][t-1])%2!=0}}(hr||(hr={})),function(e){e.eq=function(e,t){return Te.eq2(e.tile,t.tile)&&e.direction==t.direction}}(dr||(dr={}));class br{isAccessible(e){return wr(this,void 0,void 0,(function*(){for(const t of gr.all)if(yield this.canMove(Te.move(e,gr.toVector(t)),gr.invert(t)))return!0;return!1}))}canMove(e,t){return wr(this,void 0,void 0,(function*(){return hr.free(yield this.getTile(e),t)}))}}class kr extends br{fetch(e,t,i){return wr(this,void 0,void 0,(function*(){const n=yield fetch(`map/collision/collision-${e}-${t}-${i}.bin`);return new Uint8Array(xr.inflate(yield n.arrayBuffer()))}))}constructor(){super(),this.meta={chunks_per_file:20,chunks_x:100,chunks_z:200,chunk_size:64},this.chunks=[null,null,null,null].map((()=>Array(this.meta.chunks_x*this.meta.chunks_z/(this.meta.chunks_per_file*this.meta.chunks_per_file))))}static get(){return kr._instance}getTile(e){return wr(this,void 0,void 0,(function*(){const t=~~(e.x/(this.meta.chunk_size*this.meta.chunks_per_file)),i=~~(e.y/(this.meta.chunk_size*this.meta.chunks_per_file)),n=i*this.meta.chunks_per_file+t;if(!this.chunks[e.level][n]){let o=this.fetch(t,i,e.level);this.chunks[e.level][n]=o,o.then((t=>this.chunks[e.level][n]=t))}const o=e.x%(this.meta.chunk_size*this.meta.chunks_per_file),s=e.y%(this.meta.chunk_size*this.meta.chunks_per_file)*(this.meta.chunk_size*this.meta.chunks_per_file)+o;return(yield this.chunks[e.level][n])[s]}))}}function Tr(e,t){return{x:e.x+t.x,y:e.y+t.y,level:e.level}}kr._instance=new kr,function(e){e.cardinals=[1,2,3,4],e.ordinals=[5,6,7,8],e.all=[1,2,3,4,5,6,7,8];const t=[{x:0,y:0},{x:-1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:-1},{x:-1,y:1},{x:1,y:1},{x:1,y:-1},{x:-1,y:-1}];function i(e){return t[e]}function n(e){const t=we.clampInto(xe.snap(e),{topleft:{x:-11,y:11},botright:{x:11,y:-11}});return t.y,[[5,5,5,5,5,5,2,2,2,2,2,2,2,2,2,2,2,6,6,6,6,6,6],[5,5,5,5,5,5,5,2,2,2,2,2,2,2,2,2,6,6,6,6,6,6,6],[5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,6,6,6,6,6,6,6,6],[5,5,5,5,5,5,5,5,2,2,2,2,2,2,2,6,6,6,6,6,6,6,6],[5,5,5,5,5,5,5,5,5,2,2,2,2,2,6,6,6,6,6,6,6,6,6],[5,5,5,5,5,5,5,5,5,2,2,2,2,2,6,6,6,6,6,6,6,6,6],[1,5,5,5,5,5,5,5,5,2,2,2,2,2,6,6,6,6,6,6,6,6,3],[1,1,5,5,5,5,5,5,5,5,2,2,2,6,6,6,6,6,6,6,6,3,3],[1,1,1,1,5,5,5,5,5,5,2,2,2,6,6,6,6,6,6,3,3,3,3],[1,1,1,1,1,1,1,5,5,5,5,2,6,6,6,6,3,3,3,3,3,3,3],[1,1,1,1,1,1,1,1,1,5,5,2,6,6,3,3,3,3,3,3,3,3,3],[1,1,1,1,1,1,1,1,1,1,1,0,3,3,3,3,3,3,3,3,3,3,3],[1,1,1,1,1,1,1,1,1,8,8,4,7,7,3,3,3,3,3,3,3,3,3],[1,1,1,1,1,1,1,8,8,8,8,4,7,7,7,7,3,3,3,3,3,3,3],[1,1,1,1,8,8,8,8,8,8,4,4,4,7,7,7,7,7,7,3,3,3,3],[1,1,8,8,8,8,8,8,8,8,4,4,4,7,7,7,7,7,7,7,7,3,3],[1,8,8,8,8,8,8,8,8,4,4,4,4,4,7,7,7,7,7,7,7,7,3],[8,8,8,8,8,8,8,8,8,4,4,4,4,4,7,7,7,7,7,7,7,7,7],[8,8,8,8,8,8,8,8,8,4,4,4,4,4,7,7,7,7,7,7,7,7,7],[8,8,8,8,8,8,8,8,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7],[8,8,8,8,8,8,8,8,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7],[8,8,8,8,8,8,8,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7],[8,8,8,8,8,8,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7]][11-t.y][t.x+11]}e.invert=function(e){return[0,3,4,1,2,7,8,5,6][e]},e.isCardinal=function(e){return e>=1&&e<=4},e.isOrdinal=function(e){return e>=5},e.toVector=i,e.fromDelta=function(e){return[[8,4,7],[1,0,3],[5,2,6]][e.y+1][e.x+1]},e.fromVector=n,e.toString=function(e){return["Center","West","North","East","South","North-West","North-East","South-East","South-West"][e]},e.toShortString=function(e){return["C","W","N","E","S","NW","NE","SE","SW"][e]},e.center=0,e.west=1,e.north=2,e.east=3,e.south=4,e.northwest=5,e.northeast=6,e.southeast=7,e.southwest=8,e.transform=function(e,t){return n(xe.snap(xe.transform(i(e),t)))},e.split=function(t){return[[e.north,e.west],[e.north,e.east],[e.south,e.east],[e.south,e.west]][t-5]},e.rotate=function(t,i){return t==e.center?e.center:(t-1+i)%4+1+4*Math.floor(t/5)},e.continuations=function(t){return[[],[e.west],[e.north],[e.east],[e.south],[e.north,e.west,e.northwest],[e.north,e.east,e.northeast],[e.south,e.east,e.southeast],[e.south,e.west,e.southwest]][t]}}(gr||(gr={})),function(e){e.init_djikstra=function(e,t=kr.get()){let i={data:t,start:e,tiles:new nn,queue:[nn.split(e)],next:0};return i.tiles.set(i.queue[0],{parent:null}),i};const t=[gr.west,gr.east,gr.south,gr.north,gr.southwest,gr.southeast,gr.northwest,gr.northeast];function i(e,t){let i=function t(i){var n,o;let s=null===(n=e.tiles.get(i))||void 0===n?void 0:n.parent;if(null==(null===(o=e.tiles.get(i))||void 0===o?void 0:o.parent))return[i];let r=t(s);return r.push(i),r}(t).map((e=>oe.clone(e.coords)));return i.forEach((t=>t.level=e.start.level)),n(i)}function n(e){let t=[],i=gr.center,n=e[0];for(let o=1;o<e.length;o++){let s=gr.fromDelta(xe.sign(xe.sub(e[o],n)));s!=i&&(t.push(n),n=e[o],i=s),n=e[o]}return t.push(n),t}e.find=function(e,n){return wr(this,void 0,void 0,(function*(){if(n.origin.level!=e.start.level)return null;if(mr.isSingleTile(n)){const t=nn.split(n.origin);if(!e.data.isAccessible(n.origin))return e.tiles.set(t,{parent:null,unreachable:!0}),null}const o=mr.activate(n);{let t=o.size;for(let s=0;s<t.x;s++)for(let r=0;r<t.y;r++){const t={x:n.origin.x+s,y:n.origin.y+r,level:n.origin.level};if(o.query(t)){let n=nn.split(t),o=e.tiles.get(n);if(null!=o)return o.unreachable?null:i(e,n)}}}let s=yield function(e,i,n){return wr(this,void 0,void 0,(function*(){for(;e.blocked;)yield new Promise((e=>setTimeout(e,100)));function i(t,i){let n=nn.split(t);null==e.tiles.get(n)&&(e.tiles.set(n,{parent:i}),e.queue.push(n))}for(e.blocked=!0;e.queue.length<5e3&&e.next<e.queue.length;){const s=e.queue[e.next++],r=yield e.data.getTile(s.coords);for(let e of t)hr.free(r,e)&&i(Tr(s.coords,gr.toVector(e)),s);if(n=s.coords,o.query(n))return e.blocked=!1,s.coords}var n;return e.blocked=!1,null}))}(e);if(!s){let t=mr.size(n);for(let i=0;i<t.x;i++)for(let s=0;s<t.y;s++){const t={x:n.origin.x+i,y:n.origin.y+s,level:n.origin.level};o.query(t)&&e.tiles.set(nn.split(t),{parent:null,unreachable:!0})}return null}return i(e,nn.split(s))}))},e.idealPath=function(e,t){if(e.level!=t.level)return null;let i=xe.sub(t,e),n=xe.abs(i),o=xe.add(e,n.x>=n.y?{x:Math.sign(i.x)*(n.x-n.y),y:0}:{x:0,y:Math.sign(i.y)*(n.y-n.x)});return[e,Te.lift(o,e.level),t]},e.cleanWaypoints=n,e.pathLength=function(e){let t=0;for(let i=0;i<e.length-1;i++)t+=Te.distance(e[i],e[i+1]);return t}}(fr||(fr={})),function(e){function t(e,t,i){return wr(this,void 0,void 0,(function*(){if(t.level!=i.level)return null;let n=xe.sign(xe.sub(i,t)),o=we.from(t,i),s=[];for(0!=n.x&&0!=n.y&&s.push({delta:n,dir:gr.fromDelta(n)}),0!=n.x&&s.push({delta:{x:n.x,y:0},dir:gr.fromDelta({x:n.x,y:0})}),0!=n.y&&s.push({delta:{x:0,y:n.y},dir:gr.fromDelta({x:0,y:n.y})});;){if(xe.eq(t,i))return{tile:t,direction:gr.fromVector(xe.sub(i,t))};const n=yield e.getTile(t);let r=null;for(let e of s){const i=Tr(t,e.delta);if(we.containsTile(o,i)&&hr.free(n,e.dir)){r=i;break}}if(!r)return null;t=r}}))}function i(e,i,n,o){return wr(this,void 0,void 0,(function*(){let s=gr.toVector(n);for(let n=o;n>0;n--){let o=yield t(e,i,Tr(i,xe.scale(n,s)));if(o)return o}return null}))}function n(e,n){return wr(this,arguments,void 0,(function*(e,n,o=kr.get()){const s=xe.sub(n,e);if(xe.max_axis(s)>10){let t=gr.fromVector(s);return yield i(o,e,t,10)}return t(o,e,n)}))}function o(e,t){return wr(this,arguments,void 0,(function*(e,t,i=kr.get()){return n(e,t,i)}))}function s(e){return wr(this,arguments,void 0,(function*(e,t=kr.get()){return i(t,e.tile,e.direction,10)}))}function r(e){return wr(this,arguments,void 0,(function*(e,t=kr.get()){let n=yield i(t,e.tile,gr.invert(e.direction),7);return n?{tile:n.tile,direction:e.direction}:null}))}e.possibility_raster=function(e,t){return wr(this,arguments,void 0,(function*(e,t,i=[]){const n=mr.activate(mr.init(Te.move(t,{x:-10,y:-10}),{x:21,y:21},!1));function o(i){return wr(this,void 0,void 0,(function*(){n.set(i.position,!0);const s=yield e.getTile(i.position),r=xe.abs(xe.sub(i.position,t)),a=r.x<10,l=r.y<10;if(gr.isCardinal(i.movement))l&&a&&hr.free(s,i.movement)&&(yield o({position:Te.move(i.position,gr.toVector(i.movement)),movement:i.movement}));else{let[e,t]=gr.split(i.movement);a&&l&&hr.free(s,i.movement)?(yield o({position:Te.move(i.position,gr.toVector(i.movement)),movement:i.movement}),hr.free(s,e)&&(yield o({position:Te.move(i.position,gr.toVector(e)),movement:e})),hr.free(s,t)&&(yield o({position:Te.move(i.position,gr.toVector(t)),movement:t}))):a&&hr.free(s,t)?(yield o({position:Te.move(i.position,gr.toVector(t)),movement:i.movement}),hr.free(s,e)&&(yield o({position:Te.move(i.position,gr.toVector(e)),movement:e}))):l&&hr.free(s,e)&&(yield o({position:Te.move(i.position,gr.toVector(e)),movement:i.movement}))}}))}for(let e of gr.ordinals)yield o({position:t,movement:e});function s(e,i){if(0==i)return t;const o=Te.move(t,xe.scale(i,gr.toVector(e)));return n.query(o)?o:s(e,i-1)}return{targets:i.map((e=>({direction:e,surge:s(e,10),escape:s(gr.invert(e),7)}))),data:n}}))},e.dive_internal=t,e.dive_far_internal=i,e.dive=n,e.barge=o,e.surge=s,e.escape=r,e.generic=function(e,t,i,a){return wr(this,void 0,void 0,(function*(){switch(t){case"surge":return s({tile:i,direction:gr.fromVector(xe.sub(a,i))},e);case"dive":return n(i,a,e);case"escape":return r({tile:i,direction:gr.fromVector(xe.sub(i,a))},e);case"barge":return o(i,a,e)}}))},e.cooldown=function(e,t,i){switch(e){case"surge":case"dive":return t?2:i?17:34;case"escape":return i?17:34;case"barge":return 34}},e.isFarDive=function(e,t){return wr(this,void 0,void 0,(function*(){var n;const o=xe.sub(t,e);if(0!=o.y&&0!=o.x&&Math.abs(o.x)!=Math.abs(o.y))return!1;if(10==xe.max_axis(o)&&(0==o.y||0==o.x||Math.abs(o.x)==Math.abs(o.y)))return!0;const s=gr.fromVector(o),r=null===(n=yield i(kr.get(),e,s,10))||void 0===n?void 0:n.tile;return Te.equals(r,t)}))}}(yr||(yr={})),function(e){var t=_e.todo;class i{constructor(e){var t;this.parent=e,this.size=null!==(t=oe.cloneDeep(e.size))&&void 0!==t?t:{x:1,y:1},e.data?this.data=(0,tn.Kp)(e.data):this.data=new Uint8Array(Math.ceil(this.size.x*this.size.y/8)).fill(255),this.origin=oe.cloneDeep(e.origin)}resize(e){t()}save(){const e=ze.from(this.origin,Te.move(this.origin,xe.sub(this.size,{x:1,y:1}))),t=(()=>{for(let t=e.topleft.x;t<=e.botright.x;t++)for(let i=e.botright.y;i<=e.topleft.y;i++)if(!this.query({x:t,y:i,level:e.level}))return!1;return!0})();return this.parent.data=t?void 0:(0,tn.if)(this.data),1==this.size.x&&1==this.size.y?this.parent.size=void 0:this.parent.size=oe.cloneDeep(this.size),this.parent.origin=oe.cloneDeep(this.origin),this}disconnect(){this.parent&&(this.parent._active=null,this.parent=null)}index(e){const t=xe.sub(e,this.origin),i=t.x+t.y*this.size.x;return[Math.floor(i/8),i%8]}query(e){const t=this.size;if(e.x<this.origin.x||e.y<this.origin.y||e.x>=this.origin.x+t.x||e.y>=this.origin.y+t.y)return!1;const[i,n]=this.index(e);return!!(this.data[i]>>n&1)}set(e,t){const[i,n]=this.index(e);return t?this.data[i]|=1<<n:this.data[i]&=255-(1<<n),this}add(e){return this.set(e,!0),this}remove(e){return this.set(e,!1),this}setRectangle(e,t=!0){for(let i=e.topleft.x;i<=e.botright.x;i++)for(let n=e.botright.y;n<=e.topleft.y;n++)this.set({x:i,y:n,level:e.level},t);return this}rect(){return ze.from(this.origin,Te.move(this.origin,xe.add(this.size,{x:-1,y:-1})))}center(e=!0){let t=[{pos:ze.center(this.rect(),e),dirs:gr.all}],i=0;for(;i<t.length&&i<50;){const e=t[i];if(this.query(e.pos))return e.pos;for(let i of e.dirs)t.push({pos:Te.move(e.pos,gr.toVector(i)),dirs:gr.continuations(i)});i++}return null}getTiles(){const e=[];for(let t=0;t<this.size.x;t++)for(let i=0;i<this.size.y;i++){const n=Te.move(this.origin,{x:t,y:i});this.query(n)&&e.push(n)}return e}}function n(e){var t;return e?(null===(t=e._active)||void 0===t?void 0:t.query)?e._active:e._active=new i(e):null}function o(e,t={x:1,y:1},i=!0){return{origin:e,size:t,data:i?void 0:(0,tn.if)(new Uint8Array(Math.ceil(t.x*t.y/8)).fill(0))}}function s(e,t=!0){return o(ze.bl(e),{x:we.tileWidth(e),y:we.tileHeight(e)},t)}e.ActiveTileArea=i,e.activate=n,e.init=o,e.fromTiles=function(t){if(0==t.length)return e.init({x:0,y:0,level:0});const i=n(s(ze.from(...t),!1));for(let e of t)i.add(e);return i.save(),i.parent},e.fromRect=s,e.toRect=function(e){return ze.from(e.origin,Te.move(e.origin,xe.add(e.size?e.size:{x:1,y:1},{x:-1,y:-1})))},e.size=function(e){return e.size||{x:1,y:1}},e.isSingleTile=function(e){return!e.size||1==e.size.x&&1==e.size.y},e.isRectangle=function(e){return!e.data},e.transform=function(t,i){return e.fromTiles(n(t).getTiles().map((e=>Te.transform(e,i))))},e.normalize=function(t){return"x"in t?e.init(t):t}}(mr||(mr={}));var zr=mr.activate,Sr=_e.index;function Cr(e,t={}){return ce.polygon([{x:e.x-.5,y:e.y-.5},{x:e.x-.5,y:e.y+.5},{x:e.x+.5,y:e.y+.5},{x:e.x+.5,y:e.y-.5}].map(xe.toLatLong),t)}function Ar(e,t=[{},{}]){return[ce.polygon([{x:e.x-.5,y:e.y-.5},{x:e.x-.5,y:e.y+.5},{x:e.x+.5,y:e.y+.5}].map(xe.toLatLong),t[0]),ce.polygon([{x:e.x-.5,y:e.y-.5},{x:e.x+.5,y:e.y+.5},{x:e.x+.5,y:e.y-.5}].map(xe.toLatLong),t[1])]}function Er(e){return ce.polygon([{x:e.topleft.x-.5,y:e.topleft.y+.5},{x:e.botright.x+.5,y:e.topleft.y+.5},{x:e.botright.x+.5,y:e.botright.y-.5},{x:e.topleft.x-.5,y:e.botright.y-.5}].map(xe.toLatLong))}function Pr(e){if(!e.data&&!e.size)return Cr(e.origin);if(!e.data)return Er(mr.toRect(e));const t=zr(e),i=(()=>{const e=gr.northwest,t=gr.northeast,i=gr.southeast,n=gr.southwest;return[[],[[e,t]],[[t,i]],[[e,t,i]],[[i,n]],[[e,t],[i,n]],[[t,i,n]],[[e,t,i,n]],[[n,e]],[[n,e,t]],[[n,e],[t,i]],[[n,e,t,i]],[[i,n,e]],[[i,n,e,t]],[[t,i,n,e]],[[e,t,i,n,e]]].map((e=>e.map((e=>e.map((e=>xe.scale(.5,gr.toVector(e))))))))})(),n=[];for(let o=0;o<e.size.x;o++)for(let s=0;s<e.size.y;s++){const r=Te.move(e.origin,{x:o,y:s});if(!t.query(r))continue;const a=(t.query(Te.move(r,{x:0,y:1}))?0:1)+(t.query(Te.move(r,{x:1,y:0}))?0:2)+(t.query(Te.move(r,{x:0,y:-1}))?0:4)+(t.query(Te.move(r,{x:-1,y:0}))?0:8);n.push(...i[a].map((e=>e.map((e=>Te.move(r,e))))))}const o=[];for(;n.length>0;){const[e]=n.splice(0,1);for(;n.length>0;){const t=Sr(e,-1);if(xe.eq(e[0],t)){e.pop();break}const i=n.findIndex((e=>xe.eq(t,e[0])));if(i<0)break;const[o]=n.splice(i,1);e.push(...o.slice(1))}o.push(e)}return ce.polygon(o.map((e=>e.map(xe.toLatLong))))}class Mr{constructor(){this.managed=[]}bind(...e){return e.forEach((e=>{"function"==typeof e?this.managed.push(e):this.managed.push((()=>e.endLifetime()))})),this}kill(){this.managed.forEach((e=>e())),this.managed=[]}endLifetime(){this.kill()}}var Lr=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Dr=_e.profile;function Ir(e){return e instanceof Or||e instanceof Ji}class Or extends ce.FeatureGroup{constructor(){super(),this.lifetime_manager=new Mr,this.parent=null,this.map=null,this.hovered_entity=null,this.active_entity={entity:null},this.rendering=new Or.RenderingLock,this.quad_tree_debug_rendering=!1,this.debug_layer=ce.featureGroup().addTo(this),this.on("layeradd",(e=>{var t;Ir(e.layer)&&(e.layer.parent=this),e.layer instanceof Ji&&(null===(t=this.entity_quadtree)||void 0===t||t.insert(e.layer),this.map&&e.layer.setFloorAndZoom(this.map.floor.value(),this.map.getZoom()),e.layer.requestRendering())})),this.on("remove",(()=>{var e;(null===(e=this.activeEntity())||void 0===e?void 0:e.parent)==this&&this.requestEntityActivation(null)})),this.on("layerremove",(e=>{Ir(e.layer)&&e.layer.parent==this&&(e.layer.parent=null)})),this.entity_quadtree=en.init({topleft:{x:0,y:16384},botright:{x:16384,y:0}})}removeEntity(e){e.spatial&&e.spatial.remove(e),e==this.activeEntity()&&this.requestEntityActivation(null),e.parent=null,this.removeLayer(e)}isRootLayer(){return null==this.parent}getRoot(){return this.isRootLayer()?this:this.parent.getRoot()}getMap(){return this.map}remove(){return this.parent?this.parent.removeLayer(this):super.remove(),this}add(e){return this.addLayer(e),this}addTo(e){return e instanceof ia?(e.addGameLayer(this),this):super.addTo(e)}onAdd(e){return this.map=e,this.eachEntity((e=>{e.setFloorAndZoom(this.map.floor.value(),this.map.getZoom()),e.requestRendering(!0)})),super.onAdd(e)}onRemove(e){return this.map=null,this.lifetime_manager.kill(),super.onRemove(e)}eachEntity(e){return this.eachLayer((t=>{t instanceof Ji&&e(t)})),this}createActiveEntityTooltip(){return Lr(this,arguments,void 0,(function*(e=void 0){if(this.active_entity.entity){const t=yield this.active_entity.entity.renderTool();if(t){const i=null!=e&&e,n=(yield this.active_entity.entity.tooltip_hook.value())||document.body;this.active_entity.tooltip_instance=Di(n,{content:c("<div class='ctr-entity-tooltip'></div>").append(t).raw(),arrow:!0,animation:!1,zIndex:10001,delay:0,followCursor:!i||"initial",plugins:[Li],interactive:i,onHide:()=>{if(this.active_entity.locked)return!1},onClickOutside:e=>{e.destroy()},hideOnClick:!1,onHidden:()=>{this.requestEntityActivation(null)},trigger:"manual",placement:"top",offset:[0,10],appendTo:document.body}),this.active_entity.tooltip_instance.show()}}}))}requestEntityActivation(e){return Lr(this,arguments,void 0,(function*(e,t=void 0){var i;return this.isRootLayer()?!this.active_entity.locked&&(e!=this.active_entity.entity&&(this.active_entity.entity&&(this.active_entity.entity.highlighted.set(!1),null===(i=this.active_entity.tooltip_instance)||void 0===i||i.destroy(),this.active_entity.tooltip_instance=null,this.active_entity.entity=null),e&&(this.active_entity.entity=e,e.highlighted.set(!0),yield this.createActiveEntityTooltip(t))),!0):this.parent.requestEntityActivation(e)}))}activeEntity(){return this.getRoot().active_entity.entity}lockEntity(e){return Lr(this,arguments,void 0,(function*(e,t=!1){this.active_entity.entity&&(this.active_entity.locked=!1,yield this.requestEntityActivation(null)),e&&(yield this.requestEntityActivation(e,!t),this.active_entity.locked=!0)}))}updateHovering(e,t){this.isRootLayer()||this.getRoot().updateHovering(e,t),t?(this.hovered_entity=e,this.requestEntityActivation(e)):this.hovered_entity==e&&(this.hovered_entity=null,this.requestEntityActivation(null,!1))}getHoveredEntity(){return this.getRoot().hovered_entity}eventContextMenu(e){}eventClick(e){}eventHover(e){}eventMouseUp(e){}eventMouseDown(e){}eventKeyDown(e){}eventKeyUp(e){}eventViewChanged(e){e.onPre((()=>{if(this.rendering.lock(),this.quad_tree_debug_rendering?Dr((()=>this.entity_quadtree.cull(e.new_view.rect,!0)),"Culling"):this.entity_quadtree.cull(e.new_view.rect,!1),this.quad_tree_debug_rendering){function t(e){if(e.isLeaf()){e.getElements().some((e=>e.culled.value()));const t=e.getElements().some((e=>!e.getDesiredRenderProps().render_at_all));return[Er(e.bounds()).setStyle({stroke:!0,color:e.isCulled()?"red":t?"purple":"green",fillOpacity:.2})]}return e.getChildren().flatMap(t)}this.debug_layer.clearLayers(),t(this.entity_quadtree).forEach((e=>e.addTo(this.debug_layer)))}this.entity_quadtree.forEachVisible((t=>{t.setFloorAndZoom(e.new_view.rect.level,e.new_view.zoom)})),this.rendering.unlock()}))}}!function(e){e.RenderingLock=class{constructor(){this.entity_render_locked=!1,this.entity_rendering_lock_queue=[]}lock(){this.entity_render_locked=!0}unlock(){this.entity_rendering_lock_queue.forEach((e=>e.render())),this.entity_rendering_lock_queue=[],this.entity_render_locked=!1}request(e){this.entity_render_locked?this.entity_rendering_lock_queue.push(e):e.render()}}}(Or||(Or={}));class Rr extends ce.FeatureGroup{constructor(e={x:0,y:0}){super(),this.position=e,this._polygon=null,this.update()}setPosition(e){xe.eq(e,this.position)||(this.position=e,this.update())}update(){this._polygon&&(this._polygon.remove(),this._polygon=null),this._polygon=Cr(this.position).setStyle({fillOpacity:.2,opacity:.8,color:"#F0780C",fillColor:"#F0780C",interactive:!1,pane:ia.objectPane}).addTo(this)}}class Br extends Or{constructor(){super(...arguments),this.tile_highlight=new Rr({x:0,y:0}).addTo(this)}eventHover(e){e.onPre((()=>{this.tile_highlight.setPosition(e.tile())}))}}var Fr;class Nr{constructor(e,t,i){this.map=e,this.leaflet=t,this.original=i,this.active_entity=null,this.propagation_state={phase:"pre",trickle_stopped_immediate:!1,trickle_stopped:!1,trigger_post_order:!0}}handleFiltered(e,t){e(this)&&t(this)}onPre(e){this.handleFiltered((e=>"pre"==e.propagation_state.phase),e)}onPost(e){this.handleFiltered((e=>"post"==e.propagation_state.phase),e)}stopAllPropagation(){this.original.stopPropagation(),this.propagation_state.trickle_stopped=!0,this.propagation_state.trickle_stopped_immediate=!0,this.propagation_state.trigger_post_order=!1}}class jr extends Nr{constructor(e,t,i){super(e,t,t.originalEvent),this.leaflet=t,this.coordinates=i}tile(){return Te.snap(this.coordinates)}}class Ur extends Nr{constructor(e,t){super(e,t,t.originalEvent),this.leaflet=t}}class qr extends Nr{constructor(e,t,i){super(e,t,t.originalEvent),this.leaflet=t,this.coordinates=i,this.entries=[],this.title="",this.for_entity_entries=[]}add(...e){this.entries.push(...e)}addForEntity(...e){if(!this.active_entity)throw new TypeError("Adding entity actions for context menu without entity");this.for_entity_entries.push(...e)}tile(){return Te.snap(this.coordinates)}getMenu(){return e=this,t=void 0,n=function*(){var e;const t=yield null===(e=this.active_entity)||void 0===e?void 0:e.contextMenu(this);return t&&t.children.length+this.for_entity_entries.length>0?(t.children.push(...this.for_entity_entries),0==this.entries.length?t:{type:"submenu",text:this.title,children:this.entries.concat({type:"submenu",text:t.text,children:t.children})}):{type:"submenu",text:this.title,children:this.entries}},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}setTitle(e){this.title=e}}class Hr extends Nr{constructor(e,t,i){var n,o,s,r,a,l;super(e,void 0,void 0),this.old_view=t,this.new_view=i,this.floor_changed=(null===(o=null===(n=this.old_view)||void 0===n?void 0:n.rect)||void 0===o?void 0:o.level)!=(null===(r=null===(s=this.new_view)||void 0===s?void 0:s.rect)||void 0===r?void 0:r.level),this.zoom_changed=(null===(a=this.old_view)||void 0===a?void 0:a.zoom)!=(null===(l=this.new_view)||void 0===l?void 0:l.zoom)}}class Vr extends Or{constructor(e,t){switch(super(),this.config=e,this.content=t,this.parent=null,this.config.no_default_styling||this.content.addClass("gamemap-ui-control-default-styling"),this.config.type){case"gapless":this.content.addClass("gamemap-ui-control-gapless");break;case"floating":this.content.addClass("gamemap-ui-control-floating")}this.content.container.on("contextmenu blur change click dblclick error focus focusin focusout hover keydown keypress keyup load mousedown mouseenter mouseleave mouseout mouseover resize select submit mousewheel",(e=>e.stopPropagation()))}onAdd(e){return e.addControl(this),super.onAdd(e)}onRemove(e){return this.content.detach(),super.onRemove(e)}setContent(e){return this.content.empty().append(e),this}}class $r extends ce.TileLayer{constructor(e,t){super(e[0].urls[0],t),this.zoomurls=e,this.zoomurls=e,this.on("tileerror",(e=>{let t=e.sourceTarget,i=1+(e.tile.dataset.errcount?+e.tile.dataset.errcount:0);e.tile.dataset.errcount=i+"";let n=t.getTileUrl(e.coords,i);n&&(e.tile.src=n)}))}getZoomConfig(e){return this.zoomurls.find((t=>{var i,n;return(null!==(i=t.from)&&void 0!==i?i:-1/0)<=e&&(null!==(n=t.to)&&void 0!==n?n:1/0)>=e}))}getTileUrl(e,t=0){var i;let n=this.getZoomConfig(e.z),o=null!==(i=null==n?void 0:n.urls[t])&&void 0!==i?i:"";return ce.Util.template(o,{x:e.x,y:e.y,z:e.z})}}class Wr extends Vr{constructor(){super({position:"bottom-right",type:"floating"},c("<div style='display: flex' class='nis-map-control'>")),this.down=c("<div style='cursor: pointer'><img src='assets/icons/stairdown.png' style='width: 20px; padding: 4px'></div>").tooltip("Go down (PageDown)").tapRaw((e=>e.on("click",(e=>{e.stopPropagation(),this.goDown()})))).appendTo(this.content.container),this.current=c("<div style='border-left: 1px solid rgb(5, 56, 66); border-right: 1px solid rgb(5, 56, 66); padding-left: 4px; padding-right: 4px; line-height: 20px'>Floor 0</div>").appendTo(this.content.container),this.up=c("<div style='cursor: pointer'><img src='assets/icons/stairup.png' style='width: 20px; padding: 4px'></div>").tooltip("Go up (PageUp)").tapRaw((e=>e.on("click",(e=>{e.stopPropagation(),this.goUp()})))).appendTo(this.content.container),this.content.container.on("click",(e=>e.stopPropagation()))}goUp(){this.parent.getMap().floor.set(Se.clamp(this.parent.getMap().floor.value()+1))}goDown(){this.parent.getMap().floor.set(Se.clamp(this.parent.getMap().floor.value()-1))}onAdd(e){return e.floor.subscribe((e=>this.current.text(`Floor ${e}`))),super.onAdd(e)}eventKeyDown(e){e.onPre((()=>{"PageUp"==e.leaflet.originalEvent.key?this.goUp():"PageDown"==e.leaflet.originalEvent.key&&this.goDown()}))}}class Gr{constructor(){this.interaction=null,this.default_layer=null}setDefaultLayer(e){return this.default_layer=e,this}set(e,t=null){return this.reset(),e&&(e._guard&&e._guard.reset(),this.interaction=e,e._guard=this,e.addTo(t||this.default_layer)),e}reset(){return this.interaction&&(this.interaction._guard=null,this.interaction.cancel()),this.interaction=null,this}}class Zr extends Or{constructor(){super(...arguments),this.top_control=null,this._guard=null,this.started=ji(),this.ended=ji()}onAdd(e){return super.onAdd(e),this.started.trigger(this),this.getMap().container.focus(),this}attachTopControl(e){return this.top_control&&(this.top_control.remove(),this.top_control=null),e&&(e.setCancelHandler((()=>this.cancel())).addTo(this),this.top_control=e),this}cancel(){this._guard&&this._guard.reset(),this.remove(),this.ended.trigger(this)}onEnd(e){return this.ended.on(e),this}onStart(e){return this.started.on(e),this}}!function(e){e.map_version=1710516666,e.icons={types:{anagram:"/assets/icons/activeclue.png",compass:"/assets/icons/arrow.png",coordinates:"/assets/icons/sextant.png",cryptic:"/assets/icons/activeclue.png",emote:"/assets/icons/emotes.png",map:"/assets/icons/map.png",scan:"/assets/icons/scan.png",simple:"/assets/icons/activeclue.png",skilling:"/assets/icons/activeclue.png"}},e.colors={dig_spot_number:"gold",scan_area:"#00FF21"}}(Fr||(Fr={}));var Kr=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Yr=ie.cls;const Qr="/assets/icons/marker_red.png",Xr="/assets/icons/marker_blue.png",Jr="/assets/icons/marker_green.png",ea="/assets/icons/marker_yellow.png";function ta(e,t=1){return ce.icon({iconUrl:["/assets/icons/marker_red.png","/assets/icons/marker_blue.png","/assets/icons/marker_green.png","/assets/icons/marker_yellow.png"][e],iconSize:[18*t,24*t],iconAnchor:[9*t,24*t],className:"marker-icon"})}ce.icon({iconUrl:Qr,iconSize:[18,24],iconAnchor:[9,24],className:"marker-icon"}),ce.icon({iconUrl:Xr,iconSize:[18,24],iconAnchor:[9,24],className:"marker-icon"}),ce.icon({iconUrl:Jr,iconSize:[18,24],iconAnchor:[9,24],className:"marker-icon"}),ce.icon({iconUrl:ea,iconSize:[18,24],iconAnchor:[9,24],className:"marker-icon"});class ia extends ce.Map{constructor(e){super(e,ia.gameMapOptions()),this.floor=qi(0),this.viewport=qi(null).equality(ia.View.equals),this._lastHoveredTile=null,this.fitArea=null,this.debug_show_fit_area=!1,this.container=Pe(e);{const e=this.getPane("overlayPane"),t=this.createPane(ia.areaPane,e),i=this.createPane(ia.pathTargetPane,e),n=this.createPane(ia.objectPane,e),o=this.createPane(ia.pathArrowPane,e);t.style.zIndex="410",i.style.zIndex="420",n.style.zIndex="430",o.style.zIndex="440"}this.ui_container=Yr("gamemap-ui-container").appendTo(this.container);for(let e in ia.position_layer_class_mapping)Yr(ia.position_layer_class_mapping[e]).appendTo(this.ui_container);this.createPane("gridPane").style.zIndex="250",this.internal_root_layer=new Or,this.addLayer(this.internal_root_layer),this.addGameLayer(new Wr).addGameLayer(new Br),this.on("contextmenu",(e=>Kr(this,void 0,void 0,(function*(){e.originalEvent.preventDefault();let t=this.event(new qr(this,e,this.eventCoordinate(e)),(e=>t=>e.eventContextMenu(t)));t.active_entity&&(yield this.internal_root_layer.lockEntity(t.active_entity)),new Zi(yield t.getMenu()).show(this.container.get()[0],{x:e.originalEvent.clientX,y:e.originalEvent.clientY}).onClosed((()=>Kr(this,void 0,void 0,(function*(){this.container.focus(),yield this.internal_root_layer.lockEntity(null)}))))})))),this.on("click",(e=>{e.originalEvent.preventDefault(),this.event(new jr(this,e,this.eventCoordinate(e)),(e=>t=>e.eventClick(t)))})),this.on("mousemove",(e=>{var t;let i=Te.snap(this.eventCoordinate(e));0==(null===(t=this.internal_root_layer.activeEntity())||void 0===t?void 0:t.isStillHovered())&&this.internal_root_layer.requestEntityActivation(null),Te.eq2(i,this._lastHoveredTile)||(this._lastHoveredTile=i,this.event(new jr(this,e,i),(e=>t=>e.eventHover(t))))})),this.on("mouseup",(e=>{e.originalEvent.preventDefault(),this.event(new jr(this,e,this.eventCoordinate(e)),(e=>t=>e.eventMouseUp(t)))})),this.on("mousedown",(e=>{e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),this.event(new jr(this,e,this.eventCoordinate(e)),(e=>t=>e.eventMouseDown(t)))})),this.on("keydown",(e=>{this.event(new Ur(this,e),(e=>t=>e.eventKeyDown(t)))})),this.on("keyup",(e=>{this.event(new Ur(this,e),(e=>t=>e.eventKeyUp(t)))})),this.viewport.subscribe(((e,t)=>{this.event(new Hr(this,t,e),(e=>t=>e.eventViewChanged(t)))})),this.on("moveend",(()=>this.updateView())),this.on("zoomend",(()=>this.updateView())),this.floor.subscribe((()=>this.updateView())),new Ee({intervals:[{min_zoom:-3,interval:64},{min_zoom:.5,interval:8},{min_zoom:1,interval:4},{min_zoom:2,interval:1}],lineStyle:{weight:1,color:"#111111",opacity:.25,interactive:!1},pane:"gridPane"}).addTo(this),this.updateBaseLayers(),this.floor.subscribe((()=>this.updateBaseLayers()))}updateView(){const e=this.getBounds();return this.viewport.set({rect:ze.lift(we.extend(we.from(xe.fromLatLong(e.getNorthEast()),xe.fromLatLong(e.getSouthWest())),1),this.floor.value()),zoom:this.getZoom()}),this}fitView(e,t={}){var i,n;null!==(i=t.maxZoom)&&void 0!==i||(t.maxZoom=4),this.invalidateSize();const o=_e.convert_bounds(we.toBounds(e)).pad(.1);return this.fitBounds(o,t),this.debug_show_fit_area&&(null===(n=this.fitArea)||void 0===n||n.remove(),this.fitArea=ce.polygon([o.getNorthEast(),o.getNorthWest(),o.getSouthWest(),o.getSouthEast()]).setStyle({color:"#FFFFFF",weight:5}).addTo(this)),this.floor.set(e.level),this}getClientPos(e){return xe.add(this.latLngToContainerPoint(xe.toLatLong(e)),{x:this.container.get()[0].getBoundingClientRect().left,y:this.container.get()[0].getBoundingClientRect().top})}addGameLayer(e){return this.internal_root_layer.add(e),this}addControl(e){if(e instanceof Vr){let t=this;function i(e){return t.ui_container.container.children(`.${ia.position_layer_class_mapping[e]}`)}e.content.appendTo(i(e.config.position))}else super.addControl(e);return this}updateBaseLayers(){const e='<a href="https://runeapps.org/" title="Creator of Alt1 and RuneApps.org">Skillbert</a>';function t(e){return[`https://runeapps.org/s3/map4/live/${e}`,`https://runeapps.org/node/map/getnamed?mapid=4&version=${Fr.map_version}&file=${e}`]}const i=[new $r([{urls:t(`topdown-${this.floor.value()}/{z}/{x}-{y}.webp`)}],{attribution:e,tileSize:512,maxNativeZoom:5,minZoom:-5,bounds:ia.bounds()}),new $r([{to:2,urls:t(`walls-${this.floor.value()}/{z}/{x}-{y}.webp`)},{from:3,to:3,urls:t(`walls-${this.floor.value()}/{z}/{x}-{y}.svg`)}],{attribution:e,tileSize:512,maxNativeZoom:3,pane:ia.objectPane,minZoom:-5,bounds:ia.bounds()}),new $r([{urls:t(`collision-${this.floor.value()}/{z}/{x}-{y}.png`)}],{attribution:e,tileSize:512,maxNativeZoom:3,minZoom:-5,className:"map-collisionlayer",bounds:ia.bounds()})],n=this.baseLayers;n&&n.length>0&&(n.forEach((e=>e.on("tileloadstart",(e=>e.target.src="")))),i[0].on("load",(()=>n.forEach((e=>e.remove())))),setTimeout((()=>n.forEach((e=>e.remove()))),500)),this.baseLayers=i,i.forEach((e=>e.addTo(this)))}eventCoordinate(e){return{x:e.latlng.lng,y:e.latlng.lat,level:this.floor.value()}}event(e,t){var i;return e.active_entity=this.internal_root_layer.getHoveredEntity(),(null===(i=e.active_entity)||void 0===i?void 0:i.isStillHovered())||(e.active_entity=null),function i(n){n&&(e.propagation_state.phase="pre",t(n)(e),e.propagation_state.trickle_stopped||e.propagation_state.trickle_stopped_immediate||n.eachLayer((e=>{e instanceof Or&&i(e)})),e.propagation_state.trigger_post_order&&(e.propagation_state.phase="post",t(n)(e)),e.propagation_state.trickle_stopped_immediate=!1)}(this.internal_root_layer),e}}!function(e){function t(){return new ce.LatLngBounds([0,0],[e.size.chunks.y*e.size.chunk_size.y,e.size.chunks.x*e.size.chunk_size.x])}let i;e.areaPane="underlayAreaPane",e.pathArrowPane="pathArrowPane",e.pathTargetPane="pathAreaPane",e.objectPane="objectAreaPane",e.size={chunks:{x:100,y:200},chunk_size:{x:64,y:64}},e.bounds=t,e.gameMapOptions=function(){return{crs:function(){let e=ce.CRS.Simple;return e.transformation=ce.transformation(1,16.5,-1,12783.5),e}(),zoomSnap:.5,zoomDelta:.5,minZoom:-5,maxZoom:7,zoomControl:!1,dragging:!0,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1,preferCanvas:!1,maxBounds:t(),maxBoundsViscosity:.5}},e.position_layer_class_mapping={"bottom-center":"gamemap-ui-layer-bc","bottom-left":"gamemap-ui-layer-bl","bottom-right":"gamemap-ui-layer-br","left-bottom":"gamemap-ui-layer-lb","left-center":"gamemap-ui-layer-lc","left-top":"gamemap-ui-layer-lt","right-bottom":"gamemap-ui-layer-rb","right-center":"gamemap-ui-layer-rc","right-top":"gamemap-ui-layer-rt","top-center":"gamemap-ui-layer-tc","top-left":"gamemap-ui-layer-tl","top-right":"gamemap-ui-layer-tr"},function(e){e.equals=function(e,t){return ze.equals(null==e?void 0:e.rect,null==t?void 0:t.rect)&&(null==e?void 0:e.zoom)==(null==t?void 0:t.zoom)}}(i=e.View||(e.View={}))}(ia||(ia={}));class na extends Ii{constructor(e=Pe("<div>")){super(e),this.map=new ia(e.get()[0]).setView([3200,3e3],0)}}class oa extends Ii{constructor(){super(),this.map=new ia(this.raw()).setView([3200,3e3],0),this.main_layer=(new Or).addTo(this.map),this.interaction_guard=(new Gr).setDefaultLayer(this.main_layer)}setInteraction(e){return this.interaction_guard.set(e),this}}function sa(e,t=0){let i=3735928559^t,n=1103547991^t;for(let t,o=0;o<e.length;o++)t=e.charCodeAt(o),i=Math.imul(i^t,2654435761),n=Math.imul(n^t,1597334677);return i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(i^i>>>13,3266489909),4294967296*(2097151&n)+(i>>>0)}var ra;!function(e){var t=_e.compose,i=_e.cleanedJSON;function n(e){return btoa(i(e))}e.exp=function(e=null,i=!1,o=!1){return t(e?(s=e.type,r=e.version,e=>({payload_type:"typed",type:s,version:r,value:e})):oe.identity,i||o?function(e=!0,t=!0){return i=>{let n={payload_type:"envelop",value:JSON.stringify(i)};return e&&(n.value=(0,tn.if)(_r(n.value)),n.compressed=!0),t&&(n.hash=sa(n.value)),n}}(i,o):oe.identity,n);var s,r},e.imp=function(e=null){const i=e=>"string"==typeof e?function(e){return["{","["].indexOf(e.charAt(0))>=0}(e)?JSON.parse(e):JSON.parse(atob(e)):e,n=e=>{if("envelop"==(null==e?void 0:e.payload_type)){let t=e;if(null!=t.hash&&sa(t.value)!=e.hash)throw new Error;return t.compressed?JSON.parse(vr((0,tn.Kp)(e.value),{to:"string"})):JSON.parse(e.value)}return e},o=t=>{if("typed"==(null==t?void 0:t.payload_type)){let i=t,n=i.version,o=i.value;for(;null==e?void 0:e.migrations;){let t=e.migrations.find((e=>e.from==n));if(!t)break;o=t.f(o),n=t.to}if(e&&i.type!=e.expected_type||n!=e.expected_version)throw new Error;return o}return t};return e=>{try{return t(i,n,o)(e)}catch(e){return console.error(e),null}}}}(ra||(ra={}));class aa{constructor(){this.lifetime_manager=new Mr,this._subBehaviours=[],this.started=ji(),this.stopped=ji(),this._started=!1,this._starting=!1}withSub(e){return this._subBehaviours.push(e),this._started&&e.start(),e}start(){return this._started||(this._started=!0,this._starting=!0,this.begin(),this._starting=!1,this._started&&this.started.trigger(null),this._subBehaviours.forEach((e=>e.start()))),this}stop(){this._subBehaviours.forEach((e=>e.stop())),this.lifetime_manager.kill(),this._started&&(this._started=!1,this.end(),this._starting||this.stopped.trigger(null))}isActive(){return this._started}onStop(e){return this.stopped.on(e),this}endLifetime(){this.stop()}}class la extends aa{constructor(){super(...arguments),this.behaviour=qi(null),this.content_stopped=ji()}begin(){this.behaviour.value()&&this.behaviour.value().start()}end(){this.behaviour.value()&&this.behaviour.value().stop()}get(){return this.behaviour.value()}set(e){return this.behaviour.value()&&(this.behaviour.value().isActive()&&this.behaviour.value().stop(),this.behaviour.set(null)),e&&(this.behaviour.set(e),e.stopped.on((()=>{this.behaviour.value()==e&&this.content_stopped.trigger(e)})),this.isActive()&&e.start()),this}}class ca{constructor(){this.app=null}static instance(){return ca._instance||(ca._instance=new ca),ca._instance}}ca._instance=null;const ua=ca;function pa(){return ca.instance()}var ha,da;!function(e){let t,i,n,o;!function(e){let t;!function(e){e.transform=function(e,t){return Object.assign(Object.assign({},xe.snap(xe.transform(e,t))),{level:e.level})}}(t=e.Offset||(e.Offset={}))}(t=e.EntityActionMovement||(e.EntityActionMovement={})),function(e){var t=mr.activate;let i,n;!function(e){e.isAnywhere=function(e){return"item"==e.type||"spellbook"==e.type},e.interactiveArea=function(e){var t;return null!==(t=e.interactive_area)&&void 0!==t?t:o.default_interactive_area(mr.toRect(e.clickable_area))}}(i=e.TeleportAccess||(e.TeleportAccess={})),function(e){e.combinePrioritized=function(...e){return e.reduce(((e,t)=>{var i,n,o,s;return{img:null!==(i=null==e?void 0:e.img)&&void 0!==i?i:null==t?void 0:t.img,menu_ticks:null!==(n=null==e?void 0:e.menu_ticks)&&void 0!==n?n:null==t?void 0:t.menu_ticks,animation_ticks:null!==(o=null==e?void 0:e.animation_ticks)&&void 0!==o?o:null==t?void 0:t.animation_ticks,code:null!==(s=null==e?void 0:e.code)&&void 0!==s?s:null==t?void 0:t.code}}),{})}}(n=e.TeleportProps||(e.TeleportProps={})),e.canBeAccessedAnywhere=function(e){return e.access.some(i.isAnywhere)},e.Spot=class{constructor(t,i,n){this.group=t,this.spot=i,this.access=n,this.customization=null,this.visual_access=null,this.visual_access=null!=n?n:this.group.access.find(e.TeleportAccess.isAnywhere),this.refresh()}refresh(){var e,t,i;this.customization=pa().app.settings.active_teleport_customization.value();const o=this.visual_access&&"item"==this.visual_access.type&&this.visual_access.can_be_in_pota?this.customization.pota_slots.find((e=>e.jewellry.group_id==this.group.id)):null;this.pota_slot=o?{img:{url:`pota_${o.pota.color}.png`},code_prefix:`${o.pota.slot},`}:null,this.props=n.combinePrioritized({img:null===(e=this.pota_slot)||void 0===e?void 0:e.img},null===(i=null===(t=this.access)||void 0===t?void 0:t.per_spot_props)||void 0===i?void 0:i[this.spot.id],this.visual_access,this.spot,this.group,{animation_ticks:0,menu_ticks:0,code:"",img:{url:"homeport.png"}})}hover(){return this.group.name&&this.spot.name?`${this.group.name} - ${this.spot.name}`:this.group.name||this.spot.name}image(){return this.props.img}code(){var e,t;let i=this.props.code;if("fairyring"==this.group.id){const e=pa().app.settings.active_teleport_customization.value().fairy_ring_favourites.indexOf(this.spot.id);e>=0&&(i=((e+1)%10).toString())}return(null!==(t=null===(e=this.pota_slot)||void 0===e?void 0:e.code_prefix)&&void 0!==t?t:"")+i}centerOfTarget(){return t(this.spot.target).center()}targetArea(){return this.spot.target}id(){return{group:this.group.id,spot:this.spot.id}}}}(i=e.TeleportGroup||(e.TeleportGroup={})),function(e){var t=mr.activate;e.findApplicable=function(e,i){return e.movement.find((e=>!e.valid_from||t(e.valid_from).query(i)))},e.interactiveArea=function(e,t){var i;return null!==(i=t.interactive_area)&&void 0!==i?i:o.defaultInteractiveArea(e)}}(n=e.EntityAction||(e.EntityAction={})),function(e){function t(e){const t=ze.extend(e,1);let i=mr.activate(mr.fromRect(t,!0));return i.set(ze.tl(t),!1),i.set(ze.tr(t),!1),i.set(ze.bl(t),!1),i.set(ze.br(t),!1),i.save(),i.parent}let i;e.default_interactive_area=t,e.defaultInteractiveArea=function(e){return t(ze.extend(e.clickable_area,-.5))},e.isLocal=function(e){return"door"==e.type||!e.actions.some((e=>e.movement.some((e=>!i.isLocal(e)))))},function(e){e.isLocal=function(e){return!(e.fixed_target&&!e.fixed_target.relative)}}(i=e.Movement||(e.Movement={}))}(o=e.EntityTransportation||(e.EntityTransportation={})),e.normalize=function(e){if("entity"==e.type)return e;const t=gr.toVector(e.direction),i=Te.move(e.position,t);return{type:"entity",source_loc:e.source_loc,entity:{kind:"static",name:e.name},clickable_area:ze.extend(ze.from(Te.move(e.position,xe.scale(.5,t))),.5),actions:[{cursor:"open",interactive_area:mr.fromRect(ze.from(e.position,i),!0),name:"Pass",movement:[{time:1,offset:Object.assign(Object.assign({},t),{level:0}),valid_from:{origin:e.position},orientation:"bymovement"},{time:1,offset:Object.assign(Object.assign({},gr.toVector(gr.invert(e.direction))),{level:0}),valid_from:{origin:i},orientation:"bymovement"}]}]}},e.bounds=function(e){switch(e.type){case"entity":return ze.lift(we.combine(e.clickable_area),e.clickable_area.level);case"door":return ze.from(e.position,Te.move(e.position,gr.toVector(e.direction)))}},e.position=function(e){switch(e.type){case"entity":return ze.center(e.clickable_area);case"door":return Te.move(e.position,xe.scale(.5,gr.toVector(e.direction)))}},e.name=function(e){switch(e.type){case"entity":return e.entity.name;case"door":return e.name}},e.transform=function(e,i){switch(e.type){case"door":return{type:"door",source_loc:e.source_loc,name:e.name,position:Te.transform(e.position,i),direction:gr.transform(e.direction,i.matrix)};case"entity":return{type:"entity",source_loc:e.source_loc,entity:e.entity,clickable_area:ze.transform(e.clickable_area,i),actions:e.actions.map((e=>({cursor:e.cursor,interactive_area:e.interactive_area?mr.transform(e.interactive_area,i):void 0,name:e.name,movement:e.movement.map((e=>({time:e.time,valid_from:e.valid_from?mr.transform(e.valid_from,i):void 0,offset:e.offset?t.Offset.transform(e.offset,i.matrix):void 0,fixed_target:e.fixed_target?e.fixed_target.relative?{target:mr.transform(mr.normalize(e.fixed_target.target),i),relative:!0}:e.fixed_target:void 0,orientation:e.orientation,forced_orientation:e.forced_orientation?e.forced_orientation.relative?{dir:gr.transform(e.forced_orientation.dir,i.matrix),relative:!0}:e.forced_orientation:void 0})))})))}}}}(ha||(ha={})),function(e){function t(e,t=[]){return{type:"inner",value:e,children:t}}function i(e){return{type:"leaf",value:e}}function n(e,t){let i=[e];for(let n of t){if("inner"!=e.type)break;e=e.children[n],i.push(e)}return i}e.init=function(e){return t(e,[])},e.inner=t,e.leaf=i,e.leafs=function(e){return e.map(i)},e.add=function(e,t){return e.children.push(t),t},e.index=function(e,t){return _e.index(n(e,t),-1)},e.map=function e(t,n){return"leaf"==t.type?i(n(t.value)):{type:"inner",value:t.value,children:t.children.map((t=>e(t,n)))}},e.forLeafs=function e(t,i){"leaf"==t.type?i(t.value):t.children.forEach((t=>e(t,i)))},e.fixIndex=function(e,t){let i=[],n=0,o=e;for(;;){if("inner"!=(null==o?void 0:o.type))return i;{let e=n<t.length?t[n]:0;i.push(e),o=o.children[e]}n++}},e.getPath=n}(da||(da={}));const ga=[{type:"teleports",id:"home",name:"Lodestone Network",img:{url:"homeport.png"},animation_ticks:7,spots:[{id:"alkharid",img:{url:"lode_alkharid.png",width:28},code:"A",name:"Al Kharid",target:{origin:{x:3297,y:3184,level:0}},facing:gr.south},{id:"anachronia",name:"Anachronia",img:{url:"lode_anachronia.png",height:28},code:"Alt+D",target:{origin:{x:5431,y:2338,level:0}},facing:gr.south},{id:"ardougne",img:{url:"lode_ardougne.png",height:28},code:"Alt+A",target:{origin:{x:2634,y:3348,level:0}},facing:gr.south,name:"Ardougne"},{id:"ashdale",name:"Ashdale",img:{url:"lode_ashdale.png",height:28},code:"Shift+A",target:{origin:{x:2474,y:2708,level:2}},facing:gr.south},{id:"banditcamp",img:{url:"lode_bandit.png",width:28},code:"Alt+B",target:{origin:{x:3214,y:2954,level:0}},facing:gr.south,name:"Bandit Camp"},{id:"burthorpe",img:{url:"lode_burthorpe.png",height:28},code:"B",target:{origin:{x:2899,y:3544,level:0}},facing:gr.south,name:"Burthorpe"},{id:"canifis",img:{url:"lode_canifis.png",height:28},code:"Alt+C",target:{origin:{x:3517,y:3515,level:0}},facing:gr.south,name:"Canifis"},{id:"catherby",img:{url:"lode_catherby.png",height:28},code:"C",target:{origin:{x:2811,y:3449,level:0}},facing:gr.south,name:"Catherby"},{id:"draynor",img:{url:"lode_draynor.png",height:28},code:"D",target:{origin:{x:3105,y:3298,level:0}},facing:gr.south,name:"Draynor"},{id:"eaglespeak",img:{url:"lode_eagles.png",height:28},code:"Alt+E",target:{origin:{x:2366,y:3479,level:0}},facing:gr.south,name:"Eagles` Peak"},{id:"edgeville",img:{url:"lode_edgeville.png",height:28},code:"E",target:{origin:{x:3067,y:3505,level:0}},facing:gr.south,name:"Edgeville"},{id:"falador",img:{url:"lode_falador.png",height:28},code:"F",target:{origin:{x:2967,y:3403,level:0}},facing:gr.south,name:"Falador"},{id:"fortforinthry",img:{url:"lode_fortforinthry.png",height:28},code:"Alt+W",target:{origin:{x:3298,y:3525,level:0}},facing:gr.south,name:"Fort Forinthry"},{id:"fremmenik",img:{url:"lode_fremennik.png",height:28},code:"Alt+F",target:{origin:{x:2712,y:3677,level:0}},facing:gr.south,name:"Fremennik Province"},{id:"karamja",img:{url:"lode_karamja.png",height:28},code:"K",target:{origin:{x:2761,y:3147,level:0}},facing:gr.south,name:"Karamja"},{id:"lumbridge",img:{url:"lode_lumbridge.png",height:28},code:"L",target:{origin:{x:3233,y:3221,level:0}},facing:gr.south,name:"Lumbridge"},{id:"lunarisle",img:{url:"lode_lunar.png",height:28},code:"Alt+L",target:{origin:{x:2085,y:3914,level:0}},facing:gr.south,name:"Lunar Isle"},{id:"menaphos",img:{url:"lode_menaphos.png",height:28},code:"M",target:{origin:{x:3216,y:2716,level:0}},facing:gr.south,name:"Menaphos"},{id:"ooglog",img:{url:"lode_ooglog.png",height:28},code:"O",target:{origin:{x:2532,y:2871,level:0}},facing:gr.south,name:"Oo´glog"},{id:"portsarim",img:{url:"lode_portsarim.png",height:28},code:"P",target:{origin:{x:3011,y:3215,level:0}},facing:gr.south,name:"Port Sarim"},{id:"prifddinas",img:{url:"lode_prifddinas.png",height:28},code:"Alt+P",target:{origin:{x:2208,y:3360,level:1}},facing:gr.south,name:"Prifddinas"},{id:"seersvillage",img:{url:"lode_seers.png",height:28},code:"S",target:{origin:{x:2689,y:3482,level:0}},facing:gr.south,name:"Seers´ Village"},{id:"taverley",img:{url:"lode_taverley.png",height:28},code:"T",target:{origin:{x:2878,y:3442,level:0}},facing:gr.south,name:"Taverley"},{id:"tirannwn",img:{url:"lode_tirannwn.png",height:28},code:"Alt+T",target:{origin:{x:2254,y:3149,level:0}},facing:gr.south,name:"Tirannwn"},{id:"varrock",img:{url:"lode_varrock.png",height:28},code:"V",target:{origin:{x:3214,y:3376,level:0}},facing:gr.south,name:"Varrock"},{id:"wilderness",img:{url:"lode_wilderness.png",height:28},code:"W",target:{origin:{x:3143,y:3635,level:0}},facing:gr.south,name:"Wilderness"},{id:"yanille",img:{url:"lode_yanille.png",height:28},code:"Y",target:{origin:{x:2529,y:3094,level:0}},facing:gr.south,name:"Yanille"},{id:"cityofum",img:{url:"lode_um.png",height:28},code:"U",target:{origin:{x:1084,y:1768,level:1}},facing:gr.east,name:"City of Um"}],access:[{id:"map",type:"spellbook",name:"Lodestone Network Map",menu_ticks:1},{id:"spellbook",type:"spellbook",name:"Any Spellbook",menu_ticks:0}]},{type:"teleports",id:"normalspellbook",name:"Normal Spellbook",menu_ticks:0,animation_ticks:3,spots:[{id:"camelot",target:{origin:{x:2755,y:3476,level:0},size:{x:5,y:5},data:"7n3vAQ=="},img:{url:"tele-cam.png"},name:"Camelot"},{id:"camelot-seers",target:{origin:{x:2704,y:3481,level:0},size:{x:5,y:5}},img:{url:"tele-cam-seers.png"},name:"Camelot (Seer's Village)"},{id:"varrock",target:{origin:{x:3210,y:3432,level:0},size:{x:5,y:5}},img:{url:"tele-var.png"},name:"Varrock"},{id:"varrock-ge",target:{origin:{x:3162,y:3462,level:0},size:{x:2,y:5}},icon_position_override:{x:3162,y:3462,level:0},img:{url:"tele-var-ge.png"},name:"Varrock (Grand Exchange)"},{id:"varrock-church",target:{origin:{x:3245,y:3478,level:0},size:{x:4,y:5}},img:{url:"tele-var-church.png"},name:"Varrock (Church)"},{id:"watchtower",target:{origin:{x:2547,y:3111,level:2},size:{x:4,y:4},data:"88w="},img:{url:"tele-watch.png"},name:"Watchtower"},{id:"watchtower-yanille",target:{origin:{x:2573,y:3087,level:0},size:{x:5,y:5}},img:{url:"tele-watch-center.png"},name:"Watchtower (Yanille)"},{id:"lumbridge",target:{origin:{x:3217,y:3246,level:0},size:{x:5,y:5},data:"/3/vAQ=="},img:{url:"tele-lum.png"},name:"Lumbridge"},{id:"falador",target:{origin:{x:2963,y:3376,level:0},size:{x:5,y:5}},img:{url:"tele-fal.png"},name:"Falador"},{id:"ardougne",target:{origin:{x:2659,y:3300,level:0},size:{x:5,y:5},data:"/v//AQ=="},img:{url:"tele-ard.png"},name:"Ardougne"},{id:"southfeldiphills",target:{origin:{x:2411,y:2845,level:0},size:{x:5,y:5},data:"nP//AQ=="},icon_position_override:{x:2411,y:2847,level:0},img:{url:"tele-mob.png"},name:"South Feldip Hills"},{id:"taverley",target:{origin:{x:2910,y:3421,level:0},size:{x:5,y:5}},img:{url:"tele-taverley.png"},name:"Taverley"},{id:"godwars",target:{origin:{x:2908,y:3712,level:0},size:{x:3,y:4}},img:{url:"tele-god.png"},name:"God Wars"},{id:"trollheim",target:{origin:{x:2880,y:3666,level:0},size:{x:5,y:5},data:"//v/AQ=="},img:{url:"tele-troll.png"},name:"Trollheim"},{id:"apeatoll",target:{origin:{x:2795,y:2797,level:1},size:{x:5,y:3}},img:{url:"tele-ape.png"},name:"Ape Atoll"},{id:"mazcab",target:{origin:{x:4314,y:817,level:0},size:{x:5,y:5}},img:{url:"tele-mazcab.png"},name:"Mazcab"},{id:"northwesternanachronia",target:{origin:{x:5314,y:2492,level:0},size:{x:5,y:5},data:"573PAQ=="},img:{url:"tele-northwesternanachronia.png"},name:"Western Anachronia"},{id:"easternanachronia",target:{origin:{x:5598,y:2329,level:0},size:{x:5,y:5}},img:{url:"tele-easternanachronia.png"},name:"Eastern Anachronia"},{id:"northlostgrove",target:{origin:{x:1402,y:5723,level:0},size:{x:5,y:5},data:"/3vvAQ=="},img:{url:"tele-northlostgrove.png"},name:"Lost Grove"}],access:[{id:"spellbook",type:"spellbook",name:"Normal Spellbook"}]},{type:"teleports",id:"ancientspellook",name:"Ancient Spellbook",img:{url:""},menu_ticks:0,animation_ticks:3,spots:[{id:"paddewwa",target:{origin:{x:3096,y:9880,level:0},size:{x:5,y:5}},img:{url:"tele-paddewwa.png",width:28,height:28},name:"Paddewwa"},{id:"senntisten",target:{origin:{x:3375,y:3400,level:0},size:{x:5,y:5}},img:{url:"tele-senntisten.png"},name:"Senntisten"},{id:"kharyll",target:{origin:{x:3499,y:3482,level:0},size:{x:5,y:4},data:"/38E"},img:{url:"tele-kharyrll.png"},name:"Kharyrll"},{id:"lassar",target:{origin:{x:3002,y:3468,level:0},size:{x:5,y:5}},img:{url:"tele-lassar.png"},name:"Lassar"},{id:"dareeyak",target:{origin:{x:2966,y:3694,level:0},size:{x:5,y:5},data:"///PAA=="},img:{url:"tele-dareeyak.png"},name:"Dareeyak"},{id:"carallaner",target:{origin:{x:3220,y:3664,level:0},size:{x:5,y:5},data:"zv9zAA=="},img:{url:"tele-carrallaner.png"},name:"Carrallanger"},{id:"annakarl",target:{origin:{x:3286,y:3884,level:0},size:{x:4,y:5},data:"f3cP"},img:{url:"tele-annakarl.png"},name:"Annakarl"},{id:"ghorrock",target:{origin:{x:2974,y:3870,level:0},size:{x:5,y:5}},img:{url:"tele-ghorrock.png"},name:"Ghorrock"}],access:[{id:"spellbook",type:"spellbook",name:"Ancient Spellbook"}]},{type:"teleports",id:"lunarspellbook",name:"Lunar Spellbook",menu_ticks:0,animation_ticks:3,spots:[{id:"moonclan",target:{origin:{x:2112,y:3913,level:0},size:{x:4,y:5},data:"//8H"},img:{url:"tele-moonclan.png"},name:"Moonclan"},{id:"ourania",target:{origin:{x:2465,y:3243,level:0},size:{x:5,y:5},data:"3v//AQ=="},img:{url:"tele-ourania.png"},name:"Ourania Altar"},{id:"southfalador",target:{origin:{x:3053,y:3308,level:0},size:{x:5,y:5},data:"+f9PAQ=="},img:{url:"tele-southfalador.png"},name:"South Falador"},{id:"waterbirth",target:{origin:{x:2544,y:3754,level:0},size:{x:5,y:5}},img:{url:"tele-waterbirth.png"},name:"Waterbirth"},{id:"barbarian",target:{origin:{x:2541,y:3567,level:0},size:{x:5,y:5}},img:{url:"tele-barbarian.png"},name:"Barbarian"},{id:"northardougne",target:{origin:{x:2663,y:3373,level:0},size:{x:4,y:5},data:"ZnYP"},img:{url:"tele-northardougne.png"},name:"North Ardougne"},{id:"khazard",target:{origin:{x:2634,y:3165,level:0},size:{x:5,y:5},data:"8P//AQ=="},img:{url:"tele-khazard.png"},name:"Khazard"},{id:"fishing",target:{origin:{x:2611,y:3381,level:0},size:{x:5,y:5}},img:{url:"tele-fishing.png"},name:"Fishing Guild"},{id:"catherby",target:{origin:{x:2788,y:3450,level:0},size:{x:5,y:5},data:"/v/vAQ=="},img:{url:"tele-catherby.png"},name:"Catherby"},{id:"iceplateu",target:{origin:{x:2973,y:3936,level:0},size:{x:4,y:5}},img:{url:"tele-iceplateau.png"},name:"Ice Plateau"},{id:"trollheim",target:{origin:{x:2815,y:3674,level:0},size:{x:5,y:5}},img:{url:"tele-trollheim.png"},name:"Trollheim Farm"},{id:"westernkharazi",target:{origin:{x:2801,y:2915,level:0},size:{x:5,y:5},data:"cf//AQ=="},img:{url:"tele-westernkharazi.png"},name:"Western Kharazi Jungle"},{id:"mountaincamp",target:{origin:{x:2783,y:3662,level:0},size:{x:5,y:5},data:"EL8NAQ=="},img:{url:"tele-mountaincamp.png"},name:"Mountain Camp"}],access:[{id:"spellbook",type:"spellbook",name:"Lunar Spellbook"}]},{type:"teleports",id:"greenteleport",name:"Green Teleports",spots:[{id:"monastery",target:{origin:{x:2604,y:3212,level:0},size:{x:5,y:11},data:"zjn3/yeEEA=="},img:{url:"monastery.png"},name:"Kandarin Monastery",menu_ticks:0,animation_ticks:5},{id:"wars",target:{origin:{x:3294,y:10127,level:0}},img:{url:"warsretreat.png"},facing:gr.north,name:"Wars Retreat",menu_ticks:0,animation_ticks:3},{id:"manorfarm",target:{origin:{x:2665,y:3369,level:0},size:{x:9,y:11},data:"+PDh64cPHj58+PDjBw=="},img:{url:"pof.png"},name:"Manor Farm",menu_ticks:0,animation_ticks:5},{id:"maxguild",target:{origin:{x:2276,y:3313,level:1}},facing:gr.south,img:{url:"max.png"},name:"Max guild",menu_ticks:0,animation_ticks:7},{id:"maxguild-garden",target:{origin:{x:2276,y:3327,level:1}},facing:gr.south,img:{url:"max.png"},name:"Max guild",menu_ticks:0,animation_ticks:7},{id:"skelettalhorror",target:{origin:{x:3362,y:3503,level:0}},img:{url:"skhorror.png"},name:"Skeletal Horror",menu_ticks:0,animation_ticks:3}],access:[{id:"spellbook",type:"spellbook",name:"Any Spellbook"}]},{type:"teleports",id:"houseteleports",name:"House Teleports",spots:[{id:"rimmington",target:{origin:{x:2953,y:3222,level:0},size:{x:4,y:5}},name:"Rimmington",code:"1"},{id:"taverley",target:{origin:{x:2882,y:3450,level:0},size:{x:5,y:5}},name:"Taverley",code:"2"},{id:"pollnivneach",target:{origin:{x:3338,y:3003,level:0},size:{x:5,y:4}},name:"Pollnivneach",code:"3"},{id:"relekka",target:{origin:{x:2668,y:3631,level:0},size:{x:5,y:4},data:"//8H"},name:"Rellekka",code:"4"},{id:"brimhaven",target:{origin:{x:2757,y:3176,level:0},size:{x:4,y:5}},name:"Brimhaven",code:"5"},{id:"yanille",target:{origin:{x:2542,y:3093,level:0},size:{x:5,y:4}},name:"Yanille",code:"6"},{id:"trollheim",target:{origin:{x:2889,y:3672,level:0},size:{x:5,y:5},data:"zv//AQ=="},name:"Trollheim",code:"7"},{id:"prifddinas",target:{origin:{x:2166,y:3333,level:1},size:{x:5,y:5},data:"cf//AQ=="},name:"Prifddinas",code:"8"},{id:"otot",target:{origin:{x:4193,y:919,level:0},size:{x:5,y:3}},name:"Otot (Mazcab)",code:"9"},{id:"menaphos",target:{origin:{x:3123,y:2633,level:0},size:{x:3,y:3},data:"lwA="},name:"Menaphos",code:"0,1"},{id:"anachronia",target:{origin:{x:5434,y:2374,level:0},size:{x:5,y:5},data:"5PyPAA=="},name:"Anachronia",code:"0,2"}],access:[{id:"spellbook",type:"spellbook",name:"Normal Spellbook",img:{url:"tele-house.png"},menu_ticks:0,animation_ticks:3},{id:"tablets",type:"item",name:{kind:"item",name:"House Teleport Tablet"},img:{url:"modhouse.png"},action_name:"Break",menu_ticks:0,animation_ticks:5}]},{type:"teleports",id:"teleportscrolls",name:"Teleport Scrolls",animation_ticks:5,spots:[{id:"grandexchange",target:{origin:{x:3159,y:3454,level:0},size:{x:4,y:5},data:"7u4D"},img:{url:"scroll-grandexchange.png"},name:"Grand Exchange",code:"1"},{id:"banditcamp",target:{origin:{x:3168,y:2980,level:0},size:{x:5,y:5}},img:{url:"scroll-banditcamp.png"},name:"Bandit Camp",code:"2"},{id:"clocktower",target:{origin:{x:2591,y:3250,level:0},size:{x:5,y:5},data:"/3/nAA=="},img:{url:"scroll-clocktower.png"},name:"Clocktower",code:"3"},{id:"gutanoth",target:{origin:{x:2521,y:3060,level:0},size:{x:5,y:5},data:"hPz/AQ=="},img:{url:"scroll-gutanoth.png"},name:"Gu'Tanoth",code:"4"},{id:"lighthouse",target:{origin:{x:2511,y:3626,level:0},size:{x:5,y:5},data:"8L8RAA=="},img:{url:"scroll-lighthouse.png"},name:"Lighthouse",code:"5"},{id:"fortforinthry",target:{origin:{x:3301,y:3548,level:0},size:{x:5,y:5},data:"UP//AQ=="},img:{url:"scroll-fortforinthry.png"},name:"Forintry Teleport",code:"6"},{id:"miscellania",target:{origin:{x:2511,y:3858,level:0},size:{x:5,y:5},data:"//8/AQ=="},img:{url:"scroll-miscellania.png"},name:"Miscellania",code:"7"},{id:"phoenixlair",target:{origin:{x:2291,y:3620,level:0},size:{x:5,y:5},data:"/v//AA=="},img:{url:"scroll-phoenixlair.png"},name:"Phoenix Lair",code:"8"},{id:"pollnivneach",target:{origin:{x:3357,y:2967,level:0},size:{x:5,y:5},data:"//+fAQ=="},img:{url:"scroll-pollnivneach.png"},name:"Pollnivneach",code:"9"},{id:"taibwowannai",target:{origin:{x:2802,y:3084,level:0},size:{x:5,y:5},data:"5/9/AA=="},img:{url:"scroll-taibwowannai.png"},name:"Tai Bwo Wannai",code:"0"}],access:[{id:"scroll",type:"item",name:{name:"Scroll",kind:"item"},action_name:"Teleport",menu_ticks:0},{id:"globetrotter",type:"item",name:{name:"Globetrotter arm guards",kind:"item"},action_name:"Teleport",menu_ticks:1}]},{type:"teleports",id:"teleportseed",name:"Teleport Seed",img:{url:"crystal.png"},menu_ticks:1,animation_ticks:3,spots:[{id:"lletya",target:{origin:{x:2328,y:3169,level:0},size:{x:5,y:5},data:"EP+PAQ=="},name:"Lletya",code:"1"},{id:"templeoflight",target:{origin:{x:1938,y:4639,level:0},size:{x:5,y:5}},name:"Temple of Light",code:"2"},{id:"amlodd",target:{origin:{x:2153,y:3381,level:1},size:{x:5,y:5}},name:"Amlodd",code:"3"},{id:"cadarn",target:{origin:{x:2259,y:3337,level:1},size:{x:5,y:5}},name:"Cadarn",code:"4"},{id:"crwys",target:{origin:{x:2259,y:3381,level:1},size:{x:5,y:5}},name:"Crwys",code:"5"},{id:"hefin",target:{origin:{x:2184,y:3409,level:1},size:{x:5,y:5}},name:"Hefin",code:"6"},{id:"iorwerth",target:{origin:{x:2183,y:3309,level:1},size:{x:5,y:5}},name:"Iorwerth",code:"7"},{id:"Ithell",target:{origin:{x:2153,y:3337,level:1},size:{x:5,y:5},data:"///vAQ=="},name:"Ithell",code:"8"},{id:"Meilyr",target:{origin:{x:2228,y:3409,level:1},size:{x:5,y:5}},name:"Meilyr",code:"9"},{id:"Trahaearn",target:{origin:{x:2229,y:3309,level:1},size:{x:5,y:5},data:"7///AA=="},name:"Trahaearn",code:"0"}],access:[{id:"attunedseed",type:"item",name:{name:"Attuned crystal teleport seed",kind:"item"},action_name:"Activate"}]},{type:"teleports",id:"menaphostablets",name:"Menaphos Tablets",img:{url:""},menu_ticks:0,animation_ticks:5,spots:[{id:"imperial",target:{origin:{x:3174,y:2727,level:0},size:{x:4,y:5}},img:{url:"imperialdistrict.gif"},icon_position_override:{x:3174,y:2731,level:0},name:"Imperial district",code:"1"},{id:"merchant",target:{origin:{x:3206,y:2781,level:0},size:{x:5,y:5},data:"///3AA=="},img:{url:"merchantdistrict.gif"},name:"Merchant district",code:"2"},{id:"port",target:{origin:{x:3184,y:2652,level:0},size:{x:5,y:5},data:"/v//AQ=="},img:{url:"portdistrict.gif"},name:"Port district",code:"3"},{id:"worker",target:{origin:{x:3154,y:2794,level:0},size:{x:5,y:5},data:"UP//AQ=="},img:{url:"workerdistrict.gif"},icon_position_override:{x:3154,y:2798,level:0},name:"Worker district",code:"4"},{id:"sophanem",target:{origin:{x:3287,y:2706,level:0},size:{x:5,y:4},data:"/38M"},img:{url:"sophanemdungeon.gif"},name:"Sophanem Slayer Dungeon",code:"5"},{id:"shiftingtombs",target:{origin:{x:2076,y:6950,level:0},size:{x:5,y:5},data:"/3/vAQ=="},icon_position_override:{x:2078,y:6954,level:0},img:{url:"shiftingtombs.webp"},name:"Menaphos shifting tombs",code:"6"}],access:[{id:"tablet",type:"item",name:{name:"Tablet",kind:"item"},action_name:"Break"}]},{type:"teleports",id:"spirittree",name:"Spirit Tree",img:{url:"spirittree.png"},animation_ticks:7,spots:[{id:"village",target:{origin:{x:2542,y:3169,level:0}},name:"Tree Gnome Village",code:"1"},{id:"stronghold",target:{origin:{x:2462,y:3444,level:0}},name:"Tree Gnome Stronghold",code:"2"},{id:"battlefield",target:{origin:{x:2557,y:3259,level:0}},name:"Battlefield of Khazard",code:"3"},{id:"grandexchange",target:{origin:{x:3187,y:3507,level:0}},name:"Grand Exchange",code:"4"},{id:"feldiphills",target:{origin:{x:2416,y:2851,level:0}},name:"South Feldip Hills",code:"5"},{id:"sarim",target:{origin:{x:3058,y:3257,level:0}},name:"Port Sarim",code:"6"},{id:"etceteria",target:{origin:{x:2613,y:3855,level:0}},name:"Etceteria",code:"7"},{id:"brimhaven",target:{origin:{x:2800,y:3203,level:0}},name:"Brimhaven",code:"8"},{id:"poisonwaste",target:{origin:{x:2338,y:3109,level:0}},name:"Poison Waste",code:"9"},{id:"prifddinas",target:{origin:{x:2275,y:3371,level:1}},name:"Prifddinas",code:"0"}],access:[{id:"spirittreererooter",type:"item",name:{kind:"item",name:"Spirit tree re-rooter"},action_name:"Teleport",menu_ticks:2}]},{type:"teleports",id:"fairyring",name:"Fairy Ring",img:{url:"fairyring.png"},animation_ticks:5,spots:[{id:"AIP",target:{origin:{x:2412,y:4434,level:0}},code:"",name:"Zanaris"},{id:"AIQ",target:{origin:{x:2996,y:3114,level:0}},code:"AIQ",name:"Asgarnia: Mudskipper Point"},{id:"AIR",target:{origin:{x:2700,y:3247,level:0}},code:"AIR",name:"Islands: South of Witchhaven"},{id:"AIS",target:{origin:{x:2030,y:5982,level:0}},code:"AIS",name:"Other realms: Naragi homeworld"},{id:"AJQ",target:{origin:{x:2735,y:5221,level:0}},code:"AJQ",name:"Dungeons: Dark cave south of Dorgesh-Kaan"},{id:"AJR",target:{origin:{x:2780,y:3613,level:0}},code:"AJR",name:"Kandarin: Slayer cave south-east of Relekka"},{id:"AJS",target:{origin:{x:2500,y:3896,level:0}},code:"AJS",name:"Islands: Penguins near Miscellania"},{id:"AKQ",target:{origin:{x:2319,y:3619,level:0}},code:"AKQ",name:"Piscatoris Hunter area"},{id:"AKS",target:{origin:{x:2571,y:2956,level:0}},code:"AKS",name:"Feldip Hills: Jungle Hunter area"},{id:"ALP",target:{origin:{x:2468,y:4189,level:0}},code:"ALP",name:"Feldip Hills: Near Gu´Tanoth"},{id:"ALQ",target:{origin:{x:3597,y:3495,level:0}},code:"ALQ",name:"Morytania: Haunted Woods east of Canifis"},{id:"ALR",target:{origin:{x:3059,y:4875,level:0}},code:"ALR",name:"Other realmms: Abyss"},{id:"ALS",target:{origin:{x:2644,y:3495,level:0}},code:"ALS",name:"Kandarin: McGrubor´s Wood"},{id:"BIP",target:{origin:{x:3410,y:3324,level:0}},code:"BIP",name:"Islands: Polypore Dungeon"},{id:"BIQ",target:{origin:{x:3251,y:3095,level:0}},code:"BIQ",name:"Kharidian Desert: Near Kalphite Hive"},{id:"BIR",target:{origin:{x:2455,y:4396,level:0}},code:"BIS",name:"Sparse Plane"},{id:"BIS",target:{origin:{x:2635,y:3266,level:0}},code:"BIS",name:"Kandarin: Ardougne Zoo unicorns"},{id:"BJP",target:{origin:{x:3347,y:3540,level:0}},code:"BJP",name:"Fort Forinthry"},{id:"BJQ",target:{origin:{x:1737,y:5342,level:0}},code:"BJQ",name:"Dungeons: Ancient Cavern"},{id:"BJR",target:{origin:{x:2650,y:4730,level:0}},code:"BJR",name:"Other realms: Realm of the fisher king"},{id:"BJS",target:{origin:{x:1359,y:5635,level:0}},code:"BJS",name:"The Lost Grove"},{id:"BKP",target:{origin:{x:2385,y:3035,level:0}},code:"BKP",name:"Feldip Hills: South of Castle Wars"},{id:"BKQ",target:{origin:{x:3041,y:4532,level:0}},code:"BKQ",name:"Other realms: Enchanted Valley"},{id:"BKR",target:{origin:{x:3469,y:3431,level:0}},code:"BKR",name:"Morytania: Mort Myre, south of Canifis"},{id:"BLP",target:{origin:{x:4622,y:5147,level:0}},code:"BLP",name:"Dungeons: TzHaar area"},{id:"BLR",target:{origin:{x:2740,y:3351,level:0}},code:"BLR",name:"Kandarin: Legends' Guild"},{id:"CIP",target:{origin:{x:2513,y:3884,level:0}},code:"CIP",name:"Islands: Miscellania"},{id:"CIQ",target:{origin:{x:2528,y:3127,level:0}},code:"CIQ",name:"Kandarin: North-west of Yanille"},{id:"CIS",target:{origin:{x:3419,y:4772,level:0}},code:"CIS",name:"Other realms: ScapeRune (Evil Bob´s island)"},{id:"CJR",target:{origin:{x:2705,y:3576,level:0}},code:"CJR",name:"Kandarin: Sinclair Mansion (east)"},{id:"CJS",target:{origin:{x:2901,y:2930,level:0}},code:"CJS",name:"Karamja: Kharazi Jungle"},{id:"CKP",target:{origin:{x:2075,y:4848,level:0}},code:"CKP",name:"Other realms: Cosmic entity´s plane"},{id:"CKQ",target:{origin:{x:3086,y:2704,level:0}},code:"CKQ",name:"Menaphos: Imperial District"},{id:"CKR",target:{origin:{x:2801,y:3003,level:0}},code:"CKR",name:"Karamja: South of Tai Bwo Wannai Village"},{id:"CKS",target:{origin:{x:3447,y:3470,level:0}},code:"CKS",name:"Morytania: Canifis"},{id:"CLP",target:{origin:{x:3082,y:3206,level:0}},code:"CLP",name:"Islands: South of Draynor Village"},{id:"CLS",target:{origin:{x:2682,y:3081,level:0}},code:"CLS",name:"Islands: Jungle spiders near Yanille"},{id:"CLR",target:{origin:{x:2735,y:2742,level:0}},code:"CLR",name:"Islands: Ape Atoll"},{id:"DIP",target:{origin:{x:3763,y:2930,level:0}},code:"DIP",name:"Islands: Mos Le´Harmless"},{id:"DIR",target:{origin:{x:3038,y:5348,level:0}},code:"DIR",name:"Other realms: Gorak`s Plane"},{id:"kethsi",target:{origin:{x:4026,y:5699,level:0}},code:"DIR AKS",name:"Kethsi"},{id:"DIS",target:{origin:{x:3092,y:3137,level:0}},code:"DIS",name:"Misthalin: Wizard´s Tower"},{id:"DJP",target:{origin:{x:2658,y:3230,level:0}},code:"DJP",name:"Kandarin: Tower of Life"},{id:"DJR",target:{origin:{x:2676,y:3587,level:0}},code:"DJR",name:"Kandarin: Sinclair Mansion (west)"},{id:"DJS",target:{origin:{x:2130,y:3369,level:0}},code:"DJS",name:"Tirannwn: Prifddinas (Clan Amlodd)"},{id:"DKP",target:{origin:{x:2900,y:3111,level:0}},code:"DKP",name:"Karamja: South of Musa Point"},{id:"DKQ",target:{origin:{x:4183,y:5726,level:0}},code:"DKQ",name:"Dungeons: Glacor Cave"},{id:"DKR",target:{origin:{x:3129,y:3496,level:0}},code:"DKR",name:"Misthalin: Edgeville"},{id:"DKS",target:{origin:{x:2744,y:3719,level:0}},code:"DKS",name:"Kandarin: Snowy Hunter area"},{id:"DLQ",target:{origin:{x:3423,y:3016,level:0}},code:"DLQ",name:"Kharidian Desert: North of Nardah"},{id:"DLR",target:{origin:{x:2213,y:3099,level:0}},code:"DLR",name:"Islands: Poison Waste south of Isafdar"},{id:"DLS",target:{origin:{x:3501,y:9821,level:3}},name:"Dungeons: Myreque Hideout under The Hollows",code:"DLS"},{id:"resistance",target:{origin:{x:2254,y:4426,level:0}},name:"Fairy Resistance HQ"},{id:"rift",target:{origin:{x:1626,y:4176,level:0}},code:"BIR DIP CLR ALP",name:"Ork´s Rift"},{id:"BLQ",target:{origin:{x:2229,y:4244,level:1}},name:"Yu´biusk",code:"BLQ"}],access:[{id:"portable_fairy_ring",type:"item",name:{kind:"item",name:"Portable Fairy Ring"},action_name:"Teleport",menu_ticks:2}]},{type:"teleports",id:"slayercape",name:"Slayer Cape",menu_ticks:1,animation_ticks:3,spots:[{id:"mandrith",target:{origin:{x:3050,y:3949,level:0},size:{x:5,y:5}},code:"1",name:"Mandrith"},{id:"laniakea",target:{origin:{x:5667,y:2136,level:0},size:{x:5,y:5},data:"///PAQ=="},code:"2",name:"Laniakea"},{id:"morvran",target:{origin:{x:2195,y:3327,level:1},size:{x:3,y:3},data:"TwA="},code:"3",name:"Morvran"},{id:"kuradal",target:{origin:{x:1738,y:5310,level:1},size:{x:5,y:5},data:"/v/nAA=="},code:"4",name:"Kuradal"},{id:"lapalok",target:{origin:{x:2868,y:2979,level:1},size:{x:3,y:5},data:"0jc="},code:"5",name:"Lapalok"},{id:"sumona",target:{origin:{x:3357,y:2991,level:0},size:{x:5,y:5},data:"5nxjAA=="},code:"6",name:"Sumona"},{id:"chealdar",target:{origin:{x:2443,y:4429,level:0},size:{x:5,y:5},data:"/H9CAA=="},code:"7",name:"Chealdar"},{id:"mazchna",target:{origin:{x:3506,y:3504,level:0},size:{x:5,y:5}},code:"8",name:"Mazchna"},{id:"raptor",target:{origin:{x:3290,y:3542,level:0},size:{x:5,y:5}},code:"9",name:"The Raptor"},{id:"vannaka",target:{origin:{x:3091,y:3476,level:0},size:{x:5,y:5},data:"3n/vAQ=="},code:"0,1",name:"Vannaka",menu_ticks:2},{id:"jacquelyn",target:{origin:{x:3219,y:3222,level:0},size:{x:5,y:5},data:"//8/AQ=="},code:"0,2",name:"Jacquelyn",menu_ticks:2},{id:"spria",target:{origin:{x:2888,y:3545,level:0},size:{x:5,y:5},data:"//8dAQ=="},code:"0,3",name:"Spria",menu_ticks:2}],access:[{id:"cape",type:"item",name:{name:"Slayer cape",kind:"item"},img:{url:"capeslay.png"},action_name:"Teleport"}]},{type:"teleports",id:"dungcape",name:"Dungeoneering Cape",animation_ticks:4,spots:[{id:"edgevilledungeon",target:{origin:{x:3130,y:9914,level:0},size:{x:5,y:4},data:"/z8H"},code:"1",name:"Edgeville Dungeon",menu_ticks:1},{id:"dwarvenmine",target:{origin:{x:3034,y:9769,level:0},size:{x:4,y:7},data:"4v/vDg=="},code:"2",name:"Dwarven mine",menu_ticks:1},{id:"hillgiants",target:{origin:{x:3101,y:9823,level:0},size:{x:7,y:7},data:"s9//////AQ=="},code:"3",name:"Hill giants",menu_ticks:1},{id:"karamjavolcano",target:{origin:{x:2842,y:9555,level:0},size:{x:4,y:6},data:"4v+b"},code:"4",name:"Karamja volcano",menu_ticks:1},{id:"daemonheimpeninsula",target:{origin:{x:3510,y:3663,level:0},size:{x:4,y:7}},code:"5",name:"Daemonheim Peninsula",menu_ticks:1},{id:"firegiants",target:{origin:{x:2575,y:9895,level:0},size:{x:7,y:4},data:"////Bw=="},code:"6",name:"Waterfall fire giants",menu_ticks:1},{id:"miningguild",target:{origin:{x:3019,y:9738,level:0},size:{x:7,y:4},data:"ZL7/Dw=="},code:"7",name:"Mining guild",menu_ticks:1},{id:"braindeath",target:{origin:{x:2123,y:5144,level:0},size:{x:5,y:4},data:"730O"},code:"8",name:"Braindeath Island",menu_ticks:1},{id:"hellhounds",target:{origin:{x:2854,y:9838,level:0},size:{x:4,y:7},data:"7v8/Aw=="},code:"9",name:"Taverley dungeon hellhounds",menu_ticks:1},{id:"bluedragons",target:{origin:{x:2909,y:9807,level:0},size:{x:7,y:4},data:"+7+PAw=="},code:"0,1",name:"Taverley dungeon blue dragons",menu_ticks:2},{id:"varrocksewers",target:{origin:{x:3162,y:9878,level:0},size:{x:6,y:4},data:"/u/7"},code:"0,2",name:"Varrock sewers",menu_ticks:2},{id:"dragontooth",target:{origin:{x:3812,y:3528,level:0}},code:"0,3",name:"Dragontooth island",menu_ticks:2},{id:"chaostunnels",target:{origin:{x:3157,y:5521,level:0},size:{x:7,y:4},data:"vP//Dw=="},code:"0,4",name:"Chaos Tunnels",menu_ticks:2},{id:"alkharidmine",target:{origin:{x:3298,y:3304,level:0},size:{x:4,y:7},data:"7v//Dw=="},code:"0,5",name:"Al Kharid mine",menu_ticks:2},{id:"metaldragons",target:{origin:{x:2697,y:9439,level:0},size:{x:4,y:7}},code:"0,6",name:"Brimhaven metal dragons",menu_ticks:2},{id:"polypore",target:{origin:{x:4658,y:5488,level:3},size:{x:4,y:5}},code:"0,7",name:"Polypore dungeon",menu_ticks:2},{id:"frostdragons",target:{origin:{x:3032,y:9596,level:0},size:{x:3,y:4}},code:"0,8",name:"Frost dragons",menu_ticks:2},{id:"kalgeriondemons",target:{origin:{x:3398,y:3662,level:0},size:{x:4,y:5},data:"MfYB"},code:"0,9",name:"Daemonheim demons",menu_ticks:2},{id:"gorajohoardstalker",target:{origin:{x:2231,y:3419,level:1},size:{x:6,y:6},data:"3///jwM="},code:"0,0,1",name:"Gorajo hoardstalker",menu_ticks:3},{id:"slayertower",target:{origin:{x:3431,y:3528,level:0},size:{x:7,y:5},data:"///vEwA="},code:"0,0,2",name:"Slayer tower dungeon",menu_ticks:3},{id:"edimmu",target:{origin:{x:2231,y:3393,level:1},size:{x:7,y:7},data:"j4fDj8fhAA=="},code:"0,0,3",name:"Edimmu dungeon",menu_ticks:3}],access:[{id:"cape",type:"item",name:{name:"Dungeoneering cape",kind:"item"},img:{url:"capedung.png"},action_name:"Teleport"}]},{type:"teleports",id:"questcape",name:"Quest Cape",menu_ticks:1,animation_ticks:3,spots:[{id:"guthixtemple",target:{origin:{x:2538,y:5771,level:0},size:{x:5,y:5}},code:"1",name:"Ancient Guthix Temple"},{id:"behindthescenes",target:{origin:{x:1181,y:5394,level:1},size:{x:5,y:5},data:"//8/AQ=="},code:"2",name:"Behind the scenes"},{id:"championsguild",target:{origin:{x:3188,y:3359,level:0},size:{x:4,y:4},data:"d+8="},code:"3",name:"Champion's Guild"},{id:"emptythroneroom",target:{origin:{x:2825,y:12626,level:2},size:{x:5,y:5},data:"4f9zAA=="},code:"4",name:"The empty throne room"},{id:"glacorcavern",target:{origin:{x:4194,y:5750,level:0},size:{x:5,y:5}},code:"5",name:"Glacor cavern"},{id:"heroesguild",target:{origin:{x:2918,y:9892,level:0},size:{x:5,y:5},data:"xvszAA=="},code:"6",name:"Heroes's Guild - Fountain of Heroes"},{id:"legensguild",target:{origin:{x:2726,y:3346,level:0},size:{x:5,y:4}},icon_position_override:{x:2730,y:3349,level:0},code:"7",name:"Legends' Guild"},{id:"tearsofguthix",target:{origin:{x:3249,y:9515,level:2},size:{x:4,y:5},data:"9/8P"},code:"8",name:"Tears of Guthix"},{id:"museum",target:{origin:{x:3252,y:3446,level:0},size:{x:5,y:5},data:"nr/fAQ=="},code:"9",name:"Varrock Museum"},{id:"worldgate",target:{origin:{x:2365,y:3358,level:0},size:{x:5,y:5},data:"7v//AQ=="},code:"0",name:"The World Gate"}],access:[{id:"cape",type:"item",name:{name:"Quest cape",kind:"item"},img:{url:"capequest.png"},action_name:"Teleport"}]},{type:"teleports",id:"desertamulet",name:"Desert Amulet",menu_ticks:2,animation_ticks:6,spots:[{id:"nardah",target:{origin:{x:3427,y:2912,level:0},size:{x:11,y:11},data:"4z////3vf///////+Mc/AA=="},code:"1",name:"Nardah"},{id:"uzer",target:{origin:{x:3475,y:3093,level:0},size:{x:10,y:12},data:"wO//////////////////"},code:"2",name:"Uzer"}],access:[{id:"amulet",type:"item",name:{name:"Desert amulet",kind:"item"},img:{url:"desertamulet.png"},action_name:"Teleport"}]},{type:"teleports",id:"piratebook",name:"Big Book o´ Piracy",img:{url:"bookopiracy.gif"},menu_ticks:1,animation_ticks:13,spots:[{id:"mosleharmless",target:{origin:{x:3684,y:2958,level:0}},code:"1",name:"Mos Le'Harmless"},{id:"braindeath",target:{origin:{x:2162,y:5114,level:1}},code:"2",name:"Braindeath Island"},{id:"dragontooth",target:{origin:{x:3792,y:3559,level:0}},code:"3",name:"Dragontooth Isle"},{id:"harmony",target:{origin:{x:3797,y:2836,level:0}},code:"4",name:"Harmony Island"}],access:[{id:"book",type:"item",name:{name:"Big Book o´ Piracy",kind:"item"},action_name:"Teleport"}]},{type:"teleports",id:"amuletofglory",name:"Amulet of Glory",img:{url:"jewellry_amuletofglory.png"},menu_ticks:2,animation_ticks:4,spots:[{id:"edgeville",target:{origin:{x:3087,y:3496,level:0}},code:"1",name:"Edgeville"},{id:"karamja",target:{origin:{x:2918,y:3176,level:0}},code:"2",name:"Karamja"},{id:"draynor",target:{origin:{x:3080,y:3250,level:0}},code:"3",name:"Draynor"},{id:"alkharid",target:{origin:{x:3305,y:3123,level:0}},code:"4",name:"Al Kharid"}],access:[{id:"necklace",type:"item",name:{name:"Amulet of glory",kind:"item"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"combatbracelet",name:"Combat bracelet",menu_ticks:2,animation_ticks:4,spots:[{id:"warriors",target:{origin:{x:2880,y:3542,level:0}},code:"1",name:"Warriors' Guild"},{id:"champions",target:{origin:{x:3191,y:3365,level:0}},code:"2",name:"Champions' Guild"},{id:"monastery",target:{origin:{x:3052,y:3488,level:0}},code:"3",name:"Edgeville Monastery"},{id:"ranging",target:{origin:{x:2655,y:3441,level:0}},code:"4",name:"Ranging Guild"}],access:[{id:"ring",type:"item",name:{name:"Combat bracelet",kind:"item"},img:{url:"jewellry_combatbracelet.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"digsitependant",name:"Dig Site pendant",menu_ticks:2,animation_ticks:4,spots:[{id:"digsite",target:{origin:{x:3358,y:3396,level:0}},code:"1",name:"Digsite"},{id:"senntisten",target:{origin:{x:3378,y:3444,level:0}},code:"2",name:"Senntisten"},{id:"exam",target:{origin:{x:3362,y:3345,level:0}},code:"3",name:"Exam Centre"}],access:[{id:"ring",type:"item",name:{name:"Dig Site pendant",kind:"item"},img:{url:"jewellry_digsitependant.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"enlightenedamulet",name:"Enlightened amulet",menu_ticks:2,animation_ticks:3,spots:[{id:"nexus",target:{origin:{x:3215,y:3180,level:0},size:{x:5,y:5},data:"//+/AQ=="},code:"1",name:"Nexus"},{id:"graveyard",target:{origin:{x:3231,y:3655,level:0},size:{x:4,y:5},data:"f3cP"},code:"2",name:"Graveyard of Shadows"},{id:"banditcamp",target:{origin:{x:3169,y:2994,level:0},size:{x:5,y:5}},code:"3",name:"Bandit camp"}],access:[{id:"ring",type:"item",name:{name:"Enlightened amulet",kind:"item"},img:{url:"jewellry_enlightenedamulet.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"gamesnecklace",name:"Games necklace",img:{url:"jewellry_gamesnecklace.png"},menu_ticks:2,animation_ticks:4,spots:[{id:"trollinvasion",target:{origin:{x:2874,y:3567,level:0}},code:"1",name:"Troll invasion"},{id:"barbarianoutpost",target:{origin:{x:2520,y:3571,level:0}},code:"2",name:"Barbarian Outpost"},{id:"gamersgrotto",target:{origin:{x:2967,y:9678,level:0}},code:"3",name:"Gamer's grotto"},{id:"agoroth",target:{origin:{x:3860,y:6827,level:0}},code:"4",name:"Agoroth"},{id:"corporealbeast",target:{origin:{x:2885,y:4372,level:2}},code:"5",name:"Corporeal Beast"},{id:"burghderott",target:{origin:{x:3487,y:3237,level:0}},code:"6",name:"Burgh De Rott"},{id:"tearsofguthix",target:{origin:{x:3250,y:9517,level:2}},code:"7",name:"Tears of Guthix"}],access:[{id:"necklace",type:"item",name:{name:"Games necklace",kind:"item"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"ringofduelling",name:"Ring of duelling",img:{url:"jewellry_duelring.png"},menu_ticks:2,animation_ticks:4,spots:[{id:"hetsoasis",target:{origin:{x:3313,y:3235,level:0},size:{x:5,y:5},data:"+/v/AQ=="},code:"1",name:"Het's oasis"},{id:"castlewars",target:{origin:{x:2442,y:3088,level:0},size:{x:5,y:5},data:"7/33AA=="},code:"2",name:"Castle wars"},{id:"warforge",target:{origin:{x:2411,y:2845,level:0},size:{x:5,y:5},data:"nP//AQ=="},icon_position_override:{x:2415,y:2847,level:0},code:"3",name:"The Warforge"},{id:"fistofguthix",name:"Fist of Guthix",target:{origin:{x:1690,y:5598,level:0},size:{x:5,y:5}},code:"4"}],access:[{id:"ring",type:"item",name:{name:"Ring of duelling",kind:"item"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"ringofrespawn",name:"Ring of respawn",menu_ticks:2,animation_ticks:3,spots:[{id:"lumbridge",target:{origin:{x:3219,y:3217,level:0},size:{x:5,y:5},data:"7X/GAA=="},code:"1",name:"Lumbridge"},{id:"falador",target:{origin:{x:2969,y:3337,level:0},size:{x:5,y:4},data:"/3sP"},code:"2",name:"Falador"},{id:"camelot",target:{origin:{x:2756,y:3478,level:0},size:{x:5,y:5},data:"/39jAA=="},code:"3",name:"Camelot"},{id:"soulwars",target:{origin:{x:1888,y:3176,level:0},size:{x:5,y:4},data:"/38M"},code:"4",name:"Soul Wars"},{id:"burthorpe",target:{origin:{x:2887,y:3535,level:0},size:{x:3,y:4},data:"/g8="},code:"5",name:"Burthorpe"}],access:[{id:"ring",type:"item",name:{name:"Ring of respawn",kind:"item"},img:{url:"jewellry_ringofrespawn.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"ringofslaying",name:"Ring of slaying",menu_ticks:2,animation_ticks:4,spots:[{id:"sumona",target:{origin:{x:3359,y:2991,level:0},size:{x:4,y:5},data:"zM8M"},code:"1",name:"Sumona"},{id:"slayertower",target:{origin:{x:3418,y:3522,level:0},size:{x:4,y:4},data:"78Y="},code:"2",name:"Slayer Tower"},{id:"slayerdungeon",target:{origin:{x:2788,y:3613,level:0},size:{x:5,y:5}},code:"3",name:"Fremennik Slayer Dungeon"},{id:"tarnslair",target:{origin:{x:3183,y:4599,level:0},size:{x:5,y:3},data:"hHw="},code:"4",name:"Tarn's Lair"}],access:[{id:"ring",type:"item",name:{name:"Ring of slaying",kind:"item"},img:{url:"jewellry_ringofslaying.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"ringofwealth",name:"Ring of Wealth",menu_ticks:2,animation_ticks:4,spots:[{id:"miscellania",target:{origin:{x:2505,y:3858,level:1},size:{x:5,y:5}},code:"1",name:"Miscellania"},{id:"grandexchange",target:{origin:{x:3162,y:3462,level:0},size:{x:2,y:5}},code:"2",name:"Grand Exchange"}],access:[{id:"ring",type:"item",name:{name:"Ring of Wealth",kind:"item"},img:{url:"jewellry_ringofwealth.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"luckofthedwarves",name:"Luck of the Dwarves",menu_ticks:1,animation_ticks:4,spots:[{id:"keldagrim",target:{origin:{x:2856,y:10197,level:0},size:{x:5,y:5},data:"7v3nAA=="},code:"3",name:"Keldagrim"},{id:"outpost",target:{origin:{x:2550,y:3473,level:0},size:{x:5,y:5},data:"//+/AQ=="},code:"4",name:"Dwarven Outpost"}],access:[{id:"ring",type:"item",name:{name:"Luck of the Dwarves",kind:"item"},img:{url:"luck_of_the_dwarves.png"},action_name:"Rub"}]},{type:"teleports",id:"hazelmeressignetring",name:"Hazelmere's signet ring",menu_ticks:0,animation_ticks:4,spots:[{id:"hazelmere",target:{origin:{x:2422,y:3394,level:0},size:{x:5,y:5},data:"+v//AQ=="},code:"4",name:"Hazelmere"}],access:[{id:"ring",type:"item",name:{name:"Hazelmere's signet ring",kind:"item"},img:{url:"Hazelmeres_signet_ring.webp"},action_name:"Rub"}]},{type:"teleports",id:"skillsnecklace",name:"Skills necklace",menu_ticks:2,animation_ticks:4,spots:[{id:"fishing",target:{origin:{x:2615,y:3385,level:0}},code:"1",name:"Fishing Guild"},{id:"mining",target:{origin:{x:3016,y:3338,level:0}},code:"2",name:"Mining Guild"},{id:"crafting",target:{origin:{x:2935,y:3294,level:0}},code:"3",name:"Crafting Guild"},{id:"cooking",target:{origin:{x:3143,y:3442,level:0}},code:"4",name:"Cooking Guild"},{id:"invention",target:{origin:{x:2997,y:3437,level:0}},code:"5",name:"Invention guild"},{id:"farming",target:{origin:{x:2646,y:3355,level:0}},code:"6",name:"Farming Guild"},{id:"runecrafting",target:{origin:{x:3102,y:3152,level:3}},code:"7",name:"Runecrafting Guild"}],access:[{id:"ring",type:"item",name:{name:"Skills necklace",kind:"item"},img:{url:"jewellry_skillsnecklace.png"},action_name:"Rub",can_be_in_pota:!0}]},{type:"teleports",id:"travellersnecklace",name:"Traveller's necklace",menu_ticks:2,animation_ticks:3,spots:[{id:"wizardstower",target:{origin:{x:3101,y:3178,level:0},size:{x:5,y:5},data:"///3AA=="},code:"1",name:"Wizard's Tower"},{id:"outpost",target:{origin:{x:2445,y:3343,level:0},size:{x:5,y:5}},code:"2",name:"The Outpost"},{id:"deserteagle",target:{origin:{x:3422,y:3138,level:0},size:{x:5,y:5},data:"//8fAQ=="},code:"3",name:"Desert Eagle's Eyrie"}],access:[{id:"ring",type:"item",name:{name:"Traveller's necklace",kind:"item"},img:{url:"jewellry_travellersnecklace.png"},action_name:"Rub",can_be_in_pota:!0}]},{id:"davesspellbook",type:"teleports",name:"Dave's spellbook",img:{url:"davebook.png"},spots:[{id:"watchtower",target:{origin:{x:2443,y:3180,level:0}},code:"1",name:"Watchtower"},{id:"camelot",target:{origin:{x:2794,y:3418,level:0}},code:"2",name:"Camelot"},{id:"falador",target:{origin:{x:3006,y:3319,level:0}},code:"3",name:"Falador"},{id:"ardougne",target:{origin:{x:2538,y:3306,level:0}},code:"4",name:"Ardougne"},{id:"lumbridge",target:{origin:{x:3168,y:3199,level:0}},code:"5",name:"Lumbridge"},{id:"varrock",target:{origin:{x:3254,y:3449,level:0}},code:"6",name:"Varrock"}],access:[{img:{url:"davebook.png"},id:"spellbook",type:"item",name:{kind:"item",name:"Dave's spellbook"},action_name:"Teleport",menu_ticks:2,animation_ticks:3}]},{type:"teleports",id:"drakansmedallion",name:"Drakan's medallion",img:{url:"drakmed.gif"},menu_ticks:1,animation_ticks:5,spots:[{id:"barrows",target:{origin:{x:3561,y:3311,level:0},size:{x:9,y:9},data:"EXb8+fMfPnz48AE="},code:"1",name:"Barrows"},{id:"burghderott",target:{origin:{x:3492,y:3197,level:0},size:{x:9,y:7},data:"f/78/+9/PnA="},code:"2",name:"Burgh de Rott"},{id:"meiyerditch",target:{origin:{x:3626,y:9617,level:0},size:{x:3,y:8},data:"3rbt"},code:"3",name:"Meiyerditch"},{id:"darkmeyer",target:{origin:{x:3623,y:3364,level:0},size:{x:9,y:2}},code:"4",name:"Darkmeyer"},{id:"laboratories",target:{origin:{x:3629,y:9691,level:0},size:{x:9,y:8},data:"wtjx4+//zx8Q"},code:"5",name:"Meiyerditch Laboratories"}],access:[{id:"medallion",type:"item",name:{kind:"item",name:"Drakan's medallion"},action_name:"Teleport"}]},{type:"teleports",id:"arcsailing",name:"",img:{url:"sail.png"},menu_ticks:1,animation_ticks:1,spots:[{id:"portsarim",target:{origin:{x:3052,y:3246,level:0}},name:"Port Sarim"},{id:"tualeit",target:{origin:{x:1761,y:12010,level:0}},name:"Tua Leit Docks"},{id:"whalesmaw",target:{origin:{x:2011,y:11782,level:0}},name:"Whale's Maw Docks"},{id:"waiko",target:{origin:{x:1810,y:11652,level:0}},name:"Waiko Docks"},{id:"turtleislands",target:{origin:{x:2242,y:11424,level:0}},name:"Turtle Islands Docks"},{id:"aminishi",target:{origin:{x:2062,y:11271,level:0}},name:"Aminishi Docks"},{id:"cyclosis",target:{origin:{x:2256,y:11180,level:0}},name:"Cyclosis Docks"},{id:"goshima",target:{origin:{x:2453,y:11591,level:0}},name:"Goshima Docks"},{id:"uncharted",target:{origin:{x:1203,y:7374,level:0}},name:"Uncharted Isle"}],access:[{type:"entity",id:"port sarim",name:{kind:"npc",name:"Quartermaster Gully (Port Sarim)"},action_name:"Travel",clickable_area:{origin:{x:3054,y:3247,level:0}}},{type:"entity",id:"menaphos",name:{kind:"npc",name:"Quartermaster Gully (Menaphos)"},action_name:"Travel",clickable_area:{origin:{x:3231,y:2664,level:0}}},{type:"entity",id:"tuaeileit",name:{kind:"npc",name:"Quartermaster Gully (Tuaei Leit)"},action_name:"Travel",clickable_area:{origin:{x:1760,y:12010,level:0}}},{type:"entity",id:"whalesmaw",name:{kind:"npc",name:"Quartermaster Gully (Whale's Maw)"},action_name:"Travel",clickable_area:{origin:{x:2012,y:11781,level:0}}},{type:"entity",id:"Waiko",name:{kind:"npc",name:"Quartermaster Gully (Waiko)"},action_name:"Travel",clickable_area:{origin:{x:1809,y:11652,level:0}}},{type:"entity",id:"Turtle Islands",name:{kind:"npc",name:"Quartermaster Gully (Turtle Islands)"},action_name:"Travel",clickable_area:{origin:{x:2245,y:11423,level:0}}},{type:"entity",id:"Aminishi",name:{kind:"npc",name:"Quartermaster Gully (Aminishi)"},action_name:"Travel",clickable_area:{origin:{x:2061,y:11270,level:0}}},{type:"entity",id:"Cyclosis",name:{kind:"npc",name:"Quartermaster Gully (Cyclosis)"},action_name:"Travel",clickable_area:{origin:{x:2251,y:11182,level:0}}},{type:"entity",id:"Goshima",name:{kind:"npc",name:"Quartermaster Gully (Goshima)"},action_name:"Travel",clickable_area:{origin:{x:2448,y:11593,level:0}}}]},{type:"teleports",id:"arctabs",name:"Arc Journal",img:{url:"arcjournal.png"},menu_ticks:1,animation_ticks:3,spots:[{id:"sarim",target:{origin:{x:3050,y:3245,level:0},size:{x:4,y:4},data:"/64="},name:"Port Sarim",code:"1"},{id:"waiko",target:{origin:{x:1820,y:11613,level:0},size:{x:5,y:5}},name:"Waiko",code:"2"},{id:"whalesmaw",target:{origin:{x:2058,y:11797,level:0},size:{x:5,y:4},data:"778H"},name:"Whale's Maw",code:"3"},{id:"aminishi",target:{origin:{x:2085,y:11273,level:0},size:{x:5,y:5},data:"//83AA=="},name:"Aminishi",code:"4"},{id:"cyclosis",target:{origin:{x:2314,y:11222,level:0},size:{x:5,y:5}},name:"Cyclosis",code:"5"},{id:"tuaileit",target:{origin:{x:1797,y:11959,level:0},size:{x:5,y:5}},name:"Tuai Leit",code:"6"},{id:"turtleislands",target:{origin:{x:2277,y:11501,level:0},size:{x:3,y:5},data:"/j8="},name:"Turtle Islands",code:"7"},{id:"goshima",target:{origin:{x:2459,y:11546,level:0},size:{x:4,y:2},data:"Lw=="},name:"Goshima",code:"8"}],access:[{id:"journal",type:"item",name:{name:"Arc journal",kind:"item"},action_name:"Teleport"}]},{type:"teleports",id:"quiver",name:"Tirannwn quiver",menu_ticks:1,animation_ticks:5,spots:[{id:"lletya",target:{origin:{x:2344,y:3169,level:0},size:{x:5,y:5},data:"5fx/AA=="},name:"Lletya",code:"1"},{id:"islwyn",target:{origin:{x:2174,y:3349,level:1},size:{x:4,y:5},data:"xP8D"},name:"Islwyn",code:"2"},{id:"tyras",target:{origin:{x:2184,y:3144,level:0},size:{x:5,y:5},data:"5P3/AQ=="},name:"Tyras Camp",code:"3"},{id:"poisonwaste",target:{origin:{x:1987,y:4172,level:0},size:{x:5,y:4}},name:"Poison Waste",code:"4"},{id:"deathaltar",target:{origin:{x:1858,y:4637,level:0},size:{x:2,y:5}},name:"Death Altar",code:"5"},{id:"elfcamp",target:{origin:{x:2201,y:3252,level:0},size:{x:4,y:5},data:"7+4O"},name:"Elf Camp",code:"6"},{id:"mushroompatch",target:{origin:{x:2225,y:3132,level:0},size:{x:5,y:5},data:"+P/3AA=="},name:"Mushroom Patch",code:"7"},{id:"harmonypillars",target:{origin:{x:2217,y:3395,level:1},size:{x:5,y:5}},name:"Harmony Pillars",code:"8"}],access:[{id:"quiver",type:"item",img:{url:"quiver.png"},name:{name:"Tirannwn quiver",kind:"item"},action_name:"Teleport"}]},{type:"teleports",id:"sceptreofthegods",name:"Sceptre of the gods",menu_ticks:1,animation_ticks:3,spots:[{id:"pyramidpain",target:{origin:{x:1942,y:4498,level:0}},name:"Pyramid Plunder",code:"1"},{id:"agility",target:{origin:{x:3341,y:2827,level:0}},name:"Agility Pyramid",code:"2"},{id:"ancient",target:{origin:{x:3232,y:2897,level:0}},name:"Ancient Pyramid",code:"3"},{id:"palace",target:{origin:{x:3175,y:2729,level:0}},name:"Golden Palace",code:"4"}],access:[{id:"sotg",type:"item",name:{name:"Sceptre of the gods",kind:"item"},img:{url:"sotg.png"},action_name:"Teleport",menu_ticks:1}]},{type:"teleports",id:"gliders",name:"Gnome gliders",img:{url:"glider.png"},menu_ticks:2,animation_ticks:6,spots:[{id:"grandtree",target:{origin:{x:2465,y:3501,level:3}},name:"Ta Quir Priw",code:"1"},{id:"whitewolfmountain",target:{origin:{x:2850,y:3494,level:1}},name:"Sindarpos",code:"2"},{id:"digside",target:{origin:{x:3319,y:3438,level:0}},name:"Lemanto Andra",code:"3"},{id:"alkharid",target:{origin:{x:3284,y:3211,level:0}},name:"Kar-Hewo",code:"4"},{id:"karamja",target:{origin:{x:2971,y:2969,level:0}},name:"Gandius",code:"5"},{id:"feldiphills",target:{origin:{x:2549,y:2971,level:0}},name:"Lemantolly Undri",code:"6"},{id:"treegnomevillage",target:{origin:{x:2496,y:3191,level:0}},name:"Priw Gnomo Andralo",code:"7"},{id:"prifddinas",target:{origin:{x:2208,y:3445,level:1}},name:"Dylandra",code:"8"},{id:"tualeit",target:{origin:{x:1772,y:11920,level:0}},name:"Kal-Undri",code:"9"}],access:[{id:"grandtree",type:"entity",clickable_area:{origin:{x:2464,y:3502,level:3}},name:{kind:"npc",name:"Captain Errdo"},action_name:"Glider"},{id:"whitewolfmountain",type:"entity",clickable_area:{origin:{x:2850,y:3493,level:1}},name:{kind:"npc",name:"Captain Bleemadge"},action_name:"Glider"},{id:"alkharid",type:"entity",clickable_area:{origin:{x:3283,y:3212,level:0}},name:{kind:"npc",name:"Captain Dalbur"},action_name:"Glider"},{id:"karamja",type:"entity",clickable_area:{origin:{x:2970,y:2973,level:0}},name:{kind:"npc",name:"Captain Klemfoodle"},action_name:"Glider"},{id:"feldip",type:"entity",clickable_area:{origin:{x:2545,y:2972,level:0}},name:{kind:"npc",name:"Gnormadium Avlafrim"},action_name:"Glider"},{id:"gnomevillage",type:"entity",clickable_area:{origin:{x:2496,y:3190,level:0}},name:{kind:"npc",name:"Captain Belmondo"},action_name:"Glider"},{id:"prifddinas",type:"entity",clickable_area:{origin:{x:2207,y:3452,level:1}},name:{kind:"npc",name:"Captain Muggin"},action_name:"Glider"},{id:"tuaeileit",type:"entity",clickable_area:{origin:{x:1773,y:11919,level:0}},name:{kind:"npc",name:"Azalea Oakhart"},action_name:"Glider"}]},{type:"teleports",id:"wickedhood",name:"Wicked hood",menu_ticks:2,animation_ticks:3,spots:[{id:"guild",target:{origin:{x:3109,y:3156,level:3}},name:"Runecrafting Guild",menu_ticks:1},{id:"soul",target:{origin:{x:2016,y:6878,level:0}},name:"Soul",code:"Soul"},{id:"cosmic",target:{origin:{x:2405,y:4381,level:0}},name:"Cosmic",code:"Cosmic"},{id:"air",target:{origin:{x:3128,y:3407,level:0}},name:"Air",code:"Air"},{id:"body",target:{origin:{x:3050,y:3442,level:0}},name:"Body",code:"Body"},{id:"mind",target:{origin:{x:2980,y:3511,level:0}},name:"Mind",code:"Mind"},{id:"fire",target:{origin:{x:3310,y:3252,level:0}},name:"Fire",code:"Fire"},{id:"earth",target:{origin:{x:3302,y:3477,level:0}},name:"Earth",code:"Earth"},{id:"water",target:{origin:{x:3165,y:3183,level:0}},name:"Water",code:"Water"},{id:"nature",target:{origin:{x:2865,y:3022,level:0}},name:"Nature",code:"Nature"},{id:"astral",target:{origin:{x:2156,y:3866,level:0}},name:"Astral",code:"Astral"},{id:"chaos",target:{origin:{x:2269,y:4844,level:0}},name:"Chaos",code:"Chaos"},{id:"law",target:{origin:{x:2858,y:3378,level:0}},name:"Law",code:"Law"},{id:"blood",target:{origin:{x:3560,y:9779,level:0}},name:"Blood",code:"Blood"},{id:"death",target:{origin:{x:1863,y:4637,level:0}},name:"Death",code:"Death"}],access:[{id:"wickedhood",type:"item",name:{name:"Wicked hood",kind:"item"},img:{url:"wicked.png"},action_name:"Teleport"}]},{type:"teleports",id:"gote",name:"Grace of the Elves (Max Guild Portal)",img:{url:"gote.png"},animation_ticks:3,spots:[{id:"overgrownidols",target:{origin:{x:2949,y:2977,level:0}},name:"Overgrown idols"},{id:"deepseafishing",target:{origin:{x:2135,y:7107,level:0}},name:"Deep sea fishing hub"},{id:"lavaflowmine",target:{origin:{x:2177,y:5663,level:0}},name:"Lava Flow Mine"},{id:"livingrockcaverns",target:{origin:{x:3651,y:5122,level:0}},name:"Living Rock Caverns"},{id:"jadinkolair",target:{origin:{x:3034,y:9231,level:0}},name:"Jadinko Lair"}],access:[{id:"gote",type:"item",name:{name:"Grace of the elves",kind:"item"},action_name:"Max garden portal",menu_ticks:1}]},{type:"teleports",id:"spheredorgeshkaan",name:"Dorgesh-kaan sphere",img:{url:"sphere_dorgeshkaan.png"},menu_ticks:1,animation_ticks:11,spots:[{id:"north",target:{origin:{x:2710,y:5349,level:0},size:{x:20,y:6},data:"3//2/3///////z8A/wHg"},name:"North",code:"1"},{id:"south",target:{origin:{x:2721,y:5260,level:0},size:{x:4,y:8},data:"//b/bw=="},name:"South",code:"2"},{id:"east",target:{origin:{x:2734,y:5296,level:1},size:{x:3,y:19},data:"////27Zt2wA="},name:"East",code:"3"},{id:"west",target:{origin:{x:2692,y:5299,level:1},size:{x:10,y:18},data:"AAIIMMAAAwzg///7zz//+MMPMMAAAww="},name:"West",code:"4"}],access:[{type:"item",id:"sphere",name:{name:"Dorgesh-kaan sphere",kind:"item"},action_name:"Break"}]},{type:"teleports",id:"spheregoblinvillage",name:"Goblin village sphere",img:{url:"sphere_goblinvillage.png"},menu_ticks:0,animation_ticks:11,spots:[{id:"goblinvillage",name:"Goblin Village",target:{origin:{x:2953,y:3497,level:0},size:{x:8,y:6},data:"DAz/////"}}],access:[{type:"item",id:"sphere",name:{name:"Goblin village sphere",kind:"item"},action_name:"Break"}]},{type:"teleports",id:"naturessentinel",name:"Nature's sentinel outfit",animation_ticks:3,spots:[{id:"eternalmagicpiscatoris",target:{origin:{x:2329,y:3585,level:0}},code:"1",name:"Eternal Magic Trees - Piscatoris",menu_ticks:1},{id:"eldersorcerer",target:{origin:{x:2734,y:3401,level:0}},code:"2,1",name:"Elder Trees - East Sorcerer's Tower",menu_ticks:2},{id:"elderyanille",target:{origin:{x:2572,y:3063,level:0}},code:"2,2",name:"Elder Trees - South Yanille",menu_ticks:2},{id:"eldergnomestronghold",target:{origin:{x:2425,y:3456,level:0}},code:"2,3",name:"Elder Trees - Tree Gnome Stronghold",menu_ticks:2},{id:"elderdraynor",target:{origin:{x:3094,y:3215,level:0}},code:"2,4",name:"Elder Trees - South Draynor",menu_ticks:2},{id:"elderfalador",target:{origin:{x:3052,y:3320,level:0}},code:"2,5",name:"Elder Trees - Falador Farm",menu_ticks:2},{id:"eldervarrock",target:{origin:{x:3259,y:3370,level:0}},code:"2,6",name:"Elder Trees - South Varrock",menu_ticks:2},{id:"elderlletya",target:{origin:{x:2294,y:3147,level:0}},code:"2,7",name:"Elder Trees - West Lletya",menu_ticks:2},{id:"elderpiscatoris",target:{origin:{x:2321,y:3598,level:0}},code:"2,8",name:"Elder Trees - Piscatoris",menu_ticks:2},{id:"elderedgeville",target:{origin:{x:3094,y:3451,level:0}},code:"2,9,1",name:"Elder Trees - South Edgeville",menu_ticks:3},{id:"elderrimmington",target:{origin:{x:2933,y:3227,level:0}},code:"2,9,2",name:"Elder Trees - North Rimmington",menu_ticks:3},{id:"elderfort",target:{origin:{x:3375,y:3545,level:0}},code:"2,9,3",name:"Elder Trees - Fort Forinthry Grove",menu_ticks:3},{id:"idolsshipyard",target:{origin:{x:2932,y:3026,level:0}},code:"3,1",name:"Overgrown Idols - West of the Karamja shipyard",menu_ticks:2},{id:"magicranging",target:{origin:{x:2694,y:3425,level:0}},code:"4,1",name:"Magic Trees - East Ranging Guild",menu_ticks:2},{id:"magicsorcerer",target:{origin:{x:2702,y:3397,level:0}},code:"4,2",name:"Magic Trees - Sorcerer's Tower",menu_ticks:2},{id:"magicmagetraining",target:{origin:{x:3357,y:3310,level:0}},code:"4,3",name:"Magic Trees - Mage Training Arena",menu_ticks:2},{id:"magictirannwn",target:{origin:{x:2287,y:3140,level:0}},code:"4,4",name:"Magic Trees - South Tirannwn",menu_ticks:2},{id:"magiccrwys",target:{origin:{x:2249,y:3367,level:1}},code:"4,5",name:"Magic Trees - Crwys sector",menu_ticks:2},{id:"yewseers",target:{origin:{x:2708,y:3463,level:0}},code:"5,1",name:"Yew Trees - Seers' Graveyard",menu_ticks:2},{id:"yewcathery",target:{origin:{x:2757,y:3431,level:0}},code:"5,2",name:"Yew Trees - West Catherby",menu_ticks:2},{id:"yewedgeville",target:{origin:{x:3087,y:3475,level:0}},code:"5,3",name:"Yew Trees - Edgeville",menu_ticks:2},{id:"yewvarrock",target:{origin:{x:3208,y:3502,level:0}},code:"5,4",name:"Yew Trees - Varrock Palace",menu_ticks:2},{id:"ivynorthvarrock",target:{origin:{x:3217,y:3499,level:0}},code:"6,1",name:"Choking Ivy - North Varrock Palace",menu_ticks:2},{id:"ivyeastvarrock",target:{origin:{x:3232,y:3460,level:0}},code:"6,2",name:"Choking Ivy - East Varrock Palace",menu_ticks:2},{id:"ivynorthfalador",target:{origin:{x:3015,y:3394,level:0}},code:"6,3",name:"Choking Ivy - North Falador",menu_ticks:2},{id:"ivysouthfalador",target:{origin:{x:3047,y:3326,level:0}},code:"6,4",name:"Choking Ivy - South Falador",menu_ticks:2},{id:"ivytaverley",target:{origin:{x:2938,y:3428,level:0}},code:"6,5",name:"Choking Ivy - South-east Taverly",menu_ticks:2},{id:"ivyardougne",target:{origin:{x:2623,y:3307,level:0}},code:"6,6",name:"Choking Ivy - East Ardougne Church",menu_ticks:2},{id:"ivyyanille",target:{origin:{x:2594,y:3112,level:0}},code:"6,7",name:"Choking Ivy - North Yanille",menu_ticks:2},{id:"ivycastlewars",target:{origin:{x:2429,y:3062,level:0}},code:"6,8",name:"Choking Ivy - South Castle Wars",menu_ticks:2},{id:"ivycrwys",target:{origin:{x:2241,y:3375,level:1}},code:"6,9",name:"Choking Ivy - Crwys sector",menu_ticks:2},{id:"arcticpine",target:{origin:{x:2355,y:3848,level:0}},code:"7",name:"Arctic Pine Trees",menu_ticks:1},{id:"mahoganyape",target:{origin:{x:2716,y:2708,level:0}},code:"0,1,2",name:"Mahogany Trees - Ape Atoll",menu_ticks:3},{id:"mahoganiharazi",target:{origin:{x:2932,y:2928,level:0}},code:"0,1,3",name:"Mahogany Trees - Kharazi Jungle",menu_ticks:3},{id:"acadiaoasis",target:{origin:{x:3307,y:3245,level:0}},code:"0,2,1",name:"Acadia Trees - Het's Oasis",menu_ticks:3},{id:"acadia",target:{origin:{x:3186,y:2720,level:0}},code:"0,2,2",name:"Acadia Trees - Menaphos",menu_ticks:3},{id:"maplesouthvarrock",target:{origin:{x:3250,y:3365,level:0}},code:"0,3,1",name:"Maple Trees - South Varrock'",menu_ticks:3},{id:"mapleseers",target:{origin:{x:2728,y:3501,level:0}},code:"0,3,2",name:"Maple Trees - Seers'",menu_ticks:3},{id:"mapledaemonheim",target:{origin:{x:3500,y:3626,level:0}},code:"0,3,3",name:"Maple Trees - Daemonheim Peninsula Resource Dungeon'",menu_ticks:3},{id:"teakmusa",target:{origin:{x:2896,y:3152,level:0}},code:"0,4,1",name:"Teak Trees - Musa Point",menu_ticks:3},{id:"teaktai",target:{origin:{x:2815,y:3084,level:0}},code:"0,4,2",name:"Teak Trees - Tai Bwo Wannai",menu_ticks:3},{id:"teakape",target:{origin:{x:2774,y:2696,level:0}},code:"0,4,3",name:"Teak Trees - Ape Atoll",menu_ticks:3},{id:"teakcastlewars",target:{origin:{x:2334,y:3048,level:0}},code:"0,4,4",name:"Teak Trees - South-west Castle Wars",menu_ticks:3},{id:"willowdraynor",target:{origin:{x:3090,y:3232,level:0}},code:"0,5,1",name:"Willow Trees - Draynor",menu_ticks:3},{id:"willowcathery",target:{origin:{x:2783,y:3429,level:0}},code:"0,5,2",name:"Willow Trees - Catherby",menu_ticks:3},{id:"willowbarbarianoutpost",target:{origin:{x:2520,y:3579,level:0}},code:"0,5,3",name:"Willow Trees - Barbarian Outpost",menu_ticks:3},{id:"oakwestvarrock",target:{origin:{x:3166,y:3415,level:0}},code:"0,6,1",name:"Oak Trees - West Varrock",menu_ticks:3},{id:"oakeastvarrock",target:{origin:{x:3277,y:3475,level:0}},code:"0,6,2",name:"Oak Trees - East Varrock",menu_ticks:3},{id:"normalwestvarrock",target:{origin:{x:3135,y:3430,level:0}},code:"0,7,1",name:"Normal Trees - West Varrock",menu_ticks:3},{id:"normaleastvarrock",target:{origin:{x:3290,y:3475,level:0}},code:"0,7,2",name:"Normal Trees - East Varrock",menu_ticks:3}],access:[{id:"outfit",type:"item",name:{name:"Nature's sentinel helm",kind:"item"},action_name:"Teleport",img:{url:"sentinel.png"}}]},{type:"teleports",id:"volcanictrapper",name:"Volcanic trapper outfit",animation_ticks:3,spots:[{id:"nettingcharming",target:{origin:{x:3367,y:3742,level:0}},code:"2,5",name:"Butterfly Netting - Charming Moth",menu_ticks:2}],access:[{id:"outfit",type:"item",name:{name:"Volcanic trapper head",kind:"item"},action_name:"Teleport",img:{url:"Volcanic_trapper_head.webp"}}]},{type:"teleports",id:"archteleport",name:"Archaeology teleport (or outfit)",menu_ticks:1,animation_ticks:3,spots:[{id:"campus",target:{origin:{x:3336,y:3378,level:0}},code:"1",name:"Archaeology Campus"},{id:"kharidet",target:{origin:{x:3345,y:3194,level:0}},code:"2",name:"Kharid-et"},{id:"infernal",target:{origin:{x:3271,y:3504,level:0}},code:"3",name:"Infernal Source"},{id:"everlight",target:{origin:{x:3697,y:3206,level:0}},code:"4",name:"Everlight"},{id:"senntisten",target:{origin:{x:1784,y:1296,level:0}},code:"5",name:"Senntisten"},{id:"stormguard",target:{origin:{x:2680,y:3403,level:0}},code:"6",name:"Stormguard Citadel"},{id:"daemonheim",target:{origin:{x:3428,y:3699,level:0}},code:"7",name:"Daemonheim"},{id:"warforge",target:{origin:{x:2409,y:2824,level:0}},code:"8",name:"Warforge"},{id:"orthen",target:{origin:{x:5457,y:2339,level:0}},code:"9",name:"Orthen"},{id:"jacques",target:{origin:{x:3254,y:3453,level:2}},code:"0,1",name:"Collectors - Art Critic Jacques",menu_ticks:2},{id:"tess",target:{origin:{x:2550,y:2853,level:0}},code:"0,2",name:"Collectors - Chief Tess",menu_ticks:2},{id:"generals",target:{origin:{x:2957,y:3510,level:0}},code:"0,3",name:"Collectors - Generals Bentnoze & Wartface",menu_ticks:2},{id:"isaura",target:{origin:{x:2921,y:9701,level:0}},code:"0,4",name:"Collectors - Isaura",menu_ticks:2},{id:"lowse",target:{origin:{x:2985,y:3268,level:0}},code:"0,5",name:"Collectors - Lowse",menu_ticks:2},{id:"sharrigan",target:{origin:{x:5456,y:2344,level:0}},code:"0,6",name:"Collectors - Sharrigan",menu_ticks:2},{id:"atcha",target:{origin:{x:2963,y:3346,level:0}},code:"0,7",name:"Collectors - Sir Atcha",menu_ticks:2},{id:"soran",target:{origin:{x:3181,y:3417,level:0}},code:"0,8",name:"Collectors - Soran",menu_ticks:2},{id:"velucia",target:{origin:{x:3342,y:3382,level:0}},code:"0,9",name:"Collectors - Velucia",menu_ticks:2},{id:"wiseoldman",target:{origin:{x:3088,y:3254,level:0}},code:"0,0,1",name:"Collectors - Wise Old Man",menu_ticks:3}],access:[{id:"scrolls",type:"item",img:{url:"archteleport.png"},name:{name:"Archaeology teleport",kind:"item"},action_name:"Teleport"}]},{type:"teleports",id:"ringofkinship",name:"Ring of Kinship",spots:[{id:"daemonheim",name:"Daemonheim",target:{origin:{x:3441,y:3694,level:0},size:{x:11,y:11},data:"9/////mPf/jDH/6ABzjAAQ=="},menu_ticks:0,animation_ticks:8}],access:[{id:"ring",type:"item",img:{url:"ringofkinship.png"},name:{name:"Ring of kinship",kind:"item"},action_name:"Teleport to Daemonheim"}]},{type:"teleports",id:"witchdoctormask",name:"Witchdoctor mask",img:{url:"witchdoctormask.png"},spots:[{id:"herblorehabitat",target:{origin:{x:2953,y:2933,level:0}},name:"Herblore Habitat",menu_ticks:1,animation_ticks:5}],access:[{id:"mask",type:"item",name:{name:"Witchdoctor mask",kind:"item"},action_name:"Teleport"}]},{type:"teleports",id:"ecctophial",name:"Ectophial",spots:[{id:"ectofunctus",name:"Ectofunctus",target:{origin:{x:3657,y:3522,level:0},size:{x:5,y:3},data:"/zc="},menu_ticks:0,animation_ticks:13}],access:[{id:"phial",type:"item",img:{url:"ectophial.png"},name:{name:"Ectophial",kind:"item"},action_name:"Empty"}]},{type:"teleports",id:"explorersring",name:"Explorer's ring",img:{url:"explorersring.png"},menu_ticks:0,animation_ticks:10,spots:[{id:"cabbagefield",target:{origin:{x:3053,y:3291,level:0}},name:"Cabbage field"}],access:[{type:"item",id:"ring",name:{name:"Explorer's ring 4",kind:"item"},action_name:"Cabbage-port"}]},{type:"teleports",id:"karamjagloves",name:"Karamja gloves",img:{url:"karamjagloves.png"},spots:[{id:"gemmine",name:"Gem Mine",target:{origin:{x:2838,y:9385,level:0},size:{x:5,y:5},data:"/3/vAQ=="},menu_ticks:1,animation_ticks:5}],access:[{id:"gloves",type:"item",name:{name:"Karamja gloves 4",kind:"item"},action_name:"Teleport"}]},{type:"teleports",id:"theheart",name:"The Heart teleport",img:{url:"The_Heart_teleport.webp"},spots:[{id:"center",name:"The Heart",target:{origin:{x:3197,y:6941,level:1},size:{x:5,y:5}},menu_ticks:0,animation_ticks:4}],access:[{type:"item",id:"tablet",name:{name:"The Heart teleport",kind:"item"},action_name:"Break"}]},{type:"teleports",id:"fremmenikboots",name:"Fremmenik sea boots",img:{url:"fremmenikboots.gif"},spots:[{id:"relekkamarket",target:{origin:{x:2651,y:3689,level:0},size:{x:5,y:5},data:"///vAQ=="},name:"Rellekka Market",icon_position_override:{x:2651,y:3691,level:0},menu_ticks:0,animation_ticks:3}],access:[{type:"item",id:"seaboots",name:{kind:"item",name:"Fremennik sea boots 4"},action_name:"Rellekka teleport"}]},{type:"teleports",id:"legendscape",name:"Legends Cape",img:{url:"legendscape.png"},spots:[{id:"legendsguild",target:{origin:{x:2728,y:3348,level:0}},name:"Legend's Guild",animation_ticks:3}],access:[{id:"cape",type:"item",action_name:"Teleport",name:{kind:"item",name:"Cape of legends"},menu_ticks:1}]},{type:"teleports",id:"skullsceptre",name:"Skull Sceptre",menu_ticks:1,animation_ticks:3,spots:[{id:"outside",target:{origin:{x:3081,y:3421,level:0}},code:"1",name:"Outside"},{id:"war",target:{origin:{x:1859,y:5240,level:0},size:{x:5,y:5},data:"+f/vAQ=="},code:"2",name:"Vault of War"},{id:"famine",target:{origin:{x:2041,y:5241,level:0},size:{x:5,y:5},data:"//+vAA=="},code:"3",name:"Catacomb of Famine"},{id:"pestillence",target:{origin:{x:2121,y:5251,level:0},size:{x:5,y:5},data:"8v//AQ=="},code:"4",name:"Pit of Pestilence"},{id:"death",target:{origin:{x:2358,y:5211,level:0},size:{x:5,y:5},data:"/v//AQ=="},code:"5",name:"Sepulchre of Death"}],access:[{type:"item",img:{url:"skullsceptre.png"},name:{kind:"item",name:"Skull sceptre"},action_name:"Teleport",id:"tablet"}]},{type:"teleports",id:"dragonkinlaboratory",name:"Dragonkin Laboratory teleport",menu_ticks:1,animation_ticks:4,spots:[{id:"spot",target:{origin:{x:3367,y:3887,level:0},size:{x:5,y:5},data:"/39CAA=="},name:"Dragonkin Laboratory"}],access:[{type:"item",img:{url:"dragonkin.png"},name:{kind:"item",name:"Dragonkin Laboratory teleport"},action_name:"Break",id:"tablet"}]},{type:"teleports",id:"wildernessobelisk",name:"Portable obelisk",menu_ticks:1,animation_ticks:3,spots:[{id:"13",target:{origin:{x:3155,y:3619,level:0},size:{x:3,y:3}},code:"1",name:"Level 13"},{id:"18",target:{origin:{x:3218,y:3655,level:0},size:{x:3,y:3}},code:"2",name:"Level 18"},{id:"27",target:{origin:{x:3034,y:3731,level:0},size:{x:3,y:3}},code:"3",name:"Level 27"},{id:"35",target:{origin:{x:3105,y:3793,level:0},size:{x:3,y:3}},code:"4",name:"Level 35"},{id:"44",target:{origin:{x:2979,y:3865,level:0},size:{x:3,y:3}},code:"5",name:"Level 44"},{id:"50",target:{origin:{x:3306,y:3915,level:0},size:{x:3,y:3}},code:"6",name:"Level 50"}],access:[{id:"obelisk",type:"item",name:{name:"Portable obelisk",kind:"item"},img:{url:"portableobelisk.png"},action_name:"Teleport"}]},{type:"teleports",id:"wildernesssword",name:"Wilderness sword",img:{url:"wildernesssword.png"},spots:[{id:"edgeville",target:{origin:{x:3083,y:3499,level:0},size:{x:7,y:7},data:"fD7/////AA=="},code:"1,1",name:"Edgeville",menu_ticks:3,animation_ticks:5},{id:"herbpatch",target:{origin:{x:3140,y:3822,level:0},size:{x:7,y:7},data:"8fn/////AQ=="},code:"1,2",name:"Herb patch",menu_ticks:3,animation_ticks:5},{id:"forinthry",target:{origin:{x:3078,y:10056,level:0},size:{x:6,y:6},data:"/P//PQ4="},code:"1,3",name:"Forinthry Dungeon",menu_ticks:3,animation_ticks:5},{id:"agility",target:{origin:{x:2995,y:3910,level:0},size:{x:7,y:6},data:"//////MA"},code:"1,5",name:"Wilderness Agility course",menu_ticks:3,animation_ticks:5}],access:[{type:"item",id:"sword",name:{name:"Wilderness Sword 4",kind:"item"},action_name:"Operate"}]},{type:"teleports",id:"lyre",name:"Enchanted lyre",menu_ticks:1,animation_ticks:6,spots:[{id:"relekka",target:{origin:{x:2651,y:3689,level:0},size:{x:5,y:5},data:"///vAQ=="},icon_position_override:{x:2655,y:3691,level:0},code:"1",name:"Rellekka",menu_ticks:1,animation_ticks:6},{id:"waterbirth",target:{origin:{x:2525,y:3738,level:0},size:{x:5,y:5},data:"/H/OAQ=="},code:"2",name:"Waterbirth Island"},{id:"neitiznot",target:{origin:{x:2310,y:3784,level:0},size:{x:3,y:5},data:"22Y="},code:"3",name:"Neitiznot"},{id:"jatizso",target:{origin:{x:2402,y:3780,level:0},size:{x:5,y:5},data:"6//3AA=="},code:"4",name:"Jatizso"},{id:"miscellania",target:{origin:{x:2515,y:3858,level:0},size:{x:5,y:5},data:"//8/AQ=="},code:"5",name:"Miscellania"},{id:"etceteria",target:{origin:{x:2591,y:3878,level:0},size:{x:5,y:5}},code:"6",name:"Etceteria"},{id:"relekkamarket",target:{origin:{x:2641,y:3675,level:0},size:{x:5,y:5}},code:"7",name:"Rellekka Market"}],access:[{id:"lyre",type:"item",name:{name:"Enchanted lyre",kind:"item"},img:{url:"enchantedlyre.png"},action_name:"Play"}]},{type:"teleports",id:"charterships",name:"Charter Ships",img:{url:"sail.png"},menu_ticks:1,animation_ticks:5,spots:[{id:"tyras",target:{origin:{x:2142,y:3122,level:0}},name:"Port Tyras"},{id:"brimhaven",target:{origin:{x:2760,y:3238,level:0}},name:"Brimhaven"},{id:"catherby",target:{origin:{x:2796,y:3406,level:0}},name:"Catherby"},{id:"khazard",target:{origin:{x:2674,y:3144,level:0}},name:"Port Khazard"},{id:"ooglog",target:{origin:{x:2623,y:2857,level:0}},name:"Oo'glog"},{id:"karamja",target:{origin:{x:2954,y:3158,level:0}},name:"Karamja"},{id:"shipyard",target:{origin:{x:3001,y:3032,level:0}},name:"Shipyard"},{id:"sarim",target:{origin:{x:3043,y:3191,level:0}},name:"Port Sarim"},{id:"phasmatys",target:{origin:{x:3702,y:3503,level:0}},name:"Port Phasmatys"},{id:"mosleharmless",target:{origin:{x:3671,y:2931,level:0}},name:"Mos Le'Harmless"},{id:"menaphos",target:{origin:{x:3140,y:2662,level:0}},name:"Menaphos"}],access:[{type:"entity",id:"sarim",name:{kind:"npc",name:"Trader Crewmember (Port Sarim)"},clickable_area:{origin:{x:3035,y:3190,level:0},size:{x:15,y:3}},action_name:"Charter"},{type:"entity",id:"catherbvy",name:{kind:"npc",name:"Trader Crewmember (Catherby)"},clickable_area:{origin:{x:2792,y:3405,level:0},size:{x:4,y:7}},action_name:"Charter"},{type:"entity",id:"tyras",name:{kind:"npc",name:"Trader Crewmember (Port Tyras)"},clickable_area:{origin:{x:2141,y:3121,level:0},size:{x:8,y:3}},action_name:"Charter"},{type:"entity",id:"brimhaven",name:{kind:"npc",name:"Trader Crewmember (Brimhaven)"},clickable_area:{origin:{x:2759,y:3237,level:0},size:{x:2,y:3}},action_name:"Charter"},{type:"entity",id:"khazard",name:{kind:"npc",name:"Trader Crewmember (Port Khazard)"},clickable_area:{origin:{x:2673,y:3144,level:0},size:{x:3,y:5}},action_name:"Charter"},{type:"entity",id:"ooglog",name:{kind:"npc",name:"Trader Crewmember (Oo'glog)"},clickable_area:{origin:{x:2619,y:2856,level:0},size:{x:5,y:2}},action_name:"Charter"},{type:"entity",id:"musa",name:{kind:"npc",name:"Trader Crewmember (Musa Point)"},clickable_area:{origin:{x:2953,y:3153,level:0},size:{x:3,y:11}},action_name:"Charter"},{type:"entity",id:"shipyard",name:{kind:"npc",name:"Trader Crewmember (Shipyard)"},clickable_area:{origin:{x:3e3,y:3028,level:0},size:{x:3,y:11}},action_name:"Charter"},{type:"entity",id:"phasmatys",name:{kind:"npc",name:"Trader Crewmember (Port Phasmatys)"},clickable_area:{origin:{x:3701,y:3499,level:0},size:{x:2,y:7}},action_name:"Charter"},{type:"entity",id:"menaphos",name:{kind:"npc",name:"Trader Crewmember (Menaphos)"},clickable_area:{origin:{x:3139,y:2661,level:0},size:{x:11,y:2}},action_name:"Charter"}]},{type:"teleports",id:"dragontrinkets",name:"Dragon Trinkets",animation_ticks:3,menu_ticks:2,spots:[{id:"green",target:{origin:{x:3303,y:5468,level:0}},name:"Green Dragons - Chaos Tunnels",code:"1"},{id:"brutalgreen",target:{origin:{x:2512,y:3511,level:0}},name:"Brutal Green Dragons - Baxtorian Falls",code:"2"},{id:"blue",target:{origin:{x:2891,y:9769,level:0}},name:"Blue Dragons - Taverley Dungeon",code:"3"},{id:"red",target:{origin:{x:2731,y:9529,level:0}},name:"Red Dragons - Brimhaven Dungeon",code:"4"},{id:"black",target:{origin:{x:1565,y:4356,level:0}},name:"Black Dragons . Evil Chicken´s Lair",code:"5"},{id:"kbd",target:{origin:{x:3051,y:3519,level:0}},name:"King Black Dragon - Edgeville",code:"6"},{id:"qbd",target:{origin:{x:1198,y:6499,level:0}},name:"Queen Black Dragon - Grotworm Lair",code:"7"}],access:[{id:"trinkets",type:"item",name:{name:"Dragon trinkets",kind:"item"},img:{url:"dragontrinkets.png"},action_name:"Teleport"}]},{type:"teleports",id:"metallicdragontrinkets",name:"Metallic Dragon Trinkets",animation_ticks:3,menu_ticks:2,spots:[{id:"bronze",target:{origin:{x:2723,y:9486,level:0}},name:"Bronze Dragons - Brimhaven Dungeon",code:"1"},{id:"iron",target:{origin:{x:2694,y:9443,level:0}},name:"Iron Dragons - Brimhaven Dungeon",code:"2"},{id:"steel",target:{origin:{x:2708,y:9468,level:0}},name:"Steel Dragons - Brimhaven Dungeon",code:"3"},{id:"mithril",target:{origin:{x:1778,y:5346,level:0}},name:"Mithril Dragons - Ancient Cavern",code:"4"},{id:"adamant",target:{origin:{x:4516,y:6046,level:0}},name:"Adamant Dragons - Brimhaven Adamant Dungeon",code:"5"},{id:"rune",target:{origin:{x:2367,y:3358,level:0}},name:"Rune Dragons - World Gate",code:"6"}],access:[{id:"trinkets",type:"item",name:{name:"Metallic dragon trinkets",kind:"item"},img:{url:"metallicdragontrinkets.png"},action_name:"Teleport"}]},{type:"teleports",id:"amuletofnature",name:"Amulet of Nature",menu_ticks:0,animation_ticks:3,spots:[{id:"draynornightshade",target:{origin:{x:3084,y:3353,level:0},size:{x:4,y:4},data:"j+g="},name:"Nightshade Patch"},{id:"herblorehabitat",target:{origin:{x:2946,y:2904,level:0},size:{x:4,y:4},data:"nPk="},name:"Vine Bush Patch"},{id:"faladortree",target:{origin:{x:3002,y:3371,level:0},size:{x:5,y:5},data:"P8b4AQ=="},name:"Falador Tree Patch"},{id:"harmonyallotment",target:{origin:{x:3795,y:2833,level:0},size:{x:1,y:6}},name:"Harmony Island Allotment Patch"},{id:"grandtreetreepatch",target:{origin:{x:2434,y:3413,level:0},size:{x:5,y:5},data:"LsboAA=="},name:"Tree Gnome Stronghold Tree Patch"},{id:"gnomemazefruittree",target:{origin:{x:2488,y:3178,level:0},size:{x:4,y:4},data:"lmk="},name:"Tree Gnome Village Fruit Tree Patch"},{id:"mcgruborswoodhops",target:{origin:{x:2663,y:3522,level:0},size:{x:8,y:8},data:"foGBgYGBgX4="},name:"Hops Patch north of McGrubor's Wood"}],access:[{id:"cape",type:"item",action_name:"Teleport",img:{url:"amuletofnature.png"},name:{kind:"item",name:"Amulet of nature"}}]},{type:"teleports",id:"tokkulzo",name:"TokKul-Zo",img:{url:"tokkulzo.png"},menu_ticks:2,animation_ticks:5,spots:[{id:"plaza",target:{origin:{x:4669,y:5150,level:0},size:{x:8,y:8}},name:"Main Plaza",code:"1"},{id:"pit",target:{origin:{x:4596,y:5059,level:0},size:{x:8,y:7},data:"fv/+////7g=="},name:"Fight Pit",code:"2"},{id:"cave",target:{origin:{x:4607,y:5125,level:0},size:{x:6,y:8},data:"OM7////z"},name:"Fight Cave",code:"3"},{id:"kiln",target:{origin:{x:4741,y:5167,level:0},size:{x:6,y:8},data:"nvf9/+97"},name:"Fight Kiln",code:"4"},{id:"cauldron",target:{origin:{x:4783,y:5125,level:0},size:{x:8,y:6},data:"////fn5+"},name:"Fight Cauldron",code:"5"}],access:[{id:"ring",type:"item",name:{kind:"item",name:"TokKul-Zo"},action_name:"Teleport"}]},{type:"teleports",id:"grandseedpod",name:"Grand seed pod",menu_ticks:1,animation_ticks:4,spots:[{id:"grandtree",target:{origin:{x:2465,y:3495,level:0}},name:"Grand Tree"}],access:[{type:"item",id:"pod",name:{name:"Grand seed pod",kind:"item"},img:{url:"Grand_seed_pod.png"},action_name:"Squash"}]},{type:"teleports",id:"sandseed",name:"Mystical sand seed",menu_ticks:1,animation_ticks:7,spots:[{id:"garden",target:{origin:{x:3320,y:3307,level:0}},name:"Garden of Kharid"}],access:[{type:"item",id:"seed",name:{name:"Mystical sand seed",kind:"item"},img:{url:"Mystical_sand_seed.png"},action_name:"Plant"}]},{type:"teleports",id:"passingbracelet",name:"Passing bracelet",menu_ticks:1,animation_ticks:4,spots:[{id:"gardens",target:{origin:{x:1169,y:1787,level:1}},name:"City of Um: Hanging Gardens",code:"1",facing:gr.south},{id:"haunt",target:{origin:{x:1164,y:1838,level:1}},name:"City of Um: Haunt on the Hill",code:"2",facing:gr.north},{id:"reflection",target:{origin:{x:1134,y:1723,level:1}},name:"City of Um: Reflection Pool",code:"3",facing:gr.north}],access:[{type:"item",id:"bracelet",name:{name:"Passing bracelet",kind:"item"},img:{url:"Passing_bracelet.png"},action_name:"Rub"}]},{type:"teleports",id:"tomeofum",name:"Tome of Um",menu_ticks:1,animation_ticks:4,spots:[{id:"smithy",target:{origin:{x:1145,y:1805,level:1},size:{x:5,y:5},data:"//v/AA=="},name:"Um Smithy",code:"1,1"},{id:"ritualsite",target:{origin:{x:1038,y:1760,level:1}},name:"Um Ritual Site",code:"1,2"}],access:[{type:"item",id:"tome",name:{name:"Tome of Um",kind:"item"},img:{url:"Tome_of_Um_2.webp"},action_name:"Operate"}]},{type:"teleports",id:"camulet",name:"Camulet",menu_ticks:1,animation_ticks:3,spots:[{id:"temple",target:{origin:{x:3194,y:2926,level:0}},name:"Enakhra's Temple"}],access:[{id:"amulet",type:"item",name:{name:"Camulet",kind:"item"},img:{url:"Camulet.png"},action_name:"Rub"}]},{type:"teleports",id:"diskofreturning",name:"Disk of returning",menu_ticks:1,spots:[{id:"return",target:{origin:{x:2982,y:9804,level:0}},name:"Return",animation_ticks:1},{id:"lifealtar",target:{origin:{x:1065,y:5544,level:0}},name:"Life Altar",code:"3",animation_ticks:4}],access:[{id:"disk",type:"item",name:{name:"Disk of returning",kind:"item"},img:{url:"Disk_of_returning_(Gower_Quest).png"},action_name:"Scan"}]},{type:"teleports",id:"magicwhistle",name:"Magic whistle",menu_ticks:1,spots:[{id:"return",target:{origin:{x:2741,y:3235,level:0}},name:"Return",animation_ticks:2}],access:[{id:"whistle",type:"item",name:{name:"Magic whistle",kind:"item"},img:{url:"Magic_whistle.webp"},action_name:"Blow",area_restriction:{origin:{x:2624,y:4672,level:0},size:{x:64,y:64}}}]},{type:"teleports",id:"warsbossportal",name:"Boss portal",menu_ticks:0,animation_ticks:3,spots:[{id:"gregorovic",name:"Gregorovic",img:{url:"Gregorovic_(boss_portal)_texture.webp",width:40},target:{origin:{x:3277,y:7053,level:1}}},{id:"helwyr",name:"Helwyr",img:{url:"Helwyr_(boss_portal)_texture.webp",width:40},target:{origin:{x:3270,y:6905,level:1}}},{id:"twinfuries",name:"The Twin Furies",img:{url:"Twin_Furies_(boss_portal)_texture.png",width:40},target:{origin:{x:3128,y:7047,level:1}}},{id:"vindicta",name:"Vindicta & Gorvek",img:{url:"Vindicta_and_Gorvek_(boss_portal)_texture.png",width:40},target:{origin:{x:3119,y:6903,level:1}}},{id:"solak",name:"Solak",img:{url:"Solak_(boss_portal)_texture.webp",width:40},target:{origin:{x:1373,y:5640,level:0}}},{id:"ed1",name:"Temple of Aminishi",img:{url:"Seiryu_the_Azure_Serpent_(boss_portal)_texture.png",width:40},target:{origin:{x:2094,y:11352,level:0}}},{id:"ed3",name:"Shadow Reef",img:{url:"180px-The_Ambassador_(boss_portal)_texture.webp",width:40},target:{origin:{x:3511,y:3692,level:0}}},{id:"ed4",name:"Zamorakian Undercity",img:{url:"The_Zamorakian_Undercity_(boss_portal)_texture.png",width:40},target:{origin:{x:1759,y:1341,level:0}}}],access:[{id:"left",type:"entity",name:{name:"Boss portal",kind:"static"},action_name:"Teleport",clickable_area:{origin:{x:3289,y:10154,level:0},size:{x:3,y:1}}},{id:"right",type:"entity",name:{name:"Boss portal",kind:"static"},action_name:"Teleport",clickable_area:{origin:{x:3296,y:10154,level:0},size:{x:4,y:1},data:"Cw=="}}]},{type:"teleports",id:"portmasterkags",name:"Portmaster Kags",animation_ticks:1,img:{url:"portmasterkags.webp",height:32},spots:[{id:"sunkenpyramid",name:"Sunken Pyramid",target:{origin:{x:3032,y:2672,level:0}},code:"2",menu_ticks:1},{id:"crondispyramid",name:"Crondis' Pyramid",target:{origin:{x:3273,y:2644,level:0}},code:"3",menu_ticks:1},{id:"jaldraocht",name:"Jaldraocht",target:{origin:{x:3254,y:2882,level:0}},code:"4",menu_ticks:1},{id:"nardah",name:"Nardah",target:{origin:{x:3373,y:2931,level:0}},code:"5",menu_ticks:2},{id:"pollnivneach",name:"Pollnivneach",target:{origin:{x:3377,y:2962,level:0}},code:"6",menu_ticks:2},{id:"dominiontower",name:"Dominion Tower",target:{origin:{x:3373,y:3080,level:0}},code:"7",menu_ticks:2}],access:[{id:"menaphos",type:"entity",name:{name:"Portmaster Kags",kind:"npc"},action_name:"Travel",clickable_area:{origin:{x:3122,y:2631,level:0}},cursor:"talk"}]},{type:"teleports",id:"shatteredworldsteleport",name:"Shattered Worlds teleport",animation_ticks:3,menu_ticks:0,spots:[{id:"shatteredworlds",name:"Shattered Worlds",target:{origin:{x:3166,y:3161,level:0},size:{x:5,y:5},data:"/zv/AQ=="}}],access:[{id:"scroll",type:"item",name:{kind:"item",name:"Shattered Worlds teleport"},action_name:"Teleport",img:{url:"Shattered_Worlds_teleport_scroll.webp"}}]},{type:"teleports",id:"clanvexillum",name:"Clan vexillum",animation_ticks:8,menu_ticks:1,spots:[{id:"falador",name:"Falador",target:{origin:{x:2964,y:3282,level:0},size:{x:5,y:5}},code:"1"}],access:[{id:"vexillum",type:"item",name:{kind:"item",name:"Clan vexillum"},action_name:"Teleport",img:{url:"clanvex.webp"}}]},{type:"teleports",id:"memorystrands",name:"Memory strands",animation_ticks:3,menu_ticks:0,spots:[{id:"hallofmemories",name:"Hall of Memories entrance",target:{origin:{x:2265,y:3551,level:0},size:{x:3,y:5}}}],access:[{id:"memorystrands",type:"item",name:{kind:"item",name:"Memory stands"},action_name:"Teleport",img:{url:"memory_strand.webp"}}]},{type:"teleports",id:"leelasfavour",name:"Leela's favour",animation_ticks:4,menu_ticks:1,spots:[{id:"imperial",name:"Imperial District",target:{origin:{x:3176,y:2729,level:0}},code:"1"},{id:"merchant",name:"Merchant District",target:{origin:{x:3223,y:2782,level:0}},code:"2"},{id:"port",name:"Port District",target:{origin:{x:3213,y:2627,level:0}},code:"3"},{id:"worker",name:"Worker District",target:{origin:{x:3156,y:2796,level:0}},code:"4"},{id:"shiftingtombs",name:"Shifting Tombs",target:{origin:{x:2078,y:6952,level:0}},code:"6"},{id:"sophanemslayerdungeon",name:"Sophanem Slayer Dungeon",target:{origin:{x:3289,y:2708,level:0}},code:"7"}],access:[{id:"item",type:"item",name:{kind:"item",name:"Leela's favour"},action_name:"Teleport",img:{url:"Leelas_favour.webp"}}]},{type:"teleports",id:"delversanklet",name:"Delver's anklet",img:{url:"delvers_anklet.png"},menu_ticks:2,animation_ticks:3,spots:[{id:"brimhavendungeon",target:{origin:{x:2638,y:9593,level:2}},code:"1",name:"Brimhaven Dungeon"},{id:"fremennikslayerdungeon",target:{origin:{x:2729,y:10021,level:0}},code:"2",name:"Fremennik Slayer Dungeon"},{id:"polyporedungeon",target:{origin:{x:4654,y:5427,level:1}},code:"3",name:"Polypore Dungeon"}],access:[{id:"anklet",type:"item",name:{name:"Delver's anklet",kind:"item"},action_name:"Rub",can_be_in_pota:!0}]}];class fa{constructor(e){this.f=e,this._value=null,this._calculated=!1}get(){return this._calculated||(this._value=this.f(),this._calculated=!0),this._value}hasValue(){return this._calculated}}class ya{constructor(e){this.f=e,this._value_promise=null,this._calculated=!1}get(){return e=this,t=void 0,n=function*(){return this._value_promise||(this._value_promise=this.f(),yield this._value_promise,this._calculated=!0),yield this._value_promise},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}hasValue(){return this._calculated}}function ma(e){return new fa(e)}function _a(e){return new ya(e)}var va,xa=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){var t=ha.TeleportGroup;const i={};function n(){return xa(this,void 0,void 0,(function*(){return i.cache_extracted||(i.cache_extracted=yield(yield fetch("map/cache_transportation.json",{cache:"no-store"})).json()),i.cache_extracted}))}e.teleports=ga,e.getCacheTransports=n,e.getAll=function(){return xa(this,void 0,void 0,(function*(){return i.all_transports||(i.all_transports=[].concat(yield n(),e.teleports)),i.all_transports}))},e.getTeleportGroup=function(t){return e.teleports.find((e=>e.id==t))};const o=ma((()=>e.teleports.filter(t.canBeAccessedAnywhere).flatMap((e=>e.spots.map((t=>new ha.TeleportGroup.Spot(e,t,void 0)))))));e.getAllTeleportSpots=function(){return o.get()},e.resolveTeleport=function(t){var i,n;const o=e.teleports.find((e=>e.id==t.group)),s=null===(i=null==o?void 0:o.spots)||void 0===i?void 0:i.find((e=>e.id==t.spot)),r=t.access?null===(n=null==o?void 0:o.access)||void 0===n?void 0:n.find((e=>e.id==t.access)):void 0;if(o&&s&&(!t.access||r))return new ha.TeleportGroup.Spot(o,s,r)}}(va||(va={}));var wa;!function(e){var t=va.resolveTeleport,i=_e.index,n=_e.minIndex,o=yr.cooldown,s=_e.capitalize,r=mr.activate,a=ha.EntityTransportation.defaultInteractiveArea;let l,c,u,p,h;function d(e){var n;for(let o=e.length-1;o>=0;o--){let s=e[o];switch(s.type){case"cheat":return s.target;case"ability":return s.to;case"run":return i(s.waypoints,-1);case"teleport":return s.spot?s.spot:t(s.id).centerOfTarget();case"transport":let e=s.assumed_start,o=s.internal.actions[0];const a=null!==(n=ha.EntityAction.findApplicable(o,e))&&void 0!==n?n:o.movement[0];if(a.offset){let t=Te.move(e,a.offset);return t.level+=a.offset.level,t}if(a.fixed_target)return r(mr.normalize(a.fixed_target.target)).center()}}return null}function g(e){return 0==e.length?0:p.level(e[e.length-1])}e.COSMETIC_DEFAULT_COLORS={arrow:"#6970d9",area:"#6970d9"},function(e){function t(e,t){return Math.max(0,Math.min(...t)-e.tick)}e.start=function(e){return{tick:0,cooldowns:{escape:e.double_escape?[0,0]:[0],surge:e.double_surge?[0,0]:[0],barge:0,dive:0},acceleration_activation_tick:-1e3,position:{tile:null,direction:null},targeted_entity:null,assumptions:e}},e.surge_cooldown=function(e){return t(e,e.cooldowns.surge)},e.escape_cooldown=function(e){return t(e,e.cooldowns.escape)},e.barge_cooldown=function(e){return t(e,[e.cooldowns.barge])},e.dive_cooldown=function(e){return t(e,[e.cooldowns.dive])}}(l=e.movement_state||(e.movement_state={})),function(t){function i(t){const i=we.combine(e.Step.bounds(t.raw),we.from(t.pre_state.position.tile,t.post_state.position.tile));return i?ze.lift(i,e.Step.level(t.raw)):null}t.step_bounds=i,t.bounds=function(e){return we.combine(...e.steps.map(i))},t.getState=function(e,t){return t>=e.steps.length?e.post_state:t<0?e.pre_state:(e.steps[t],e.steps[t].pre_state)}}(c=e.augmented||(e.augmented={})),function(e){e.error=0,e.warning=1,e.weak_warning=2}(u=e.issue_level||(e.issue_level={})),e.ends_up=d,e.endsUpArea=function(e){var n;for(let o=e.length-1;o>=0;o--){let s=e[o];switch(s.type){case"cheat":return mr.init(s.target);case"ability":return mr.init(s.to);case"run":return mr.init(i(s.waypoints,-1));case"teleport":return t(s.id).targetArea();case"transport":let e=s.assumed_start,o=s.internal.actions[0];const r=null!==(n=ha.EntityAction.findApplicable(o,e))&&void 0!==n?n:o.movement[0];if(r.offset){let t=Te.move(e,r.offset);return t.level+=r.offset.level,mr.init(t)}if(r.fixed_target)return mr.normalize(r.fixed_target.target)}}return null},e.augment=function(e){return s=this,c=arguments,p=function*(e,s=l.start({}),c=[]){var u,p,h,d;let g=[];s||(s=l.start({}));let f=oe.cloneDeep(s);f.position||(f.position={tile:null,direction:null});for(let s=0;s<e.length;s++){let l=e[s],c={pre_state:oe.cloneDeep(f),post_state:null,issues:[],section:0,raw:l};switch(l.type){case"cheat":f.position.tile=l.target,l.orientation&&(f.position.direction=l.orientation),f.tick+=l.ticks;break;case"orientation":s>0&&c.issues.push({level:0,message:"Orientation steps should only be used as the first step!"}),f.tick+=1,f.targeted_entity=null,f.position.direction=l.direction;break;case"run":f.position.tile&&!Te.eq(f.position.tile,l.waypoints[0])&&c.issues.push({level:0,message:"Running does not start where the previous step ends!"}),f.position={tile:i(l.waypoints,-1),direction:gr.fromVector(f.targeted_entity?xe.sub(f.targeted_entity,i(l.waypoints,-1)):xe.sub(i(l.waypoints,-1),i(l.waypoints,-2)))},f.tick+=Math.ceil(fr.pathLength(l.waypoints)/2),f.targeted_entity=null;break;case"ability":if(f.position)if(f.position.tile&&!Te.eq(f.position.tile,l.from))c.issues.push({level:0,message:"Ability does not start where the previous step ends!"});else{let e=f.position;switch(e.tile||(e.tile=l.from),null==e.direction&&(e.direction=gr.fromVector(xe.sub(l.to,l.from)),"escape"==l.ability&&(e.direction=gr.invert(e.direction))),l.ability){case"surge":{let t=yield yr.surge(e);t&&Te.eq(l.to,t.tile)||c.issues.push({level:0,message:"Surge target does not match where it would end up!"});break}case"escape":{let t=yield yr.escape(e);t&&Te.eq(l.to,t.tile)||c.issues.push({level:0,message:"Escape target does not match where it would end up!"});break}case"dive":{let t=yield yr.dive(e.tile,l.to);t&&Te.eq(l.to,t.tile)||c.issues.push({level:0,message:"Dive target can't be reached!"});break}case"barge":{let t=yield yr.barge(e.tile,l.to);t&&Te.eq(l.to,t.tile)||c.issues.push({level:0,message:"Barge target can't be reached!"});break}}}const d=()=>f.tick-f.acceleration_activation_tick<=10;switch(l.ability){case"surge":{let e=n(f.cooldowns.surge),t=f.cooldowns.surge[e]-f.tick;t>0&&(f.assumptions.double_surge&&t<=2&&f.cooldowns.surge[1-e]>=o("surge",d(),f.assumptions.mobile_perk)-2?c.issues.push({level:1,message:`Antispam delay. Delaying for ${t} ticks.`}):c.issues.push({level:t>=4?0:1,message:`All surge charges are still on cooldown for ${t} ticks!`}),f.tick=f.cooldowns.surge[e]),f.cooldowns.surge[e]=f.tick+o("surge",d(),f.assumptions.mobile_perk);for(let e=0;e<f.cooldowns.surge.length;e++)f.cooldowns.surge[e]=Math.max(f.tick+(d()?1:2),f.cooldowns.surge[e]);f.cooldowns.escape.fill(f.tick+o("escape",d(),f.assumptions.mobile_perk));break}case"escape":{let e=n(f.cooldowns.escape),t=f.cooldowns.escape[e]-f.tick;t>0&&(f.assumptions.double_escape&&t<=2&&f.cooldowns.escape[1-e]>=o("escape",d(),f.assumptions.mobile_perk)-2?c.issues.push({level:1,message:`Antispam delay. Delaying for ${t} ticks.`}):c.issues.push({level:t>=4?0:1,message:`All escape charges are still on cooldown for ${t} ticks!`}),f.tick=f.cooldowns.escape[e]),f.cooldowns.escape[e]=f.tick+o("escape",d(),f.assumptions.mobile_perk);for(let e=0;e<f.cooldowns.escape.length;e++)f.cooldowns.escape[e]=Math.max(f.tick+2,f.cooldowns.escape[e]);f.cooldowns.surge.fill(f.tick+o("surge",d(),f.assumptions.mobile_perk));break}case"dive":{let e=f.cooldowns.dive-f.tick;e>0&&(c.issues.push({level:e>=4?0:1,message:`Dive is still on cooldown for ${e} ticks!`}),f.tick=f.cooldowns.dive),f.cooldowns.dive=f.tick+o("dive",d(),f.assumptions.mobile_perk);break}case"barge":{let e=f.cooldowns.barge-f.tick;e>0&&(c.issues.push({level:e>=4?0:1,message:`Barge is still on cooldown for ${e} ticks!`}),f.tick=f.cooldowns.barge),f.cooldowns.barge=f.tick+o("barge",d(),f.assumptions.mobile_perk);break}}switch(f.position={tile:l.to,direction:gr.fromVector(xe.sub(l.to,l.from))},"escape"==l.ability&&(f.position.direction=gr.invert(f.position.direction)),l.ability){case"surge":case"dive":case"escape":break;case"barge":f.tick+=1}f.targeted_entity=null;break;case"teleport":let g=t(l.id);if(r(g.targetArea()).query(l.spot)||c.issues.push({level:0,message:"Teleport destination tile is outside of the teleport area."}),l.spot?f.position.tile=l.spot:f.position.tile=g.centerOfTarget(),"entity"==(null===(u=g.access)||void 0===u?void 0:u.type))switch(null!==(p=g.access.orientation)&&void 0!==p?p:"toentitybefore"){case"bymovement":c.pre_state.position.tile&&(f.position.direction=gr.fromVector(xe.sub(f.position.tile,c.pre_state.position.tile)));break;case"toentitybefore":c.pre_state.position.tile&&(f.position.direction=gr.fromVector(xe.sub(g.access.clickable_area.origin,c.pre_state.position.tile)));break;case"toentityafter":f.position.direction=gr.fromVector(xe.sub(g.access.clickable_area.origin,f.position.tile))}null!=g.spot.facing&&(f.position.direction=g.spot.facing),f.tick+=g.props.menu_ticks,f.tick+=g.props.animation_ticks,f.targeted_entity=null;break;case"transport":let y=l.internal,m=y.actions[0];!f.position.tile||r(m.interactive_area||a(y)).query(f.position.tile)||c.issues.push({level:0,message:"Player is not in the interactive area for this shortcut!"}),f.position.tile&&!Te.eq2(f.position.tile,l.assumed_start)&&c.issues.push({level:0,message:"Ability does not start where the previous step ends!"});let _=l.assumed_start,v=ha.EntityAction.findApplicable(m,_);switch(v||(c.issues.push({level:0,message:"No applicable movement option from this tile"}),v=m.movement[0]),v.offset?(f.position.tile=Te.move(_,v.offset),f.position.tile.level+=v.offset.level):v.fixed_target&&(f.position.tile=r(mr.normalize(v.fixed_target.target)).center()),null!==(h=v.orientation)&&void 0!==h?h:"toentityafter"){case"bymovement":f.position.direction=gr.fromVector(xe.sub(f.position.tile,_));break;case"forced":f.position.direction=v.forced_orientation.dir;break;case"toentitybefore":f.position.direction=gr.fromVector(xe.sub(ze.center(y.clickable_area),_));break;case"toentityafter":f.position.direction=gr.fromVector(xe.sub(ze.center(y.clickable_area),f.position.tile))}f.tick+=v.time;break;case"redclick":let x=e[s+1];"run"!=(null==x?void 0:x.type)?c.issues.push({level:0,message:"Redclicking is not followed by a run"}):x&&gr.fromVector(xe.sub(i(x.waypoints,-1),i(x.waypoints,-2)))==gr.fromVector(xe.sub(l.where,i(x.waypoints,-1)))&&c.issues.push({level:1,message:"Redclicking orientation is the same as natural orientation."}),f.targeted_entity=l.where;break;case"powerburst":f.position.tile&&!Te.eq(f.position.tile,l.where)&&(c.issues.push({level:0,message:"Position of powerburst does not match where the player is at that point."}),f.position.tile=l.where),f.tick-f.acceleration_activation_tick<120&&(c.issues.push({level:1,message:`Powerburst of acceleration still on cooldown for ${f.acceleration_activation_tick+120-f.tick} ticks!`}),f.tick=f.acceleration_activation_tick+120),f.cooldowns.surge=f.assumptions.double_surge?[f.tick,f.tick]:[f.tick],f.cooldowns.escape=f.assumptions.double_surge?[f.tick,f.tick]:[f.tick],f.cooldowns.dive=f.tick,f.acceleration_activation_tick=f.tick}c.post_state=oe.cloneDeep(f),g.push(c)}let y=(null===(d=i(g,-1))||void 0===d?void 0:d.post_state)||s,m=[];return!c||f.position.tile&&c.some((e=>e.query(f.position.tile)))||m.push({level:0,message:"Path does not end in target area"}),{pre_state:s,post_state:y,raw:e,steps:g,issues:m,target:c}},new((u=void 0)||(u=Promise))((function(e,t){function i(e){try{o(p.next(e))}catch(e){t(e)}}function n(e){try{o(p.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof u?o:new u((function(e){e(o)}))).then(i,n)}o((p=p.apply(s,c||[])).next())}));var s,c,u,p},e.title=function(e){switch(e.type){case"orientation":return`Face ${gr.toString(e.direction)}`;case"ability":return`${s(e.ability)}`;case"run":return`Run ${fr.pathLength(e.waypoints)} tiles`;case"teleport":return"Teleport";case"transport":return"Use entity";case"redclick":return"Redclick";case"powerburst":return"Use Powerburst";case"cheat":return"Custom Movement";case"cosmetic":return"Note"}return"MISSING"},e.collect_issues=function(e){const t=[];for(let i of e.steps)for(let e of i.issues)t.push(Object.assign(Object.assign({},e),{step:i}));return t.push(...e.issues.map((t=>Object.assign(Object.assign({},t),{path:e})))),t},e.export_path=function(e){return ra.exp({type:"path",version:1},!0,!0)(e)},e.import_path=function(e){return ra.imp({expected_type:"path",expected_version:1,migrations:[{from:0,to:1,f:e=>e.steps}]})(e)},e.bounds=function(e,t=!0){return ze.lift(we.combine(...e.map(((e,i)=>{const n=t?{keep:0==i?"start":"end"}:null;return p.bounds(e,n)}))),g(e))},e.level=g,function(i){i.bounds=function(i,n=null){var o;switch(i.type){case"ability":return we.from(i.from,i.to);case"run":return we.from(...i.waypoints);case"teleport":return i.spot?we.from(i.spot):we.from(t(i.id).centerOfTarget());case"redclick":case"powerburst":return we.from(i.where);case"cheat":return i.is_arrival_only?ze.from(i.target):i.assumed_start?n&&y(i,null,null!==(o=n.threshold)&&void 0!==o?o:f)?"start"==n.keep?we.from(i.target):we.from(i.assumed_start):we.from(i.assumed_start,i.target):we.from(i.target);case"transport":const s=e.ends_up([i]);if(i.is_arrival_only)return ze.from(s);let r=i.internal.clickable_area;return n&&(!i.assumed_start||xe.max_axis(xe.sub(s,i.assumed_start))>=64)?"start"==n.keep?r=we.extendTo(r,s):i.assumed_start&&(r=we.extendTo(r,i.assumed_start)):(r=we.extendTo(r,s),i.assumed_start&&(r=we.extendTo(r,i.assumed_start))),r;case"orientation":return we.from({x:0,y:0});case"cosmetic":return we.from(i.position);default:return null}},i.level=function(e){switch(e.type){case"orientation":return 0;case"ability":return e.to.level;case"run":return e.waypoints[0].level;case"teleport":return t(e.id).centerOfTarget().level;case"redclick":case"powerburst":return e.where.level;case"transport":return e.internal.clickable_area.level;case"cheat":return e.target.level;case"cosmetic":return e.position.level}},i.name=function(e){return"ability"===e.type?oe.capitalize(e.ability):oe.capitalize(e.type.toUpperCase())}}(p=e.Step||(e.Step={})),function(e){e.split_into_sections=function(e,t="root",n=f){const o=[],s=e=>{e>0&&(0==o.length||i(o,-1)!=e)&&o.push(e)};let r=null;for(let t=0;t<e.length;t++){const i=e[t],n=d([i]);"teleport"==i.type?t>=1&&"orientation"==e[t-1].type?s(t-1):s(t):"transport"!=i.type&&"cheat"!=i.type||!r||(r&&(null==n?void 0:n.level)!=r.level||y(i))&&s(t+1),n&&(r=n)}s(e.length);const a=da.init({name:t});let l=null;return o.forEach(((t,i)=>{const s=da.add(a,da.inner({name:`Section ${i+1}`})),r=0==i?0:o[i-1],c=e.slice(r,t);l&&c.splice(0,0,l),s.children=da.leafs(c),l=null;const u=c[c.length-1];y(u,{path:e,position:t-1},n)&&(l=Object.assign(Object.assign({},u),{is_arrival_only:!0}))})),l&&da.add(a,da.inner({name:`Section ${o.length+1}`},da.leafs([l]))),a}}(h=e.Section||(e.Section={}));const f=16;function y(e,t=null,i=f){switch(e.type){case"transport":case"cheat":const n=d([e]);return xe.max_axis(xe.sub(e.assumed_start,n))>i;case"teleport":return!!t&&t.position>0&&"orientation"==t.path[t.position-1].type;default:return!1}}e.isFar=y}(wa||(wa={}));var ba=ie.spacer,ka=Fi.observe_combined;class Ta extends Ii{constructor(e,t=null){super(c("<div class='ctr-map-control-header'></div>")),this.name=qi(e),this.close_handler=qi(t),ka({name:this.name,close_handle:this.close_handler}).subscribe((({name:e,close_handle:t})=>{this.empty(),this.append(c().text(e)).append(ba().css("min-width","20px")),t&&this.append(c("<div class='ctr-map-control-header-close'>&times;</div>").tooltip("Close").tapRaw((e=>e.on("click",(()=>t())))))}),!0)}}class za extends Ii{constructor(e,t=null){super(),this.header=new Ta(e,t).appendTo(this),this.body=c("<div class='ctr-map-control-body'></div>").appendTo(this)}setContent(e){return this.body.empty().append(e),this}}class Sa extends Vr{constructor(e={}){var t;super({type:"gapless",position:"top-center"},new za(null!==(t=e.name)&&void 0!==t?t:"Interaction",e.cancel_handler)),this._config=e,this.content.addClass("ctr-interaction-control")}setCancelHandler(e){return this._config.cancel_handler=e,this.content.header.close_handler.set(e),this}setName(e){return this.content.header.name.set(e),this}setContent(e){return this.content.setContent(e),this}setText(e){return this.setContent(c().text(e))}eventKeyDown(e){this._config.cancel_handler&&e.onPre((()=>{"Escape"==e.original.key&&(e.stopAllPropagation(),this._config.cancel_handler())}))}}class Ca extends Zr{constructor(e={}){super(),this.config=e,this._preview=null,this.value=qi({value:null,committed:!1}),this.setPreviewFunction(e.preview_render),e.preview_render&&this.onPreview((e=>{var t,i;this._preview&&this._preview.remove(),null!=e&&(this._preview=null===(i=null===(t=this.previewFunction)||void 0===t?void 0:t.call(this,e))||void 0===i?void 0:i.addTo(this))}))}setPreviewFunction(e){return this.previewFunction=e,this.preview(this.value.value().value),this}cancel(){this.value.value().committed||this.value.set({value:null,committed:!0}),super.cancel()}commit(e){this.value.set({value:e,committed:!0}),this.cancel()}preview(e){return this.value.set({value:e,committed:!1}),this}onChange(e){return this.value.subscribe(e),this}onPreview(e){return this.value.subscribe((t=>{t.committed||e(t.value)})),this}onCommit(e){return this.value.subscribe((t=>{t.committed&&t.value&&e(t.value)})),this}onDiscarded(e){return this.value.subscribe((t=>{t.committed&&!t.value&&e()})),this}}var Aa=ie.cls,Ea=ie.hgrid;class Pa extends Ii{constructor(){super(),this.addClass("nisl-properties")}header(e,t="center",i=0){return c("<div class='nisl-property-header nisl-property-row'></div>").addClass(`nisl-property-header-${i}`).css("text-align",t).append(e).appendTo(this),this}paragraph(...e){return this.row(Aa("nisl-property-paragraph").append(...e)),this}row(e){return c("<div class='nisl-property-row'></div>").append(e).appendTo(this),this}named(e,t){return c("<div class='nisl-property-name'>").append(e).appendTo(this),c("<div class='nisl-property-content'></div>").append(t).appendTo(this),this}divider(){return c("<div class='nisl-property-hline'></div>").appendTo(this),this}}class Ma extends Ii{constructor(e,t=2){super(Ea()),e.forEach((e=>{this.append(e.content)}));const i=Math.ceil(e.length/t);for(let n=0;n<t;n++){const t=new Pa;for(let o=0;o<i;o++){const s=e[n*i+o];t.named(s.name,s.content)}n>0&&t.css("margin-left","5px"),this.append(t)}}}var La,Da,Ia,Oa,Ra=ie.div,Ba=ie.img;class Fa extends Ii{constructor(e){super(),this.tooltip(e.hover()),this.addClass("ctr-teleport-icon"),this.append(Ba(`assets/icons/teleports/${e.image().url}`),Ra().text(e.code()))}}!function(e){e.all=function(){return[{type:"generic",icon_url:"/assets/icons/cursor_generic.png",description:"Click",short_icon:"cursor_generic"},{type:"chop",icon_url:"/assets/icons/cursor_chop.png",description:"Chop",short_icon:"cursor_chop"},{type:"talk",icon_url:"/assets/icons/cursor_talk.png",description:"Talk to",short_icon:"cursor_talk"},{type:"open",icon_url:"/assets/icons/cursor_open.png",description:"Open",short_icon:"cursor_open"},{type:"enter",icon_url:"/assets/icons/cursor_enter.png",description:"Enter",short_icon:"cursor_enter"},{type:"spellonentity",icon_url:"/assets/icons/cursor_alchemy.png",description:"Use spell",short_icon:"cursor_spell"},{type:"agility",icon_url:"/assets/icons/cursor_agility.png",description:"Use",short_icon:"cursor_agility"},{type:"ladderdown",icon_url:"/assets/icons/cursor_ladderdown.png",description:"Climb down ladder",short_icon:"cursor_ladderdown"},{type:"ladderup",icon_url:"/assets/icons/cursor_ladderup.png",description:"Climb up ladder",short_icon:"cursor_ladderup"},{type:"read",icon_url:"/assets/icons/cursor_read.png",description:"Read",short_icon:"cursor_read"},{type:"fish",icon_url:"/assets/icons/cursor_fish.png",description:"Fish",short_icon:"cursor_fish"},{type:"search",icon_url:"/assets/icons/cursor_search.png",description:"Search",short_icon:"cursor_search"},{type:"attack",icon_url:"/assets/icons/cursor_attack.png",description:"Attack",short_icon:"cursor_attack"},{type:"craft",icon_url:"/assets/icons/cursor_craft.png",description:"Craft at",short_icon:"cursor_craft"},{type:"build",icon_url:"/assets/icons/cursor_build.png",description:"Build",short_icon:"cursor_build"},{type:"mine",icon_url:"/assets/icons/cursor_mine.png",description:"Mine",short_icon:"cursor_mine"},{type:"trade",icon_url:"/assets/icons/cursor_trade.png",description:"Trade",short_icon:"cursor_trade"},{type:"use",icon_url:"/assets/icons/cursor_use.png",description:"Use",short_icon:"cursor_use"},{type:"cook",icon_url:"/assets/icons/cursor_cook.png",description:"Cook",short_icon:"cursor_cook"},{type:"divine",icon_url:"/assets/icons/cursor_divine.png",description:"Divine",short_icon:"cursor_divine"},{type:"loot",icon_url:"/assets/icons/cursor_loot.png",description:"Loot",short_icon:"cursor_loot"},{type:"picklock",icon_url:"/assets/icons/cursor_picklock.png",description:"Pick Lock",short_icon:"cursor_picklock"},{type:"shovel",icon_url:"/assets/icons/cursor_shovel.png",description:"Shovel",short_icon:"cursor_shovel"},{type:"equip",icon_url:"/assets/icons/cursor_equip.png",description:"Equip",short_icon:"cursor_equip"},{type:"discover",icon_url:"/assets/icons/cursor_discover.png",description:"Discover",short_icon:"cursor_discover"},{type:"smith",icon_url:"/assets/icons/cursor_smith.png",description:"Smith",short_icon:"cursor_smith"},{type:"herblore",icon_url:"/assets/icons/cursor_herblore.png",description:"Herblore",short_icon:"cursor_herblore"},{type:"hunt",icon_url:"/assets/icons/cursor_hunt.png",description:"Hunt",short_icon:"cursor_hunt"},{type:"burn",icon_url:"/assets/icons/cursor_burn.png",description:"Burn",short_icon:"cursor_burn"},{type:"pray",icon_url:"/assets/icons/cursor_pray.png",description:"Pray",short_icon:"cursor_pray"},{type:"runecraft",icon_url:"/assets/icons/cursor_runecraft.png",description:"Runecraft",short_icon:"cursor_runecraft"},{type:"thieve",icon_url:"/assets/icons/cursor_thieve.png",description:"Thieve",short_icon:"cursor_thieve"},{type:"disassemble",icon_url:"/assets/icons/cursor_invention.png",description:"Disassemble",short_icon:"cursor_invention"},{type:"farm",icon_url:"/assets/icons/cursor_farm.png",description:"Forage",short_icon:"cursor_farm"},{type:"jump",icon_url:"/assets/icons/cursor_jump.png",description:"Jump",short_icon:"cursor_jump"}]},e.meta=function(e){return[{type:"generic",icon_url:"/assets/icons/cursor_generic.png",description:"Click",short_icon:"cursor_generic"},{type:"chop",icon_url:"/assets/icons/cursor_chop.png",description:"Chop",short_icon:"cursor_chop"},{type:"talk",icon_url:"/assets/icons/cursor_talk.png",description:"Talk to",short_icon:"cursor_talk"},{type:"open",icon_url:"/assets/icons/cursor_open.png",description:"Open",short_icon:"cursor_open"},{type:"enter",icon_url:"/assets/icons/cursor_enter.png",description:"Enter",short_icon:"cursor_enter"},{type:"spellonentity",icon_url:"/assets/icons/cursor_alchemy.png",description:"Use spell",short_icon:"cursor_spell"},{type:"agility",icon_url:"/assets/icons/cursor_agility.png",description:"Use",short_icon:"cursor_agility"},{type:"ladderdown",icon_url:"/assets/icons/cursor_ladderdown.png",description:"Climb down ladder",short_icon:"cursor_ladderdown"},{type:"ladderup",icon_url:"/assets/icons/cursor_ladderup.png",description:"Climb up ladder",short_icon:"cursor_ladderup"},{type:"read",icon_url:"/assets/icons/cursor_read.png",description:"Read",short_icon:"cursor_read"},{type:"fish",icon_url:"/assets/icons/cursor_fish.png",description:"Fish",short_icon:"cursor_fish"},{type:"search",icon_url:"/assets/icons/cursor_search.png",description:"Search",short_icon:"cursor_search"},{type:"attack",icon_url:"/assets/icons/cursor_attack.png",description:"Attack",short_icon:"cursor_attack"},{type:"craft",icon_url:"/assets/icons/cursor_craft.png",description:"Craft at",short_icon:"cursor_craft"},{type:"build",icon_url:"/assets/icons/cursor_build.png",description:"Build",short_icon:"cursor_build"},{type:"mine",icon_url:"/assets/icons/cursor_mine.png",description:"Mine",short_icon:"cursor_mine"},{type:"trade",icon_url:"/assets/icons/cursor_trade.png",description:"Trade",short_icon:"cursor_trade"},{type:"use",icon_url:"/assets/icons/cursor_use.png",description:"Use",short_icon:"cursor_use"},{type:"cook",icon_url:"/assets/icons/cursor_cook.png",description:"Cook",short_icon:"cursor_cook"},{type:"divine",icon_url:"/assets/icons/cursor_divine.png",description:"Divine",short_icon:"cursor_divine"},{type:"loot",icon_url:"/assets/icons/cursor_loot.png",description:"Loot",short_icon:"cursor_loot"},{type:"picklock",icon_url:"/assets/icons/cursor_picklock.png",description:"Pick Lock",short_icon:"cursor_picklock"},{type:"shovel",icon_url:"/assets/icons/cursor_shovel.png",description:"Shovel",short_icon:"cursor_shovel"},{type:"equip",icon_url:"/assets/icons/cursor_equip.png",description:"Equip",short_icon:"cursor_equip"},{type:"discover",icon_url:"/assets/icons/cursor_discover.png",description:"Discover",short_icon:"cursor_discover"},{type:"smith",icon_url:"/assets/icons/cursor_smith.png",description:"Smith",short_icon:"cursor_smith"},{type:"herblore",icon_url:"/assets/icons/cursor_herblore.png",description:"Herblore",short_icon:"cursor_herblore"},{type:"hunt",icon_url:"/assets/icons/cursor_hunt.png",description:"Hunt",short_icon:"cursor_hunt"},{type:"burn",icon_url:"/assets/icons/cursor_burn.png",description:"Burn",short_icon:"cursor_burn"},{type:"pray",icon_url:"/assets/icons/cursor_pray.png",description:"Pray",short_icon:"cursor_pray"},{type:"runecraft",icon_url:"/assets/icons/cursor_runecraft.png",description:"Runecraft",short_icon:"cursor_runecraft"},{type:"thieve",icon_url:"/assets/icons/cursor_thieve.png",description:"Thieve",short_icon:"cursor_thieve"},{type:"disassemble",icon_url:"/assets/icons/cursor_invention.png",description:"Disassemble",short_icon:"cursor_invention"},{type:"farm",icon_url:"/assets/icons/cursor_farm.png",description:"Forage",short_icon:"cursor_farm"},{type:"jump",icon_url:"/assets/icons/cursor_jump.png",description:"Jump",short_icon:"cursor_jump"}].find((t=>t.type==e))},e.defaultEntity=function(e){switch(e){case"generic":case"spellonentity":case"craft":case"build":case"use":case"cook":case"divine":case"picklock":case"shovel":case"hunt":case"discover":case"smith":case"herblore":case"burn":case"pray":case"runecraft":return{kind:"static",name:"Entity"};case"chop":return{kind:"static",name:"Tree"};case"talk":case"trade":case"thieve":return{kind:"npc",name:"NPC"};case"attack":return{kind:"npc",name:"Monster"};case"open":return{kind:"static",name:"Door"};case"enter":return{kind:"static",name:"Cave"};case"agility":return{kind:"static",name:"Shortcut"};case"ladderdown":case"ladderup":return{kind:"static",name:"Stairs"};case"read":return{kind:"static",name:"Book"};case"fish":return{kind:"static",name:"Fishing Spot"};case"search":return{kind:"static",name:"Chest"};case"mine":return{kind:"static",name:"Rock"};case"loot":case"equip":return{kind:"item",name:"Item"}}},e.getIcon=function(t){const i=e.meta(t);return{file_name:`${i.short_icon}.png`,id:"",name:i.description,size_on_map:{x:28,y:31},map_anchor:{x:4,y:1}}},e.fromCacheCursor=function(e){return{0:"generic",5:"trade",42:"attack",44:"talk",46:"use",49:"open",51:"equip",52:"ladderup",53:"ladderdown",55:"jump",56:"search",57:"enter",58:"mine",59:"chop",60:"fish",61:"pray",63:"smith",64:"cook",171:"farm",173:"shovel",181:"agility",200:"divine",208:"discover"}[null!=e?e:0]||"generic"},e.iconSize=function(e=1){return[28*e,31*e]},e.iconAnchor=function(e=1,t=!1){return t?[14*e,16*e]:[3*e,0]}}(La||(La={})),function(e){e.all=[{id:"ability-surge",name:"Surge",file_name:"surge.png",size_on_map:{x:20,y:20}},{id:"ability-escape",name:"Escape",file_name:"escape.png",size_on_map:{x:20,y:20}},{id:"ability-barge",name:"Barge",file_name:"barge.png",size_on_map:{x:20,y:20}},{id:"ability-dive-combined",name:"(Bladed) Dive",file_name:"dive.png",size_on_map:{x:20,y:20}},{id:"notes",name:"Note",file_name:"notes.png",size_on_map:{x:20,y:20}},{id:"run",name:"Run",file_name:"run.png",size_on_map:{x:20,y:20}},{id:"item/fetch-casket",name:"Fetch Casket",file_name:"fetch_casket.png",size_on_map:{x:20,y:20}},{id:"item/meerkats",name:"Meerkats Pouch",file_name:"Meerkats_pouch.png",size_on_map:{x:20,y:20}},{id:"item/spade",name:"Spade",file_name:"spade.webp",size_on_map:{x:20,y:20}},{id:"item/powerburst-of-acceleration",name:"Powerburst of Acceleration",file_name:"accel.png",size_on_map:{x:18,y:24}},{id:"item/rotten-potato",name:"Rotten Potato",file_name:"Rotten_potato.png",size_on_map:{x:20,y:20}},{id:"item/decorated_fire_urn",name:"Decorated Fire Urn",file_name:"decorated_fire_urn.png",size_on_map:{x:20,y:19}},{id:"item/sara_brew",name:"Saradomin brew (3)",file_name:"sara_brew.png",size_on_map:{x:14,y:20}},{id:"item/zammy_brew",name:"Zamorak brew (3)",file_name:"zammy_brew.png",size_on_map:{x:14,y:20}},{id:"item/magic_logs",name:"Magic Logs",file_name:"magic_logs.png",size_on_map:{x:22,y:18}},{id:"item/elder_logs",name:"Elder Logs",file_name:"elder_logs.png",size_on_map:{x:22,y:18}},{id:"spell/bake_pie",name:"Bake Pie",file_name:"bake_pie.webp",size_on_map:{x:20,y:20}},{id:"item/black_dhide_body",name:"Black dragonhide body",file_name:"black_dhide_body.webp",size_on_map:{x:20,y:19}},{id:"item/combatdummymk2",name:"Combat dummy MKII",file_name:"Combat_dummy_MKII.webp",size_on_map:{x:22,y:31}},{id:"item/globetrotter_jacket",name:"Globetrotter Jacket",file_name:"Globetrotter_jacket.webp",size_on_map:{x:27,y:24}},{id:"item/globetrotter_backpack",name:"Globetrotter Backpack",file_name:"Globetrotter_backpack.webp",size_on_map:{x:25,y:23}},...La.all().map((e=>({id:`cursor/${e.type}`,name:e.description,file_name:`${e.short_icon}.png`,size_on_map:{x:28,y:31}})))];const t=Object.fromEntries(e.all.map((e=>[e.id,e])));e.search_term=function(e){const t=[];return t.push(e.file_name.split(".")[0]),t.push(e.id),e.search_term&&t.push(e.search_term),t.join("")},e.url=function(e){return`assets/icons/${e.file_name}`},e.get=function(e){return t[e]}}(Da||(Da={})),function(e){var t=ie.span,i=ie.inlineimg,n=va.resolveTeleport;let o;function s(e){switch(e){case"surge":return"assets/icons/surge.png";case"escape":return"assets/icons/escape.png";case"barge":return"assets/icons/barge.png";case"dive":return"assets/icons/dive.png"}}!function(e){var t=ie.inlineimg,i=ie.cls;e.asSpan=function(e){var n;return c("<span style='position: relative'>").tooltip(e.hover()).append(t(`assets/icons/teleports/${e.image().url}`),i("tele-icon-code-overlay").append(null!==(n=e.code())&&void 0!==n?n:""))}}(o=e.Teleport||(e.Teleport={})),e.ability_icon=s,e.asSpan=function(o){switch(o.type){case"orientation":return t().append(i("assets/icons/compass.png"),gr.toShortString(o.direction));case"ability":return i(s(o.ability));case"run":return t().append(i("assets/icons/run.png"),(o.waypoints.length-1).toString());case"teleport":let r=n(o.id);return r?e.Teleport.asSpan(r):i("assets/teleports/homeport.png");case"transport":return i(La.meta(o.internal.actions[0].cursor).icon_url);case"redclick":return i("assets/icons/redclick.png");case"powerburst":return i("assets/icons/accel.png");case"cheat":return i("assets/icons/Rotten_potato.png")}},e.createX=function(e,t,i=16,n=void 0,o=void 0){return ce.marker(xe.toLatLong(e),{icon:ce.icon({iconUrl:{red:"/assets/icons/redclick.png",yellow:"/assets/icons/yellowclick.png"}[t],iconSize:[i,i],iconAnchor:[i/2,i/2],className:n?`\n      no-antialiasing ${n}`:"no-antialiasing"}),interactive:!1,opacity:o})},e.arrow=function(e,t,i={type:"tip",arm_length:.5}){let n=xe.sub(e,t);if(xe.lengthSquared(n)<1)return ce.polyline([]);const o=[];switch(i.type){case"tip":{let s=xe.scale(i.arm_length,xe.rotate(xe.normalize(n),Math.PI/4)),r=xe.scale(i.arm_length,xe.rotate(xe.normalize(n),-Math.PI/4));o.push([e,t],[xe.add(t,s),t,xe.add(t,r)]);break}case"bar":{let s=xe.scale(i.arm_length,xe.rotate(xe.normalize(n),Math.PI/2)),r=xe.scale(i.arm_length,xe.rotate(xe.normalize(n),-Math.PI/2));o.push([e,t],[xe.add(t,s),xe.add(t,r)]);break}case"x":{let s=[{x:-i.arm_length,y:-i.arm_length},{x:-i.arm_length,y:i.arm_length},{x:i.arm_length,y:i.arm_length},{x:i.arm_length,y:-i.arm_length}];if(!i.ignore_rotation){const e=xe.angle(n,{x:0,y:1});s=s.map((t=>xe.rotate(t,-e)))}o.push([e,t],[xe.add(t,s[0]),xe.add(t,s[2])],[xe.add(t,s[1]),xe.add(t,s[3])]);break}case"none":o.push([e,t])}return ce.polyline(o.map((e=>e.map(xe.toLatLong)))).setStyle({interactive:!0})},e.arrowHead=function(e,t,i){if("arrow"===e){let e=xe.scale(.7,xe.rotate(i,Math.PI/4)),n=xe.scale(.7,xe.rotate(i,-Math.PI/4));return ce.polyline([[xe.toLatLong(t),xe.toLatLong(xe.add(t,e))],[xe.toLatLong(t),xe.toLatLong(xe.add(t,n))]])}}}(Ia||(Ia={})),function(e){e.templateString=function(e){switch(e.type){case"orientation":return`Face ${gr.toString(e.direction)}`;case"run":return"{{icon run}}";case"ability":return`{{${e.ability}}}`;case"teleport":return`{{teleport ${e.id.group} ${e.id.spot}}}`;case"powerburst":return"{{icon accel}}";case"redclick":return`{{icon ${La.meta(e.how).short_icon}}}`;case"transport":return`{{icon ${La.meta(e.internal.actions[0].cursor).short_icon}}}`;case"cheat":return"{{icon Rotten_potato}}"}},e.getIcon=function(e){switch(e.type){case"orientation":return c("<img class='text-icon' src='assets/icons/compass.png'>");case"run":return c("<img class='text-icon' src='assets/icons/run.png'>");case"ability":switch(e.ability){case"surge":return c("<img class='text-icon' src='assets/icons/surge.png'>");case"escape":return c("<img class='text-icon' src='assets/icons/escape.png'>");case"barge":return c("<img class='text-icon' src='assets/icons/barge.png'>");case"dive":return c("<img class='text-icon' src='assets/icons/dive.png'>")}break;case"teleport":return c("<img class='text-icon' src='assets/icons/teleports/homeport.png'>");case"redclick":return c("<img class='text-icon' src='assets/icons/redclick.png'>");case"powerburst":return c("<img class='text-icon' src='assets/icons/accel.png'>");case"cheat":return c("<img class='text-icon' src='assets/icons/Rotten_potato.png'>")}}}(Oa||(Oa={}));var Na=ie.hboxl;class ja extends Ii{constructor(e){super();const{icon:t,content:i}=ja.renderTextAndIconSeparately(e);Na(t,i).addClass("ctr-neosolving-path-legend").appendTo(this)}}!function(e){var t=ie.cls,i=ie.div,n=ie.img,o=ie.bold,s=Ia.ability_icon,r=ie.entity,a=va.resolveTeleport,l=_e.plural;e.renderTextAndIconSeparately=function(e){var c,u;const p=t("ctr-neosolving-path-stepicon"),h=i();switch(e.type){case"orientation":p.append(n("/assets/icons/compass.png")),h.append("Face ",o(gr.toString(e.direction)));break;case"ability":p.append(n(s(e.ability))),"dive"==e.ability?e.is_far_dive?h.append("Far Dive "):h.append("Precise Dive "):h.append((0,oe.capitalize)(e.ability)," "),e.target?(h.append("on ",r(e.target)),e.target_text&&h.append(", ",e.target_text)):e.target_text?h.append(e.target_text," "):h.append(o(gr.toString(gr.fromVector(xe.sub(e.to,e.from)))));break;case"run":p.append(n("/assets/icons/run.png")),h.append("Run "),e.to_text?h.append(e.to_text):h.append(`${l(fr.pathLength(e.waypoints),"tile")}`);break;case"teleport":let t=a(e.id);p.append(new Fa(t).css2({display:"inline-block",height:"20px"})),h.append("Teleport to ",o(t.spot.name));break;case"redclick":p.append(n(La.meta(e.how).icon_url)),h.append("Target ",r(e.target));break;case"powerburst":p.append(n("/assets/icons/accel.png").tooltip("Powerburst of Acceleration")),h.append("Drink ",r({kind:"item",name:"Powerburst of Acceleration"}));break;case"transport":let i=e.internal,d=null===(c=i.actions)||void 0===c?void 0:c[0];p.append(n(La.meta(e.internal.actions[0].cursor).icon_url)),h.append(null!==(u=d.name)&&void 0!==u?u:""," ",r(i.entity));break;case"cheat":p.append(n("/assets/icons/Rotten_potato.png")),h.append("Cheat Step");break;case"cosmetic":p.append(n(Da.url(Da.get(e.icon)))),h.append("Note")}return{icon:p,content:h}}}(ja||(ja={}));var Ua=s(2880),qa=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Ha=ie.vbox,Va=ie.entity;class $a extends Ji{constructor(e){super(),this.teleport=e,this.zoom_sensitivity_layers=Ji.default_zoom_scale_layers,this.zoom_sensitivity_layers=new Ki([{min:-100,value:{scale:.5}},{min:1.5,value:{scale:1}}]),this.floor_sensitivity_layers=new Yi([{floors:[e.targetArea().origin.level],value:{correct_level:!0}},{floors:Se.all,value:{correct_level:!1}}]),this.setTooltip((()=>new $a.TeleportSpotProperties(this.teleport)))}bounds(){return mr.toRect(this.teleport.targetArea())}render_implementation(e){return qa(this,void 0,void 0,(function*(){var t;const i=this.floor_sensitivity_layers.get(e.floor_group_index),n=e.highlight?1.5:this.zoom_sensitivity_layers.get(e.zoom_group_index).value.scale,o=ce.marker(xe.toLatLong(null!==(t=this.teleport.spot.icon_position_override)&&void 0!==t?t:this.teleport.centerOfTarget()),{icon:new $a.TeleportMapIcon(this.teleport,n,(e=>(i.value.correct_level||e.css("filter","grayscale(1) brightness(0.5)"),e))),riseOnHover:!0,interactive:!0,bubblingMouseEvents:!0}).addTo(this);return e.highlight&&Pr(this.teleport.targetArea()).setStyle({fillColor:"lightgreen",color:"lightgreen",stroke:!0}).addTo(this),o.getElement()}))}contextMenu(e){return qa(this,void 0,void 0,(function*(){const t=this.teleport,i=t.group.access.filter((e=>"entity"==e.type));return i.length>0&&e.addForEntity({type:"submenu",text:"Jump to Access",children:i.map((e=>(Ua("entity"==e.type),{type:"basic",text:()=>Va(e.name),handler:()=>{var t,i;null===(i=null===(t=this.parent)||void 0===t?void 0:t.getMap())||void 0===i||i.fitView(mr.toRect(e.clickable_area))}})))}),{type:"submenu",icon:`assets/icons/teleports/${t.image().url}`,text:t.hover(),children:[]}}))}}!function(e){var t=ie.cls,i=ie.hbox;class n extends ce.DivIcon{createIcon(e){var t;const i=this.scale,n=this.tele;return this.transformer(ie.div(null!==(t=this.tele.code())&&void 0!==t?t:"").css2({"background-image":`url("./assets/icons/teleports/${n.image().url}")`,color:"white",width:30*i+"px",height:30*i+"px","line-height":30*i+"px",margin:`-${30*i/2}px`,"font-size":12*i+"px"}).addClass("marktele")).raw()}constructor(e,t=1,i=oe.identity){super({iconSize:[0,0],iconAnchor:[0,0]}),this.tele=e,this.scale=t,this.transformer=i}}e.TeleportMapIcon=n,e.accessNameAsWidget=function(e){switch(e.type){case"spellbook":return c().text(e.name);case"item":case"entity":return Va(e.name)}};class o extends Pa{constructor(e){super(),this.teleport=e;const n=t("ctr-neosolving-path-stepicon").append(new Fa(this.teleport).css2({display:"inline-block",height:"20px"}));this.header(i(n,ie.space(),`${e.group.name} - ${e.spot.name}`)),o.renderBody(this.teleport,this)}}e.TeleportSpotProperties=o,function(e){e.renderBody=function(e,t){function i(e){switch(e.type){case"spellbook":return ie.div().text(e.name);case"item":case"entity":return c().append(Va(e.name))}}e.access&&t.named("Accessed by",i(e.access)),t.named("Time",`${e.props.menu_ticks+e.props.animation_ticks} (${e.props.menu_ticks} menu + ${e.props.animation_ticks} animation)`),t.named("Static",e.spot.target.size?"No":"Yes"),null!=e.spot.facing&&t.named("Orientation",gr.toString(e.spot.facing));const n=e.group.access.filter((t=>t!=e.access));n.length>0&&t.named(e.access?"Alternative Access":"Access",Ha(...n.map(i)))}}(o=e.TeleportSpotProperties||(e.TeleportSpotProperties={}))}($a||($a={}));var Wa=ie.inlineimg,Ga=ie.cls,Za=va.resolveTeleport,Ka=$a.TeleportSpotProperties;class Ya extends Pa{constructor(e,t){super(),this.step=e,this.template_resolver=t,this.render()}info(e){return this.row(Ga("ctr-step-properties-explanation").append(Wa("/assets/icons/info.png")," ",e))}render(){switch(this.header(new ja(this.step)),this.step.is_arrival_only&&this.info("This is the arrival point of the previously used method of transportation."),this.step.type){case"orientation":this.info("Manual orientation is useful when you want to surge directly after teleporting.");break;case"redclick":this.info("Targeting an entity (sometimes referred to as 'redclicking') and then clicking a tile to run somewhere causes your character to turn towards that entity when arriving at that tile. This is useful to line up surges that would otherwise not be possible or require additional walking.");break;case"ability":this.step.is_far_dive&&this.info("This is a far dive, so you can just click anywhere more than 10 tiles away in that direction to execute it.");break;case"cheat":this.info("Cheat steps are used in place of transports like cave entrances or shortcuts that aren't available in the dataset of the path editor yet.")}this.step.description?this.paragraph(...this.template_resolver.resolve(this.step.description)):"cosmetic"==this.step.type&&this.paragraph(ie.italic("The author of this path has not added any further explanation.")),"teleport"==this.step.type&&Ka.renderBody(Za(this.step.id),this)}}class Qa extends ce.Marker{constructor(e,t){var i,n,o;const s=xe.scale(null!==(i=t.scale)&&void 0!==i?i:1,null!==(n=t.override_base_size)&&void 0!==n?n:t.icon.size_on_map),r=t.centered_anchor||!t.icon.map_anchor?xe.scale(.5,s):xe.scale(null!==(o=t.scale)&&void 0!==o?o:1,t.icon.map_anchor);super(xe.toLatLong(e),{icon:ce.icon({iconUrl:`assets/icons/${t.icon.file_name}`,iconSize:xe.asTuple(s),iconAnchor:xe.asTuple(r),className:t.cls}),opacity:t.opacity})}}var Xa=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Ja=Ia.arrow,el=Ia.createX;function tl(e,t,i){return xe.add(e,xe.scale(i,xe.normalize(xe.sub(t,e))))}class il extends Ji{constructor(e){super(),this.step=e,this.floor_sensitivity_layers=new Yi([{floors:[wa.Step.level(e)],value:{correct_level:!0}},{floors:Se.all,value:{correct_level:!1}}]),this.setTooltip((()=>new Ya(this.step,ua.instance().app.template_resolver)))}bounds(){return wa.Step.bounds(this.step,null)}render_implementation(e){return Xa(this,void 0,void 0,(function*(){const t=this.step,i=this.floor_sensitivity_layers.get(e.floor_group_index).value.correct_level?"ctr-step-graphics":"ctr-step-graphics-dl",n=e.highlight?1.5:1,o=3*n,s=e.opacity,r=(()=>{var r,a,l,c;switch(t.type){case"orientation":return null;case"ability":{t.target_area&&Pr(t.target_area).setStyle({color:il.ability_rendering[t.ability].color,weight:1*n,opacity:.3*s,fillOpacity:.2*s,interactive:!1,pane:ia.pathTargetPane,className:i}).addTo(this);const e=t.is_far_dive||"dive"!=t.ability?{type:"tip",arm_length:.5}:{type:"x",arm_length:.25};return Ja(tl(t.from,t.to,.2),t.to,e).setStyle({color:il.ability_rendering[t.ability].color,weight:o,interactive:!0,className:i,opacity:s,pane:ia.pathArrowPane}).addTo(this).getElement()}case"run":{t.target_area&&(t.target_area?Pr(t.target_area):Cr(t.waypoints[t.waypoints.length-1])).setStyle({color:il.run_rendering_area_color,weight:1*n,interactive:!1,opacity:.6*s,fillOpacity:.2*s,className:i,pane:ia.pathTargetPane}).addTo(this);const e=ce.polyline(t.waypoints.map(((e,i)=>0==i&&t.waypoints.length>=2?tl(e,t.waypoints[1],.2):e)).map(xe.toLatLong),{color:"#b4b4b4",weight:o,className:i,pane:ia.pathArrowPane,opacity:s}).addTo(this),r=t.waypoints[t.waypoints.length-1],a=.1*n;return ce.polyline([[[r.y-a,r.x-a],[r.y+a,r.x+a]],[[r.y-a,r.x+a],[r.y+a,r.x-a]]]).setStyle({color:"#b0e019",weight:5*n,pane:ia.pathArrowPane}).addTo(this),e.getElement()}case"teleport":{let o=va.resolveTeleport(t.id);const a=ce.marker(xe.toLatLong(null!==(r=t.spot)&&void 0!==r?r:o.centerOfTarget()),{icon:new $a.TeleportMapIcon(o,n,(e=>e.addClass(i))),riseOnHover:!0,zIndexOffset:1,opacity:s}).addTo(this);return e.highlight&&Pr(o.targetArea()).setStyle({fillColor:"lightgreen",color:"lightgreen",stroke:!0,pane:ia.pathTargetPane,opacity:s}).addTo(this),a.getElement()}case"redclick":return el(t.where,"red",20*n,"ctr-step-graphics",s).addTo(this),new Qa(t.where,{icon:La.getIcon(t.how),scale:n,cls:i,opacity:s}).addTo(this).getElement();case"powerburst":return new Qa(t.where,{icon:Da.get("item/powerburst-of-acceleration"),scale:n,cls:i,opacity:s}).addTo(this).getElement();case"transport":{const e=t.internal,r=e.actions[0],l=null!==(a=ha.EntityAction.findApplicable(r,t.assumed_start))&&void 0!==a?a:r.movement[0],c=l.fixed_target&&!l.fixed_target.relative,u=wa.ends_up([t]),p=ze.center(e.clickable_area,!1),h=c||wa.isFar(t,null,16);return t.is_arrival_only||xe.eq(t.assumed_start,u)||h?ce.circle(xe.toLatLong(u),{radius:.1}).setStyle({color:"#069334",weight:o,className:i,pane:ia.pathArrowPane,opacity:s}).addTo(this):Ja(tl(t.assumed_start,u,.2),u).setStyle({color:"#069334",weight:o,dashArray:"10, 10",className:i,pane:ia.pathArrowPane,opacity:s}).addTo(this),new Qa(p,{icon:La.getIcon(r.cursor),scale:n,cls:i,opacity:s}).addTo(this).getElement()}case"cheat":{const e=t.assumed_start?we.center(we.from(t.assumed_start,t.target),!1):t.target,r=wa.isFar(t,null,16);return t.assumed_start&&!r?Ja(tl(t.assumed_start,t.target,.2),t.target).setStyle({color:"#069334",weight:o,dashArray:"10, 10",className:i,pane:ia.pathArrowPane,opacity:s}).addTo(this):ce.circle(xe.toLatLong(t.target),{radius:.1}).setStyle({color:"#069334",weight:o,className:i,pane:ia.pathArrowPane,opacity:s}).addTo(this),new Qa(e,{icon:Da.get("item/rotten-potato"),cls:i,scale:n,opacity:s}).addTo(this).getElement()}case"cosmetic":{const r=new Qa(t.position,{icon:Da.get(t.icon),scale:e.highlight?1.5:1,cls:i,opacity:s}).addTo(this);return!e.highlight&&t.hide_when_not_hovered||(t.area&&Pr(t.area).setStyle({color:null!==(l=t.area_color)&&void 0!==l?l:wa.COSMETIC_DEFAULT_COLORS.area,weight:1*n,opacity:.3*s,fillOpacity:.2*s,interactive:!1,pane:ia.pathTargetPane,className:i}).addTo(this),t.arrow&&Ja(t.arrow[0],t.arrow[1]).setStyle({color:null!==(c=t.arrow_color)&&void 0!==c?c:wa.COSMETIC_DEFAULT_COLORS.arrow,weight:o,opacity:.6*s,fillOpacity:.2*s,pane:ia.pathArrowPane,className:i}).addTo(this)),r.getElement()}}})();return this.setStyle({interactive:!0,className:"ctr-step-graphics",opacity:s}),r}))}contextMenu(e){return Xa(this,void 0,void 0,(function*(){return{type:"submenu",text:wa.Step.name(this.step),children:[]}}))}}!function(e){e.ability_rendering={barge:{color:"#a97104",icon:"ability-barge"},dive:{color:"#e7d82c",icon:"ability-dive-combined"},escape:{color:"#56ba0f",icon:"ability-escape"},surge:{color:"#0091f2",icon:"ability-surge"}},e.run_rendering_area_color="#6970d9",e.renderPath=function(t){let i=new Or;for(let n of t)new e(n).addTo(i);return i}}(il||(il={}));var nl=yr.possibility_raster,ol=Fi.observe_combined,sl=_e.eqWithNull;class rl extends ce.FeatureGroup{constructor(e,t=[]){super(),this.tile=e,this.surge_escape_for=t,this.render()}render(){return e=this,t=void 0,n=function*(){const e=yield nl(kr.get(),this.tile,this.surge_escape_for);function t(e){return{fillOpacity:.2,stroke:!1,fillColor:e}}const i=[];for(let n=0;n<e.data.size.x;n++)for(let o=0;o<e.data.size.y;o++){const s=Te.move(e.data.origin,{x:n,y:o});if(e.data.query(s))if(this.surge_escape_for.length>0){const n=e.targets.some((e=>xe.eq(s,e.surge))),o=e.targets.some((e=>xe.eq(s,e.escape)));if(n&&o){const[e,n]=Ar(s,[t("#426896"),t("#234709")]);i.push(e,n)}else n?i.push(Cr(s,t("#426896"))):o?i.push(Cr(s,t("#234709"))):i.push(Cr(s,t("#e2c40c")))}else i.push(Cr(s,t("#e2c40c")));else i.push(Cr(s,t("red")))}i.forEach((e=>e.addTo(this)))},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}}class al extends Or{constructor(e){super(),this.active_lens=null,this.enabled1=qi(!0),this.enabled2=qi(!0),this.static=qi(!0),this.render_for_state=qi(null).equality(sl(dr.eq)),e.cursor_state.subscribe((e=>{var t;this.static.value()&&this.render_for_state.set(null===(t=null==e?void 0:e.state)||void 0===t?void 0:t.position)}),!0),this.static.subscribe((t=>{var i,n;t&&this.render_for_state.set(null===(n=null===(i=e.cursor_state.value())||void 0===i?void 0:i.state)||void 0===n?void 0:n.position)})),ol({enabled1:this.enabled1,enabled2:this.enabled2,state:this.render_for_state}).subscribe((({enabled1:e,enabled2:t,state:i})=>{const n=e&&t&&(null==i?void 0:i.tile);this.render(n?i:void 0)}),!0)}render(e){this.active_lens&&(this.active_lens.remove(),this.active_lens=null),(null==e?void 0:e.tile)&&(this.active_lens=new rl(e.tile,e.direction?[e.direction]:gr.all).addTo(this))}eventHover(e){e.onPre((()=>{this.static.value()||this.render_for_state.set({tile:e.tile(),direction:0})}))}}var ll=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},cl=Fi.observe_combined,ul=Ia.arrow,pl=yr.isFarDive;class hl extends Ca{constructor(e){super({}),this.ability=e,this._possibility_overlay=null,this._preview_arrow=null,this.start_position=qi(null).equality(Te.eq2),this.current_target=qi(null).equality(((e,t)=>Te.eq2(null==e?void 0:e.tile,null==t?void 0:t.tile)&&(null==e?void 0:e.forced)==(null==t?void 0:t.forced))),this.overlay_tile=qi(null).equality(Te.eq2),this.attachTopControl((new Sa).setName(`Drawing ${e}`)),cl({start:this.start_position,target:this.current_target}).subscribe((({start:e,target:t})=>{this.overlay_tile.set(e||(null==t?void 0:t.tile)),this.updateArrow(e,null==t?void 0:t.tile,null==t?void 0:t.forced)})),this.overlay_tile.subscribe((e=>this.updateDiveOverlay(e))),this.start_position.subscribe((()=>this.updateInstructions()),!0)}updateInstructions(){this.start_position.value()?this.top_control.setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Click] valid target tile to confirm.")).append(c().text("[Shift + Click] to force any target tile.")).append(c().text("[Backspace] to reset start tile."))):this.top_control.setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Click] the origin tile of the ability.")))}setStartPosition(e){return this.start_position.set(e),this}updateDiveOverlay(e){return ll(this,void 0,void 0,(function*(){"barge"!=this.ability&&"dive"!=this.ability||(this._possibility_overlay&&(this._possibility_overlay.remove(),this._possibility_overlay=null),null!=e&&(this._possibility_overlay=new rl(e),this._possibility_overlay.addTo(this)))}))}updateArrow(e,t,i){return ll(this,void 0,void 0,(function*(){let n=yield(()=>ll(this,void 0,void 0,(function*(){if(!e||!t)return null;if(i)return{from:e,to:t,okay:!0};{let i=yield yr.generic(kr.get(),this.ability,e,t);return{from:e,to:(null==i?void 0:i.tile)||t,okay:!!i}}})))();if(this._preview_arrow&&(this._preview_arrow.remove(),this._preview_arrow=null),n){let{from:e,to:t,okay:i}=n;this._preview_arrow=(i?new il({type:"ability",ability:this.ability,is_far_dive:"dive"==this.ability&&(yield pl(e,t)),from:e,to:t}).setInteractive(!1):ul(e,t).setStyle({weight:3,color:"red"})).addTo(this)}}))}eventClick(e){e.onPost((()=>ll(this,void 0,void 0,(function*(){e.stopAllPropagation();let t=e.tile();if(this.start_position.value())if(e.original.shiftKey){const e="dive"==this.ability&&(yield pl(this.start_position.value(),t));this.commit({type:"ability",ability:this.ability,is_far_dive:!!e||void 0,from:this.start_position.value(),to:t})}else{let e=yield yr.generic(kr.get(),this.ability,this.start_position.value(),t);if(e){const t="dive"==this.ability&&(yield pl(this.start_position.value(),e.tile));this.commit({type:"ability",ability:this.ability,is_far_dive:!!t||void 0,from:this.start_position.value(),to:e.tile})}}else this.start_position.set(t)}))))}eventHover(e){e.onPre((()=>{this.current_target.set({tile:e.tile(),forced:e.original.shiftKey})}))}eventKeyDown(e){e.onPre((()=>{null!=this.start_position.value()&&"Backspace"==e.original.key&&(e.stopAllPropagation(),this.start_position.set(null))})),e.onPost((()=>{"Shift"==e.original.key&&this.current_target.update((e=>{e&&(e.forced=!0)}))}))}eventKeyUp(e){e.onPost((()=>{"Shift"==e.original.key&&this.current_target.update((e=>{e&&(e.forced=!1)}))}))}}var dl=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},gl=_e.index,fl=Fi.observe_combined,yl=Ia.arrow,ml=Ia.createX;class _l extends Ca{constructor(){super({preview_render:e=>{if(e){const t=ce.featureGroup();return e.no_path_to?(yl(gl(e.path,-1),e.no_path_to).setStyle({color:"red"}).addTo(t),ml(e.no_path_to,"yellow",16).addTo(t).bindTooltip(ce.tooltip({content:"No path",className:"run-drawing-tile-count",offset:[0,20],permanent:!0,direction:"center"}))):(ce.polyline(e.path.map(xe.toLatLong),{color:"#b4b4b4",weight:3}).addTo(t),ml(gl(e.path,-1),"yellow",16).addTo(t).bindTooltip(ce.tooltip({content:`${fr.pathLength(e.path)} tiles`,className:"run-drawing-tile-count",offset:[0,20],permanent:!0,direction:"center"}))),t}}}),this.segments=qi([]),this.path=this.segments.map((e=>e.flatMap(((e,t)=>0==t?e.tiles:e.tiles.slice(1))))),this.last_position=this.path.map((e=>gl(e,-1))).equality(Te.eq2),this.has_start_position=this.last_position.map((e=>!!e)),this.cached_pathfinding_state=this.last_position.map((e=>e?fr.init_djikstra(e):null)),this.previewed_segment=qi(null),this.attachTopControl(new Sa({name:"Drawing Run-Path"})),this.has_start_position.subscribe((e=>{e?this.top_control.setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Click] valid target tile to confirm.")).append(c().text("[Shift + Click] to place a forced waypoint.")).append(c().text("[Ctrl] to ignore all obstacles.")).append(c().text("[Backspace] to remove last waypoint."))):this.top_control.setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Click] any tile to start.")))}),!0),fl({segments:this.segments,previewed_segment:this.previewed_segment}).subscribe((({segments:e,previewed_segment:t})=>{let i=e.map((e=>e.tiles));t&&!t.broken&&i.push(t.tiles);let n=i.flat();n.length>0?this.preview({path:n,no_path_to:(null==t?void 0:t.broken)?t.target:null}):this.preview(null)}))}setStartPosition(e){return e?this.segments.set([{tiles:[e]}]):this.segments.set([]),this}getPathFindingState(){return this.cached_pathfinding_state.value()}eventClick(e){e.onPost((()=>dl(this,void 0,void 0,(function*(){if(e.stopAllPropagation(),0==this.segments.value().length)this.setStartPosition(e.tile());else{let t=yield e.original.ctrlKey?fr.idealPath(this.last_position.value(),e.tile()):fr.find(this.getPathFindingState(),mr.init(e.tile()));t&&(this.segments.update((e=>e.push({tiles:t}))),this.previewed_segment.set(null),e.original.shiftKey||this.commit({path:this.path.value(),no_path_to:null}))}}))))}eventHover(e){e.onPost((()=>dl(this,void 0,void 0,(function*(){this.updatePreview(e.tile(),e.original.ctrlKey)}))))}updatePreview(e,t){return dl(this,void 0,void 0,(function*(){if(this.last_position.value()){let i=yield t?fr.idealPath(this.last_position.value(),e):fr.find(this.getPathFindingState(),mr.init(e));this.previewed_segment.set({target:e,forced:t,broken:!i,tiles:i})}else this.previewed_segment.set(null)}))}eventKeyDown(e){e.onPost((()=>{"Control"==e.original.key&&this.previewed_segment.value()&&(e.stopAllPropagation(),this.updatePreview(this.previewed_segment.value().target,!0)),"Backspace"==e.original.key&&(e.stopAllPropagation(),this.segments.update((e=>e.splice(e.length-1,1))),this.previewed_segment.value()&&this.updatePreview(this.previewed_segment.value().target,this.previewed_segment.value().forced),this.previewed_segment.update((()=>{})))}))}eventKeyUp(e){e.onPost((()=>{"Control"==e.original.key&&this.previewed_segment.value()&&(e.stopAllPropagation(),this.updatePreview(this.previewed_segment.value().target,!1))}))}}function vl(e){const t=[];for(const i of e)Te.equals(i,t[t.length-1])||t.push(i);return t}class xl extends Ca{constructor(){super(),this.internal=(new _l).onCommit((e=>{this.commit({type:"run",waypoints:vl(e.path)})})).onDiscarded((()=>this.cancel())).addTo(this)}setStartPosition(e){return this.internal.setStartPosition(e),this}}class wl extends Ca{constructor(e={},t={snap:1,shift_snap:1}){super(e),this.config=e,this.conf=t}coordinatesOfEvent(e){var t,i;const n=e.original.shiftKey?null!==(t=this.conf.shift_snap)&&void 0!==t?t:1:null!==(i=this.conf.snap)&&void 0!==i?i:1;return Te.snap(e.coordinates,n)}eventHover(e){super.eventHover(e),e.onPre((()=>{this.preview(this.coordinatesOfEvent(e))}))}eventClick(e){e.onPre((()=>{e.stopAllPropagation(),this.commit(this.coordinatesOfEvent(e))}))}}!function(e){e.Standalone=class extends e{constructor(e={},t="never"){switch(super(e,{always:{snap:0,shift_snap:0},never:{snap:1,shift_snap:1},optional:{snap:1,shift_snap:0}}[t]),this.off_tile=t,this.off_tile){case"never":this.attachTopControl(new Sa({name:"Select Tile"}).setText("Click a tile to select it."));break;case"optional":this.attachTopControl(new Sa({name:"Select Tile"}).setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("Hold [Shift] to disable snapping"))));break;case"always":this.attachTopControl(new Sa({name:"Select Coordinates"}).setText("Click the map to select coordinates."))}}}}(wl||(wl={}));class bl extends Ca{constructor(){super({preview_render:e=>new il(e).setInteractive(!1)}),(new wl).onCommit((e=>this.commit({type:"powerburst",where:e}))).onPreview((e=>this.preview({type:"powerburst",where:e}))).addTo(this),new Sa({name:"Placing Powerburst",cancel_handler:()=>this.cancel()}).addTo(this).content.append(c().text("Click any tile to place the powerburst activation."))}}class kl extends Ii{constructor(e=Pe("<div>")){super(e),this.clicked=ji(),this.enabled=qi(!0),this.toggled=qi(!1),this.isToggleable=qi(!1),this.addClass("lcss-button"),this.container.on("click",(e=>{e.stopPropagation(),this.container.hasClass("enabled")&&(this.isToggleable.value()&&this.toggled.set(!this.toggled.value()),this.clicked.trigger(e))})),this.enabled.subscribe((e=>{this.toggleClass("enabled",e)}),!0),this.toggled.subscribe((e=>{this.toggleClass("toggled",e)})),this.isToggleable.subscribe((e=>{e||this.toggled.set(!1)})),this.setEnabled(!0)}setEnabled(e){return this.enabled.set(e),e||this.toggled.set(!1),this}onClick(e,t=null){let i=this.clicked.on(e);return null==t||t.bind(i),this}onToggle(e){return this.toggled.subscribe(e),this}setToggleable(e){return this.isToggleable.set(e),this}setToggled(e){return this.toggled.set(e),this}click(){return this.raw().click()}}var Tl=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class zl extends Ii{constructor(e){super(),this.addClass("ctr-actionbar"),this.append(...e)}}!function(e){var t=Fi.observe_combined,i=ie.cls;e.ActionBarButton=class extends kl{constructor(e,i){super(),this.icon=e,this.activation=i,this._activeInteraction=qi(null),this.cooldown=qi(0),this.hotkey=qi(""),this._activeInteraction.subscribe((e=>{this.render(),e&&e.onEnd((()=>this._activeInteraction.set(null)))})),this.onClick((e=>Tl(this,void 0,void 0,(function*(){this._activeInteraction.value()?this._activeInteraction.value().cancel():this.trigger(e)})))),t({cd:this.cooldown,hk:this.hotkey}).subscribe((()=>{this.render()}),!0)}trigger(){return Tl(this,arguments,void 0,(function*(e=void 0){if(!this._activeInteraction.value()){let t=yield this.activation(e);t instanceof Zr&&this._activeInteraction.set(t)}}))}render(){this.empty(),this.addClass("ctr-action-bar-button").append(Pe(`<img src='${this.icon}'>`)).css("position","relative"),(0!=this.cooldown.value()||this._activeInteraction.value())&&(c("<div class='ctr-cooldown-overlay-shadow'></div>").appendTo(this),this.cooldown.value()>0&&i("ctr-cooldown-overlay").text(this.cooldown.value()+"t").appendTo(this)),""!=this.hotkey.value()&&i("ctr-hotkey-overlay").text(this.hotkey.value()).appendTo(this),this._activeInteraction.value()&&i("ctr-cooldown-overlay-cancel").text("X").appendTo(this)}setHotKey(e){return this.hotkey.set(e),this}}}(zl||(zl={}));class Sl extends Ca{constructor(e=null){super({preview_render:e=>new il(e).setInteractive(!1)}),this.interaction_type=e,new wl({},{snap:.5,shift_snap:0}).onCommit((e=>{if(null!=this.interaction_type)this.commit({type:"redclick",target:La.defaultEntity(this.interaction_type),where:e,how:this.interaction_type});else{let t={type:"submenu",text:"",children:La.all().map((t=>({type:"basic",text:t.description,icon:t.icon_url,handler:()=>{this.commit({type:"redclick",target:La.defaultEntity(t.type),where:e,how:t.type})}})))};new Zi(t).show(this.getMap().container.get()[0],this.getMap().getClientPos(e)).onCancel((()=>this.cancel()))}})).onPreview((e=>this.preview({type:"redclick",target:{kind:"static",name:"Entity"},where:e,how:"generic"}))).addTo(this),new Sa({name:"Placing Redclick",cancel_handler:()=>this.cancel()}).addTo(this).content.append(c().text("Click any tile to place the redclick activation."))}}class Cl extends Ca{constructor(e){super({preview_render:e=>new il(e).setInteractive(!1)}),this.start_from=e,this.attachTopControl((new Sa).setName("Drawing Cheat step").setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Click] tile to confirm target."))))}eventClick(e){e.onPost((()=>{return t=this,i=void 0,o=function*(){e.stopAllPropagation();let t=e.tile();const i=this.start_from?gr.fromVector(xe.sub(t,this.start_from)):void 0;this.commit({type:"cheat",assumed_start:this.start_from,target:t,ticks:0,orientation:i})},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o}))}eventHover(e){this.preview({type:"cheat",assumed_start:this.start_from,target:e.tile(),ticks:0})}}class Al extends Ca{constructor(e={type:"cosmetic",icon:"notes",position:{x:0,y:0,level:0}}){super({preview_render:e=>new il(Object.assign(Object.assign({},e),{hide_when_not_hovered:!1})).setInteractive(!1)}),this.prototype=e,this.attachTopControl(new Sa({name:"Place Path Annotation"}).setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("Hold [Shift] to disable tile-snapping")))),new wl({},{snap:.5,shift_snap:0}).addTo(this).onChange((e=>{const t=Object.assign(Object.assign({},this.prototype),{position:e.value});e.committed?this.commit(t):this.preview(t)}))}}var El=wa.movement_state,Pl=zl.ActionBarButton,Ml=wa.movement_state.surge_cooldown,Ll=wa.movement_state.escape_cooldown,Dl=wa.movement_state.barge_cooldown,Il=wa.movement_state.dive_cooldown;class Ol extends Vr{constructor(e,t){super({position:"bottom-center",type:"gapless"},new za("Path Editor")),this.editor=e,this.interaction_guard=t,this.state=qi(El.start({}));{let i=this;function n(e){return i.interaction_guard.set(e.onStart((()=>i.editor.overlay_control.lens_layer.enabled2.set(!1))).onEnd((()=>i.editor.overlay_control.lens_layer.enabled2.set(!0))),i)}function o(e){return t=this,o=void 0,r=function*(){var t,o,s,r;if(e.predictor&&null!=(null===(t=i.state.value().position)||void 0===t?void 0:t.tile)&&null!=(null===(o=i.state.value().position)||void 0===o?void 0:o.direction)){let t=yield e.predictor(i.state.value().position);if(t)return void i.editor.value.add({type:"ability",ability:e.ability,from:null===(s=i.state.value().position)||void 0===s?void 0:s.tile,to:t.tile})}return n(new hl(e.ability).onCommit((e=>i.editor.value.add(e))).setStartPosition(null===(r=i.state.value().position)||void 0===r?void 0:r.tile))},new((s=void 0)||(s=Promise))((function(e,i){function n(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof s?i:new s((function(e){e(i)}))).then(n,a)}l((r=r.apply(t,o||[])).next())}));var t,o,s,r}this.buttons={surge:new Pl("assets/icons/surge.png",(()=>o({ability:"surge",predictor:yr.surge}))).tooltip("Surge").setHotKey("s-W"),escape:new Pl("assets/icons/escape.png",(()=>o({ability:"escape",predictor:yr.escape}))).tooltip("Escape").setHotKey("s-S"),dive:new Pl("assets/icons/dive.png",(()=>o({ability:"dive"}))).tooltip("Dive").setHotKey("D"),barge:new Pl("assets/icons/barge.png",(()=>o({ability:"barge"}))).tooltip("Barge").setHotKey("s-D"),run:new Pl("assets/icons/run.png",(()=>{var e;return n((new xl).onCommit((e=>i.editor.value.add(e))).setStartPosition(null===(e=i.state.value().position)||void 0===e?void 0:e.tile))})).tooltip("Run").setHotKey("s-R"),redclick:new Pl("assets/icons/cursor_redclick.png",(()=>n((new Sl).onCommit((e=>i.editor.value.add(e)))))).tooltip("Redclick").setHotKey("s-C"),powerburst:new Pl("assets/icons/accel.png",(()=>{var e;if(!(null===(e=i.state.value().position)||void 0===e?void 0:e.tile))return n((new bl).onCommit((e=>i.editor.value.add(e))));this.editor.value.add({type:"powerburst",where:i.state.value().position.tile})})).tooltip("Powerburst of Acceleration").setHotKey("s-P"),cheat:new Pl("assets/icons/Rotten_potato.png",(e=>{var t;return n(new Cl(null===(t=i.state.value().position)||void 0===t?void 0:t.tile).onCommit((e=>i.editor.value.add(e))))})).tooltip("Cheat"),cosmetic:new Pl("assets/icons/notes.png",(e=>n((new Al).onCommit((e=>i.editor.value.add(e)))))).tooltip("Cosmetic")},this.bar=new zl([this.buttons.surge,this.buttons.escape,this.buttons.dive,this.buttons.barge,this.buttons.run,this.buttons.redclick,this.buttons.powerburst,this.buttons.cheat,this.buttons.cosmetic]).appendTo(this.content.body)}this.state.subscribe((e=>this.render(e)),!0)}render(e){this.buttons.surge.cooldown.set(Ml(e)),this.buttons.escape.cooldown.set(Ll(e)),this.buttons.barge.cooldown.set(Dl(e)),this.buttons.dive.cooldown.set(Il(e)),this.buttons.powerburst.cooldown.set(Math.max(e.acceleration_activation_tick+120-e.tick,0))}eventKeyDown(e){e.onPre((()=>{const t=e.original;(()=>t.shiftKey&&"w"==t.key.toLowerCase()?(this.editor.action_bar.buttons.surge.trigger(),!0):t.shiftKey&&"s"==t.key.toLowerCase()?(this.editor.action_bar.buttons.escape.trigger(),!0):t.shiftKey&&"d"==t.key.toLowerCase()?(this.editor.action_bar.buttons.barge.trigger(),!0):"d"==t.key.toLowerCase()?(this.editor.action_bar.buttons.dive.trigger(),!0):t.shiftKey&&"r"==t.key.toLowerCase()?(this.editor.action_bar.buttons.run.trigger(),!0):t.shiftKey&&"c"==t.key.toLowerCase()?(this.editor.action_bar.buttons.redclick.trigger(),!0):t.shiftKey&&"p"==t.key.toLowerCase()?(this.editor.action_bar.buttons.powerburst.trigger(),!0):void 0)()&&(e.stopAllPropagation(),t.preventDefault())}))}}class Rl extends ce.FeatureGroup{constructor(){super(),this.children=[],this.options.opacity=1}setOpacity(e){var t;return this.options.opacity=e,null===(t=this.getTooltip())||void 0===t||t.setOpacity(e),this.children.forEach((function(t){var i;t.layer instanceof Rl||t.layer instanceof ce.Marker||t.layer instanceof ce.Tooltip?t.layer.setOpacity(e*t.baseline.stroke):t.layer instanceof ce.Polyline&&t.layer.setStyle(Object.assign(t.layer.options,{opacity:e*t.baseline.stroke,fillOpacity:e*t.baseline.fill})),null===(i=t.layer.getTooltip())||void 0===i||i.setOpacity(e*t.baseline.stroke)})),this}addLayer(e){return super.addLayer(e),this.children.push({layer:e,baseline:e instanceof Rl||e instanceof ce.Marker||e instanceof ce.Tooltip?{stroke:e.options.opacity}:e instanceof ce.Polyline?{stroke:e.options.opacity,fill:e.options.fillOpacity}:{stroke:1}}),this}removeLayer(e){return super.removeLayer(e),this.children.splice(this.children.findIndex((t=>t.layer==e))),this}}class Bl extends Rl{constructor(e,t){super(),this.active_opacity=e,this.inactive_opacity=t,this.active=!0}setActive(e){return this.active=e,this.setOpacity(e?this.active_opacity:this.inactive_opacity),this}isActive(){return this.active}}var Fl=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Nl=ha.EntityTransportation,jl=ie.entity,Ul=ha.EntityTransportation.Movement.isLocal,ql=mr.activate,Hl=Ia.arrow,Vl=ha.EntityTransportation.defaultInteractiveArea;class $l extends Ji{constructor(e){super(),this.shortcut=e,this.normalized_shortcut=ha.normalize(this.shortcut),this.zoom_sensitivity_layers=Ji.default_local_zoom_scale_layers,this.floor_sensitivity_layers=new Yi([{floors:[this.normalized_shortcut.clickable_area.level],value:{}},{floors:Se.all,hidden_here:!0,value:{}}]),this.setTooltip((()=>{const e=new Pa,t=this.shortcut;switch(t.type){case"entity":e.header(ie.entity(t.entity));break;case"door":e.header(ie.staticentity(t.name))}return t.source_loc&&e.named("Object ID",t.source_loc.toString()),"door"==t.type&&(e.named("Position",Te.toString(t.position)),e.named("Direction",gr.toString(t.direction))),e}))}bounds(){return ha.bounds(this.shortcut)}contextMenu(e){return Fl(this,void 0,void 0,(function*(){var t,i,n;const o=this.normalized_shortcut,s=o.actions.flatMap((e=>e.movement.flatMap((e=>Ul(e)?[]:[mr.normalize(e.fixed_target.target)]))));if(s.length>0){const t=s[0];e.addForEntity({type:"basic",text:"Jump to Target",handler:()=>{var e,i;null===(i=null===(e=this.parent)||void 0===e?void 0:e.getMap())||void 0===i||i.fitView(mr.toRect(t))}})}return{type:"submenu",icon:La.meta(null!==(n=null===(i=null===(t=o.actions)||void 0===t?void 0:t[0])||void 0===i?void 0:i.cursor)&&void 0!==n?n:"generic").icon_url,text:()=>jl(o.entity),children:[]}}))}render_implementation(e){return Fl(this,void 0,void 0,(function*(){var t,i;const n=this.normalized_shortcut,o="#72bb46",s="#cca927",r="#00ffff";function a(e,t,i){const n=(new Rl).addLayer(Hl(e,t).setStyle({color:s,weight:4})).setStyle({interactive:!0});return 0!=i&&ce.marker(xe.toLatLong(t),{icon:ce.icon({iconUrl:i<0?"/assets/icons/down.png":"/assets/icons/up.png",iconSize:[14,16]}),interactive:!0}).addTo(n),n}const l=e.highlight?1.5:this.zoom_sensitivity_layers.get(e.zoom_group_index).value.scale,c=ce.marker(xe.toLatLong(we.center(n.clickable_area,!1)),{icon:ce.icon({iconUrl:La.meta(null!==(i=null===(t=n.actions[0])||void 0===t?void 0:t.cursor)&&void 0!==i?i:"generic").icon_url,iconSize:La.iconSize(l),iconAnchor:La.iconAnchor(l,!0)}),riseOnHover:!0,interactive:!0}).addTo(this);if(e.highlight){ce.polygon((u=n.clickable_area,[u.topleft,{x:u.botright.x,y:u.topleft.y},u.botright,{x:u.topleft.x,y:u.botright.y}].map(xe.toLatLong)),{color:r,fillColor:r,fillOpacity:.1,opacity:.5,interactive:!0}).addTo(this);for(let e of n.actions)e.interactive_area&&Pr(e.interactive_area).setStyle({color:o,fillColor:o,interactive:!0,fillOpacity:.1,weight:2}).addTo(this),e.movement.forEach((t=>{var i,o;if(t.offset){let i=ql(t.valid_from||e.interactive_area||Vl(n)).center();a(i,xe.add(i,t.offset),t.offset.level).addTo(this)}else if(t.fixed_target&&!t.fixed_target.relative){const r=mr.normalize(t.fixed_target.target);r.origin.level==this.parent.getMap().floor.value()&&ce.circle(xe.toLatLong(ql(r).center()),{color:s,weight:2,radius:.4,fillOpacity:.1}).addTo(this);const l=mr.activate(null!==(o=null!==(i=t.valid_from)&&void 0!==i?i:e.interactive_area)&&void 0!==o?o:Vl(n)).center(),c=mr.normalize(t.fixed_target.target);a(l,ql(c).center(),c.origin.level-l.level).addTo(this)}}));n.actions.some((e=>!!e.interactive_area))||Pr(Nl.defaultInteractiveArea(n)).setStyle({color:o,fillColor:o,interactive:!0,fillOpacity:.1,weight:2}).addTo(this)}var u;return c.getElement()}))}}var Wl=mr.activate;class Gl extends Or{constructor(e,t=!1){super(),this.data=e,this.simplified=t,e.element_added.on((e=>{new Gl.ShortcutPolygon(e,{type:"regular",draw_arrows:!0,viewed_floor:this.getMap().floor.value()}).addTo(this)}))}onAdd(e){return e.floor.subscribe((e=>{this.eachLayer((t=>{t.style.update2((t=>t.viewed_floor=e))}))}),!1,(e=>this.lifetime_manager.bind(e))),super.onAdd(e),this.renderAll(),this}eventHover(e){this.eachLayer((t=>{t.style.update2((i=>{let n=t.data.value();i.draw_arrows="entity"==n.type&&(ze.containsCoords(n.clickable_area,e.tile())||n.actions.some((t=>Wl(t.interactive_area).query(e.tile()))))}))}))}renderAll(){this.clearLayers(),this.data.value().map((e=>new Gl.ShortcutPolygon(e,{type:this.simplified?"simplified":"regular",draw_arrows:!1,viewed_floor:this.getMap().floor.value()}).addTo(this)))}getView(e){return this.getLayers().find((t=>t instanceof Gl.ShortcutPolygon&&t.data==e))}center(e){return this.getMap().fitView(ha.bounds(e),{maxZoom:5}),this}}!function(e){var t=Ia.arrow;e.COLORS={interactive_area:"#72bb46",target_area:"#cca927",clickable_area:"#00ffff"},e.ShortcutPolygon=class extends Rl{constructor(e,t={type:"regular",draw_arrows:!0,viewed_floor:null}){super(),this.data=e,this.style=qi(null).equality(((e,t)=>(null==e?void 0:e.type)==(null==t?void 0:t.type)&&(null==e?void 0:e.draw_arrows)==(null==t?void 0:t.draw_arrows)&&(null==e?void 0:e.viewed_floor)==(null==t?void 0:t.viewed_floor))),e.subscribe((()=>this.render())),e instanceof Ui.ObservableArrayValue&&e.removed.on((()=>this.remove())),this.style.set(t),this.style.subscribe((e=>{this.render()}),!0),this.setStyle({interactive:!0})}render(){this.clearLayers()}},e.render_transport_arrow=function(i,n,o){let s=(new Rl).addLayer(t(i,n).setStyle({color:e.COLORS.target_area,weight:4})).setStyle({interactive:!0});return 0!=o&&ce.marker(xe.toLatLong(n),{icon:ce.icon({iconUrl:o<0?"/assets/icons/down.png":"/assets/icons/up.png",iconSize:[14,16]}),interactive:!0}).addTo(s),s}}(Gl||(Gl={}));var Zl=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Kl=ie.entity,Yl=Gl.COLORS,Ql=ha.TeleportGroup,Xl=ie.vbox;class Jl extends Ji{bounds(){return mr.toRect(this.access.clickable_area)}render_implementation(e){return Zl(this,void 0,void 0,(function*(){var t;this.teleport;const i=this.access,n=e.highlight?1.5:this.zoom_sensitivity_layers.get(e.zoom_group_index).value.scale,o=ce.marker(xe.toLatLong(we.center(mr.toRect(i.clickable_area),!0)),{icon:ce.icon({iconUrl:La.meta(null!==(t=i.cursor)&&void 0!==t?t:"generic").icon_url,iconSize:La.iconSize(n),iconAnchor:La.iconAnchor(n,!0)}),riseOnHover:!0,interactive:!0}).addTo(this);return e.highlight&&Pr(Ql.TeleportAccess.interactiveArea(i)).setStyle({color:Yl.interactive_area,fillColor:Yl.interactive_area,interactive:!0,fillOpacity:.1,weight:2}).addTo(this),o.getElement()}))}constructor(e,t){super(),this.teleport=e,this.access=t,this.zoom_sensitivity_layers=Ji.default_zoom_scale_layers,this.zoom_sensitivity_layers=Ji.default_local_zoom_scale_layers,this.floor_sensitivity_layers=new Yi([{floors:[t.clickable_area.origin.level],value:{correct_level:!0}},{floors:Se.all,hidden_here:!0,value:{correct_level:!1}}]),this.setTooltip((()=>{let e=new Pa;const t=this.teleport,i=this.access;return e.header(c().append(`Access to ${t.name} via `,Kl(i.name))),e.named("Targets",Xl(...t.spots.map((e=>c().text(e.name))))),e}))}contextMenu(e){return Zl(this,void 0,void 0,(function*(){var t;const i=this.teleport,n=this.access;return e.addForEntity({type:"submenu",text:"Move map to",children:i.spots.map((e=>{const t=new Ql.Spot(i,e,n);return{type:"basic",icon:`assets/icons/teleports/${t.image().url}`,text:t.code()?`${e.code}: ${e.name}`:e.name,handler:()=>{var t,i;null===(i=null===(t=this.parent)||void 0===t?void 0:t.getMap())||void 0===i||i.fitView(mr.toRect(e.target))}}}))}),{type:"submenu",icon:La.meta(null!==(t=n.cursor)&&void 0!==t?t:"generic").icon_url,text:()=>Kl(n.name),children:[]}}))}}var ec=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},tc=Gl.COLORS,ic=ie.entity,nc=mr.activate;class oc extends Ji{constructor(e,t,i){super(),this.transport=e,this.action=t,this.movement=i,this.zoom_sensitivity_layers=Ji.default_zoom_scale_layers,i.fixed_target,this.zoom_sensitivity_layers=new Ki([{min:-100,value:{scale:.5}},{min:1.5,value:{scale:1}}]),this.floor_sensitivity_layers=new Yi([{floors:[mr.normalize(i.fixed_target.target).origin.level],value:{correct_level:!0}},{floors:Se.all,hidden_here:!0,value:{correct_level:!1}}]),this.setTooltip((()=>{let e=new Pa;return e.header(c().append("Target of ",ic(this.transport.entity))),e}))}bounds(){return mr.toRect(mr.normalize(this.movement.fixed_target.target))}render_implementation(e){return ec(this,void 0,void 0,(function*(){const t=e.highlight?1.5:this.zoom_sensitivity_layers.get(e.zoom_group_index).value.scale;return ce.circle(xe.toLatLong(nc(mr.normalize(this.movement.fixed_target.target)).center()),{color:tc.target_area,weight:2,radius:.4*t,fillOpacity:.1}).addTo(this).getElement()}))}contextMenu(e){return ec(this,void 0,void 0,(function*(){var t;return e.addForEntity({type:"basic",text:"Jump to Origin",handler:()=>{var e,t;null===(t=null===(e=this.parent)||void 0===e?void 0:e.getMap())||void 0===t||t.fitView(this.transport.clickable_area)}}),{type:"submenu",icon:La.meta(null!==(t=this.action.cursor)&&void 0!==t?t:"generic").icon_url,text:()=>c().append("Target of ",ic(this.transport.entity)),children:[]}}))}}var sc=ha.TeleportGroup,rc=ha.EntityTransportation;class ac extends Or{constructor(e,t={teleport_policy:"all",transport_policy:"all"}){super(),this.teleports=[],"none"!=t.teleport_policy&&pa().app.settings.active_teleport_customization.subscribe((e=>{this.eachEntity((e=>{e instanceof $a&&(e.teleport.refresh(),e.render(!0))}))}),!1,(e=>this.lifetime_manager.bind(e))),va.getAll().then((i=>i.forEach((i=>{switch(i.type){case"entity":case"door":if("all"!=t.transport_policy)break;new $l(i).setInteractive(e).addTo(this),"entity"==i.type&&i.actions.forEach((t=>{t.movement.forEach((n=>{rc.Movement.isLocal(n)||new oc(i,t,n).setInteractive(e).addTo(this)}))}));break;case"teleports":if("none"==t.teleport_policy)break;i.spots.forEach((t=>{this.teleports.push(new $a(new sc.Spot(i,t,void 0)).setInteractive(e).addTo(this))})),"target_only"!=t.teleport_policy&&i.access.forEach((t=>{"entity"==t.type&&new Jl(i,t).setInteractive(e).addTo(this)}))}})))),this.quad_tree_debug_rendering=!1}getTeleportSpots(){return this.teleports.map((e=>e.teleport))}}class lc extends Ii{constructor(e=null){super(e),this.v=qi({committed:!1,value:null})}setValue(e){return this.commit(e),this.render(),this}get(){return this.v.value().value}render(){}commit(e,t=!1){this.v.set({value:e,committed:!0}),t&&this.render()}preview(e){return this.v.set({value:e,committed:!1}),this}onChange(e){return this.v.subscribe(e),this}onPreview(e){return this.v.subscribe((t=>{t.committed||e(t.value)})),this}onCommit(e){return this.v.subscribe((t=>{t.committed&&null!=t.value&&e(t.value)})),this}}var cc=ie.cls;class uc{constructor(e={}){this.options=e,this.lifetime_manager=new Mr,this.state=qi("unmounted"),this.shown=ji(),this.hiding=ji(),this.hidden=ji(),this.should_hide=!1,this.state.subscribe((e=>{switch(e){case"shown":this.should_hide&&this.hide(),this.shown.trigger(this);break;case"hiding":this.lifetime_manager.endLifetime(),this.hiding.trigger(this);break;case"hidden":this.hidden.trigger(this)}}))}mount(){var e;switch(this._container=cc("ctr-modal-container").css("z-index",1e4+uc.open_count).on("click",(()=>{this.options.fixed||this.hide()})),this.options.no_backdrop||(this._backdrop=cc("ctr-modal-backdrop").appendTo(this._container)),this._modal=c("<div class='modal ctr-modal' tabindex='-1'></div>").appendTo(this._container),this._dialog=c("<div class='modal-dialog'></div>").appendTo(this._modal).on("click",(e=>e.stopPropagation())),this._content=c("<div class='modal-content'></div>").appendTo(this._dialog),this.options.no_fade||(this._modal.addClass("fade"),this._backdrop.addClass("fade")),null!==(e=this.options.size)&&void 0!==e?e:"medium"){case"small":this._dialog.addClass("modal-sm");break;case"large":this._dialog.addClass("modal-lg");break;case"fullscreen":this._dialog.addClass("ctr-modal-fullscreen")}this._container.appendTo(Pe(document.body))}show(){return e=this,t=void 0,n=function*(){if("unmounted"!=this.state.value()&&"hidden"!=this.state.value())return this;let e=new Promise((e=>{this.hidden.on((()=>e(this)))}));return this.mount(),uc.open_count++,setTimeout((()=>{this.state.set("showing"),this._modal.addClass("show").css("display","block"),this._backdrop.addClass("show"),setTimeout((()=>{"showing"==this.state.value()&&this.state.set("shown")}),.15)}),.1),yield this.render(),e},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}hide(){"shown"==this.state.value()?(this.state.set("hiding"),this._modal.toggleClass("show",!1).css("display",void 0),this._backdrop.toggleClass("show",!1),setTimeout((()=>{"hiding"==this.state.value()&&(this.state.set("hidden"),uc.open_count--,this._container.remove())}),.15)):this.should_hide=!0}remove(){this.hide()}content(){return this._content}}!function(e){e.open_count=0}(uc||(uc={}));var pc=ie.spacer;class hc extends Ii{constructor(e={}){var t;super(),this.customization=e,this.css2({display:"flex","justify-content":null!==(t=e.align)&&void 0!==t?t:"center"})}buttons(...e){return(e=e.filter((e=>!!e))).forEach((e=>e.css("flex-basis",this.customization.sizing||"100%"))),this.empty(),e.length%2==0&&this.customization.max_center_spacer_width?(this.append(...e.slice(0,e.length/2)),this.append(pc().css("max-width",this.customization.max_center_spacer_width)),this.append(...e.slice(e.length/2))):this.append(...e),this}}var dc=ie.cls;class gc extends uc{constructor(e={}){super(e),this.options=e,this.title=qi(""),this.title.subscribe((e=>{var t;null===(t=this.title_widget)||void 0===t||t.text(e)}))}render(){this._content.addClass("nisl-modal"),this.header=c("<div class='nisl-modal-header'></div>").appendTo(this._content),this.body=c("<div class='nisl-modal-body'></div>").appendTo(this._content);const e=this.getButtons();(this.options.force_footer||e.length>0)&&(this.footer=c("<div class='nisl-modal-footer'></div>").appendTo(this._content),e.length>0&&this.footer.append(new hc({align:"center",sizing:"100px",max_center_spacer_width:"100px"}).buttons(...e))),this.title_widget=c("<h1 class='nisl-modal-title'></h1>").text(this.title.value()).appendTo(this.header),this.options.disable_close_button||dc("nisl-modal-exit").on("click",(()=>this.onClose())).appendTo(this.header)}onClose(){this.remove()}setTitle(e){return this.title.set(e),this}getButtons(){return[]}}gc||(gc={});class fc extends gc{constructor(e={}){super(e),this.options=e,this.resolver=null,this.hidden.on((()=>this.cancel()))}confirm(e){this.resolver&&!this.resolver.resolved&&(this.resolver.resolved=!0,this.resolver.handler(e)),this.remove()}getValueForCancel(){return null}cancel(){this.confirm(this.getValueForCancel())}do(){return new Promise((e=>{this.resolver={handler:e,resolved:!1},this.show()}))}}var yc=ie.cls;class mc extends kl{constructor(e,t){super(),this.content_container=c().text(e).addClass("content").appendTo(this),yc("background").appendTo(this),this.addClass("nisl-big-button"),this.addClass(`nisl-big-button-${t}`)}setContent(e){return this.content_container.empty().append(e),this}}class _c extends kl{constructor(e=null){super(e),e||(this.container.addClass("nissmallimagebutton"),this.append(c("<img>")))}setEnabled(e){return super.setEnabled(e),e?this.container.removeClass("disabled"):this.container.addClass("disabled"),this}setIcon(e){return this.container.children("img").attr("src",e),this}static new(e){return(new _c).setIcon(e)}}class vc extends _c{constructor(){super(),this.value=qi(!1),this.addClass("nisl-small-image-toggle"),this.onClick((()=>{this.value.set(!this.value.value())})),this.value.subscribe((e=>{this.toggleClass("active",e)}))}setState(e){return this.value.set(e),this}}!function(e){e.sibut=function(t,i){let n=(new e).setIcon(t);return i&&n.onClick(i),n},e.sitog=function(e,t){let i=(new vc).setIcon(e);return t&&i.value.subscribe(t),i}}(_c||(_c={}));class xc extends lc{constructor(e={}){super(Pe("<textarea class='nisl-textinput'>")),this.raw().readOnly=!!e.readonly,this.raw().placeholder=e.placeholder||"",this.on("input",(()=>{this.preview(this.container.val())})).on("change",(()=>{this.commit(this.container.val())}))}setEnabled(e){return this.container.prop("disabled",!e),this}setPlaceholder(e){return this.container.attr("placeholder",e),this}render(){this.container.val(this.get())}}var wc=ie.vbox;class bc extends lc{constructor(e){super(),this.options=e,this.edit_mode=!1,this.main_row=null,this.instruction_input=null,this.generate_button=null,this.edit_button=null,this.container.on("mouseover",(()=>{this.edit_mode||(this.generate_button&&this.generate_button.setVisible(!0),this.edit_button&&this.edit_button.setVisible(!0))})),this.container.on("mouseleave",(()=>{this.edit_mode||(this.generate_button&&this.generate_button.setVisible(!1),this.edit_button&&this.edit_button.setVisible(!1))})),this.onChange((()=>this.renderPreview())),this.addClass("ctr-template-string-edit"),this.render()}render(){this.empty(),this.instruction_input=null,this.preview_container=null,this.options.fullsize?(this.instruction_input=new xc({placeholder:"Enter text"}).setValue(this.get()).onPreview((e=>{this.preview(e)})).onCommit((e=>{this.commit(e)})).css("height","80px"),this.append(wc(this.instruction_input,this.preview_container=c()).css2({display:"flex","flex-direction":"column"}))):(this.main_row=c("<div class='ctr-template-string-edit-input-row'></div>"),this.generate_button=_c.new("/assets/icons/regenerate.png").css("margin-left","2px").tooltip("Auto generate").setEnabled(!!this.options.generator).onClick((()=>{this.commit(this.options.generator())})).setVisible(this.edit_mode),this.edit_mode?(this.instruction_input=c("<input type='text' class='nisinput'>").tapRaw((e=>e.val(this.get()).on("input",(()=>{this.preview(this.instruction_input.container.val())})).on("change",(()=>{this.commit(this.instruction_input.container.val())})).on("keyup",(e=>{"Enter"===e.key&&this.instruction_input.raw().blur()})).on("focusout",(()=>{this.edit_mode=!1,this.render()})))),this.main_row.append(this.instruction_input).append(this.generate_button).appendTo(this),this.preview_container=c().appendTo(this)):(this.edit_button=_c.new("/assets/icons/edit.png").css("margin-left","2px").tooltip("Edit").onClick((()=>{this.startEdit()})).setVisible(!1),this.preview_container=c("<span style='cursor: pointer; flex-grow: 1'> </span>").tooltip("Edit").tapRaw((e=>e.on("click",(()=>{this.startEdit()})))),this.main_row.append(this.preview_container).append(this.edit_button).append(this.generate_button).appendTo(this)),this.instruction_input&&this.instruction_input.container.val(this.get())),this.renderPreview()}setResolver(e){return this.options.resolver=e,this.renderPreview(),this}renderPreview(){this.preview_container.empty().append(...this.options.resolver.resolve(this.get()||""))}startEdit(){this.edit_mode=!0,this.render(),this.instruction_input.container.focus()}}var kc=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Tc=ie.inlineimg;class zc extends Ii{constructor(e,t){super(c("<div class='nisl-selectdropdown'>")),this.options=e,this.dropdown=null,this.selected=ji(),this.enabled=qi(!0),this._list_constructor=()=>kc(this,void 0,void 0,(function*(){return[]})),this.selection=qi(t),this.input_container=c().appendTo(this),this.selection.subscribe((e=>{this.renderInput()}),!0),this.enabled.subscribe((e=>{var t;null===(t=this.input)||void 0===t||t.toggleClass("disabled",!e)})),this.setItems([t])}renderInput(){this.input=c("<div class='nisl-textinput nisl-selectdropdown-input' tabindex='-1'>").css("padding-right","13px").on("click",(e=>{this.openDropdown()})).append(this.construct(this.selection.value()),Tc("/assets/nis/dropdown.png").addClass("nisl-selectdropdown-arrow")).appendTo(this.input_container.empty())}construct(e){var t;return(null===(t=this.options.type_class)||void 0===t?void 0:t.toHTML)?this.options.type_class.toHTML(e):c(`<div>${e}</div>`)}setItems(e){return Array.isArray(e)?this._list_constructor=()=>Promise.resolve(e):this._list_constructor=e,this.dropdown&&(()=>{kc(this,void 0,void 0,(function*(){this.dropdown.setItems(yield this._list_constructor())}))})(),this}openDropdown(){return kc(this,void 0,void 0,(function*(){if(!this.enabled.value())return;const e=this.onOpen();this.dropdown=new zc.DropDown({dropdownClass:"nisl-selectdropdown-options",renderItem:e=>c().append(this.construct(e))}).setItems(yield this._list_constructor()).setHighlighted(this.selection.value()).onClosed((()=>{this.dropdown=null,this.renderInput()})).onSelected((e=>{this.selection.set(e),this.selected.trigger(e)})).open(this,e),this.dropdown}))}onOpen(){return this.input_container}setValue(e){return this.selection.set(e),this}onSelection(e,t=!1){return this.selected.on(e),t&&e(this.selection.value()),this}setEnabled(e){return this.enabled.set(e),this}}!function(e){var t=_e.positiveMod;e.DropDown=class{constructor(e){this.options=e,this.selectable_items=qi([]),this.highlight_index=qi(null),this.selected=ji(),this.closed=ji(),e.renderItem||(e.renderItem=e=>c().text(JSON.stringify(e))),this.selectable_items.subscribe(((e,t)=>{this.highlight_index.set(0),this.renderItems()})),this.highlight_index.subscribe(((e,t)=>{var i,n,o,s;this.rows&&(null!=t&&(null===(i=this.rows[t])||void 0===i||i.toggleClass("selected",!1)),null!=e&&(null===(s=null===(o=null===(n=this.rows[e])||void 0===n?void 0:n.toggleClass("selected",!0))||void 0===o?void 0:o.raw())||void 0===s||s.scrollIntoView({block:"nearest",inline:"nearest"})))}))}select(e){this.selected.trigger(e),this.close()}setItems(e){return this.selectable_items.set(e),this}renderItems(){this.container&&(this.container.empty(),this.rows=this.selectable_items.value().map(((e,t)=>this.options.renderItem(e).toggleClass("selected",this.highlight_index.value()==t).on("click",(t=>{t.stopPropagation(),this.select(e)})).on("mousemove",(()=>{this.highlight_index.set(t)})).appendTo(this.container))),0==this.selectable_items.value().length&&this.container.append(c().text("No matches").css("font-style","italic")))}open(e,i){return this.container=c("<div style='z-index: 1000000' tabindex='0'></div>").addClass("nisl-abstract-dropdown"),i&&(null==i.raw().getAttribute("tabindex")&&i.setAttribute("tabindex","-1"),this.focus_widget=i,i.on("keydown",this.input_handler=e=>{var i,n;if("Escape"==e.key&&(e.stopPropagation(),this.focus_widget.raw().blur()),"ArrowUp"==e.key&&this.highlight_index.set(t((null!==(i=this.highlight_index.value())&&void 0!==i?i:this.selectable_items.value().length)-1,this.selectable_items.value().length)),"ArrowDown"==e.key&&this.highlight_index.set(t((null!==(n=this.highlight_index.value())&&void 0!==n?n:this.selectable_items.value().length-1)+1,this.selectable_items.value().length)),"Enter"==e.key){let e=this.highlight_index.value();null!=e&&e>=0&&e<this.selectable_items.value().length&&this.select(this.selectable_items.value()[e])}}).on("focusout",(e=>{e.originalEvent.relatedTarget instanceof HTMLElement&&(this.container.container.is(e.originalEvent.relatedTarget)||0!=this.container.container.has(e.originalEvent.relatedTarget).length)||this.close()})).raw().focus()),this.container.addClass(this.options.dropdownClass||"nisl-abstract-dropdown-default-styling"),this.renderItems(),this.instance=Nt(e.raw(),this.container.appendTo(n()).raw(),{placement:"bottom-start",modifiers:[{name:"flip",enabled:!0},{name:"preventOverflow",enabled:!0,options:{boundary:"viewport",rootBoundary:"viewport"}},{name:"widthSync",enabled:!0,phase:"beforeWrite",fn:({state:e})=>{e.styles.popper.width=`${e.rects.reference.width}px`,e.styles.popper.maxWidth=`${e.rects.reference.width}px`}}]}),this}close(){this.instance&&(this.instance.destroy(),this.instance=null,this.container.remove(),this.closed.trigger(void 0)),this.focus_widget&&(this.focus_widget.container.off("keydown",this.input_handler),this.focus_widget=null,this.input_handler=null)}onSelected(e){return this.selected.on(e),this}onClosed(e){return this.closed.on(e),this}setHighlighted(e){let t=this.selectable_items.value().indexOf(e);return t>=0&&this.highlight_index.set(t),this}};let i=null;function n(){return i||(i=c("<div style='position: absolute; top: 0; left: 0; overflow: visible; max-width: 100%; max-height: 100%'>").appendTo(Pe("body"))),i}e.getDropdownPane=n}(zc||(zc={}));class Sc extends zc{constructor(e,t){super(e,t[0]),this.setItems(t)}setItems(e){return super.setItems(e),this}}class Cc extends Sc{constructor(){super({type_class:{toHTML:e=>null!=e?c().text((0,oe.capitalize)(gr.toString(e))):c().text("none")}},gr.all.concat(null))}}class Ac extends lc{constructor(e,t=null){super(),this.interaction_f=t,this.container.css("min-width","0"),this.css("display","flex"),this.x=c("<input type='text' inputmode='numeric' class='nisinput' min='0' style='text-align: right'>").appendTo(this),this.x.container.on("change",(()=>{this.commit((0,oe.tap)(oe.clone(this.get()),(e=>e.x=Number(this.x.container.val()))))})),c("<div> | </div>").appendTo(this),this.y=c("<input type='text' inputmode='numeric' class='nisinput' min='0'>").appendTo(this),this.y.container.on("change",(()=>{this.commit((0,oe.tap)(oe.clone(this.get()),(e=>e.y=Number(this.y.container.val()))))})),c("<div> | </div>").appendTo(this),this.floor=c("<input type='number' class='nisinput' min='0' max='3' style='min-width: 45px; max-width: 45px;'>").appendTo(this),this.floor.container.on("change",(()=>{this.commit((0,oe.tap)(oe.clone(this.get()),(e=>e.level=Number(this.floor.container.val()))))})),e&&(this.x.container.val(e.x),this.y.container.val(e.y),this.floor.container.val(e.level)),this.interaction_f&&_c.new("/assets/icons/marker.png").appendTo(this).onClick((()=>this.interaction_f(this.get()).onCommit((e=>{this.commit(e,!0)})))).css("margin-left","3px"),this.setValue(oe.clone(e))}render(){let e=this.get();this.x.container.val(e.x),this.y.container.val(e.y),this.floor.container.val(e.level)}}class Ec extends Sc{constructor(){super({type_class:{toHTML:e=>{let t=La.meta(e);return c(`<div><img style="height: 18px; object-fit: contain; margin-right: 3px" src="${t.icon_url}" alt="${t.description}">${t.description}</div>`)}}},La.all().map((e=>e.type)))}}var Pc=ie.cls;class Mc extends lc{constructor(e="",t="checkbox"){super(Pc("nisl-checkbox")),this.label=e,this.enabled=qi(!0),this.type=qi(t),this.type.subscribe((e=>{this.new_box.toggleClass("nisl-checkbox-radio","radio"==e)})),this.new_box=c("<div class='nisl-checkbox-box'>").on("click",(()=>{this.isEnabled()&&this.commit(!this.get(),!0)})).appendTo(this.container),Pc("nisl-checkbox-checkmark").appendTo(this.new_box),this.new_box.toggleClass("nisl-checkbox-radio","radio"==this.type.value()),this.label&&Pc("nisl-checkbox-label").append(this.label).appendTo(this),this.setValue(!1),this.enabled.subscribe((e=>{this.toggleClass("nisl-checkbox-disabled",!e)}))}render(){this.new_box.toggleClass("checked",this.get())}setEnabled(e){return this.enabled.set(e),this}isEnabled(){return this.enabled.value()}}!function(e){e.Group=class{constructor(e,t=!1){this.buttons=e,this.value=qi(null),e.forEach((e=>{e.button.type.set("radio"),e.button.onCommit((i=>{i?this.value.set(e.value):i||this.value.value()!=e.value||(t?this.value.set(null):e.button.setValue(!0))}))})),this.value.subscribe((e=>{this.buttons.forEach((t=>{t.button.setValue(t.value==e)}))})),t?this.value.set(null):e[0].button.setValue(!0)}get(){return this.value.value()}setValue(e){return this.value.set(e),this}onChange(e){return this.value.subscribe(e),this}checkboxes(){return this.buttons.map((e=>e.button))}}}(Mc||(Mc={}));class Lc extends lc{constructor(e=!1){super(Pe("<input class='nisl-textinput'>")),this.confirmed=ji(),this.setAttribute("type",e?"password":"text"),this.container.val(this.get()).on("input",(()=>{this.preview(this.container.val())})).on("change",(()=>{this.commit(this.container.val())})).on("keydown",(e=>{"Enter"==e.key&&this.confirmed.trigger(this.get())}))}setEnabled(e){return this.container.prop("disabled",!e),this}setPlaceholder(e){return this.container.attr("placeholder",e),this}onConfirm(e,t=(()=>{})){return t(this.confirmed.on(e)),this}render(){this.container.val(this.get())}}var Dc=ie.vbox,Ic=ie.hbox;class Oc extends lc{constructor(e=["npc","static"]){super(Dc().container),this.kinds=e}render(){var e,t;this.empty();const i=Ic();if(this.kinds.length>1){const t=this.kinds.map((e=>({value:e,button:new Mc({npc:"NPC",static:"Object",item:"Item"}[e],"radio")}))),n=new Mc.Group(t,!1).setValue((null===(e=this.get())||void 0===e?void 0:e.kind)||"static").onChange((e=>{const t=oe.cloneDeep(this.get());t&&(t.kind=e,this.commit(t))}));i.append(...n.buttons.map((e=>e.button)))}const n=(new Lc).css("width","100%").setValue((null===(t=this.get())||void 0===t?void 0:t.name)||"").onCommit((e=>{if(e){let t=oe.cloneDeep(this.get());t||(t={name:"",kind:t.kind}),t.name=e,this.commit(t)}else this.commit(null)}));this.append(n,i)}}class Rc extends lc{constructor(e,t){super(Pe(`<input type='number' class='nisl-textinput' min='${e}' max="${t}">`)),this.min=e,this.max=t,this.container.on("input",(()=>{this.commit(Number(this.container.val()))}))}render(){this.container.val(this.get())}}var Bc=s(2599);class Fc extends zc{constructor(e,t){super(e,t[0]),this.options=e,this.items=t,this.prepared_items=t.map((e=>({item:e,term:Bc.prepare(this.options.search_term(e))}))),this.setItems([])}onOpen(){let e=(new Lc).setValue("").css("width","100%").onPreview((e=>{let t=Bc.go(e,this.prepared_items,{key:"term",all:!0,threshold:-1e4});this.setItems(Array.from(t).map((e=>e.obj.item)))})).appendTo(this.input_container.empty());return this.setItems(this.items),e}}var Nc=ie.cls;class jc extends lc{constructor(){super(Nc("nisl-color-input")),this.input=c("<input type='color'>").on("change",(e=>{this.commit(this.input.container.val())})).appendTo(this)}render(){this.input.raw().value=this.get()}}var Uc=_e.copyUpdate,qc=ie.hboxl,Hc=ie.inlineimg;class Vc extends lc{constructor(){super()}render(){var e,t,i,n;const o=this.get();if(!o)return;const s=new Pa;switch(this.append(s),s.header("Description"),s.row(new bc({fullsize:!0,resolver:pa().app.template_resolver}).setValue(o.description).onCommit((e=>this.commit(Uc(this.get(),(t=>t.description=e)))))),o.type){case"orientation":s.named("Facing",(new Cc).setValue(o.direction).onSelection((e=>{this.commit(Uc(this.get(),(t=>t.direction=e)))})));break;case"ability":s.named("From",new Ac(o.from).onCommit((e=>this.commit(Uc(this.get(),(t=>t.from=e)))))),s.named("To",new Ac(o.to).onCommit((e=>this.commit(Uc(this.get(),(t=>t.to=e)))))),"barge"==o.ability&&s.named("Target",new Oc(["npc"]).setValue(null!==(e=o.target)&&void 0!==e?e:{name:"",kind:"npc"}).onCommit((e=>{this.commit(Uc(this.get(),(t=>t.target=e.name?e:void 0)))}))),"dive"==o.ability&&(s.named("Target Text",(new Lc).setPlaceholder("Text like 'on top of the flower' or 'next to the rock'.").setValue(o.target_text).onCommit((e=>{this.commit(Uc(this.get(),(t=>t.target_text=e)))}))),s.named("Is Far Dive?",(new Mc).setValue(o.is_far_dive).onCommit((e=>{this.commit(Uc(this.get(),(t=>t.is_far_dive=e)))}))));break;case"redclick":s.named("Type",(new Ec).setValue(o.how).onSelection((e=>this.commit(Uc(this.get(),(t=>t.how=e)))))),s.named("Where",new Ac(o.where).onCommit((e=>this.commit(Uc(this.get(),(t=>t.where=e)))))),s.named("Target",new Oc(["npc","static"]).setValue(null!==(t=o.target)&&void 0!==t?t:{name:"",kind:"static"}).onCommit((e=>{this.commit(Uc(this.get(),(t=>t.target=e.name?e:void 0)))})));break;case"run":s.named("Target Text",(new Lc).setPlaceholder("Text like 'on top of the flower' or 'next to the rock'.").setValue(o.to_text).onCommit((e=>{this.commit(Uc(this.get(),(t=>t.to_text=e)))})));break;case"teleport":s.named("Spot",new Ac(o.spot).onCommit((e=>this.commit(Uc(this.get(),(t=>t.spot=e))))));break;case"powerburst":s.named("Where",new Ac(o.where).onCommit((e=>this.commit(Uc(this.get(),(t=>t.where=e))))));break;case"transport":break;case"cheat":s.named("Target",new Ac(o.target).onCommit((e=>this.commit(Uc(this.get(),(t=>t.target=e)))))),s.named("Facing",(new Cc).setValue(o.orientation).onSelection((e=>{this.commit(Uc(this.get(),(t=>t.orientation=e)))}))),s.named("Ticks",new Rc(0,100).setValue(o.ticks).onCommit((e=>{this.commit(Uc(this.get(),(t=>t.ticks=e)))})));break;case"cosmetic":s.named("Icon",new Fc({type_class:{toHTML:e=>qc(Hc(Da.url(e)),ie.space(),e.name)},search_term:Da.search_term},Da.all).setValue(Da.get(o.icon)).onSelection((e=>{this.commit(Uc(this.get(),(t=>t.icon=e.id)))}))),s.row(new Mc("Hide when not hovered?").setValue(!!o.hide_when_not_hovered).onCommit((e=>this.commit(Uc(this.get(),(t=>t.hide_when_not_hovered=e)))))),s.named("Area Color",(new jc).setValue(null!==(i=o.area_color)&&void 0!==i?i:wa.COSMETIC_DEFAULT_COLORS.area).onCommit((e=>{this.commit(Uc(this.get(),(t=>t.area_color=e)))}))),s.named("Arrow Color",(new jc).setValue(null!==(n=o.arrow_color)&&void 0!==n?n:wa.COSMETIC_DEFAULT_COLORS.arrow).onCommit((e=>{this.commit(Uc(this.get(),(t=>t.arrow_color=e)))})))}}}class $c extends fc{constructor(e){super({size:"small"}),this.value=e,this.title.set("Edit Step Details")}render(){super.render(),this.edit=(new Vc).setValue(Uc(this.value,(()=>{}))).appendTo(this.body)}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.cancel())),new mc("Save","confirm").onClick((()=>this.confirm({new_version:this.edit.get()})))]}getValueForCancel(){return{new_version:null}}}class Wc extends fc{constructor(e){super({size:"small"}),this.config=e}render(){super.render(),this.title.set(this.config.title||"Confirmation"),this.explanation=c("<p></p>").text(this.config.body).appendTo(this.body)}getButtons(){return[...this.config.options.map((e=>new mc(e.text,e.kind).onClick((()=>this.confirm(e.value)))))]}getValueForCancel(){var e;return null===(e=this.config.options.find((e=>e.is_cancel)))||void 0===e?void 0:e.value}}!function(e){e.simple=function(t,i,n,o){return new e({title:t,body:i,options:[{kind:"neutral",text:n,value:!1,is_cancel:!0},{kind:"cancel",text:o,value:!0}]})}}(Wc||(Wc={}));var Gc=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Zc{constructor(){this.temporary_bookmarks=[]}create(e){switch(e.type){case"persistent":Zc.persistance.map((t=>{t.push(e)}));break;case"temporary":this.temporary_bookmarks.push(e)}}delete(e){switch(e.type){case"persistent":Zc.persistance.map((t=>{t.splice(t.indexOf(e),1)}));break;case"temporary":this.temporary_bookmarks.splice(this.temporary_bookmarks.indexOf(e),1)}}getAll(){return[].concat(Zc.persistance.get(),this.temporary_bookmarks)}}!function(t){t.persistance=new e.Variable("patheditor/bookmarks",(()=>[]));class i extends fc{constructor(e,t){super({size:"small"}),this.start_name=e,this.value=t,this.title.set("Create Bookmark"),this.bookmark={name:e,value:t,type:"temporary"}}render(){super.render();const e=(new Pa).appendTo(this.body);e.named("Bookmark name",(new Lc).setValue(this.start_name).setPlaceholder("Name...").onCommit((e=>this.bookmark.name=e))),e.row(new Mc("Save for future use?").setValue("persistent"==this.bookmark.type).onCommit((e=>this.bookmark.type=e?"persistent":"temporary")))}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.cancel())),new mc("Save","confirm").onClick((()=>this.confirm(this.bookmark)))]}getValueForCancel(){return null}}t.getContextMenu=function(e,t){return{type:"submenu",text:"",children:[...t.getAll().map((i=>{const n={text:i.name,type:"submenu",children:[]};return n.children.push({type:"basic",text:"Load",handler:()=>{e.set(i.value.path,!1,i.value.cursor)}}),n.children.push({type:"basic",text:"Insert",handler:()=>{e.add(...i.value.path)}}),"temporary"==i.type&&n.children.push({type:"basic",text:"Make persistent",handler:()=>{t.delete(i),i.type="persistent",t.create(i)}}),n.children.push({type:"basic",text:"Delete",handler:()=>Gc(this,void 0,void 0,(function*(){("temporary"==i.type||(yield new Wc({options:[{text:"Cancel",kind:"cancel",value:!1},{text:"Delete",kind:"cancel",value:!0}],title:"Remove Bookmark?",body:"Do you really want to remove this persistent path bookmark? There is no way to undo this and you will have to recreate it manually."}).do()))&&t.delete(i)}))}),n})),{type:"basic",text:"Create Bookmark",handler:()=>Gc(this,void 0,void 0,(function*(){const n=function e(i){const n=`Bookmark ${i}`;return t.getAll().some((e=>e.name==n))?e(i+1):n}(1),o=yield new i(n,e.copyState()).do();o&&t.create(o)}))}]}}}(Zc||(Zc={}));var Kc=ie.cls;class Yc{constructor(){this._type="information",this._duration=3e3,this.hasDismiss=!0,this.options=[],this._content=c()}show(e=void 0){e||(e=Xc.instance()),e.do(this)}render(e){var t;const i=Kc("ctr-notification");i.addClass(`ctr-notification-${null!==(t=this._type)&&void 0!==t?t:"information"}`);const n=Kc("ctr-notification-content").append(this._content).appendTo(i);for(let t of this.options){const i="string"==typeof t.content?Kc("ctr-notification-link").append(t.content):t.content;n.append(Kc("ctr-notification-spacer"),i.on("click",(()=>{t.handler(e)})))}return this.hasDismiss&&n.append(Kc("ctr-notification-spacer"),c("<div class='ctr-notification-dismiss'>&times;</div>").tooltip("Dismiss").on("click",(()=>e.dismiss()))),i}setType(e){return this._type=e,this}addButton(e,t=(()=>{})){return this.options.push({content:e,handler:t}),this}setDuration(e){return this._duration=e,this}setContent(e){return this._content=e,this}}class Qc{constructor(e,t){this.original=e,this.bar=t,this.widget=e.render(this)}dismiss(e=!1){e?this.widget.container.fadeOut(300,(()=>this.widget.remove())):this.widget.remove()}}!function(e){e.notification=function(t,i="information"){return(new e).setContent(t).setType(i)}}(Yc||(Yc={}));class Xc extends Ii{constructor(){super(),this.addClass("ctr-notification-bar")}do(e){const t=new Qc(e,this);return t.widget.css("display","none").appendTo(this).container.animate({height:"toggle"},300),null!=e._duration&&setTimeout((()=>{t.dismiss(!0)}),e._duration),this}static instance(){return this._instance||(this._instance=new Xc),this._instance}}Xc._instance=null;class Jc extends kl{constructor(e="Button",t="default"){super(),"default"==t&&this.addClass("ctr-lightbutton-default"),"round"==t&&this.addClass("ctr-lightbutton-round"),this.addClass("ctr-lightbutton").append(e)}slim(){return this.addClass("ctr-lightbutton-slim"),this}setText(e){return this.text(e),this}}var eu=Ia.arrow,tu=Fi.observe_combined;class iu extends Ca{constructor(e){super({preview_render:([e,t])=>eu(e,t).setStyle({weight:3,color:"gold"})}),this.allow_off_grid=e,this.start_position=qi(null).equality(Te.eq2),this.previewed_target_position=qi(null).equality(Te.eq2),this.snap_target_position=qi(!0),tu({start:this.start_position,target:this.previewed_target_position,snap:this.snap_target_position}).subscribe((({start:e,target:t,snap:i})=>{e&&t&&(i?this.preview([e,Te.snap(t)]):this.preview([e,t]))})),this.attachTopControl((new Sa).setName("Drawing arrow")),this.start_position.subscribe((()=>this.updateInstructions()),!0)}updateInstructions(){this.top_control&&(this.start_position.value()?this.top_control.setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Click] target tile to confirm.")).append(this.allow_off_grid?c().text("[Shift] to disable tile snapping."):void 0).append(c().text("[Backspace] to reset start tile."))):this.top_control.setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Click] tile to set start position.")).append(this.allow_off_grid?c().text("[Shift] to disable tile snapping."):void 0)))}setStartPosition(e){return this.start_position.set(e),this}eventClick(e){e.onPost((()=>{return t=this,i=void 0,o=function*(){e.stopAllPropagation(),this.start_position.value()?this.snap_target_position.value()?this.commit([this.start_position.value(),e.tile()]):this.commit([this.start_position.value(),e.coordinates]):this.start_position.set(e.coordinates)},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o}))}eventHover(e){e.onPost((()=>{this.start_position.value()&&this.previewed_target_position.set(e.coordinates)}))}eventKeyDown(e){e.onPre((()=>{null!=this.start_position.value()&&"Backspace"==e.original.key&&(e.stopAllPropagation(),this.start_position.set(null))})),this.allow_off_grid&&e.onPost((()=>{"Shift"==e.original.key&&this.snap_target_position.set(!1)}))}eventKeyUp(e){this.allow_off_grid&&e.onPost((()=>{"Shift"==e.original.key&&this.snap_target_position.set(!0)}))}}var nu,ou,su,ru,au,lu=_e.cleanedJSON,cu=Yc.notification,uu=mr.activate;class pu extends Ca{constructor(e=[],t=[]){super({preview_render:e=>ce.featureGroup(e.map((e=>Cr(e).setStyle({color:"blue",fillOpacity:.4,stroke:!1}))))}),this.show_commands=t,this.tiles=[],this.tiles=e,this.preview(this.tiles),this.attachTopControl(new Sa({name:"Draw Tile Area"}).setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Shift + Mouse] add tiles")).append(c().text("[Alt + Mouse] remove tiles")).append(c().text("Hold [Ctrl] to draw rectangles")).append(0==this.show_commands.length?void 0:(new hc).buttons(...t.map((e=>{switch(e){case"commit":return new Jc("Confirm").onClick((()=>{this.commit(this.tiles)}));case"copy":return new Jc("Copy").onClick((()=>{this.tiles.length>0?(navigator.clipboard.writeText(lu(mr.fromTiles(this.tiles))),cu("Copied").show()):cu("No tiles","error")}));case"copytiles":return new Jc("Copy Array").onClick((()=>{this.tiles.length>0?(navigator.clipboard.writeText(lu(this.tiles)),cu("Copied").show()):cu("No tiles","error")}));case"reset":return new Jc("Reset").onClick((()=>{this.tiles=[],this.preview(this.tiles)}))}}))))))}onAdd(e){return super.onAdd(e),e.dragging.disable(),this}onRemove(e){return super.onRemove(e),e.dragging.enable(),this}set(e,...t){let i=!1;t.forEach((t=>{const n=this.tiles.findIndex((e=>Te.eq2(e,t)));e!==n>=0&&(e?this.tiles.push(t):this.tiles.splice(n,1),i=!0)})),i&&this.preview(this.tiles)}toggle(e){const t=this.tiles.findIndex((t=>Te.eq2(t,e))),i=t>=0;return i?this.tiles.splice(t,1):this.tiles.push(e),this.preview(this.tiles),!i}eventMouseDown(e){super.eventMouseDown(e),e.onPost((()=>{if(e.original.shiftKey||e.original.altKey){e.original.preventDefault();const t=e.original.shiftKey;this.getMap().dragging.disable(),e.original.ctrlKey?this.activeRectangleDrawing||(this.activeRectangleDrawing=new iu(!1).attachTopControl(null).setStartPosition(e.tile()).setPreviewFunction((([e,i])=>Er(we.from(e,i)).setStyle({color:t?"green":"red",stroke:!0}))).onCommit((([e,i])=>{this.activeRectangleDrawing&&(this.activeRectangleDrawing.remove(),this.activeRectangleDrawing=null);const n=ze.from(e,i);this.set(t,...uu(mr.fromRect(n)).getTiles())})).addTo(this)):(this.drawing={additive:e.original.shiftKey},this.set(t,e.tile()))}}))}eventMouseUp(e){e.onPost((()=>{this.drawing=null,this.getMap().dragging.enable()}))}eventHover(e){super.eventHover(e),e.onPost((()=>{this.drawing&&e.onPost((()=>{this.set(this.drawing.additive,e.tile())}))}))}}!function(e){e.values=["easy","medium","hard","elite","master","tetracompass","sandy"]}(nu||(nu={})),function(e){e.meta=function(e){return{easy:{icon_url:"/assets/icons/sealedeasy.png",name:"Easy"},medium:{icon_url:"/assets/icons/sealedmedium.png",name:"Medium"},hard:{icon_url:"/assets/icons/sealedhard.png",name:"Hard"},elite:{icon_url:"/assets/icons/sealedelite.png",name:"Elite"},master:{icon_url:"/assets/icons/sealedmaster.png",name:"Master"},tetracompass:{icon_url:"/assets/icons/tetracompass.png",name:"Tetracompass"},sandy:{icon_url:"/assets/icons/sandcastle.png",name:"Sandy"},anagram:{icon_url:"/assets/icons/activeclue.png",name:"Anagram"},compass:{icon_url:"/assets/icons/arrow.png",name:"Compass"},coordinates:{icon_url:"/assets/icons/sextant.png",name:"Coordinate"},cryptic:{icon_url:"/assets/icons/activeclue.png",name:"Cryptic"},emote:{icon_url:"/assets/icons/emotes.png",name:"Emote"},map:{icon_url:"/assets/icons/map.png",name:"Map"},scan:{icon_url:"/assets/icons/scan.png",name:"Scan"},simple:{icon_url:"/assets/icons/activeclue.png",name:"Simple"},skilling:{icon_url:"/assets/icons/skills.webp",name:"Skilling"}}[e]},e.pretty=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""},e.all=["simple","cryptic","emote","map","anagram","coordinates","compass","scan","skilling"]}(ou||(ou={})),function(e){let t,i;function n(e){return mr.fromRect(o(e))}function o(e){return{topleft:{x:e.x-1,y:e.y+1},botright:{x:e.x+1,y:e.y-1},level:e.level}}!function(e){e.solution=function(e){return e.solution?e.solution:"coordinates"==e.type?{type:"dig",spot:ae.toCoords(e.coordinates),description:null}:null},e.shortString=function(e,t=0){let i=Math.max(0,Math.min(e.text.length-1,t));switch(e.type){case"anagram":return`Anagram: ${e.anagram[i]}`;case"map":return`Map: ${e.text[i]}`;case"coordinates":return ae.toString(e.coordinates);case"scan":return`Scan ${e.scantext} (${e.range} tiles)`;default:return e.text[i]}}}(t=e.Step||(e.Step={})),function(i){var o=ha.EntityTransportation.default_interactive_area;let s;!function(e){e.equals=function(e,t){return(null==e?void 0:e.clue)==(null==t?void 0:t.clue)&&((null==e?void 0:e.spot)==(null==t?void 0:t.spot)||Te.eq2(null==e?void 0:e.spot,null==t?void 0:t.spot))}}(s=i.Id||(i.Id={})),i.shortString=function(e,i=0){return"compass"==e.clue.type?`Compass spot ${e.spot?xe.toString(e.spot):"???"}`:t.shortString(e.clue,i)},i.targetArea=function(t){if(t.spot)return"compass"==t.clue.type&&t.clue.single_tile_target?[mr.fromTiles([t.spot])]:[n(t.spot)];const i=e.Step.solution(t.clue);if(i)switch(i.type){case"search":return[o(i.spot)];case"dig":return[n(i.spot)];case"talkto":return i.spots.map((e=>e.range))}return"emote"==t.clue.type?[t.clue.area]:"scan"==t.clue.type?[mr.fromRect(ze.from(...t.clue.spots))]:"skilling"==t.clue.type?t.clue.areas:void 0},i.toId=function(e){return{clue:e.clue.id,spot:e.spot}},i.solution=function(t){return t.spot?{type:"dig",spot:t.spot,description:null}:e.Step.solution(t.clue)}}(i=e.ClueSpot||(e.ClueSpot={})),e.digSpotArea=n,e.digSpotRect=o,e.requiresKey=function(e){return e.solution&&"search"==e.solution.type&&!!e.solution.key}}(su||(su={})),function(e){function t(e,t){return xe.max_axis(xe.sub(e,t))}let i;function n(e){return{x:e.x,y:(e.y+6400)%12800,level:e.level}}e.range=function(e,t){return e.range+(t?5:0)},e.get_pulse=function(e,i,o){let s=t(e,i),r=3-Math.min(2,Math.floor(Math.max(0,s-1)/o));return Ua(r>=1&&r<=3),{pulse:r,different_level:e.level!=i.level||t(n(e),i)<=o+15}},e.distance=t,function(e){var t=_e.Order.natural_order,i=_e.Order;function n(e){return e.pulse-1+(e.different_level?3:0)}function o(e,t){return e.different_level?t.some((t=>t.pulse==e.pulse&&!t.different_level))?1==_e.count(t,(e=>e.different_level))?{type:null,text:"DL"}:{type:e.pulse,text:"DL"}:{type:e.pulse,text:null}:_e.count(t,(e=>e.different_level))==t.length-1?{type:null,text:"TF"}:{type:e.pulse,text:null}}e.hash=n,e.unhash=function(e){return{pulse:e%3+1,different_level:e>=3}},e.equals=function(e,t){return e.pulse==t.pulse&&e.different_level==t.different_level},e.all=[{pulse:1,different_level:!1},{pulse:2,different_level:!1},{pulse:3,different_level:!1},{pulse:1,different_level:!0},{pulse:2,different_level:!0},{pulse:3,different_level:!0}],e.meta=function(e){let t=["Single","Double","Triple"][e.pulse-1];return e.different_level?{pretty:1==e.pulse?"Different Level":t+" (DL)",short:1==e.pulse?"DL":"DL"+e.pulse,shorted:1==e.pulse?'"DL"':'"DL"'+e.pulse}:{pretty:t,short:e.pulse.toString(),shorted:e.pulse.toString()}},e.simplify_with_context=o,e.pretty_with_context=function(e,t){let{type:i,text:n}=o(e,t);if(null==i)switch(n){case"DL":return"Different level";case"TF":return"Too far";case null:return"NULL"}else{let e=["Single","Double","Triple"][i-1];switch(n){case"DL":return`Different Level (${e})`;case"TF":return"NULL";case null:return e}}},e.compare=function(e,i){return t(n(e),n(i))},e.comp=i.comap(t,n)}(i=e.Pulse||(e.Pulse={})),e.complementSpot=n}(ru||(ru={})),function(e){var t=ru.Pulse,i=ru.get_pulse,n=mr.activate,o=ru.complementSpot,s=ru.distance;let r;function a(e,r,a){if(!r.data){const t=mr.toRect(r);let n,l=i(e,ze.clampInto(e,t),a).pulse;if(1==l){n=[];let i=o(e);(e.level!=t.level||s(i,we.clampInto(i,t))<=a+15)&&n.push({pulse:1,different_level:!0}),(s(i,t.topleft)>a+15||s(i,t.botright)>a+15)&&e.level==t.level&&n.push({pulse:1,different_level:!1})}else{let o=Math.min(i(e,ze.tl(t),a).pulse,i(e,ze.br(t),a).pulse);n=(0,oe.rangeRight)(o,l+1,1).map((i=>({pulse:i,different_level:e.level!=t.level})))}return n}const l=[];return n(r).getTiles().forEach((n=>{l.push(t.hash(i(e,n,a)))})),[...new Set(l).values()].map(t.unhash)}function l(e,i,n){return e.filter((e=>a(e,i.area,n).some((e=>t.equals(i,e)))))}!function(e){e.equals=function(e,i){return t.equals(e,i)&&!(3==e.pulse&&3==i.pulse&&!Te.eq2(null==e?void 0:e.spot,i.spot))},e.toString=function(e){return e.pulse.toString()+(e.different_level?"l":"")+(3==e.pulse&&e.spot?Te.toShortString(e.spot):"")}}(r=e.PulseInformation||(e.PulseInformation={})),e.spot_narrowing=function(e,i,n){return t.all.flatMap((t=>{let o=l(e,{area:i,pulse:t.pulse,different_level:t.different_level},n);return 3==t.pulse?o.map((e=>({pulse:{pulse:3,different_level:t.different_level,spot:e},narrowed_candidates:[e]}))):[{pulse:t,narrowed_candidates:o}]}))},e.area_pulse=a,e.narrow_down=l}(au||(au={}));var hu,du,gu=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){var t=wa.movement_state,i=su.digSpotArea,n=au.PulseInformation,o=au.spot_narrowing;let s;function r(e,t){return e.ordered_spots.findIndex((e=>xe.eq(e,t)))+1}function a(e){var t;return 0==e.raw.path.length&&0==e.children.length?"Improvise!":(e.raw.path.length>0?e.raw.path.filter((e=>"cosmetic"!=e.type)).map(Oa.templateString).join(" - "):"Go")+(0==e.raw.path.length||(null===(t=e.raw.region)||void 0===t?void 0:t.name)||1==e.remaining_candidates.length?" to {{target}}":"")}!function(e){var s=_e.avg,a=wa.ends_up,l=mr.activate;let c,u,p,h;function d(e,n){return gu(this,void 0,void 0,(function*(){return e.state.paths_augmented||(yield function e(t,n){return gu(this,void 0,void 0,(function*(){var o;if(t.path=yield wa.augment(t.raw.path,n,1==t.remaining_candidates.length?[l(i(t.remaining_candidates[0]))]:(null===(o=t.region)||void 0===o?void 0:o.area)?[l(t.region.area)]:[]),t.children.length>0){let i=oe.cloneDeep(t.path.post_state);i.tick+=1,yield Promise.all(t.children.map((t=>e(t.value,i))))}}))}(e.root_node,t.start(n)),e.state.paths_augmented=!0),e}))}function g(e,t){let i={raw:e,clue:t,root_node:null,state:{paths_augmented:!1,completeness_analyzed:!1,correctness_analyzed:!1,timing_analysis:null,has_synthetic_triple_nodes:!1}};return i.root_node=function t(s,r,a,l,c){var u,p,h;let d={root:i,parent:r,region:{area:(null===(u=s.region)||void 0===u?void 0:u.area)||wa.endsUpArea(s.path)||c,name:null!==(h=null===(p=s.region)||void 0===p?void 0:p.name)&&void 0!==h?h:""},raw:s,depth:a,remaining_candidates:l,children:[]};if(s.children.length>0){let i=o(l,d.region.area,e.assumed_range);d.children=s.children.map((e=>({key:e.key,value:t(e?e.value:null,{node:d,key:e.key},a+1,i.find((t=>n.equals(t.pulse,e.key))).narrowed_candidates,d.region.area)})))}return d}(e.root,null,0,e.ordered_spots,null),i}function f(e){if(!e.state.paths_augmented)throw new TypeError("Trying to analyze a decision tree for correctness without augmented paths!");return e.state.correctness_analyzed||(function e(t){t.children.forEach((t=>e(t.value)));let i=t.children.map((e=>e.value)),n=wa.collect_issues(t.path);n.some((e=>0==e.level))?t.correctness="error":i.some((e=>"error"==e.correctness||"error_in_children"==e.correctness))?t.correctness="error_in_children":n.some((e=>1==e.level))||i.some((e=>"correct_with_warnings"==e.correctness))?t.correctness="correct_with_warnings":t.correctness="correct"}(e.root_node),e.state.correctness_analyzed=!0),e}function y(e){return e.state.completeness_analyzed||(function e(t){t.children.forEach((t=>e(t.value)));let n=t.children.map((e=>e.value));if(t.completeness="complete",t.remaining_candidates.length>1&&0==n.length)t.completeness="incomplete";else if(n.some((e=>"incomplete"==e.completeness||"incomplete_children"==e.completeness)))t.completeness="incomplete_children";else if(1==t.remaining_candidates.length){const e=a(t.raw.path);e&&l(i(t.remaining_candidates[0])).query(e)||(t.completeness="incomplete")}}(e.root_node),e.state.completeness_analyzed=!0),e}function m(e){return h.traversePostOrder(e.root_node,(e=>{0==e.children.length?e.timing_analysis=c.from(...e.remaining_candidates.map((t=>({spot:t,ticks:e.path.post_state.tick,incomplete:"complete"!=e.completeness})))):e.timing_analysis=c.combine(...e.children.map((e=>e.value.timing_analysis)))})),e.state.timing_analysis=e.root_node.timing_analysis,e}function _(e){return e.state.has_synthetic_triple_nodes||h.traverse(e.root_node,(e=>{const t=e.children.filter((e=>3==e.key.pulse));if(t.length>1&&e.children.some((e=>3!=e.key.pulse))){const i={children:[],depth:e.depth+1,parent:{key:{pulse:3},node:e},path:e.path?{issues:[],post_state:e.path.post_state,pre_state:e.path.post_state,raw:[],steps:[],target:[]}:void 0,raw:{children:[],directions:void 0,path:[],region:void 0},region:e.region,remaining_candidates:t.flatMap((e=>e.value.remaining_candidates)),root:e.root};i.children=e.children.filter((e=>3==e.key.pulse)).map((e=>({key:e.key,value:Object.assign(Object.assign({},e.value),{depth:e.value.depth+1,parent:{node:i,key:e.key}})}))),e.children=[...e.children.filter((e=>3!=e.key.pulse)),{key:{pulse:3},value:i}]}})),e}!function(e){let t;function i(...t){const i={spots:[],statistics:void 0};return t.forEach((({spot:e,ticks:t,incomplete:n})=>{var o;(null!==(o=i.spots.find((t=>Te.eq(t.spot,e))))&&void 0!==o?o:(0,oe.tap)({spot:e,timings:[],statistics:void 0},(e=>i.spots.push(e)))).timings.push({ticks:t,incomplete:n})})),i.spots.forEach((t=>t.statistics=e.Statistics.calculate(t.timings.map((e=>e.ticks))))),i.statistics=e.Statistics.calculate(i.spots.flatMap((e=>e.timings.map((e=>e.ticks))))),i}function n(e){return e.spots.flatMap((e=>e.timings.map((t=>({spot:e.spot,ticks:t.ticks,incomplete:t.incomplete})))))}!function(e){var t=_e.median;e.calculate=function(e){return e.sort(),{average:s(...e),min:e[0],max:e[e.length-1],median:t(e)}}}(t=e.Statistics||(e.Statistics={})),e.from=i,e.flat=n,e.combine=function(...e){return i(...e.flatMap((e=>n(e))))}}(c=e.Timing||(e.Timing={})),function(e){e.of=function(e){const t=new Array(e.depth);let i=e.depth-1;for(;e.parent;)t[i]=e.parent.key,e=e.parent.node,i--;return t},e.hash=function(e){return e.map(n.toString).join("")}}(u=e.NodeId||(e.NodeId={})),function(e){e.meta=function(e){return{complete:{char:"✓",cls:"ctr-correct",desc:"This branch is complete."},correct:{char:"✓",cls:"ctr-correct",desc:"All paths are correct."},correct_with_warnings:{char:"✓",cls:"ctr-semicorrect",desc:"All paths are correct, but some have warnings."},error:{char:"!",cls:"ctr-incorrect",desc:"There is an error in this path."},error_in_children:{char:"!",cls:"ctr-semiincorrect",desc:"A child path has errors."},incomplete:{char:"?",cls:"ctr-incorrect",desc:"This branch is incomplete."},incomplete_children:{char:"?",cls:"ctr-semiincorrect",desc:"Branch has incomplete children."}}[e]}}(p=e.Correctness||(e.Correctness={})),e.path_augmentation=d,e.basic_augmentation=g,e.analyze_correctness=f,e.analyze_completeness=y,e.analyze_timing=m,e.synthesize_triple_nodes=_,e.augment=function(e,t,i){return gu(this,void 0,void 0,(function*(){const n=g(t,i);return e.augment_paths&&(yield d(n,e.path_assumptions)),e.analyze_correctness&&f(n),e.analyze_completeness&&y(n),e.analyze_timing&&m(n),e.synthesize_triple_nodes&&_(n),n}))},function(e){e.decision_string=function(e){var t,i,n,o;if(3==(null===(o=null===(n=null===(i=null===(t=e.parent)||void 0===t?void 0:t.node)||void 0===i?void 0:i.parent)||void 0===n?void 0:n.key)||void 0===o?void 0:o.pulse)&&1==e.remaining_candidates.length)return`Sp. ${r(e.root.raw,e.remaining_candidates[0])}`;const s=(()=>{var t;if(e.parent){const i=(null===(t=e.parent.node.region)||void 0===t?void 0:t.name)||"",n=e.parent.key,o=e.parent.node.children.map((e=>e.key));return n.different_level?o.some((e=>e.pulse==n.pulse&&!e.different_level))?1==_e.count(o,(e=>e.different_level))?i.length>0?`${i},DL`:"DL":`${i}${n.pulse}DL`:n.pulse.toString():_e.count(o,(e=>e.different_level))==o.length-1?i.length>0?`${i},Far`:"Far":`${i}${n.pulse.toString()}`}return"Start"})();return 1==e.remaining_candidates.length?`${s}: Sp. ${r(e.root.raw,e.remaining_candidates[0])}`:s},e.collect_parents=function e(t,i=!0){var n;if(!t)return[];let o=e(null===(n=t.parent)||void 0===n?void 0:n.node,!0);return i&&o.push(t),o},e.traverse=function e(t,i,n=!0){n&&t&&i(t),t.children.forEach((t=>e(t.value,i,!0)))},e.traversePostOrder=function e(t,i,n=!0){t.children.forEach((t=>e(t.value,i,!0))),n&&t&&i(t)}}(h=e.AugmentedScanTree||(e.AugmentedScanTree={}))}(s=e.Augmentation||(e.Augmentation={})),e.traverse=function e(t,i){t&&i(t),t.children.forEach((t=>e(t.value,i)))},e.init=function(e){return{assumed_range:e.range,ordered_spots:e.spots,root:{children:[],directions:"",path:[]}}},e.init_leaf=function(){return{children:[],directions:"",path:[]}},e.normalize=function(e){return e.root||(e.root={children:[],directions:"",path:[]}),function t(i,s){var r;const a=(null===(r=i.region)||void 0===r?void 0:r.area)||wa.endsUpArea(i.path);let l=a?o(s,a,e.assumed_range).filter((e=>e.narrowed_candidates.length>0)).map((({pulse:e,narrowed_candidates:t})=>({child:i.children.find((t=>n.equals(e,t.key)))||{key:e,value:{children:[],directions:"",path:[]}},candidates:t}))):[];1==l.length&&(l=[]),i.children=l.map((e=>e.child)),l.forEach((({child:e,candidates:i})=>{t(e.value,i)}))}(e.root,e.ordered_spots),e},e.spotNumber=r,e.defaultScanTreeInstructions=a,e.getInstruction=function(e){return e.raw.directions||a(e)},e.getTargetRegion=function(e){var t,i;return 1==e.remaining_candidates.length?null:{area:e.region.area,name:null!==(i=null===(t=e.region)||void 0===t?void 0:t.name)&&void 0!==i?i:""}}}(hu||(hu={})),function(e){var t=_e.timestamp,i=_e.uuid;let n,o;!function(e){let t;e.init=function(){return{double_escape:!0,double_surge:!0,full_globetrotter:!0,meerkats_active:!0,mobile_perk:!0,way_of_the_footshaped_key:!0}},e.filterWithRelevance=function(e,t){const i=oe.cloneDeep(e);for(let e of Object.keys(i))t.includes(e)||(i[e]=void 0);return i},function(e){e.all=["double_escape","double_surge","mobile_perk","way_of_the_footshaped_key","full_globetrotter","meerkats_active"],e.forSpot=function(e){const t=["double_escape","double_surge","mobile_perk"];return e.clue.solution&&"search"==e.clue.solution.type&&e.clue.solution.key&&t.push("way_of_the_footshaped_key"),"emote"==e.clue.type&&e.clue.hidey_hole&&t.push("full_globetrotter"),"scan"==e.clue.type&&t.push("meerkats_active"),t},e.path=["double_escape","double_surge","mobile_perk"]}(t=e.Relevance||(e.Relevance={}))}(n=e.ClueAssumptions||(e.ClueAssumptions={})),function(e){e.meta=function(e){return{name:e.name,description:e.description,assumptions:e.assumptions}},e.setMeta=function(e,t){return e.name=t.name,e.description=t.description,e.assumptions=oe.cloneDeep(t.assumptions),e},e.allPaths=function(e){const t=(()=>{switch(e.type){case"general_path":return[e.pre_path,e.main_path,e.post_path];case"scantree":function t(e,i){return e.push(i.path),i.children.forEach((i=>t(e,i.value))),e}return t([],e.tree.root)}})();return t.filter((e=>e&&e.length>0)),t.flat()}}(o=e.Method||(e.Method={})),e.init=function(e){var o;return"scan"==e.clue.type?{id:i(),type:"scantree",timestamp:t(),name:"",description:"",assumptions:n.init(),for:{clue:e.clue.id},tree:hu.init(e.clue)}:{id:i(),type:"general_path",timestamp:t(),name:"",description:"",assumptions:n.init(),for:{clue:e.clue.id,spot:null!==(o=e.spot)&&void 0!==o?o:void 0},post_path:[],pre_path:[],main_path:[]}},e.clone=function(e){const t=oe.cloneDeep(e);return t.id=i(),t}}(du||(du={}));var fu=du.ClueAssumptions,yu=ie.vbox;class mu extends lc{constructor(){super(),this.relevant_assumptions=fu.Relevance.all}render(){var e;this.empty();const t=this.relevant_assumptions,i=null!==(e=this.get())&&void 0!==e?e:{};yu(t.includes("meerkats_active")?new Mc("Using Meerkats Familiar").setValue(!!i.meerkats_active).onCommit((e=>this.updateAssumptions((t=>t.meerkats_active=e)))):void 0,t.includes("full_globetrotter")?new Mc("Full Globetrotter").setValue(!!i.full_globetrotter).onCommit((e=>this.updateAssumptions((t=>t.full_globetrotter=e)))):void 0,t.includes("way_of_the_footshaped_key")?new Mc("Way of the foot-shaped key").setValue(!!i.way_of_the_footshaped_key).onCommit((e=>this.updateAssumptions((t=>t.way_of_the_footshaped_key=e)))):void 0,t.includes("double_surge")?new Mc("Double Surge").setValue(!!i.double_surge).onCommit((e=>this.updateAssumptions((t=>t.double_surge=e)))):void 0,t.includes("double_escape")?new Mc("Double Escape").setValue(!!i.double_escape).onCommit((e=>this.updateAssumptions((t=>t.double_escape=e)))):void 0,t.includes("mobile_perk")?new Mc("Mobile Perk").setValue(!!i.mobile_perk).onCommit((e=>this.updateAssumptions((t=>t.mobile_perk=e)))):void 0).appendTo(this)}setRelevantAssumptions(e=fu.Relevance.all){return this.relevant_assumptions=e,this.setValue(fu.filterWithRelevance(this.get(),e)),this.render(),this}updateAssumptions(e){const t=oe.cloneDeep(this.get());e(t),this.commit(t)}}!function(e){e.icons=function(e){let t=[];const i=e=>ie.img(e).addClass("ctr-assumption-icon");return e.double_escape&&t.push(i("/assets/icons/doubleescape.png").tooltip("Assumes Double Escape")),e.double_surge&&t.push(i("/assets/icons/doublesurge.png").tooltip("Assumes Double Surge")),e.mobile_perk&&t.push(i("/assets/icons/mobile.png").tooltip("Assumes Mobile Perk")),e.full_globetrotter&&t.push(i("/assets/icons/Globetrotter_jacket.png").tooltip("Assumes Full Globetrotter")),e.meerkats_active&&t.push(i("/assets/icons/Meerkats_pouch.png").tooltip("Assumes using Meerkats")),e.way_of_the_footshaped_key&&t.push(i("/assets/icons/Key_(Treasure_Trails).png").tooltip("Assumes 'Way of the footshaped key' is unlocked")),t.forEach((e=>e.css("margin-left","3px"))),t}}(mu||(mu={}));var _u=ie.hboxl;class vu extends Ii{constructor(e){super(),this.value=e,this.addClass("ctr-buff-view"),this.render()}render(){c(`<img src='${this.value.icon}' alt="">`).appendTo(this),"buff"==this.value.kind&&this.addClass("ctr-buff-view-buff"),"debuff"==this.value.kind&&this.addClass("ctr-buff-view-debuff"),this.value.on_cooldown&&this.addClass("ctr-buff-view-cooldown"),this.value.time_left>0&&c(`<div>${this.value.time_left}t</div>`).appendTo(this)}}class xu extends Ii{constructor(e){super(),this.value=e,this.render()}setValue(e){this.value=e,this.render()}render(){this.empty();let e=(new Pa).appendTo(this);e.named("Assumptions",_u(...mu.icons(this.value.assumptions))),e.named("Tick",c().text(this.value.tick)),this.value.position.tile&&e.named("Tile",c().text(Te.toString(this.value.position.tile))),this.value.position.direction&&e.named("Facing",c().text(gr.toString(this.value.position.direction))),this.value.targeted_entity&&e.named("Targeting",c().text(Te.toString(this.value.targeted_entity)));let t=c("<div class='ctr-movement-state-view-cooldowns'></div>"),i=c("<div class='ctr-movement-state-view-cooldowns'></div>");e.named("Powerburst",t),e.named("Cooldowns",i),this.value.acceleration_activation_tick+200>this.value.tick?(this.value.acceleration_activation_tick+10>this.value.tick&&new vu({icon:"/assets/icons/accel.png",on_cooldown:!1,kind:"buff",time_left:this.value.acceleration_activation_tick+10-this.value.tick}).appendTo(t),new vu({icon:"/assets/icons/accel.png",on_cooldown:!0,kind:"debuff",time_left:this.value.acceleration_activation_tick+200-this.value.tick}).appendTo(t)):c().text("Ready").appendTo(t);for(let e of this.value.cooldowns.surge)new vu({icon:"/assets/icons/surge.png",on_cooldown:e>this.value.tick,time_left:e-this.value.tick}).appendTo(i);for(let e of this.value.cooldowns.escape)new vu({icon:"/assets/icons/escape.png",on_cooldown:e>this.value.tick,time_left:e-this.value.tick}).appendTo(i);new vu({icon:"/assets/icons/dive.png",on_cooldown:this.value.cooldowns.dive>this.value.tick,time_left:this.value.cooldowns.dive-this.value.tick}).appendTo(i),new vu({icon:"/assets/icons/barge.png",on_cooldown:this.value.cooldowns.barge>this.value.tick,time_left:this.value.cooldowns.barge-this.value.tick}).appendTo(i)}}var wu=ie.vbox,bu=ie.spacer;class ku extends Ii{constructor(e){super(),this.addClass("ctr-step-issue").setAttribute("level",e.level.toString()),this.append(ku.icon(e.level)," ",e.message)}}!function(e){var t=ie.cls;e.icon=function(e){return t(`ctr-step-issue-icon-${e}`)}}(ku||(ku={}));class Tu extends Ii{constructor(e){super(),this.issues=e,this.css2({display:"flex"}),oe.sortBy(Object.entries(oe.groupBy(e,(e=>e.level))),(e=>e[0])).forEach((([e,t])=>{this.append(ku.icon(t[0].level),t.length.toString())})),this.addTippy(wu(...e.map((e=>new ku(e)))))}}class zu extends Ii{constructor(e){super(),this.editor=e,this.step_rows=[],this.inbetween_rows=[],this.addClass("path-edit-control"),this.steps_container=wu().appendTo(this).css2({"max-height":"800px","overflow-y":"auto"}).addClass("ctr-path-edit-overview"),e.value.committed_value.subscribe((e=>this.render(e))),e.value.cursor_state.subscribe((()=>{this.inbetween_rows.forEach((e=>e.render()))}))}setDragTarget(e){this.inbetween_rows.forEach(((t,i)=>{t.is_dragged_over.set(i==e)}))}render(e){if(e){this.step_rows=[],this.inbetween_rows=[],this.steps_container.empty();for(let t=0;t<=e.steps.length;++t)this.inbetween_rows.push(new zu.InbetweenSteps(this,e,t).appendTo(this.steps_container)),t<e.steps.length&&this.step_rows.push(new zu.Step(this,e.steps[t]).appendTo(this.steps_container));return e.path.issues.length>0&&wu(...e.path.issues.map((e=>new ku(e)))).appendTo(this.steps_container),this}}}!function(e){var t=ie.span,i=ie.hboxl;e.InbetweenSteps=class extends Ii{constructor(e,t,i){super(),this.parent=e,this.va=t,this.index=i,this.is_dragged_over=qi(!1),this.value=wa.augmented.getState(this.va.path,this.index),this.addTippy(new xu(this.value),{delay:[300,0]}),this.addClass("ctr-path-edit-overview-inbetween"),this.on("click",(()=>{this.va.builder.setCursor(this.index)})),this.on("drop",(e=>{e.preventDefault();const t=JSON.parse(e.originalEvent.dataTransfer.getData("text/plain"));this.is_dragged_over.set(!1),this.va.builder.move(t.step_index,this.index)})),this.on("dragover",(e=>{e.preventDefault(),this.parent.setDragTarget(this.index),e.originalEvent.dataTransfer.dropEffect="move"})),this.on("dragleave",(()=>{this.is_dragged_over.set(!1)})),this.on("contextmenu",(e=>{e.preventDefault();const t=[{type:"basic",text:"Select",handler:()=>{this.va.builder.setCursor(this.index)}}];this.value.position.tile&&t.push({type:"basic",text:"Show on map",handler:()=>{this.parent.editor.game_layer.getMap().fitView(ze.from(this.value.position.tile))}}),new Zi({type:"submenu",text:"",children:t}).showFromEvent(e)})),this.on("dblclick",(()=>{this.value.position.tile&&this.parent.editor.game_layer.getMap().fitView(ze.from(this.value.position.tile))})),this.is_dragged_over.subscribe((()=>this.render())),this.render()}render(){const e=this.va.builder.cursor_state.value();if(!e)return;this.empty();const n=i().appendTo(this);t(`T${this.value.tick}`).addClass("ctr-path-edit-overview-row-first").addClass("nisl-textlink").appendTo(n),this.toggleClass("ctr-path-edit-overview-inbetween-dragged-over",this.is_dragged_over.value()),this.is_dragged_over.value()?n.append("Drop to move step here"):this.index==e.cursor&&(n.append(ie.inlineimg("/assets/icons/youarehere.png").css2({"margin-right":"3px"}),"You are here"),0!=this.index||this.value.position.tile||this.value.position.direction||n.append(new Jc("Assume starting orientation").css("margin-left","5px").onClick((e=>{const t={type:"submenu",text:"",children:gr.all.map((e=>({type:"basic",text:gr.toString(e),handler:()=>{this.va.builder.add({type:"orientation",direction:e})}})))};new Zi(t).showFromEvent(e)}))))}},e.Step=class extends Ii{constructor(e,t){super(),this.parent=e,this.value=t,this.setAttribute("draggable","true");const{icon:n,content:o}=ja.renderTextAndIconSeparately(t.step.raw);this.addClass("ctr-path-edit-overview-step").append(i(c("<div>&#x2630;</div>").addClass("ctr-path-edit-overview-step-grab-indicator").addClass("ctr-path-edit-overview-row-first"),n.css("margin-left","0"),o,bu(),new Tu(t.step.issues),c().setInnerHtml("&#x22EE;").addClass("ctr-clickable").addClass("ctr-path-edit-overview-step-options").on("click",(e=>{this.contextMenu(e.originalEvent)})))),this.on("dblclick",(e=>{e.preventDefault(),this.parent.editor.editStepDetails(t)})),this.on("contextmenu",(e=>{e.preventDefault(),this.contextMenu(e.originalEvent)})),this.on("dragstart",(e=>{e.originalEvent.dataTransfer.setData("text/plain",JSON.stringify({step_index:this.value.index}))})),this.on("dragover",(e=>{e.preventDefault();const t=e.pageY-this.raw().getBoundingClientRect().top<this.raw().offsetHeight/2;this.parent.setDragTarget(t?this.value.index:this.value.index+1),e.originalEvent.dataTransfer.dropEffect="move"})),this.on("drop",(e=>{e.preventDefault();const t=JSON.parse(e.originalEvent.dataTransfer.getData("text/plain")),i=e.pageY-this.raw().getBoundingClientRect().top<this.raw().offsetHeight/2;this.parent.inbetween_rows[this.value.index].is_dragged_over.set(!1),this.parent.inbetween_rows[this.value.index+1].is_dragged_over.set(!1),this.value.parent.move(t.step_index,i?this.value.index:this.value.index+1)}))}contextMenu(e){new Zi(this.parent.editor.contextMenu(this.value)).showFromEvent2(e)}}}(zu||(zu={}));var Su,Cu=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Au=yr.dive_internal;!function(e){var t=_e.asyncFilter;function i(e){const t=[];return e.forEach((e=>{const i=t.find((t=>Te.eq(t.origin,e.origin)));i?i.paths[0].path.length>e.path.length?i.paths=[e]:i.paths[0].path.length==e.path.length&&i.paths.push(e):t.push({origin:e.origin,paths:[e]})})),t.filter((e=>e.paths[0].path.length>0))}function n(e,t){return Cu(this,void 0,void 0,(function*(){if(0==t.length)return[[]];const i=yield(()=>Cu(this,void 0,void 0,(function*(){return(yield Promise.all((i=t,Array.from(new Set(i))).map((i=>Cu(this,void 0,void 0,(function*(){const n=function(e,t){const i=e.indexOf(t);return-1===i?e:e.slice(0,i).concat(e.slice(i+1))}(t,i).filter((e=>!("surge"==i&&"escape"==e||"escape"==i&&"surge"==e)));return(yield(()=>Cu(this,void 0,void 0,(function*(){switch(i){case"surge":case"escape":case"dive":{const t=e.direction?[e.direction]:gr.all,n="escape"==i?7:-10;return(yield Promise.all(t.map((t=>Cu(this,void 0,void 0,(function*(){const o={direction:"dive"==i?void 0:t,tile:Te.move(e.tile,xe.scale(n,gr.toVector(t)))},s=yield Au(kr.get(),o.tile,e.tile);return s&&Te.eq(e.tile,s.tile)?o:null})))))).filter((e=>e))}}return[]})))()).map((e=>({pos:e,rest:n,ability:i})))})))))).flat();var i})))();return[...(yield Promise.all(i.map((t=>Cu(this,[t],void 0,(function*({pos:t,rest:i,ability:o}){const s={type:"ability",ability:o,from:t.tile,to:e.tile,is_far_dive:"dive"==o||void 0};return(yield n(t,i)).map((e=>[...e,s]))})))))).flat(),[]]}))}e.group=i,e.litePathFinding=function(e,o){return Cu(this,void 0,void 0,(function*(){const s=(yield Promise.all(o.flatMap((t=>e.map((e=>Cu(this,void 0,void 0,(function*(){return yield n(e,t).then((t=>t.map((t=>{var i,n;return{origin:null!==(n=null===(i=null==t?void 0:t[0])||void 0===i?void 0:i.from)&&void 0!==n?n:e.tile,path:t}}))))})))))))).flat();return t(i(s),(e=>kr.get().isAccessible(e.origin)))}))}}(Su||(Su={}));var Eu=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Pu=ie.hboxl,Mu=ie.hgrid,Lu=Yc.notification;class Du{constructor(e,t){this.editor=e,this.layout=t,this.layer=qi(null),t.header("Pathfinding Lite","center",1),t.row(Mu(this.clear_button=new Jc("Clear").setVisible(!1).onClick((()=>this.clear())),this.calculate_button=new Jc("Calculate").setVisible(!0).onClick((()=>Eu(this,void 0,void 0,(function*(){const t=yield new Du.SettingsModal(e).do();t&&(null==t.area?this.editor.interaction_guard.set(new pu([],["commit","reset"]).onCommit((e=>{t.area=e.map((e=>({tile:e,direction:void 0}))),this.do(t)}))):this.do(t))})))))),this.layer.subscribe((e=>{this.clear_button.setVisible(null!=e),this.calculate_button.setVisible(null==e)}))}do(e){return Eu(this,void 0,void 0,(function*(){this.clear();const t=yield Su.litePathFinding(e.area,[e.abilities]);0!=t.length?(this.layer.set(new Du.PreviewLayer(this.editor).addTo(this.editor.game_layer)),t.map((e=>new Du.InversePathFindingResultEntity(e))).forEach((e=>e.addTo(this.layer.value())))):Lu("No paths found","error").show()}))}clear(){var e;null===(e=this.layer.value())||void 0===e||e.remove(),this.layer.set(null)}}!function(e){var t=il.renderPath,i=Ia.ability_icon,n=ie.inlineimg,o=ie.hbox,s=ie.vbox;e.SettingsModal=class extends fc{constructor(e){super(),this.editor=e,this.combination=qi([]),this.title.set("Pathfinding Lite Settings");{const t=[];t.push("dive"),e.value.assumptions().double_surge?t.push("surge","surge"):t.push("surge"),e.value.assumptions().double_escape?t.push("escape","escape"):t.push("escape"),this.combination.set(t)}}render(){super.render();const e=new Pa;e.header("Available Abilities"),e.named("Current Selection",Pu(this.combination_view=Pu(),"(Click to remove)")),this.combination.subscribe((e=>{this.combination_view.empty(),this.combination_view.append(...e.map(((e,t)=>n(i(e)).addClass("ctr-clickable").on("click",(()=>{this.combination.update((e=>e.splice(t,1)))})))))}),!0),e.named("Add Ability",Pu(...["dive","surge","escape"].map((e=>n(i(e)).addClass("ctr-clickable").on("click",(()=>{this.combination.update((t=>t.push(e)))})))))),e.header("Area","center",1);const t=[];t.push({button:new Mc("Path Target","radio").setEnabled(!!this.editor.options.target).setValue(!0),value:"pathtarget"}),t.push({button:new Mc("Custom","radio").setValue(!1),value:"custom"}),this.area_type_selection=new Mc.Group(t).setValue(t.find((e=>e.button.isEnabled())).value),e.row(s(...this.area_type_selection.checkboxes())),this.body.append(e)}confirm_current(){this.confirm({abilities:this.combination.value(),area:(()=>{switch(this.area_type_selection.get()){case"pathtarget":return this.editor.options.target.flatMap((e=>e.getTiles())).map((e=>({tile:e,direction:void 0})));case"custom":return}})()})}getButtons(){return[new mc("Confirm","confirm").onClick((()=>this.confirm_current())),new mc("Candel","cancel").onClick((()=>this.cancel()))]}},e.PreviewLayer=class extends Or{constructor(e){super(),this.editor=e}eventContextMenu(e){e.onPost((e=>{e.active_entity instanceof r&&(e.addForEntity({type:"basic",handler:()=>{e.active_entity.remove()},text:"Remove"}),1==e.active_entity.data.paths.length?e.addForEntity({type:"basic",handler:()=>{Ua(e.active_entity instanceof r),this.editor.value.add(...e.active_entity.data.paths[0].path)},text:"Insert at cursor"}):e.addForEntity({type:"submenu",children:e.active_entity.data.paths.map(((e,t)=>({type:"basic",text:`Path ${t}`,handler:()=>{this.editor.value.add(...e.path)}}))),text:"Insert at cursor"}))}))}};class r extends Ji{constructor(e){super(),this.data=e,this.setInteractive(!0),this.setTooltip((()=>{const e=new Pa;return this.data.paths.forEach((t=>{e.row(o(...t.path.map((e=>n(i(e.ability))))))})),e}))}contextMenu(e){return Eu(this,void 0,void 0,(function*(){return{type:"submenu",text:"Calculated Path",children:[]}}))}bounds(){return we.from(this.data.origin)}render_implementation(e){return Eu(this,void 0,void 0,(function*(){const i=Cr(this.data.origin).setStyle({interactive:!0}).addTo(this);return e.highlight&&this.data.paths.forEach((e=>t(e.path).addTo(this))),i.getElement()}))}}e.InversePathFindingResultEntity=r}(Du||(Du={}));class Iu extends Vr{constructor(e){super({position:"top-right",type:"floating"},c()),this.lens_layer=new al(e.value).addTo(this),this.lens_layer.enabled1.set(!1);const t=new za("Path Tools");this.setContent(t);const i=(new Pa).appendTo(t.body);i.header(new Mc("Ability Lens").onCommit((e=>{this.lens_layer.enabled1.set(e),this.lens_static_checkbox.setEnabled(e),this.lens_dynamic_checkbox.setEnabled(e)})),"left",1),i.row(this.lens_static_checkbox=new Mc("At path position","radio").css("margin-left","10px").setValue(!0).setEnabled(!1)),i.row(this.lens_dynamic_checkbox=new Mc("Follow Mouse","radio").css("margin-left","10px").setValue(!1).setEnabled(!1)),new Mc.Group([{button:this.lens_dynamic_checkbox,value:!1},{button:this.lens_static_checkbox,value:!0}]).onChange((e=>this.lens_layer.static.set(e))).setValue(!0),i.divider(),this.spiderweb_tool=new Du(e,i)}}class Ou{constructor(){this.canUndo=qi(!1),this.canRedo=qi(!1),this.state={current_state:void 0,undo:[],redo:[]}}update(){this.canUndo.set(this.state.undo.length>0),this.canRedo.set(this.state.redo.length>0)}pushState(e){void 0!==this.state.current_state&&this.state.undo.push(this.state.current_state),this.state.current_state=e,this.state.redo=[],this.update()}undo(){if(this.state.undo.length>0)return this.state.redo.push(this.state.current_state),this.state.current_state=this.state.undo.pop(),this.update(),this.state.current_state}redo(){if(this.state.redo.length>0)return this.state.undo.push(this.state.current_state),this.state.current_state=this.state.redo.pop(),this.update(),this.state.current_state}reset(){this.state.undo=[],this.state.redo=[],this.state.current_state=void 0,this.update()}}class Ru{constructor(e){this.apply_state=e,this.stack=new Ou,this.canUndo=this.stack.canUndo.map(oe.identity),this.canRedo=this.stack.canRedo.map(oe.identity)}undo(){if(this.stack.canUndo.value())return this.apply_state(this.stack.undo())}redo(){if(this.stack.canRedo.value())return this.apply_state(this.stack.redo())}}var Bu=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Fu=wa.movement_state,Nu=_e.copyUpdate;class ju{constructor(e={},t=[]){this.meta=e,this.commit_lock=Promise.resolve(),this.cursor=0,this.committed_value=qi(null),this.cursor_state=qi(null),this.path=[],this.undoredo=new Ru((e=>this.setState(e))),this.preview_layer=new Or,this.commit(t.length,t)}assumptions(){return this.meta.start_state.assumptions}setAssumptions(e){this.meta.start_state=Fu.start(e),this.commit(this.cursor,this.path,!1)}commit(e,t){return Bu(this,arguments,void 0,(function*(e,t,i=!0){yield this.commit_lock,this.commit_lock=(()=>Bu(this,void 0,void 0,(function*(){const n=void 0!==t?t.length:this.path.length;if(this.cursor=Math.max(0,Math.min(n,null!=e?e:this.cursor)),void 0!==t){this.path=t;const e=yield wa.augment(this.path,this.meta.start_state,this.meta.target),i=e.steps.map(((e,t)=>new ju.Step(this,t,e)));{const e=new Or;i.forEach((t=>{t.associated_preview=new il(t.step.raw).setInteractive().addTo(e)})),this.preview_layer.clearLayers().add(e)}this.committed_value.set({builder:this,path:e,steps:i})}i&&this.saveState(),this.cursor_state.set({state:wa.augmented.getState(this.committed_value.value().path,this.cursor),value:this.committed_value.value(),cursor:this.cursor})})))()}))}setCursor(e){return this.commit(e,void 0,!1),this}add(...e){return this.commit(this.cursor+e.length,Nu(this.path,(t=>{t.splice(this.cursor,0,...e)}))),this}move(e,t){if(e==t||e+1==t)return;let i=0;return e>=this.cursor&&t<this.cursor&&(i=1),e<this.cursor&&t>this.cursor&&(i=-1),this.commit(this.cursor+i,Nu(this.path,(i=>{const[n]=i.splice(e,1);e<=t&&(t-=1),i.splice(t,0,n)}))),this}delete(e){if(e<0||e>=this.path.length)return this;const t=e<this.cursor;return this.commit(t?this.cursor-1:this.cursor,Nu(this.path,(t=>{t.splice(e,1)}))),this}updateCopy(e,t){const i=oe.cloneDeep(this.path[e]);return t(i),this.update(e,i)}update(e,t){return this.commit(void 0,Nu(this.path,(i=>{i[e]=oe.cloneDeep(t)}))),this}set(e){return Bu(this,arguments,void 0,(function*(e,t=!1,i=void 0){return yield this.commit_lock,t&&this.undoredo.stack.reset(),this.commit(null!=i?i:e.length,e),this}))}copyState(){return{cursor:this.cursor,path:oe.cloneDeep(this.path)}}saveState(){this.undoredo.stack.pushState(this.copyState())}setState(e){return Bu(this,void 0,void 0,(function*(){this.commit(e.cursor,e.path,!1)}))}get(){return this.path}}!function(e){e.Step=class{constructor(e,t,i){this.parent=e,this.index=t,this.step=i,this.associated_preview=null}update(e){this.parent.updateCopy(this.index,e)}delete(){this.parent.delete(this.index)}}}(ju||(ju={}));var Uu=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},qu=Yc.notification,Hu=_e.downloadTextFile;class Vu extends gc{constructor(e,t="",i=void 0){super({force_footer:!0}),this.string=e,this.explanation=t,this.file_name=i}render(){super.render(),this.file_name?this.title.set(`Export ${this.file_name}`):this.title.set("Export"),c("<p></p>").text(this.explanation).appendTo(this.body),this.textarea=new xc({readonly:!0}).setValue(this.string).css2({resize:"none",width:"100%",height:"20em"}).on("click",(()=>this.textarea.raw().select())).appendTo(this.body)}getButtons(){const e=[new mc("Cancel","cancel").onClick((()=>this.remove())),new mc("Copy","confirm").onClick((()=>Uu(this,void 0,void 0,(function*(){try{yield navigator.clipboard.writeText(this.string),qu("String copied to clipboard!").show()}catch(e){qu("Copying failed!","error").show()}}))))];return this.file_name&&this.file_name.length>0&&e.push(new mc("Save File","confirm").onClick((()=>Uu(this,void 0,void 0,(function*(){try{Hu(this.file_name,this.string)}catch(e){qu("Saving failed!","error").show()}}))))),e}static do(e,t="",i=void 0){return new Vu(e,t,i).show()}}var $u=Yc.notification;class Wu extends fc{constructor(e){super(),this.parser=e}render(){super.render(),this.title.set("Import"),this.textarea=new xc({placeholder:"Paste the shareable string here."}).css2({resize:"none",width:"100%",height:"20em"}).appendTo(this.body),this.textarea.onChange((e=>{this.import_button.setEnabled(!!e.value)}))}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.confirm(null))),this.import_button=new mc("Import","confirm").setEnabled(!1).onClick((()=>{try{let e=this.parser(this.textarea.get());if(null==e)return void $u("Invalid input").setType("error").show();this.confirm({imported:e})}catch(e){alert(`Invalid input: ${e.toString()}`)}}))]}}var Gu=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Zu=_e.cleanedJSON,Ku=du.ClueAssumptions;class Yu extends Ii{constructor(e){super(),this.editor=e,this.addClass("ctr-menurow");{const e=new Jc("Undo","rectangle").onClick((()=>this.editor.value.undoredo.undo())),t=new Jc("Redo","rectangle").onClick((()=>this.editor.value.undoredo.redo()));e.enabled.bindTo(this.editor.value.undoredo.canUndo),t.enabled.bindTo(this.editor.value.undoredo.canRedo),this.append(e,t,new Jc("Bookmarks","rectangle").onClick((e=>{new Zi(Zc.getContextMenu(this.editor.value,this.editor.bookmarks)).showFromEvent(e)})),new Jc("Save","rectangle").onClick((()=>{this.editor.options.commit_handler(this.editor.value.get())})).setEnabled(!!this.editor.options.commit_handler),new Jc("Close","rectangle").setEnabled(!!this.editor.options.discard_handler).onClick((()=>{this.editor.discard()})),new Jc("","rectangle").setInnerHtml("&#x2630;").onClick((e=>{const t=[];this.editor.options.target&&t.push({type:"basic",text:"Focus target",handler:()=>{this.editor.game_layer.getMap().fitView(mr.toRect(this.editor.options.target[0].parent))}}),t.push({type:"basic",text:"Export",handler:()=>{new Vu(wa.export_path(this.editor.value.get())).show()}},{type:"basic",text:"Show JSON",handler:()=>{new Vu(Zu(this.editor.value.get())).show()}},{type:"basic",text:"Import",handler:()=>Gu(this,void 0,void 0,(function*(){const e=yield new Wu((e=>wa.import_path(e))).do();(null==e?void 0:e.imported)&&this.editor.value.set(e.imported)}))}),this.editor.options.editable_assumptions&&t.push({type:"basic",text:"Edit assumptions",handler:()=>Gu(this,void 0,void 0,(function*(){const e=this,t=yield(new class extends fc{constructor(){super(),this.setTitle("Edit assumptions")}render(){super.render();const t=e.editor.options.start_state.assumptions;this.body.append(this.property=(new mu).setValue(t).setRelevantAssumptions(Ku.Relevance.path).onCommit((e=>{})))}getButtons(){return[new mc("Save","confirm").onClick((()=>this.confirm(this.property.get()))),new mc("Cancel","cancel").onClick((()=>this.cancel()))]}}).do();t&&this.editor.value.setAssumptions(t)}))}),new Zi({type:"submenu",text:"",children:t}).showFromEvent(e)})))}}}class Qu{constructor(){this.tokens=[]}update_state(){window.onbeforeunload=this.tokens.length>0?()=>!0:null}unregister(e){this.tokens=this.tokens.filter((t=>t!==e)),this.update_state()}register(){const e=this,t=new class{endLifetime(){this.revoke()}revoke(){e.unregister(this)}};return this.tokens.push(t),this.update_state(),t}static instance(){return Qu._instance.get()}}Qu._instance=ma((()=>new Qu));var Xu=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Ju=_e.index,ep=mr.activate,tp=ie.vbox,ip=ha.TeleportGroup,np=va.resolveTeleport,op=ha.EntityAction.interactiveArea,sp=(ha.EntityAction,ha.TeleportGroup.TeleportAccess),rp=Yc.notification,ap=Ia.arrow,lp=_e.findAsync;class cp extends Or{constructor(e,t){super(),this.editor=e,t&&new ac(!0).addTo(this)}eventContextMenu(e){e.onPost((()=>{var t,i,n;if(this.editor.isActive())if(e.setTitle(`${e.tile().x} | ${e.tile().y} | ${e.tile().level}`),e.active_entity){if(e.active_entity instanceof $a){const t=e.active_entity.teleport;if(1==t.group.access.length){const i=t.group.access[0];e.addForEntity({type:"basic",text:()=>c().append("Use via ",$a.accessNameAsWidget(i)),handler:()=>{this.editor.value.add({type:"teleport",spot:t.centerOfTarget(),id:Object.assign(Object.assign({},t.id()),{access:i.id})})}})}else e.addForEntity({type:"submenu",text:"Use via",children:t.group.access.map((e=>({type:"basic",text:()=>c().append($a.accessNameAsWidget(e)),handler:()=>{this.editor.value.add({type:"teleport",spot:t.centerOfTarget(),id:Object.assign(Object.assign({},t.id()),{access:e.id})})}})))})}else if(e.active_entity instanceof Jl){const t=e.active_entity.access,i=e.active_entity.teleport;e.addForEntity({type:"submenu",text:`Use action '${t.action_name}'`,children:e.active_entity.teleport.spots.map((e=>{const n=new ip.Spot(i,e,t);return{type:"basic",icon:`assets/icons/teleports/${n.image().url}`,text:n.code()?`${e.code}: ${e.name}`:e.name,handler:()=>Xu(this,void 0,void 0,(function*(){var e,i;const o=null===(i=null===(e=this.editor.value.cursor_state.value().state)||void 0===e?void 0:e.position)||void 0===i?void 0:i.tile,s=sp.interactiveArea(t),r=[];if(o&&!ep(s).query(o)){const e=yield fr.find(fr.init_djikstra(o),s);e&&e.length>1?r.push({type:"run",waypoints:e}):rp("No path to transportation found.","error").show()}r.push({type:"teleport",spot:n.centerOfTarget(),id:Object.assign(Object.assign({},n.id()),{access:t.id})}),this.editor.value.add(...r)}))}}))})}else if(e.active_entity instanceof $l){let t=ha.normalize(e.active_entity.shortcut);t.actions.forEach((i=>{e.addForEntity({type:"basic",text:`Use action '${i.name}'`,icon:La.meta(i.cursor).icon_url,handler:()=>Xu(this,void 0,void 0,(function*(){var e,n;const o=null===(n=null===(e=this.editor.value.cursor_state.value().state)||void 0===e?void 0:e.position)||void 0===n?void 0:n.tile;let s=null;const r=op(t,i),a=[];if(o)if(ep(r).query(o))s=o;else{const e=yield fr.find(fr.init_djikstra(o),r);e&&e.length>1?(s=Ju(e,-1),a.push({type:"run",waypoints:e})):rp("No path to transportation found.","error").show()}null!=s||(s=yield lp(ep(r).getTiles(),(e=>kr.get().isAccessible(e))));let l=se().cloneDeep(t);l.actions=[se().cloneDeep(i)],this.editor.value.add(...a,{type:"transport",assumed_start:s,internal:l})}))})}))}else if(e.active_entity instanceof oc);else if(e.active_entity instanceof il){const t=this.editor.value.committed_value.value().steps.find((t=>t.associated_preview==e.active_entity));t&&e.addForEntity(...this.editor.contextMenu(t).children)}}else{const o=null===(n=null===(i=null===(t=this.editor.value.cursor_state.value())||void 0===t?void 0:t.state)||void 0===i?void 0:i.position)||void 0===n?void 0:n.tile,s=e.tile();o&&!Te.eq2(o,s)&&e.add({type:"basic",text:"Walk here",icon:"/assets/icons/yellowclick.png",handler:()=>Xu(this,void 0,void 0,(function*(){const e=yield fr.find(fr.init_djikstra(this.editor.value.cursor_state.value().state.position.tile),mr.init(s));e&&e.length>1?this.editor.value.add({type:"run",waypoints:e}):rp("No path found.","error").show()}))}),e.add({type:"submenu",text:"Redclick",icon:"/assets/icons/cursor_redclick.png",children:La.all().map((t=>({type:"basic",text:t.description,icon:t.icon_url,handler:()=>{this.editor.value.add({type:"redclick",target:La.defaultEntity(t.type),where:e.tile(),how:t.type})}})))})}}))}eventKeyDown(e){e.onPost((()=>{const t=e.original;(()=>t.ctrlKey&&"z"==t.key.toLowerCase()?(t.shiftKey?this.editor.value.undoredo.redo():this.editor.value.undoredo.undo(),!0):t.ctrlKey&&"y"==t.key.toLowerCase()?(this.editor.value.undoredo.redo(),!0):t.ctrlKey&&"s"==t.key.toLowerCase()?(this.editor.commit(),!0):"Backspace"==t.key?(this.editor.value.delete(this.editor.value.cursor-1),!0):"Delete"==t.key&&(this.editor.value.delete(this.editor.value.cursor),!0))()&&(e.stopAllPropagation(),t.preventDefault())}))}}class up extends aa{constructor(e,t,i,n){super(),this.game_layer=e,this.template_resolver=t,this.options=i,this.control=null,this.handler_layer=null,this.overlay_control=null,this.you_are_here_marker=null,this.bookmarks=new Zc,i.start_state||(i.start_state=wa.movement_state.start({})),this.handler_layer=new cp(this,n),this.value=new ju({target:this.options.target,start_state:se().cloneDeep(this.options.start_state)},i.initial),this.handler_layer.add(this.value.preview_layer),this.value.cursor_state.subscribe((({state:e})=>{this.action_bar&&this.action_bar.state.set(e),this.you_are_here_marker&&(this.you_are_here_marker.remove(),this.you_are_here_marker=null),e.position.tile&&(this.you_are_here_marker=ce.marker(xe.toLatLong(e.position.tile),{icon:ce.icon({iconUrl:"/assets/icons/youarehere.png",iconSize:[25,25],iconAnchor:[13,13]})}).addTo(this.handler_layer))})),new Vr({position:"left-top",type:"floating"},tp(new Yu(this),this.control=new zu(this))).addTo(this.handler_layer),this.overlay_control=new Iu(this).addTo(this.handler_layer),this.interaction_guard=(new Gr).setDefaultLayer(this.handler_layer),this.action_bar=new Ol(this,this.interaction_guard).addTo(this.handler_layer),this.lifetime_manager.bind(Qu.instance().register())}begin(){this.handler_layer.addTo(this.game_layer),this.game_layer.getMap().container.focus(),this.options.target&&this.options.target.forEach((e=>Pr(e.parent).addTo(this.handler_layer)))}end(){this.handler_layer.remove()}discard(){this.options.discard_handler&&(this.options.discard_handler(),this.stop())}commit(){var e,t;null===(t=(e=this.options).commit_handler)||void 0===t||t.call(e,this.value.get())}close(){this.discard(),this.stop()}editStep(e,t,i=!0){this.interaction_guard.set(t.onStart((()=>{var t;i&&(null===(t=e.associated_preview)||void 0===t||t.setVisible(!1)),this.overlay_control.lens_layer.enabled2.set(!1)})).onEnd((()=>{var t,n;i?null===(t=e.associated_preview)||void 0===t||t.setVisible(!0):null===(n=e.associated_preview)||void 0===n||n.render(!0),this.overlay_control.lens_layer.enabled2.set(!0)})))}editStepDetails(e){return Xu(this,void 0,void 0,(function*(){const t=yield new $c(e.step.raw).do();t.new_version&&this.value.update(e.index,t.new_version)}))}redrawAbility(e){const t=e.step.raw;"ability"==t.type?this.editStep(e,new hl(t.ability).setStartPosition(t.from).onCommit((t=>e.update((e=>Object.assign(e,t)))))):"run"==t.type?this.editStep(e,(new xl).setStartPosition(t.waypoints[0]).onCommit((t=>e.update((e=>Object.assign(e,t)))))):"cheat"==t.type&&this.editStep(e,new Cl(t.assumed_start).onCommit((t=>e.update((e=>Object.assign(e,t))))))}moveStep(e){const t=e.step;if("redclick"==t.raw.type)this.editStep(e,new Sl(t.raw.how).onCommit((t=>e.update((e=>{e.where=t.where})))));else if("powerburst"==t.raw.type)this.editStep(e,new wl({preview_render:e=>new il({type:"powerburst",where:e})}).onCommit((t=>e.update((e=>{e.where=t})))).attachTopControl((new Sa).setName("Selecting tile").setText("Select the location of the powerburst by clicking the tile.")));else if("teleport"==t.raw.type){const i=np(t.raw.id);this.editStep(e,new wl({preview_render:e=>(Ua("teleport"==t.raw.type),ep(i.targetArea()).query(e)?new il({type:"teleport",id:t.raw.id,spot:e}):Cr(e).setStyle({fillColor:"red",color:"red",stroke:!0}))}).addLayer(Pr(i.targetArea()).setStyle({fillColor:"lightgreen",color:"lightgreen",stroke:!0})).onCommit((t=>e.update((e=>{e.spot=t})))).attachTopControl((new Sa).setName("Selecting tile").setText("Select the specific target of the teleport by clicking the tile.")))}else"cosmetic"==t.raw.type&&this.editStep(e,new Al(t.raw).onCommit((t=>e.update((e=>{Object.assign(e,t)})))))}contextMenu(e){const t=[],i=e.step.raw;if(t.push({type:"basic",icon:"/assets/icons/edit.png",text:"Edit",handler:()=>this.editStepDetails(e)}),t.push({type:"basic",icon:"/assets/icons/delete.png",text:"Remove",handler:()=>e.delete()}),"ability"!=e.step.raw.type&&"run"!=e.step.raw.type&&"cheat"!=e.step.raw.type||t.push({type:"basic",icon:"/assets/icons/edit.png",text:"Redraw on map",handler:()=>this.redrawAbility(e)}),"powerburst"!=e.step.raw.type&&"redclick"!=e.step.raw.type&&"teleport"!=e.step.raw.type&&"cosmetic"!=e.step.raw.type||t.push({type:"basic",icon:"/assets/icons/move.png",text:"Move on map",handler:()=>this.moveStep(e)}),"orientation"==e.step.raw.type&&t.push({type:"submenu",icon:"/assets/icons/compass.png",text:"Choose Direction",children:gr.all.map((t=>({type:"basic",text:gr.toString(t),handler:()=>{e.update((e=>e.direction=t))}})))}),"cheat"==e.step.raw.type&&t.push({type:"submenu",icon:"/assets/icons/Rotten_potato.png",text:"Choose Orientation",children:[void 0].concat(gr.all).map((t=>{var i;return{type:"basic",text:null!==(i=gr.toString(t))&&void 0!==i?i:"None",handler:()=>{e.update((e=>e.orientation=t))}}}))}),"redclick"==e.step.raw.type&&t.push({type:"submenu",icon:"/assets/icons/cursor_redclick.png",text:"Choose Cursor",children:La.all().map((t=>({type:"basic",text:t.description,icon:t.icon_url,handler:()=>{e.update((e=>e.how=t.type))}})))}),"ability"==i.type&&("dive"==i.ability||"barge"==i.ability)||"run"==i.type){const n="ability"==i.type?il.ability_rendering[i.ability].color:il.run_rendering_area_color;t.push({type:"basic",text:"Edit target area",handler:()=>{this.editStep(e,new pu(i.target_area?ep(i.target_area).getTiles():[]).setPreviewFunction((e=>ce.featureGroup(e.map((e=>Cr(e).setStyle({color:n,fillOpacity:.4,stroke:!1})))))).onPreview((e=>{i.target_area=e.length>0?mr.fromTiles(e):void 0})),!1)}})}if("cosmetic"==e.step.raw.type){const i=e.step.raw;t.push({type:"basic",text:"Edit area",handler:()=>{this.editStep(e,new pu(i.area?ep(i.area).getTiles():[]).setPreviewFunction((e=>ce.featureGroup(e.map((e=>{var t;return Cr(e).setStyle({color:null!==(t=i.arrow_color)&&void 0!==t?t:wa.COSMETIC_DEFAULT_COLORS.area,fillOpacity:.4,stroke:!1})}))))).onPreview((e=>{i.area=e.length>0?mr.fromTiles(e):void 0})))}}),t.push({type:"basic",text:"Edit arrow",handler:()=>{this.editStep(e,new iu(!0).setPreviewFunction((([e,t])=>{var n;return ap(e,t).setStyle({weight:4,color:null!==(n=i.arrow_color)&&void 0!==n?n:wa.COSMETIC_DEFAULT_COLORS.arrow})})).onCommit((e=>{i.arrow=e})))}})}return{type:"submenu",text:"",children:t}}}!function(e){var t=yr.isFarDive;e.normalizeFarDive=function(e){return Xu(this,void 0,void 0,(function*(){return"ability"!=e.type||"dive"!=e.ability?e:Object.assign(Object.assign({},e),{is_far_dive:yield t(e.from,e.to)})}))}}(up||(up={}));class pp extends Ii{constructor(e){super(),this.addClass("ctr-map-sidebar"),this.header=new Ta(e).appendTo(this),this.body=c("<div style='flex-grow: 1; overflow-y: auto; overflow-x: hidden; padding: 5px'></div>").appendTo(this)}}var hp=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class dp{constructor(e,t){this.store=e,this.key=t}get(){return this.store.get(this.key)}set(e){return this.store.set(this.key,e)}}class gp{constructor(e){this.name=e,this.db=new Promise(((t,i)=>{if(!(null===window||void 0===window?void 0:window.indexedDB))return void i("indexedDB not supported");const n=window.indexedDB.open(e,1);n.onsuccess=()=>t(n.result),n.onerror=()=>i("error"),n.onupgradeneeded=()=>{const e=n.result.createObjectStore("kv-store",{keyPath:"k"});e.transaction.oncomplete=()=>e.transaction.db}}))}getStore(e){return hp(this,void 0,void 0,(function*(){return(yield this.db).transaction("kv-store",e).objectStore("kv-store")}))}get(e){return new Promise(((t,i)=>hp(this,void 0,void 0,(function*(){const n=(yield this.getStore("readonly")).get(e);n.onerror=i,n.onsuccess=()=>{var e;return t(null===(e=n.result)||void 0===e?void 0:e.v)}}))))}set(e,t){return new Promise(((i,n)=>hp(this,void 0,void 0,(function*(){const o=(yield this.getStore("readwrite")).put({k:e,v:t});o.onsuccess=()=>i(),o.onerror=n}))))}variable(e){return new dp(this,e)}clear(){return hp(this,void 0,void 0,(function*(){(yield this.getStore("readwrite")).clear()}))}static get(e){return gp._instances[e]||(gp._instances[e]=new gp(e)),gp._instances[e]}static instance(){return this.get("key-value-store")}}gp._instances={};const fp=gp;class yp{constructor(e){this.data=e}get(e){return this.data[e]}filtered(){return this.data.filter((e=>!!e))}static simple(e){let t=Array(Math.max(...e.map((e=>e.id))));return e.forEach((e=>{t[e.id]={clue:e}})),new yp(t)}with(e){return new yp(this.data.map((t=>t?Object.assign(Object.assign({},t),e()):null)))}}class mp{constructor(e){this._index=e}static simple(e){return new mp(e.data.map((e=>{let t={clue:e.clue,value:{for:{clue:e.clue}},spot_index:"compass"==e.clue.type?[]:void 0};if("compass"==e.clue.type){t.spot_index=new Array(mp.BUCKETS);for(let e=0;e<t.spot_index.length;e++)t.spot_index[e]=[];e.clue.spots.forEach((i=>{let n=xe.hash(i,mp.BUCKETS);t.spot_index[n].push({spot:i,value:{for:{clue:e.clue,spot:i}}})}))}return t})))}with(e){return new mp(this._index.map((t=>({clue:t.clue,value:Object.assign(Object.assign({},t.value),e()),spot_index:t.spot_index?t.spot_index.map((t=>t.map((t=>({spot:t.spot,value:Object.assign(Object.assign({},t.value),e())}))))):void 0}))))}get(e,t=!0){var i,n;const o=this._index[e.clue];return o?e.spot||o.spot_index?e.spot&&o.spot_index&&null!==(n=null===(i=o.spot_index[xe.hash(e.spot,mp.BUCKETS)].find((t=>Te.eq2(t.spot,e.spot))))||void 0===i?void 0:i.value)&&void 0!==n?n:t?o.value:null:o.value:null}flat(){let e=[];return this.forEach((t=>e.push(t))),e}forEach(e){this._index.forEach((t=>{t&&(t.spot_index?t.spot_index.forEach((t=>{t.forEach((t=>e(t.value)))})):e(t.value))}))}}var _p,vp;mp.BUCKETS=64,function(e){e.gielinor_compass={id:399,type:"compass",tier:"elite",text:["The compass shows where you need to go."],challenge:[{type:"wizard"},{type:"slider"},{type:"celticknot"}],spots:[{x:2413,y:2818,level:0},{x:2398,y:2862,level:0},{x:2476,y:2845,level:0},{x:2493,y:2875,level:0},{x:2546,y:2872,level:0},{x:2547,y:2826,level:0},{x:2617,y:2876,level:0},{x:2598,y:2838,level:0},{x:2445,y:2917,level:0},{x:2458,y:2893,level:0},{x:2541,y:2926,level:0},{x:2511,y:2936,level:0},{x:2578,y:2930,level:0},{x:2589,y:2898,level:0},{x:2482,y:2977,level:0},{x:2490,y:2949,level:0},{x:2511,y:2980,level:0},{x:2535,y:2958,level:0},{x:2590,y:2994,level:0},{x:2592,y:2956,level:0},{x:2640,y:2987,level:0},{x:2638,y:2948,level:0},{x:2330,y:3057,level:0},{x:2355,y:3038,level:0},{x:2393,y:3046,level:0},{x:2418,y:3040,level:0},{x:2481,y:3011,level:0},{x:2439,y:3057,level:0},{x:2564,y:3041,level:0},{x:2590,y:3063,level:0},{x:2629,y:3123,level:0},{x:2671,y:3109,level:0},{x:2579,y:3130,level:0},{x:2610,y:3076,level:0},{x:2519,y:3115,level:0},{x:2559,y:3102,level:0},{x:2449,y:3110,level:0},{x:2486,y:3134,level:0},{x:2433,y:3144,level:0},{x:2468,y:3177,level:0},{x:2498,y:3175,level:0},{x:2557,y:3164,level:0},{x:2619,y:3153,level:0},{x:2595,y:3192,level:0},{x:2651,y:3148,level:0},{x:2627,y:3172,level:0},{x:2457,y:3221,level:0},{x:2478,y:3254,level:0},{x:2543,y:3211,level:0},{x:2502,y:3249,level:0},{x:2583,y:3223,level:0},{x:2592,y:3251,level:0},{x:2634,y:3208,level:0},{x:2646,y:3251,level:0},{x:2492,y:3270,level:0},{x:2451,y:3283,level:0},{x:2506,y:3276,level:0},{x:2582,y:3266,level:0},{x:2582,y:3314,level:0},{x:2665,y:3266,level:0},{x:2650,y:3302,level:0},{x:2723,y:3277,level:0},{x:2700,y:3311,level:0},{x:2381,y:3388,level:0},{x:2410,y:3388,level:0},{x:2457,y:3331,level:0},{x:2485,y:3377,level:0},{x:2541,y:3389,level:0},{x:2513,y:3351,level:0},{x:2581,y:3340,level:0},{x:2576,y:3370,level:0},{x:2651,y:3351,level:0},{x:2662,y:3338,level:0},{x:2724,y:3360,level:0},{x:2739,y:3388,level:0},{x:2359,y:3448,level:0},{x:2392,y:3398,level:0},{x:2410,y:3419,level:0},{x:2438,y:3398,level:0},{x:2470,y:3404,level:0},{x:2522,y:3429,level:0},{x:2531,y:3405,level:0},{x:2583,y:3449,level:0},{x:2565,y:3395,level:0},{x:2677,y:3400,level:0},{x:2657,y:3451,level:0},{x:2726,y:3399,level:0},{x:2705,y:3418,level:0},{x:2765,y:3445,level:0},{x:2797,y:3428,level:0},{x:2835,y:3423,level:0},{x:2834,y:3451,level:0},{x:2926,y:3402,level:0},{x:2908,y:3431,level:0},{x:2950,y:3406,level:0},{x:2995,y:3429,level:0},{x:3055,y:3396,level:0},{x:3027,y:3454,level:0},{x:3089,y:3409,level:0},{x:3134,y:3423,level:0},{x:3158,y:3439,level:0},{x:3176,y:3400,level:0},{x:3228,y:3409,level:0},{x:3233,y:3446,level:0},{x:3276,y:3444,level:0},{x:3318,y:3426,level:0},{x:3390,y:3421,level:0},{x:3362,y:3403,level:0},{x:3411,y:3410,level:0},{x:3439,y:3454,level:0},{x:3473,y:3401,level:0},{x:3461,y:3432,level:0},{x:3538,y:3449,level:0},{x:3563,y:3408,level:0},{x:2356,y:3498,level:0},{x:2325,y:3510,level:0},{x:2394,y:3513,level:0},{x:2401,y:3458,level:0},{x:2489,y:3487,level:0},{x:2457,y:3511,level:0},{x:2504,y:3484,level:0},{x:2550,y:3475,level:0},{x:2588,y:3506,level:0},{x:2609,y:3470,level:0},{x:2649,y:3473,level:0},{x:2683,y:3491,level:0},{x:2707,y:3475,level:0},{x:2733,y:3502,level:0},{x:2777,y:3501,level:0},{x:2808,y:3474,level:0},{x:2832,y:3473,level:0},{x:2859,y:3508,level:0},{x:2937,y:3511,level:0},{x:2900,y:3501,level:0},{x:2956,y:3505,level:0},{x:2983,y:3473,level:0},{x:3035,y:3490,level:0},{x:3021,y:3470,level:0},{x:3103,y:3488,level:0},{x:3127,y:3469,level:0},{x:3145,y:3510,level:0},{x:3190,y:3464,level:0},{x:3254,y:3505,level:0},{x:3260,y:3460,level:0},{x:3317,y:3507,level:0},{x:3288,y:3460,level:0},{x:3329,y:3518,level:0},{x:3373,y:3483,level:0},{x:3420,y:3479,level:0},{x:3452,y:3476,level:0},{x:3487,y:3492,level:0},{x:3516,y:3473,level:0},{x:3529,y:3501,level:0},{x:3576,y:3481,level:0},{x:3598,y:3509,level:0},{x:3619,y:3485,level:0},{x:3649,y:3475,level:0},{x:3678,y:3518,level:0},{x:2336,y:3540,level:0},{x:2351,y:3572,level:0},{x:2418,y:3525,level:0},{x:2394,y:3574,level:0},{x:2491,y:3529,level:0},{x:2542,y:3562,level:0},{x:2677,y:3539,level:0},{x:2653,y:3578,level:0},{x:2699,y:3537,level:0},{x:2721,y:3577,level:0},{x:2757,y:3548,level:0},{x:2757,y:3581,level:0},{x:2878,y:3529,level:0},{x:2860,y:3575,level:0},{x:2928,y:3573,level:0},{x:2919,y:3535,level:0},{x:2979,y:3546,level:0},{x:2986,y:3583,level:0},{x:3052,y:3548,level:0},{x:3030,y:3520,level:0},{x:3096,y:3534,level:0},{x:3125,y:3578,level:0},{x:3153,y:3545,level:0},{x:3184,y:3559,level:0},{x:3229,y:3541,level:0},{x:3255,y:3576,level:0},{x:3289,y:3528,level:0},{x:3292,y:3574,level:0},{x:3376,y:3567,level:0},{x:3339,y:3572,level:0},{x:3418,y:3544,level:0},{x:3432,y:3544,level:0},{x:3460,y:3553,level:0},{x:3510,y:3530,level:0},{x:3571,y:3534,level:0},{x:3547,y:3524,level:0},{x:3624,y:3524,level:0},{x:3596,y:3541,level:0},{x:3655,y:3537,level:0},{x:2262,y:3605,level:0},{x:2295,y:3639,level:0},{x:2332,y:3610,level:0},{x:2347,y:3594,level:0},{x:2392,y:3599,level:0},{x:2374,y:3630,level:0},{x:2509,y:3634,level:0},{x:2559,y:3619,level:0},{x:2606,y:3635,level:0},{x:2586,y:3605,level:0},{x:2684,y:3612,level:0},{x:2669,y:3637,level:0},{x:2708,y:3589,level:0},{x:2737,y:3626,level:0},{x:2779,y:3594,level:0},{x:2780,y:3635,level:0},{x:2999,y:3606,level:0},{x:2965,y:3632,level:0},{x:3059,y:3620,level:0},{x:3028,y:3632,level:0},{x:3092,y:3605,level:0},{x:3127,y:3597,level:0},{x:3179,y:3612,level:0},{x:3146,y:3642,level:0},{x:3254,y:3624,level:0},{x:3247,y:3597,level:0},{x:3304,y:3605,level:0},{x:3278,y:3615,level:0},{x:3338,y:3638,level:0},{x:3342,y:3591,level:0},{x:3433,y:3639,level:0},{x:3403,y:3640,level:0},{x:2309,y:3669,level:0},{x:2332,y:3659,level:0},{x:2612,y:3658,level:0},{x:2643,y:3679,level:0},{x:2680,y:3676,level:0},{x:2712,y:3653,level:0},{x:2696,y:3695,level:0},{x:2756,y:3651,level:0},{x:2972,y:3682,level:0},{x:2999,y:3671,level:0},{x:2956,y:3705,level:0},{x:2965,y:3740,level:0},{x:3088,y:3678,level:0},{x:3107,y:3653,level:0},{x:3187,y:3661,level:0},{x:3142,y:3656,level:0},{x:3220,y:3667,level:0},{x:3210,y:3695,level:0},{x:3280,y:3664,level:0},{x:3315,y:3704,level:0},{x:3353,y:3664,level:0},{x:3378,y:3699,level:0},{x:3437,y:3682,level:0},{x:3423,y:3706,level:0},{x:3511,y:3670,level:0},{x:3470,y:3710,level:0},{x:2666,y:3717,level:0},{x:2686,y:3727,level:0},{x:2725,y:3751,level:0},{x:2744,y:3735,level:0},{x:2975,y:3762,level:0},{x:2985,y:3715,level:0},{x:3060,y:3767,level:0},{x:3046,y:3752,level:0},{x:3104,y:3745,level:0},{x:3116,y:3769,level:0},{x:3153,y:3744,level:0},{x:3193,y:3739,level:0},{x:3213,y:3756,level:0},{x:3255,y:3740,level:0},{x:3342,y:3732,level:0},{x:3367,y:3766,level:0},{x:3432,y:3754,level:0},{x:3430,y:3717,level:0},{x:3506,y:3734,level:0},{x:2737,y:3796,level:0},{x:2185,y:3637,level:0},{x:2960,y:3824,level:0},{x:2999,y:3791,level:0},{x:3059,y:3833,level:0},{x:3051,y:3804,level:0},{x:3101,y:3783,level:0},{x:3128,y:3822,level:0},{x:3151,y:3795,level:0},{x:3193,y:3783,level:0},{x:3250,y:3821,level:0},{x:3208,y:3792,level:0},{x:3363,y:3807,level:0},{x:3349,y:3823,level:0},{x:2958,y:3858,level:0},{x:2990,y:3883,level:0},{x:3037,y:3870,level:0},{x:3055,y:3895,level:0},{x:3088,y:3891,level:0},{x:3127,y:3891,level:0},{x:3157,y:3865,level:0},{x:3195,y:3877,level:0},{x:3250,y:3843,level:0},{x:3252,y:3887,level:0},{x:3294,y:3865,level:0},{x:3317,y:3896,level:0},{x:3383,y:3893,level:0},{x:3336,y:3898,level:0},{x:2971,y:3929,level:0},{x:2990,y:3948,level:0},{x:3055,y:3915,level:0},{x:3060,y:3941,level:0},{x:3128,y:3913,level:0},{x:3110,y:3954,level:0},{x:3155,y:3924,level:0},{x:3181,y:3944,level:0},{x:3244,y:3907,level:0},{x:3242,y:3956,level:0},{x:3306,y:3947,level:0},{x:3275,y:3915,level:0},{x:3388,y:3930,level:0},{x:3429,y:3924,level:0},{x:2901,y:3356,level:0},{x:2915,y:3335,level:0},{x:2972,y:3342,level:0},{x:2976,y:3386,level:0},{x:3027,y:3365,level:0},{x:3050,y:3348,level:0},{x:3125,y:3371,level:0},{x:3081,y:3363,level:0},{x:3158,y:3376,level:0},{x:3140,y:3343,level:0},{x:3243,y:3378,level:0},{x:3240,y:3351,level:0},{x:3312,y:3376,level:0},{x:3304,y:3335,level:0},{x:3352,y:3381,level:0},{x:3358,y:3353,level:0},{x:3438,y:3349,level:0},{x:3408,y:3390,level:0},{x:3474,y:3385,level:0},{x:3485,y:3362,level:0},{x:2915,y:3302,level:0},{x:2917,y:3271,level:0},{x:2976,y:3274,level:0},{x:2976,y:3316,level:0},{x:3033,y:3286,level:0},{x:3066,y:3322,level:0},{x:3128,y:3310,level:0},{x:3129,y:3268,level:0},{x:3188,y:3317,level:0},{x:3146,y:3312,level:0},{x:3210,y:3305,level:0},{x:3242,y:3268,level:0},{x:3265,y:3300,level:0},{x:3309,y:3298,level:0},{x:3347,y:3273,level:0},{x:3349,y:3312,level:0},{x:3450,y:3276,level:0},{x:3422,y:3302,level:0},{x:3488,y:3270,level:0},{x:3478,y:3292,level:0},{x:3538,y:3311,level:0},{x:3582,y:3312,level:0},{x:2920,y:3249,level:0},{x:2932,y:3216,level:0},{x:2982,y:3203,level:0},{x:2997,y:3241,level:0},{x:3042,y:3251,level:0},{x:3019,y:3242,level:0},{x:3091,y:3258,level:0},{x:3122,y:3227,level:0},{x:3137,y:3212,level:0},{x:3135,y:3257,level:0},{x:3210,y:3205,level:0},{x:3263,y:3253,level:0},{x:3271,y:3204,level:0},{x:3323,y:3225,level:0},{x:3486,y:3245,level:0},{x:3519,y:3246,level:0},{x:2986,y:3191,level:0},{x:2997,y:3149,level:0},{x:3028,y:3171,level:0},{x:3011,y:3195,level:0},{x:3119,y:3167,level:0},{x:3083,y:3155,level:0},{x:3146,y:3170,level:0},{x:3195,y:3163,level:0},{x:3240,y:3161,level:0},{x:3236,y:3193,level:0},{x:3272,y:3156,level:0},{x:3293,y:3183,level:0},{x:3391,y:3180,level:0},{x:3350,y:3162,level:0},{x:3418,y:3164,level:0},{x:3394,y:3149,level:0},{x:3465,y:3140,level:0},{x:3210,y:3092,level:0},{x:3257,y:3117,level:0},{x:3304,y:3126,level:0},{x:3303,y:3077,level:0},{x:3378,y:3078,level:0},{x:3344,y:3112,level:0},{x:3429,y:3106,level:0},{x:3410,y:3079,level:0},{x:3483,y:3108,level:0},{x:3509,y:3088,level:0},{x:3171,y:3028,level:0},{x:3189,y:3047,level:0},{x:3235,y:3048,level:0},{x:3215,y:3020,level:0},{x:3303,y:3050,level:0},{x:3320,y:3013,level:0},{x:3355,y:3044,level:0},{x:3383,y:3019,level:0},{x:3419,y:3017,level:0},{x:3422,y:3046,level:0},{x:3468,y:3044,level:0},{x:3509,y:3025,level:0},{x:3170,y:2982,level:0},{x:3142,y:3003,level:0},{x:3225,y:2986,level:0},{x:3256,y:2953,level:0},{x:3289,y:2957,level:0},{x:3319,y:2990,level:0},{x:3376,y:2988,level:0},{x:3346,y:2958,level:0},{x:3404,y:2992,level:0},{x:3442,y:2955,level:0},{x:3170,y:2914,level:0},{x:3177,y:2888,level:0},{x:3245,y:2935,level:0},{x:3205,y:2895,level:0},{x:3296,y:2891,level:0},{x:3316,y:2930,level:0},{x:3361,y:2921,level:0},{x:3373,y:2898,level:0},{x:3423,y:2916,level:0},{x:3434,y:2888,level:0},{x:3218,y:2843,level:0},{x:3247,y:2866,level:0},{x:3290,y:2840,level:0},{x:3321,y:2848,level:0},{x:3390,y:2841,level:0},{x:3341,y:2836,level:0},{x:3376,y:2790,level:0},{x:3351,y:2781,level:0},{x:3401,y:2758,level:0},{x:3359,y:2753,level:0},{x:2703,y:3204,level:0},{x:2746,y:3232,level:0},{x:2772,y:3217,level:0},{x:2805,y:3204,level:0},{x:2743,y:3174,level:0},{x:2734,y:3144,level:0},{x:2802,y:3156,level:0},{x:2762,y:3172,level:0},{x:2843,y:3153,level:0},{x:2874,y:3173,level:0},{x:2912,y:3168,level:0},{x:2906,y:3141,level:0},{x:2763,y:3125,level:0},{x:2786,y:3075,level:0},{x:2846,y:3078,level:0},{x:2831,y:3119,level:0},{x:2912,y:3116,level:0},{x:2881,y:3073,level:0},{x:2761,y:3057,level:0},{x:2779,y:3023,level:0},{x:2869,y:3026,level:0},{x:2835,y:3025,level:0},{x:2930,y:3029,level:0},{x:2901,y:3031,level:0},{x:2791,y:2969,level:0},{x:2757,y:2949,level:0},{x:2916,y:2992,level:0},{x:2881,y:2968,level:0},{x:2970,y:2979,level:0},{x:2958,y:2996,level:0},{x:2804,y:2924,level:0},{x:2793,y:2893,level:0},{x:2858,y:2890,level:0},{x:2841,y:2934,level:0},{x:2920,y:2888,level:0},{x:2932,y:2933,level:0},{x:2960,y:2928,level:0},{x:2856,y:3455,level:0},{x:3082,y:3475,level:0},{x:2778,y:3583,level:0},{x:3265,y:3270,level:0},{x:3508,y:3673,level:0},{x:2864,y:3589,level:0}],valid_area:{topleft:{x:1922,y:4092},botright:{x:3902,y:2500},level:0}},e.arc_compass={id:400,type:"compass",tier:"master",text:["The compass shows where you need to go on the arc."],challenge:[{type:"wizard"},{type:"lockbox"},{type:"towers"}],spots:[{x:1868,y:11649,level:0},{x:1904,y:11604,level:0},{x:1879,y:11559,level:0},{x:1812,y:11620,level:0},{x:2349,y:11182,level:0},{x:2283,y:11163,level:0},{x:2265,y:11223,level:0},{x:2323,y:11222,level:0},{x:2106,y:11279,level:0},{x:2069,y:11338,level:0},{x:2093,y:11354,level:0},{x:2117,y:11313,level:0},{x:2091,y:11296,level:0},{x:2449,y:11564,level:0},{x:2506,y:11593,level:0},{x:2508,y:11605,level:0},{x:2494,y:11553,level:0},{x:1779,y:11993,level:0},{x:1759,y:11986,level:0},{x:1759,y:11966,level:0},{x:1771,y:11919,level:0},{x:2040,y:11800,level:0},{x:2073,y:11813,level:0},{x:2035,y:11823,level:0},{x:2004,y:11801,level:0},{x:1966,y:11814,level:0},{x:1939,y:11801,level:0},{x:2278,y:11503,level:0},{x:2282,y:11464,level:0},{x:2193,y:11480,level:0},{x:2089,y:11432,level:0}],valid_area:{topleft:{x:1600,y:12159},botright:{x:2751,y:11008},level:0}},e.tetracompass={id:470,type:"compass",tier:"tetracompass",single_tile_target:!0,text:["The compass shows where you need to dig up the casket."],valid_area:{topleft:{x:1922,y:4092},botright:{x:3902,y:2500},level:0},spots:[{x:2935,y:3489,level:0},{x:2946,y:3462,level:0},{x:2945,y:3274,level:0},{x:2896,y:3550,level:0},{x:2595,y:2932,level:0},{x:2623,y:3001,level:0},{x:2462,y:2897,level:0},{x:2573,y:2922,level:0},{x:2606,y:2956,level:0},{x:2600,y:2934,level:0},{x:2553,y:2985,level:0},{x:2614,y:3624,level:0},{x:2713,y:3628,level:0},{x:2674,y:3710,level:0},{x:2729,y:3606,level:0},{x:2590,y:3263,level:0},{x:2680,y:3370,level:0},{x:2468,y:3278,level:0},{x:2557,y:3370,level:0},{x:2752,y:3394,level:0},{x:2482,y:3357,level:0},{x:2609,y:3383,level:0},{x:2554,y:3467,level:0},{x:2546,y:3522,level:0},{x:2534,y:3429,level:0},{x:2425,y:3187,level:0},{x:2460,y:3198,level:0},{x:2305,y:3544,level:0},{x:2322,y:3548,level:0},{x:2269,y:3537,level:0},{x:2363,y:3574,level:0},{x:2357,y:3551,level:0},{x:2365,y:3545,level:0},{x:2315,y:3548,level:0},{x:2720,y:3468,level:0},{x:2704,y:3453,level:0},{x:2708,y:3449,level:0},{x:2722,y:3577,level:0},{x:2632,y:3489,level:0},{x:2764,y:3478,level:0},{x:2450,y:3516,level:0},{x:2453,y:3554,level:0},{x:2358,y:3483,level:0},{x:2419,y:3397,level:0},{x:2516,y:3187,level:0},{x:2504,y:3205,level:0},{x:2578,y:3118,level:0},{x:2578,y:3139,level:0},{x:2587,y:3076,level:0},{x:2857,y:2970,level:0},{x:2779,y:3100,level:0},{x:2910,y:3075,level:0},{x:2705,y:3157,level:0},{x:2726,y:3223,level:0},{x:2835,y:2924,level:0},{x:3256,y:3195,level:0},{x:3142,y:3251,level:0},{x:3356,y:3396,level:0},{x:3200,y:3200,level:0},{x:3731,y:3165,level:0},{x:2196,y:3101,level:0},{x:2255,y:3119,level:0},{x:2207,y:3156,level:0},{x:2168,y:3083,level:0},{x:2281,y:3190,level:0},{x:2893,y:3656,level:0},{x:2860,y:3662,level:0},{x:3162,y:3542,level:0},{x:3430,y:3649,level:0},{x:2961,y:3821,level:0},{x:3236,y:3665,level:0},{x:2992,y:3686,level:0},{x:2965,y:3746,level:0}]},e.compass=[e.gielinor_compass,e.arc_compass,e.tetracompass],e.simple=[{id:0,type:"simple",tier:"easy",text:["Search the drawers of Hild and Penda's house in Burthorpe."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2914,y:3521},botright:{x:2914,y:3521}}}},{id:2,type:"simple",tier:"easy",text:["Search the drawers found upstairs in the Westernmost Inn of East Ardougne."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:2575,y:3326},botright:{x:2575,y:3326}}}},{id:65,type:"simple",tier:"easy",text:["Search the crates outside the bank in the north of east-ardougne"],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2620,y:3336},botright:{x:2620,y:3336}}}},{id:66,type:"simple",tier:"easy",text:["Search the drawers in a house in Catherby."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2830,y:3448},botright:{x:2830,y:3448}}}},{id:67,type:"simple",tier:"easy",text:["Search the crates in the chicken coop in the farm north of Port Sarim."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3018,y:3287},botright:{x:3018,y:3287}}}},{id:68,type:"simple",tier:"easy",text:["Speak to Hans to solve the clue."],solution:{type:"talkto",spots:[{range:{origin:{x:3202,y:3205,level:0},size:{x:20,y:28}},description:"at Lumbridge Castle"}],npc:"Hans"}},{id:69,type:"simple",tier:"easy",text:["Search the drawers above the shops in Varrock."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:3206,y:3419},botright:{x:3206,y:3419}}}},{id:71,type:"simple",tier:"easy",text:["Search chests found in the upstairs of shops in Port Sarim."],solution:{type:"search",entity:"Chest",spot:{level:1,topleft:{x:3016,y:3205},botright:{x:3016,y:3205}}}},{id:72,type:"simple",tier:"easy",text:["Search the drawers on the first floor of a building overlooking Ardougne market."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:2655,y:3323},botright:{x:2655,y:3323}}}},{id:73,type:"simple",tier:"easy",text:["Search the drawers in Ivy's house in Taverley."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2914,y:3448},botright:{x:2914,y:3448}}}},{id:74,type:"simple",tier:"easy",text:["Search the crates in Canifis."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3509,y:3497},botright:{x:3509,y:3497}}}},{id:75,type:"simple",tier:"easy",text:["Search for a crate on the ground floor of a house in Seers' Village."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2699,y:3470},botright:{x:2699,y:3470}}}},{id:76,type:"simple",tier:"easy",text:["Search through chests found in the upstairs of houses in eastern Falador."],solution:{type:"search",entity:"Closed Chest",spot:{level:1,topleft:{x:3041,y:3364},botright:{x:3041,y:3364}}}},{id:78,type:"simple",tier:"easy",text:["Search the chests in the Dwarven Mine."],solution:{type:"search",entity:"Chest",spot:{level:0,topleft:{x:3e3,y:9798},botright:{x:3e3,y:9798}}}},{id:79,type:"simple",tier:"easy",text:["Search the drawers in a house in Draynor Village."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:3097,y:3277},botright:{x:3097,y:3277}}}},{id:80,type:"simple",tier:"easy",text:["Search for a crate in Varrock Palace."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3224,y:3492},botright:{x:3224,y:3492}}}},{id:81,type:"simple",tier:"easy",text:["Search the boxes in the house in Al Kharid with racks of silk."],solution:{type:"search",entity:"Boxes",spot:{level:0,topleft:{x:3289,y:3202},botright:{x:3289,y:3202}}}},{id:82,type:"simple",tier:"easy",text:["Search the boxes in the house near the south entrance of Varrock."],solution:{type:"search",entity:"Boxes",spot:{level:0,topleft:{x:3203,y:3384},botright:{x:3203,y:3384}}}},{id:83,type:"simple",tier:"easy",text:["Search the crates near a cart in Varrock."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3226,y:3452},botright:{x:3226,y:3452}}}},{id:84,type:"simple",tier:"easy",text:["Look in the ground floor crates of houses in Falador."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3029,y:3355},botright:{x:3029,y:3355}}}},{id:85,type:"simple",tier:"easy",text:["Search the crates in Draynor Manor."],solution:{type:"search",entity:"Crate",spot:{level:2,topleft:{x:3106,y:3369},botright:{x:3106,y:3369}}}},{id:86,type:"simple",tier:"easy",text:["Search for a crate in a building in Hemenster."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2636,y:3453},botright:{x:2636,y:3453}}}},{id:87,type:"simple",tier:"easy",text:["Search the crates in yard of Citharede Abbey."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3415,y:3158},botright:{x:3415,y:3158}}}},{id:88,type:"simple",tier:"easy",text:["Speak to the staff of Sinclair Mansion."],solution:{type:"talkto",spots:[{range:{origin:{x:2736,y:3574,level:0},size:{x:2,y:7}},description:"in Sinclair Mansion"}],npc:"Louisa"}},{id:89,type:"simple",tier:"easy",text:["Search in the south-east corner of the Artisan Dwarves' workshop in Falador."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3060,y:3334},botright:{x:3060,y:3334}}}},{id:90,type:"simple",tier:"easy",text:["Search through some drawers in the upstairs of a house in Rimmington."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:2970,y:3213},botright:{x:2970,y:3213}}}},{id:91,type:"simple",tier:"easy",text:["Search upstairs in the houses of Seers' Village for some drawers."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:2716,y:3471},botright:{x:2716,y:3471}}}},{id:92,type:"simple",tier:"easy",text:["Search the crates in a house in Yanille that has a piano."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2598,y:3105},botright:{x:2598,y:3105}}}},{id:93,type:"simple",tier:"easy",text:["Search the drawers in the ground floor of a shop in Yanille."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2570,y:3085},botright:{x:2570,y:3085}}}},{id:95,type:"simple",tier:"easy",text:["Search the boxes in one of the tents in Al Kharid."],solution:{type:"search",entity:"Boxes",spot:{level:0,topleft:{x:3308,y:3206},botright:{x:3308,y:3206}}}},{id:96,type:"simple",tier:"easy",text:["Search the crate near a cart in Port Khazard."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2660,y:3149},botright:{x:2660,y:3149}}}},{id:99,type:"simple",tier:"easy",text:["Dig near some giant mushrooms behind the Grand Tree."],solution:{type:"dig",spot:{x:2459,y:3505,level:0},description:"behind the giant mushrooms"}},{id:100,type:"simple",tier:"easy",text:["Search a barrel outside the Pick and Lute inn, in Taverley."],solution:{type:"search",entity:"Barrel",spot:{level:0,topleft:{x:2886,y:3449},botright:{x:2886,y:3449}}}},{id:101,type:"simple",tier:"easy",text:["Search the crates in the house at the north end of the East Ardougne Market."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2658,y:3323},botright:{x:2658,y:3323}}}},{id:102,type:"simple",tier:"easy",text:["Search a barrel outside the mill, in Taverley."],solution:{type:"search",entity:"Barrel",spot:{level:0,topleft:{x:2894,y:3418},botright:{x:2894,y:3418}}}},{id:103,type:"simple",tier:"easy",text:["Speak to Gaius in Burthorpe."],solution:{type:"talkto",npc:"Gaius",spots:[{range:{origin:{x:2926,y:3546,level:0},size:{x:6,y:7}},description:"in Burthorpe"}]}},{id:105,type:"simple",tier:"easy",text:["Search a barrel east of Challenge Mistress Fara, in Burthorpe."],solution:{type:"search",entity:"Barrel",spot:{level:0,topleft:{x:2912,y:3530},botright:{x:2912,y:3530}}}},{id:106,type:"simple",tier:"easy",text:["Speak to Arhein in Catherby."],solution:{type:"talkto",npc:"Arhein",spots:[{range:{origin:{x:2802,y:3425,level:0},size:{x:3,y:3}},description:"in Catherby"}]}},{id:107,type:"simple",tier:"easy",text:["Talk to the bartender of the Rusty Anchor in Port Sarim."],solution:{type:"talkto",npc:"Bartender",spots:[{range:{origin:{x:3044,y:3255,level:0},size:{x:3,y:4}},description:"in Port Sarim"}]}},{id:108,type:"simple",tier:"easy",text:["Search the crates in Horvik's armoury."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3228,y:3433},botright:{x:3228,y:3433}}}},{id:110,type:"simple",tier:"easy",text:["Search the boxes in the Goblin house near Lumbridge."],solution:{type:"search",entity:"Boxes",spot:{level:0,topleft:{x:3247,y:3244},botright:{x:3247,y:3244}}}},{id:111,type:"simple",tier:"easy",text:["Search the drawers in Falador's chainmail shop."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2969,y:3311},botright:{x:2969,y:3311}}}},{id:112,type:"simple",tier:"easy",text:["Search the chests in Al Kharid palace."],solution:{type:"search",entity:"Ornate chest",spot:{level:0,topleft:{x:3301,y:3164},botright:{x:3301,y:3164}}}},{id:113,type:"simple",tier:"easy",text:["Search the crates just outside the armour shop in East Ardougne."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2654,y:3299},botright:{x:2654,y:3299}}}},{id:115,type:"simple",tier:"easy",text:["Search the crates in East Ardougne's general store."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2615,y:3291},botright:{x:2615,y:3291}}}},{id:116,type:"simple",tier:"easy",text:["Speak to Ellis in Al Kharid."],solution:{type:"talkto",npc:"Ellis",spots:[{range:{origin:{x:3270,y:3193,level:0},size:{x:7,y:6}},description:"in Al Kharid"}]}},{id:117,type:"simple",tier:"easy",text:["Search the chest in the left-hand tower of Camelot Castle."],solution:{type:"search",entity:"Closed Chest",spot:{level:2,topleft:{x:2748,y:3495},botright:{x:2748,y:3495}}}},{id:118,type:"simple",tier:"easy",text:["Search the chest in the Duke of Lumbridge's bedroom."],solution:{type:"search",entity:"Closed Chest",spot:{level:1,topleft:{x:3209,y:3218},botright:{x:3209,y:3218}}}},{id:119,type:"simple",tier:"easy",text:["Search the crates near the Lumbridge Market."],solution:{type:"search",entity:"Crates",spot:{level:0,topleft:{x:3192,y:3257},botright:{x:3192,y:3257}}}},{id:121,type:"simple",tier:"easy",text:["Speak to Doric, who lives north of Falador."],solution:{type:"talkto",npc:"Doric",spots:[{range:{origin:{x:2955,y:3435,level:0},size:{x:9,y:9}},description:"north of Falador"}]}},{id:123,type:"simple",tier:"easy",text:["Search the drawers upstairs in the bank to the East of Varrock."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:3250,y:3420},botright:{x:3250,y:3420}}}},{id:124,type:"simple",tier:"easy",text:["Talk to Zeke in Al Kharid."],solution:{type:"talkto",npc:"Zeke",spots:[{range:{origin:{x:3284,y:3186,level:0},size:{x:6,y:7}},description:"in Al Kharid"}]}},{id:125,type:"simple",tier:"easy",text:["Speak to the bartender of the Blue Moon Inn in Varrock."],solution:{type:"talkto",npc:"Bartender",spots:[{range:{origin:{x:3223,y:3396,level:0},size:{x:4,y:7}},description:"in the Blue Moon Inn"}]}},{id:126,type:"simple",tier:"easy",text:["Search the crate in the left-hand tower of Lumbridge castle."],solution:{type:"search",entity:"Crate",spot:{level:1,topleft:{x:3228,y:3212},botright:{x:3228,y:3212}}}},{id:127,type:"simple",tier:"easy",text:["Search the drawers in one of Gertrude's bedrooms."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:3156,y:3406},botright:{x:3156,y:3406}}}},{id:130,type:"simple",tier:"easy",text:["Search the drawers in Catherby's Archery Shop."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2828,y:3457},botright:{x:2828,y:3457}}}},{id:131,type:"simple",tier:"easy",text:["Search the drawers upstairs in Falador's shield shop."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:2971,y:3386},botright:{x:2971,y:3386}}}},{id:132,type:"simple",tier:"easy",text:["Talk to the Squire in the White Knights' castle in Falador."],solution:{type:"talkto",npc:"Squire Asrol",spots:[{range:{origin:{x:2970,y:3339,level:0},size:{x:8,y:8}},description:"in the couryard of the White Knight's castle"}]}},{id:133,type:"simple",tier:"easy",text:["Search the crates of Falador's general store."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2955,y:3390},botright:{x:2955,y:3390}}}},{id:134,type:"simple",tier:"easy",text:["Search the crates in the Barbarian Village helmet shop."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3073,y:3430},botright:{x:3073,y:3430}}}},{id:135,type:"simple",tier:"easy",text:["Search the crates in the Port Sarim fishing shop."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3012,y:3222},botright:{x:3012,y:3222}}}},{id:136,type:"simple",tier:"easy",text:["Speak to Sir Kay in Camelot Castle."],solution:{type:"talkto",npc:"Sir Kay",spots:[{range:{origin:{x:2752,y:3493,level:0},size:{x:13,y:11}},description:"in the courtyard of Camelot Castle"}]}},{id:137,type:"simple",tier:"easy",text:["Speak to Ned in Draynor Village."],solution:{type:"talkto",npc:"Ned",spots:[{range:{origin:{x:3097,y:3255,level:0},size:{x:6,y:6}},description:"in Draynor"}]}},{id:138,type:"simple",tier:"easy",text:["Speak to the Challenge Mistress in Burthorpe."],solution:{type:"talkto",npc:"Challenge Mistress Fara",spots:[{range:{origin:{x:2887,y:3529,level:0},size:{x:3,y:3}},description:"in Burthorpe"}]}},{id:94,type:"simple",tier:"medium",text:["Speak to Donovan, the family handyman."],solution:{type:"talkto",spots:[{range:{origin:{x:2740,y:3577,level:1},size:{x:5,y:6}},description:"at Sinclair Mansion"}],npc:"Donovan the Family Handyman"}},{id:97,type:"simple",tier:"medium",text:["Speak to Brimstail."],challenge:[{type:"challengescroll",question:"What is 19 to the power of 3?",answers:[{answer:6859}]}],solution:{type:"talkto",spots:[{range:{origin:{x:2405,y:9815,level:0},size:{x:9,y:8}},description:"in Brimstail's cave"}],npc:"Brimstail"}},{id:98,type:"simple",tier:"medium",text:["Speak to Roavar."],solution:{type:"talkto",npc:"Roavar",spots:[{range:{origin:{x:3489,y:3471,level:0},size:{x:7,y:5}},description:"in Canifis' bar"}]}},{id:109,type:"simple",tier:"medium",text:["Speak to Ulizius."],solution:{type:"talkto",npc:"Ulizius",spots:[{range:{origin:{x:3440,y:3458,level:0},size:{x:7,y:7}},description:"near the Swamp Gate"}]}},{id:114,type:"simple",tier:"medium",text:["Speak to Hajedy."],solution:{type:"talkto",npc:"Hajedy",spots:[{range:{origin:{x:2779,y:3210,level:0},size:{x:4,y:4}},description:"in Brimhaven"}]}},{id:120,type:"simple",tier:"medium",text:["Speak to Kangai Mau."],solution:{type:"talkto",npc:"Kangai Mau",spots:[{range:{origin:{x:2790,y:3181,level:0},size:{x:6,y:5}},description:"in Brimhaven"}]}},{id:122,type:"simple",tier:"medium",text:["Speak to a referee."],challenge:[{type:"challengescroll",question:"What is 57 x 89 + 23?",answers:[{answer:5096}]}],solution:{type:"talkto",npc:"Gnome ball referee",spots:[{range:{origin:{x:2384,y:3487,level:0},size:{x:3,y:3}},description:"at the gate of the Gnomeball Field"}]}},{id:128,type:"simple",tier:"medium",text:["Speak to Hazelmere."],challenge:[{type:"challengescroll",question:"What is 19 to the power of 3?",answers:[{answer:6859}]}],solution:{type:"talkto",npc:"Hazelmere",spots:[{range:{origin:{x:2675,y:3085,level:1},size:{x:5,y:5}},description:"east of Yanille"}]}}],e.cryptic=[{id:472,type:"cryptic",tier:"sandy",text:["He's got a rebuildathon going on, and an endless stream of important visitors."],solution:{type:"talkto",npc:"Foreman George",spots:[{range:{origin:{x:3154,y:3239,level:0},size:{x:3,y:3},data:"ugA="},description:"near the sandcastles"}]}},{id:473,type:"cryptic",tier:"sandy",text:["He's got one hat, two hat, three hat, many hats!"],solution:{type:"talkto",npc:"Sheldon",spots:[{range:{origin:{x:3168,y:3253,level:0},size:{x:3,y:3},data:"ugA="},description:"at the northern entrance"}]}},{id:474,type:"cryptic",tier:"sandy",text:["He's named after a boot, and carrying nets on his shoulder."],solution:{type:"talkto",npc:"Wellington",spots:[{range:{origin:{x:3184,y:3231,level:0},size:{x:3,y:3},data:"ugA="},description:"at the fishing spots"}]}},{id:475,type:"cryptic",tier:"sandy",text:["She can be trusted, she isn't shy and she likes ducks."],solution:{type:"talkto",npc:"Sarah",spots:[{range:{origin:{x:3169,y:3214,level:0},size:{x:3,y:3},data:"ugA="},description:"at the southern entrance"}]}},{id:476,type:"cryptic",tier:"sandy",text:["She doesn't sell sea shells, but does share common ground with the feather of fletching."],solution:{type:"talkto",npc:"Flo",spots:[{range:{origin:{x:3163,y:3213,level:0},size:{x:3,y:3},data:"ugA="},description:"at the southern entrance"}]}},{id:477,type:"cryptic",tier:"sandy",text:["Some say he guards their life, others say he sits around watching beach balls roll around."],solution:{type:"talkto",npc:"Lifeguard",spots:[{range:{origin:{x:3165,y:3255,level:0},size:{x:3,y:3},data:"ugA="},description:"at the northern entrance"}]}},{id:478,type:"cryptic",tier:"sandy",text:["Some say he's got the beach in the palm of his hand. Others think he's just excited about coconuts."],solution:{type:"talkto",npc:"Palmer",spots:[{range:{origin:{x:3142,y:3227,level:0},size:{x:3,y:3},data:"ugA="},description:"at the western entrance"}]}},{id:179,type:"cryptic",tier:"easy",text:["A crate found in the tower of a church is your next location.","A crate in the tower of a church is your next location."],solution:{type:"search",entity:"Crate",spot:{level:1,topleft:{x:2612,y:3306},botright:{x:2612,y:3306}}}},{id:180,type:"cryptic",tier:"easy",text:["One of the sailors in Port Sarim is your next destination."],solution:{type:"talkto",npc:"Captain Tobias.",spots:[{range:{origin:{x:3025,y:3215,level:0},size:{x:4,y:7}},description:"at Port Sarim"}]}},{id:182,type:"cryptic",tier:"easy",text:["Someone watching Het's Oasis is your next destination."],solution:{type:"talkto",spots:[{range:{origin:{x:3371,y:3271,level:0},size:{x:8,y:8}},description:"north of Het's Oasis"}],npc:"Jeed"}},{id:181,type:"cryptic",tier:"medium",text:["You'll need to look for a city with a central fountain. Look for a locked chest in the city's chapel."],solution:{type:"search",spot:{level:0,topleft:{x:3256,y:3487},botright:{x:3256,y:3487}},entity:"Closed Chest",key:{instructions:"The chest is locked! An inscription on the chest says: Property of Clock Tower Monastery.",answer:"Kill a monk in the Kandarin Monastery.",area:{origin:{x:2591,y:3204,level:0},size:{x:31,y:15}}}}},{id:183,type:"cryptic",tier:"medium",text:["The socks in these drawers are holier than thine, according to the tonsured owners."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:3056,y:3497},botright:{x:3056,y:3497}},key:{instructions:"The chest has a crude note on top. It reads 'You'll never get these drawers open now! - Zamorak Monk.'",answer:"Kill a Monk of Zamorak in the Chaos Temple near the Goblin Village.",area:{origin:{x:2946,y:3473,level:0},size:{x:9,y:6}}}}},{id:184,type:"cryptic",tier:"medium",text:["Probably filled with wizards' socks."],solution:{type:"search",entity:"Cupboard",spot:{level:2,topleft:{x:3113,y:3153},botright:{x:3113,y:3153}},key:{instructions:"This cupboard is locked! One of the Spellwisps might have stolen the key. ",answer:"Kill a Spellwisp north west of the tower.",area:{origin:{x:3066,y:3168,level:0},size:{x:16,y:16}}}}},{id:185,type:"cryptic",tier:"medium",text:["In a village made of bamboo, look for some crates under one of the houses."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2800,y:3074},botright:{x:2800,y:3074}}}},{id:186,type:"cryptic",tier:"medium",text:["The owner of this crate has a hunch that he put more than fish inside."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2770,y:3172},botright:{x:2770,y:3172}}}},{id:187,type:"cryptic",tier:"medium",text:["In a town where the guards are armed with maces, search the upstairs rooms of the public house."],solution:{type:"search",spot:{level:1,topleft:{x:2575,y:3326},botright:{x:2575,y:3326}},entity:"Drawers",key:{instructions:"The drawers are locked! A note left on the drawers reads: Beware of dog!",answer:"Kill a guard dog.",area:{origin:{x:2623,y:3307,level:0},size:{x:25,y:24}}}}},{id:188,type:"cryptic",tier:"medium",text:["Try not to step on any aquatic nasties while searching this crate."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2764,y:3273},botright:{x:2764,y:3273}}}},{id:189,type:"cryptic",tier:"medium",text:["After a hard day of spraying back the vegetation, you mite want to pop to the nearby forge and search the crates."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2399,y:4471},botright:{x:2399,y:4471}}}},{id:190,type:"cryptic",tier:"medium",text:["For any aspiring mage, I'm sure searching this bookcase will be a rewarding experience."],solution:{type:"search",entity:"Bookcase",spot:{level:1,topleft:{x:3366,y:3319},botright:{x:3366,y:3319}}}},{id:191,type:"cryptic",tier:"medium",text:["A town with a different sort of night-life is your destination. Search for some crates in one of the houses."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3498,y:3507},botright:{x:3498,y:3507}}}},{id:192,type:"cryptic",tier:"medium",text:["Hay! Stop for a bit and admire the scenery, just like the tourism promoter says."],solution:{type:"search",entity:"Hay bales",spot:{level:0,topleft:{x:2524,y:3438},botright:{x:2524,y:3438}}}},{id:193,type:"cryptic",tier:"medium",text:["North of the best monkey restaurant on Karamja, look for the centre of the triangle of boats and search there."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2905,y:3189},botright:{x:2905,y:3189}}}},{id:194,type:"cryptic",tier:"medium",text:["Go to the village being attacked by trolls and search the drawers in one of the houses."],solution:{type:"search",spot:{level:0,topleft:{x:2928,y:3552},botright:{x:2928,y:3552}},entity:"Drawers",key:{instructions:"The drawers are locked! A note on the top of the drawer reads: Wait till I get my hands on Penda; he's nicked the key again!",answer:"Pickpocket Penda in the house north of Heroes's Guild.",area:{origin:{x:2912,y:3521,level:0},size:{x:5,y:6}}}}},{id:195,type:"cryptic",tier:"medium",text:["In a town where everyone has perfect vision, seek some locked drawers in a house that sits opposite a workshop."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2709,y:3478},botright:{x:2709,y:3478}},key:{instructions:"Don't forget to feed the chickens",answer:"Kill a chicken.",area:{origin:{x:2729,y:3555,level:0},size:{x:11,y:10}}}}},{id:196,type:"cryptic",tier:"medium",text:["Being this far north has meant that these crates have escaped being battled over."],solution:{type:"search",spot:{level:0,topleft:{x:2519,y:3259},botright:{x:2519,y:3259}},entity:"Crates"}},{id:197,type:"cryptic",tier:"medium",text:["After trawling for bars, go to the nearest place to smith them and dig by the door."],solution:{type:"dig",spot:{x:2656,y:3160,level:0},description:"in front of the door"}},{id:198,type:"cryptic",tier:"medium",text:["Sophind yourself some treasure by searching these boxes."],solution:{type:"search",spot:{level:0,topleft:{x:3280,y:2787},botright:{x:3280,y:2787}},entity:"Crate"}},{id:199,type:"cryptic",tier:"medium",text:["Dig here if you are not feeling too well after travelling through the desert. Ali heartily recommends it."],solution:{type:"dig",spot:{x:3358,y:2971,level:0},description:"next to the well"}},{id:200,type:"cryptic",tier:"medium",text:["You'll need to have Doug Deep into the distant past to get to these sacks"],solution:{type:"search",spot:{level:0,topleft:{x:3155,y:5727},botright:{x:3155,y:5727}},entity:"Sacks"}},{id:201,type:"cryptic",tier:"medium",text:["This crate holds a better reward than a broken arrow."],solution:{type:"search",spot:{level:0,topleft:{x:2671,y:3437},botright:{x:2671,y:3437}},entity:"Crate"}},{id:202,type:"cryptic",tier:"medium",text:["The rock cakes to the south are definitely more edible than the two rocks I buried the treasure between."],solution:{type:"dig",spot:{x:2513,y:3041,level:0},description:"between the rocks"}},{id:203,type:"cryptic",tier:"medium",text:["Search the upstairs drawers of a house in a village where pirates are known to have a good time."],solution:{type:"search",spot:{level:1,topleft:{x:2809,y:3165},botright:{x:2809,y:3165}},entity:"Drawers",key:{instructions:"Shiver me timbers!",answer:"Kill a pirate in Brimhaven",area:{origin:{x:2766,y:3167,level:0},size:{x:45,y:35}}}}},{id:204,type:"cryptic",tier:"medium",text:["Don't skip here, it's too muddy. You'll feel like a star if you dig here, though."],solution:{type:"dig",spot:{x:3e3,y:3110,level:0},description:"on top of the starfish"}},{id:205,type:"cryptic",tier:"medium",text:["This crate is mine, all mine, even if it is in the middle of the desert."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3289,y:3022},botright:{x:3289,y:3022}}}},{id:206,type:"cryptic",tier:"medium",text:["The treasure is buried in a small building full of bones. Here's a Hint: It's not near a graveyard."],solution:{type:"dig",spot:{x:3356,y:3507,level:0},description:"in the western shed"}},{id:207,type:"cryptic",tier:"medium",text:["By the town of the dead, walk south down a rickety bridge, then dig near the spotted fungus."],solution:{type:"dig",spot:{x:3644,y:3494,level:0},description:"next to the mushroom"}},{id:208,type:"cryptic",tier:"medium",text:["This cupboard has treasure, pirate pots and corsair cutlery!"],solution:{type:"search",entity:"Cupboard",spot:{level:0,topleft:{x:2811,y:3160},botright:{x:2811,y:3160}}}},{id:209,type:"cryptic",tier:"medium",text:["The dead, red dragon watches over this chest. He must really dig the view."],solution:{type:"search",spot:{level:0,topleft:{x:3354,y:3349},botright:{x:3354,y:3349}},entity:"Closed chest",key:{instructions:"The chest is locked!  Crude graffiti on the chest reads: 'Barbarians rule, okay!'",answer:"Kill a Barbarian in Barbarian Village.",area:{origin:{x:3073,y:3412,level:0},size:{x:22,y:23}}}}},{id:210,type:"cryptic",tier:"medium",text:["This crate clearly marks the end of the line for coal."],solution:{type:"search",spot:{level:0,topleft:{x:2691,y:3508},botright:{x:2691,y:3508}},entity:"Crate"}},{id:211,type:"cryptic",tier:"medium",text:["Go to this building to be illuminated, and check the drawers while you are there."],solution:{type:"search",spot:{level:1,topleft:{x:2512,y:3641},botright:{x:2512,y:3641}},entity:"Drawers",key:{instructions:"The drawers are locked! A note on the top says 'I'm guarding the key at the market'.",answer:"Kill a Fremennik market guard in Relekka.",area:{origin:{x:2635,y:3669,level:0},size:{x:18,y:18}}}}},{id:212,type:"cryptic",tier:"medium",text:["Find a crate close to the monks that like to paaarty!"],solution:{type:"search",spot:{level:0,topleft:{x:2614,y:3204},botright:{x:2614,y:3204}},entity:"Crate"}},{id:213,type:"cryptic",tier:"medium",text:["In a town where wizards are known to gather, search upstairs in a large house to the north."],solution:{type:"search",entity:"Closed chest",spot:{level:1,topleft:{x:2593,y:3108},botright:{x:2593,y:3108}},key:{instructions:"Stand by your man.",answer:"Kill the man downstairs.",area:{origin:{x:2590,y:3103,level:0},size:{x:9,y:6}}}}},{id:214,type:"cryptic",tier:"medium",text:["This temple is rather sluggish. The chest just inside the entrance, however, is filled with goodies."],solution:{type:"search",spot:{level:0,topleft:{x:2698,y:9684},botright:{x:2698,y:9684}},entity:"Chest"}},{id:215,type:"cryptic",tier:"medium",text:["The gnomes' nearby cart must have collapsed under the weight of all the treasure in these boxes!"],solution:{type:"search",spot:{level:0,topleft:{x:2397,y:3355},botright:{x:2397,y:3355}},entity:"Gnome crates"}},{id:217,type:"cryptic",tier:"medium",text:["Brush off the sand and dig in the quarry. There is a wheely handy barrow to the east. Don't worry, it's coal to dig there - in fact, it's all oclay."],solution:{type:"dig",spot:{x:3176,y:2916,level:0},description:"west of the cart"}},{id:218,type:"cryptic",tier:"medium",text:["Observe: In the crate just North of the stairs leading down, you will find the answer."],solution:{type:"search",spot:{level:0,topleft:{x:2438,y:3165},botright:{x:2438,y:3165}},entity:"Crate"}},{id:220,type:"cryptic",tier:"medium",text:["In a town where thieves steal from stalls, search for some drawers in the upstairs of a house near the bank."],solution:{type:"search",spot:{level:1,topleft:{x:2610,y:3324},botright:{x:2610,y:3324}},entity:"Drawers",key:{instructions:"It's a guard's life",answer:"Kill an ardougne guard."}}},{id:222,type:"cryptic",tier:"medium",text:["While a sea view is nice, it seems this church has not seen visitors in a while. Dig outside the rim of the round window for a reward."],solution:{type:"dig",spot:{x:2992,y:3178,level:0},description:"west of the church near Port Sarim"}},{id:28,type:"cryptic",tier:"hard",text:["Covered in shadows, the centre of the circle is where you will find the answer."],solution:{type:"dig",spot:{x:3488,y:3287,level:0},description:"at the centre of Mort'ton"}},{id:30,type:"cryptic",tier:"hard",text:["Generally speaking, his nose was very bent"],solution:{type:"talkto",npc:"General Bentnoze",spots:[{range:{origin:{x:2954,y:3512,level:0},size:{x:7,y:4}},description:"in Goblin Village"}]},challenge:[{type:"slider"}]},{id:32,type:"cryptic",tier:"hard",text:["If you look closely enough, it seems that the archers have lost more than their needles."],solution:{type:"search",entity:"Haystack",spot:{level:0,topleft:{x:2671,y:3416},botright:{x:2671,y:3416}}}},{id:39,type:"cryptic",tier:"hard",text:["There is no 'worthier' lord."],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{id:"default",range:{origin:{x:2185,y:3283,level:1},size:{x:3,y:3}},note:"After 'Plague's End'",description:"in Prifddinas"},{id:"after-plagues-end",range:{origin:{x:2198,y:3247,level:0},size:{x:12,y:12}},note:"Before 'Plague's End'",description:"at Iorwerth Camp"}],npc:"Lord Iorwerth"}},{id:139,type:"cryptic",tier:"hard",text:["I am head of the abbey with a cold breeze from the west.","'A bag belt only?' he asked his balding brothers"],solution:{type:"talkto",spots:[{range:{origin:{x:3055,y:3482,level:0},size:{x:5,y:6}},description:"at the Edgeville Monastery"}],npc:"Abbot Langley"}},{id:140,type:"cryptic",tier:"hard",text:["My name's a tirade, fishing is my trade, by the docks is where my fortune is made.","If a man carried my burden, he would break his back. I am not rich, but leave silver in my track. Speak to the keeper of my trail."],solution:{type:"talkto",spots:[{range:{origin:{x:3011,y:3223,level:0},size:{x:7,y:7}},description:"in the fishing shop in Port Sarim"}],npc:"Gerrant"}},{id:141,type:"cryptic",tier:"hard",text:["Often sought out by scholars of histories past, find me where words of wisdom speak volumes."],challenge:[{type:"slider"}],solution:{type:"talkto",npc:"Examiner",spots:[{range:{origin:{x:3351,y:3342,level:0},size:{x:9,y:8}},description:"in the Exam Centre"}]}},{id:142,type:"cryptic",tier:"hard",text:["A great view: watch the rapidly drying hides get splashed. Check the box you are sitting on."],solution:{type:"search",spot:{level:1,topleft:{x:2523,y:3493},botright:{x:2523,y:3493}},entity:"Boxes"}},{id:143,type:"cryptic",tier:"hard",text:["You will need to wash the old ash off of your spade when you dig here, but the only water nearby is stagnant."],solution:{type:"dig",spot:{x:2134,y:5162,level:0},description:"next to the puddle on top of the mountain on Braindeath Island"}},{id:144,type:"cryptic",tier:"hard",text:["Identify the back of this over-acting brother. (He's a long way from home.)"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3131,y:2800,level:0},size:{x:5,y:5}},description:"on the beach in Menaphos Worker District"}],npc:"Hamid"}},{id:145,type:"cryptic",tier:"hard",text:["As you desert this town, keep an eye out for a set of spines that could ruin nearby rugs: dig carefully around the greenery."],solution:{type:"dig",spot:{x:3396,y:2918,level:0},description:"next to the cacti west of Nardaah"}},{id:146,type:"cryptic",tier:"hard",text:["'Small Shoe.' Often found with rod on mushroom."],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2467,y:3426,level:0},size:{x:11,y:15}},description:"at the Gnome Agility Course"}],npc:"Gnome trainer"}},{id:147,type:"cryptic",tier:"hard",text:["It seems to have reached the end of the line, and it's still empty."],solution:{type:"search",spot:{level:0,topleft:{x:3041,y:9820},botright:{x:3041,y:9820}},entity:"Mine Cart"}},{id:148,type:"cryptic",tier:"hard",text:["Read 'How to Breed Scorpions' By O.W. Thathurt."],solution:{type:"search",spot:{level:1,topleft:{x:2702,y:3409},botright:{x:2702,y:3409}},entity:"Bookcase"}},{id:149,type:"cryptic",tier:"hard",text:["Probably filled with books on magic."],solution:{type:"search",spot:{level:0,topleft:{x:3094,y:3153},botright:{x:3095,y:3152}},entity:"Bookcase"}},{id:150,type:"cryptic",tier:"hard",text:["Citric cellar."],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2487,y:3487,level:1},size:{x:7,y:3}},description:"in the south-east corner on the first floor of the Grand Tree"}],npc:"Heckel Funch"}},{id:151,type:"cryptic",tier:"hard",text:["I'm sure they will let ya buy some things here, as long as you are in good 'ealth."],solution:{type:"search",spot:{level:0,topleft:{x:2340,y:3187},botright:{x:2340,y:3187}},entity:"Crate"}},{id:152,type:"cryptic",tier:"hard",text:["Mine was the strangest birth under the sun. I left the crimson sack. Yet life had not begun. Entered the world and yet was seen by none."],solution:{type:"dig",spot:{x:2832,y:9586,level:0},description:"on top of the Red spider's eggs spawn"}},{id:153,type:"cryptic",tier:"hard",text:["His head might be hollow, but the crates nearby are filled with surprises."],solution:{type:"search",spot:{level:0,topleft:{x:3478,y:3091},botright:{x:3478,y:3091}},entity:"Crate"}},{id:154,type:"cryptic",tier:"hard",text:["My giant guardians below the market streets would be fans of rock and roll, if only they could grab hold of it. Dig near my purple smoke!"],solution:{type:"dig",spot:{x:3161,y:9905,level:0},description:"next to the cauldron"}},{id:155,type:"cryptic",tier:"hard",text:["You can cook food on me, but don't cook any foodles - That would just be wrong."],solution:{type:"dig",spot:{x:2969,y:2975,level:0},description:"by the fire next to Captain Klemfoodle"}},{id:156,type:"cryptic",tier:"hard",text:["The beasts to my east snap claws and tails. The rest to my west can slide and eat fish. The force to my north will jump and they'll wail, Come dig by my fire and make a wish."],solution:{type:"dig",spot:{x:2598,y:3267,level:0},description:"next to the torch in Ardougne Zoo"}},{id:157,type:"cryptic",tier:"hard",text:["You don't need to go hopping mad - or take steps - to get to this treasure: just be totally shellfish."],solution:{type:"dig",spot:{x:2519,y:3594,level:0},description:"on top of the shell"}},{id:158,type:"cryptic",tier:"hard",text:["When you get tired of fighting, go deep, deep down until you need an antidote."],solution:{type:"search",spot:{level:0,topleft:{x:2576,y:9583},botright:{x:2576,y:9583}},entity:"Crate"}},{id:159,type:"cryptic",tier:"hard",text:["'Throat mage seeks companionship. Seek answers inside my furniture if interested.'"],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:2666,y:3238},botright:{x:2666,y:3238}}}},{id:160,type:"cryptic",tier:"hard",text:["Must be full of railings"],solution:{type:"search",entity:"Boxes",spot:{level:0,topleft:{x:2576,y:3464},botright:{x:2576,y:3464}}}},{id:161,type:"cryptic",tier:"hard",text:["You will need to under-cook to solve this one."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3219,y:9617},botright:{x:3219,y:9617}}}},{id:162,type:"cryptic",tier:"hard",text:["The cheapest water for miles around, but they react badly to religious icons."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3178,y:2987},botright:{x:3178,y:2987}}}},{id:163,type:"cryptic",tier:"hard",text:["You have all of the elements available to solve this clue. Fortunately you do not have to go as far as to stand in a draft."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2723,y:9891},botright:{x:2723,y:9891}}}},{id:164,type:"cryptic",tier:"hard",text:["Try not to let yourself be dazzled when you search these drawers."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2561,y:3323},botright:{x:2561,y:3323}}}},{id:165,type:"cryptic",tier:"hard",text:["Aggie I see, Lonely and southern I feel, I am neither inside nor outside the house, yet no house would be complete without me. The treasure lies beneath me!"],solution:{type:"dig",spot:{x:3083,y:3257,level:0},description:"in front of the window"}},{id:166,type:"cryptic",tier:"hard",text:["I am a token of the greatest love. I have no beginning or end. My eye is red, I can fit like a glove. Go to the place where it's money they lend, And dig by the gate to be my friend."],solution:{type:"dig",spot:{x:3191,y:9825,level:0},description:"in front of the gate"}},{id:167,type:"cryptic",tier:"hard",text:["Navigating to this crate will be a trial."],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2648,y:3662},botright:{x:2648,y:3662}}}},{id:168,type:"cryptic",tier:"hard",text:["This aviator is at the peak of his profession."],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2849,y:3492,level:1},size:{x:3,y:3}},description:"at the top of White Wolf Mountain"}],npc:"Captain Bleemadge"}},{id:169,type:"cryptic",tier:"hard",text:["Snah? I feel all confused, like one of those cakes."],solution:{type:"talkto",spots:[{range:{origin:{x:3202,y:3205,level:0},size:{x:20,y:28}},description:"at Lumbridge Castle"}],npc:"Hans"}},{id:170,type:"cryptic",tier:"hard",text:["My home is grey, and made of stone, A castle with a search for a meal. Hidden in some drawers I am, across from a wooden wheel."],solution:{type:"search",entity:"Drawers",spot:{level:1,topleft:{x:3213,y:3216},botright:{x:3213,y:3216}}}},{id:171,type:"cryptic",tier:"hard",text:["Surprising? I bet he is...","I bet he is..."],solution:{type:"talkto",spots:[{range:{origin:{x:3202,y:3470,level:0},size:{x:5,y:5}},description:"in Varrock Castle"}],npc:"Sir Prysin"}},{id:173,type:"cryptic",tier:"hard",text:["Four blades I have, yet draw no blood, Still I turn my prey to powder. If you are brave, come search my roof, It is there my blades are louder."],solution:{type:"search",entity:"Crate",spot:{level:2,topleft:{x:3166,y:3309},botright:{x:3166,y:3309}}}},{id:174,type:"cryptic",tier:"hard",text:["My name is like a tree, yet it is spelt with a 'g'. Come see the fur which is right near me."],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3219,y:3434,level:0},size:{x:5,y:5}},description:"near Varrock's fountain"}],npc:"Wilough"}},{id:175,type:"cryptic",tier:"hard",text:["A strange little man who sells armour only to those who've proven themselves to be unafraid of dragons."],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3066,y:3514,level:0},size:{x:5,y:5}},description:"in Edgeville"}],npc:"Oziach"}},{id:176,type:"cryptic",tier:"hard",text:["Come to the evil ledge, Yew know yew want to. Try not to get stung.","Come to the Try not to get stung."],solution:{type:"dig",spot:{x:3088,y:3469,level:0},description:"next to the yew tree"}},{id:178,type:"cryptic",tier:"hard",text:["When no weapons are at hand, then is the time to reflect. In Saradomin's name, redemption draws closer."],solution:{type:"search",entity:"Drawers",spot:{level:0,topleft:{x:2818,y:3351},botright:{x:2818,y:3351}}}},{id:216,type:"cryptic",tier:"hard",text:["46 is my number. My body is the colour of burnt orange and crawls among those with eight. Three mouths I have, yet I cannot eat. My blinking blue eye hides my grave."],solution:{type:"dig",spot:{x:3169,y:3887,level:0},description:"on top of the sapphire spawn"}},{id:219,type:"cryptic",tier:"hard",text:["If you didn't want to be here and in danger, you should lever things well enough alone."],solution:{type:"dig",spot:{x:3154,y:3923,level:0},description:"in front of the lever in deep wilderness"}},{id:221,type:"cryptic",tier:"hard",text:["I lie lonely and forgotten in mid wilderness, Where the dead rise from their beds. Feel free to quarrel and wind me up, and dig while you shoot their heads."],solution:{type:"dig",spot:{x:3235,y:3673,level:0},description:"on top of the crossbow in the Graveyard of Shadows"}},{id:223,type:"cryptic",tier:"hard",text:["And so on, and so on, and so on. Walking from the land of many unimportant things leads to a choice of paths."],solution:{type:"dig",spot:{x:2591,y:3879,level:0},description:"at the crossoads on Etceteria"}},{id:224,type:"cryptic",tier:"hard",text:["This village has a problem with cartloads of the undead. Try checking the bookcase to find the answer."],solution:{type:"search",entity:"Bookcase",spot:{level:0,topleft:{x:2833,y:2992},botright:{x:2833,y:2992}}}}],e.emote=[{id:8,type:"emote",tier:"easy",text:["Dance in the shack in Lumbridge Swamp. Equip a bronze dagger, iron full helm and a gold ring."],area:{origin:{x:3202,y:3167,level:0},size:{x:4,y:4}},items:["Bronze Dagger","Iron full helm","Gold ring"],emotes:["Dance"],double_agent:!1,hidey_hole:{name:"Barrel (hidey-hole)",location:{topleft:{x:3204,y:3169},botright:{x:3204,y:3169},level:0}}},{id:259,type:"emote",tier:"easy",text:["Think in the middle of the wheat field by the Lumbridge mill. Equip a sapphire necklace, polar camo legs and an oak shortbow."],area:{origin:{x:3155,y:3295,level:0},size:{x:6,y:9}},items:["Sapphire necklace","Polar camo legs","Oak shortbow"],emotes:["Think"],double_agent:!1,hidey_hole:{name:"Sack of items (hidey-hole)",location:{topleft:{x:3165,y:3302},botright:{x:3165,y:3302},level:0}}},{id:260,type:"emote",tier:"easy",text:["Laugh at the crossroads south of Sinclair Mansion. Equip a leather cowl, amulet of strength and iron scimitar."],area:{origin:{x:2737,y:3534,level:0},size:{x:8,y:8}},items:["Leather cowl","Amulet of strength","Iron scimitar"],emotes:["Laugh"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:2731,y:3534},botright:{x:2731,y:3534},level:0}}},{id:261,type:"emote",tier:"easy",text:["Panic in the limestone mine. Equip bronze platelegs, a steel pickaxe and a steel helmet."],area:{origin:{x:3367,y:3497,level:0},size:{x:10,y:6}},items:["Bronze platelegs","Steel pickaxe","Steel helm"],emotes:["Panic"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{topleft:{x:3376,y:3500},botright:{x:3376,y:3500},level:0}}},{id:262,type:"emote",tier:"easy",text:["Panic on the pier where you catch the Fishing Trawler. Have nothing equipped at all when you do."],area:{origin:{x:2676,y:3163,level:0},size:{x:1,y:12}},items:["Nothing"],emotes:["Panic"],double_agent:!1,hidey_hole:null},{id:263,type:"emote",tier:"easy",text:["Blow a raspberry at the monkey cage in Ardougne Zoo. Equip a studded leather body, bronze platelegs and a mud pie."],area:{origin:{x:2597,y:3273,level:0},size:{x:11,y:11}},items:["Studded leather body","Bronze platelegs","Mud pie"],emotes:["Raspberry"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:2599,y:3280},botright:{x:2599,y:3280},level:0}}},{id:264,type:"emote",tier:"easy",text:["Clap on the causeway to the Wizards' Tower. Equip an iron helmet, emerald ring and leather gloves."],area:{origin:{x:3101,y:3187,level:0},size:{x:4,y:23}},items:["Iron helmet","Emerald ring","Leather gloves"],emotes:["Clap"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:3099,y:3189},botright:{x:3099,y:3188},level:0}}},{id:265,type:"emote",tier:"easy",text:["Twirl at the crossroads north of Rimmington. Equip a Sapphire ring, yellow flowers and leather chaps."],area:{origin:{x:2953,y:3239,level:0},size:{x:3,y:5}},items:["Sapphire ring","Yellow flowers","Leather chaps"],emotes:["Twirl"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:2959,y:3241},botright:{x:2960,y:3240},level:0}}},{id:266,type:"emote",tier:"easy",text:["Blow raspberries outside the entrance to Keep Le Faye. Equip a studded leather coif, iron platebody and leather gloves."],area:{origin:{x:2757,y:3398,level:0},size:{x:7,y:8}},items:["Studded leather coif","Iron platebody","Leather gloves"],emotes:["Raspberry"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:2756,y:3404},botright:{x:2756,y:3404},level:0}}},{id:267,type:"emote",tier:"easy",text:["Cheer for the monks at Port Sarim. Equip a studded leather coif, steel plateskirt and a sapphire necklace."],area:{origin:{x:3044,y:3234,level:0},size:{x:6,y:4}},items:["Studded Leather coif","Steel plateskirt","Sapphire necklace"],emotes:["Cheer"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{topleft:{x:3042,y:3234},botright:{x:3042,y:3234},level:0}}},{id:268,type:"emote",tier:"easy",text:["Wave on Mudskipper Point. Equip a gold ring, leather chaps and a steel mace."],area:{origin:{x:2981,y:3106,level:0},size:{x:25,y:25}},items:["Gold ring","Leather chaps","Steel mace"],emotes:["Wave"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:3004,y:3123},botright:{x:3004,y:3123},level:0}}},{id:269,type:"emote",tier:"easy",text:["Shrug in the mine near Rimmington. Equip a gold necklace, gold ring and a bronze spear."],area:{origin:{x:2970,y:3230,level:0},size:{x:20,y:22}},items:["Gold necklace","Gold ring","Bronze spear"],emotes:["Shrug"],double_agent:!1,hidey_hole:{name:"Cart (hidey-hole)",location:{topleft:{x:2972,y:3237},botright:{x:2973,y:3235},level:0}}},{id:270,type:"emote",tier:"easy",text:["Clap in the main exam room of the Exam Centre. Equip a ruby amulet, blue flowers and leather gloves."],area:{origin:{x:3351,y:3342,level:0},size:{x:9,y:8}},items:["Ruby amulet","Blue flowers","Leather gloves"],emotes:["Clap"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{topleft:{x:3351,y:3348},botright:{x:3351,y:3348},level:0}}},{id:271,type:"emote",tier:"easy",text:["Yawn in Varrock Palace library. Equip a holy symbol, leather vambraces and an iron warhammer."],area:{origin:{x:3207,y:3490,level:0},size:{x:8,y:8}},items:["Holy symbol","Leather vamraces","Iron warhammer"],emotes:["Yawn"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{topleft:{x:3217,y:3494},botright:{x:3217,y:3494},level:0}}},{id:272,type:"emote",tier:"easy",text:["Dance in the Party Room. Equip a steel full helmet, steel platebody and an iron plateskirt."],area:{origin:{x:3036,y:3371,level:0},size:{x:20,y:15}},items:["Steel full helmet","Steel platebody","Iron plateskirt"],emotes:["Dance"],double_agent:!1,hidey_hole:{name:"Potted plant (hidey-hole)",location:{topleft:{x:3041,y:3372},botright:{x:3041,y:3372},level:0}}},{id:273,type:"emote",tier:"easy",text:["Twirl in Draynor Manor by the fountain. Equip an iron platebody, studded chaps and a bronze full helm."],area:{origin:{x:3086,y:3333,level:0},size:{x:5,y:5}},items:["Iron platebody","Studden chaps","Bronze full helm"],emotes:["Twirl"],double_agent:!1,hidey_hole:{name:"Dead tree (hidey-hole)",location:{topleft:{x:3090,y:3341},botright:{x:3092,y:3340},level:0}}},{id:274,type:"emote",tier:"easy",text:["Jump for joy at the beehives. Equip iron boots, an unholy symbol and a steel hatchet."],area:{origin:{x:2752,y:3437,level:0},size:{x:15,y:14}},items:["Iron boots","Unholy smybol","Steel hatchet"],emotes:["Jump for Joy"],double_agent:!1,hidey_hole:{name:"Beehive (hidey-hole)",location:{topleft:{x:2762,y:3447},botright:{x:2762,y:3447},level:0}}},{id:275,type:"emote",tier:"easy",text:["Headbang in the mine north of Al-kharid. Equip a Polar Camo Top, Leather Gloves and Leather Boots."],area:{origin:{x:3296,y:3291,level:0},size:{x:8,y:26}},items:["Polar Camo Top","Leather Gloves","Leather Boots"],emotes:["Headbang"],double_agent:!1,hidey_hole:{name:"Rocks (hidey-hole)",location:{topleft:{x:3295,y:3282},botright:{x:3295,y:3282},level:0}}},{id:276,type:"emote",tier:"easy",text:["Bow or curtsy outside the entrance to the Legends' Guild. Equip iron platelegs, an emerald amulet and an oak shieldbow."],area:{origin:{x:2726,y:3346,level:0},size:{x:6,y:4}},items:["Iron platelegs","Emerald Amulet","Oak Shieldbow"],emotes:["Bow or Curtsy"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:2732,y:3352},botright:{x:2732,y:3352},level:0}}},{id:277,type:"emote",tier:"easy",text:["Cheer in the centre of the Burthorpe Games Room. Have nothing equipped at all when you do."],area:{origin:{x:2194,y:4946,level:0},size:{x:28,y:28}},items:["Nothing"],emotes:["Cheer"],double_agent:!1,hidey_hole:null},{id:278,type:"emote",tier:"easy",text:["Dance at the crossroads north of Draynor. Equip an iron chainbody, sapphire ring and a shieldbow."],area:{origin:{x:3108,y:3293,level:0},size:{x:4,y:4}},items:["Iron Chainbody","Sapphire Ring","Shieldbow"],emotes:["Dance"],double_agent:!1,hidey_hole:{location:{topleft:{x:3112,y:3292},botright:{x:3112,y:3292},level:0},name:"Rock (hidey-hole)"}},{id:279,type:"emote",tier:"easy",text:["Dance a jig by the entrance to the Fishing Guild. Equip an emerald ring, sapphire amulet, and a bronze chainbody."],area:{origin:{x:2611,y:3384,level:0},size:{x:5,y:3}},items:["Emerald Ring","Sapphire Amulet","Bronze Chainbody"],emotes:["Jig"],double_agent:!1,hidey_hole:{location:{topleft:{x:2619,y:3388},botright:{x:2619,y:3388},level:0},name:"Rock (hidey-hole)"}},{id:280,type:"emote",tier:"easy",text:["Bow or curtsy at the entrance to Het's Oasis. Equip an iron chainbody, leather chaps and a studded leather coif."],area:{origin:{x:3318,y:3225,level:0},size:{x:9,y:17}},items:["Iron Chainbody","Leather Chaps","Leather Coif"],emotes:["Bow or Curtsy"],double_agent:!1,hidey_hole:{name:"Sack (hidey-hole)",location:{topleft:{x:3323,y:3236},botright:{x:3323,y:3236},level:0}}},{id:281,type:"emote",tier:"easy",text:["Cry outside the south gates of Fort Forinthry. Equip a hard leather body, leather chaps and a bronze hatchet."],area:{origin:{x:3296,y:3520,level:0},size:{x:16,y:9}},items:["Hard Leather Body","Leather Chaps","Bronze Hatchet"],emotes:["Cry"],double_agent:!1,hidey_hole:{location:{topleft:{x:3299,y:3521},botright:{x:3299,y:3521},level:0},name:"Tree stump (hidey-hole)"}},{id:282,type:"emote",tier:"easy",text:["Clap on the top level of the mill north of East Ardougne. Equip an emerald ring, wood camo top and an unenchanted tiara."],area:{origin:{x:2630,y:3381,level:2},size:{x:6,y:6}},items:["Emerald Ring","Wood Camo Top","Unenchanted Tiara"],emotes:["Clap"],double_agent:!1,hidey_hole:{location:{topleft:{x:2635,y:3383},botright:{x:2635,y:3383},level:2},name:"Crate (hidey-hole)"}},{id:283,type:"emote",tier:"easy",text:["Yawn in Draynor Marketplace. Equip an iron kiteshield, steel longsword and studded leather chaps."],area:{origin:{x:3074,y:3246,level:0},size:{x:13,y:10}},items:["Iron Kiteshield","Steel Longsword","Studded Leather Chaps"],emotes:["Yawn"],double_agent:!1,hidey_hole:{name:"Barrel (hidey-hole)",location:{topleft:{x:3078,y:3246},botright:{x:3078,y:3246},level:0}}},{id:284,type:"emote",tier:"easy",text:["Cheer at the Druids' Circle. Equip an air tiara, bronze two-handed sword and a gold amulet."],area:{origin:{x:2917,y:3476,level:0},size:{x:10,y:11}},items:["Air Tiara","Bronze 2h Sword","Gold Amulet"],emotes:["Cheer"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:2922,y:3476},botright:{x:2922,y:3476},level:0}}},{id:7,type:"emote",tier:"medium",text:["Beckon at the Digsite, near the eastern winch. Bow or curtsy before you talk to me. Equip a pointed red and black snelm, snakeskin boots, and an iron pickaxe."],area:{origin:{x:3375,y:3440,level:0},size:{x:7,y:7}},items:["Pointed Red and Black Snelm","Snakeskin Boots","Iron Pickaxe"],emotes:["Beckon","Bow or Curtsy"],double_agent:!1,hidey_hole:{name:"Barrel (hidey-hole)",location:{topleft:{x:3379,y:3445},botright:{x:3379,y:3445},level:0}}},{id:247,type:"emote",tier:"medium",text:["Panic by the mausoleum in Morytania. Wave before you speak to me. Equip a mithril plateskirt, a maple shieldbow and no boots."],area:{origin:{x:3490,y:3565,level:0},size:{x:25,y:17}},items:["Mithril Plateskirt","Maple Shieldbow","No boots"],emotes:["Panic","Wave"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{topleft:{x:3506,y:3574},botright:{x:3506,y:3574},level:0}}},{id:248,type:"emote",tier:"medium",text:["Dance a jig under Shantay's Awning. Bow or curtsy before you talk to me. Equip a pointed blue snail helmet and an air staff."],area:{origin:{x:3303,y:3121,level:0},size:{x:4,y:4}},items:["Pointed Blue Snelm","Air Staff"],emotes:["Jig","Bow or Curtsy"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{topleft:{x:3302,y:3130},botright:{x:3302,y:3130},level:0}}},{id:249,type:"emote",tier:"medium",text:["Think under the lens in the Observatory. Twirl before you talk to me. Equip a mithril chainbody, green dragonhide chaps and a ruby amulet."],area:{origin:{x:2439,y:3164,level:1},size:{x:3,y:3}},items:["Mithril Chainbody","Green Dragonhide Chaps","Ruby Amulet"],emotes:["Think","Twirl"],double_agent:!1,hidey_hole:{location:{topleft:{x:2445,y:3161},botright:{x:2445,y:3161},level:1},name:"Crate (hidey-hole)"}},{id:250,type:"emote",tier:"medium",text:["Twirl on the bridge by Barbarian Village. Salute before you talk to me. Equip an iron hatchet, steel kiteshield and a mithril full helmet."],area:{origin:{x:3102,y:3420,level:0},size:{x:7,y:2}},items:["Iron Hatchet","Steel Kiteshield","Mithril Full Helm"],emotes:["Twirl","Salute"],double_agent:!1,hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:3114,y:3418},botright:{x:3115,y:3417},level:0}}},{id:251,type:"emote",tier:"medium",text:["Jump for joy in Yanille bank. Dance a jig before you talk to me. Equip an iron crossbow, adamant helmet and snakeskin chaps."],area:{origin:{x:2609,y:3088,level:0},size:{x:5,y:10}},items:["Iron Crossbow","Adamant Med Helmet","Snakeskin Chaps"],emotes:["Jump for Joy","Jig"],double_agent:!1,hidey_hole:{name:"Crate (hidey-hole)",location:{topleft:{x:2613,y:3088},botright:{x:2613,y:3088},level:0}}},{id:252,type:"emote",tier:"medium",text:["Dance in the centre of Canifis. Bow or curtsy before you talk to me. Equip a spiny helmet, mithril platelegs and an iron two-handed sword."],area:{origin:{x:3485,y:3480,level:0},size:{x:19,y:17}},items:["Spine Helm","Mithril Platelegs","Iron two-handed sword"],emotes:["Dance","Bow or Curtsy"],double_agent:!1,hidey_hole:{name:"Barrel (hidey-hole)",location:{topleft:{x:3491,y:3480},botright:{x:3491,y:3480},level:0}}},{id:253,type:"emote",tier:"medium",text:["Cheer in the Barbarian Agility Arena. Headbang before you talk to me. Equip a steel platebody, maple shortbow and bronze boots."],area:{origin:{x:2528,y:3542,level:0},size:{x:28,y:18}},items:["Steel Platebody","Maple Shortbow","Bronze Boots"],emotes:["Cheer","Headbang"],double_agent:!1,hidey_hole:{name:"Barrel (hidey-hole)",location:{topleft:{x:2545,y:3556},botright:{x:2545,y:3556},level:0}}},{id:254,type:"emote",tier:"medium",text:["Cry on the platform of the south-west tree in the Gnome Agility Arena. Indicate 'no' before you talk to me. Equip a steel kiteshield, ring of forging and green dragonhide chaps."],area:{origin:{x:2472,y:3418,level:2},size:{x:6,y:4}},items:["Green Dragonhide Chaps","Steel Kiteshield","Ring of Forging"],emotes:["Cry","No"],double_agent:!1,hidey_hole:{name:"Tree stump (hidey-hole)",location:{topleft:{x:2473,y:3418},botright:{x:2473,y:3418},level:2}}},{id:255,type:"emote",tier:"medium",text:["Beckon in Tai Bwo Wannai. Clap before you talk to me. Equip green dragonhide chaps, a ring of duelling and a mithril helmet."],items:["Green dragonhide chaps","Ring of duelling","Mithril helm"],emotes:["Beckon","Clap"],double_agent:!1,area:{origin:{x:2778,y:3057,level:0},size:{x:33,y:17}},hidey_hole:{name:"Crate (hidey-hole)",location:{topleft:{x:2793,y:3073},botright:{x:2793,y:3073},level:0}}},{id:256,type:"emote",tier:"medium",text:["Cheer in the Ogre Pen in the Training Camp. Show you are angry before you talk to me. Equip a green dragonhide body and chaps, and a steel squareshield."],items:["Green dragonhide body","Green dragonhide chaps","Steel square shield"],emotes:["Cheer","Angry"],double_agent:!1,area:{origin:{x:2523,y:3373,level:0},size:{x:11,y:5}},hidey_hole:{name:"Crate (hidey-hole)",location:{topleft:{x:2521,y:3377},botright:{x:2521,y:3377},level:0}}},{id:257,type:"emote",tier:"medium",text:["Cry in the Catherby archery shop. Bow or curtsy before you talk to me. Equip a round red and black snelm, a hard leather body and an unblessed silver sickle."],items:["Round red and black snelm","Hard leather body","Unblessed silver sickle"],emotes:["Cry","Bow or Curtsy"],double_agent:!1,area:{origin:{x:2824,y:3454,level:0},size:{x:6,y:4}},hidey_hole:{name:"Crates (hidey-hole)",location:{topleft:{x:2829,y:3455},botright:{x:2829,y:3455},level:0}}},{id:258,type:"emote",tier:"medium",text:["Yawn in the Castle Wars lobby. Shrug before you talk to me. Equip a ruby amulet, mithril scimitar and an iron square shield."],items:["Ruby amulet","Mithril scimitar","Iron square shield"],emotes:["Yawn","Shrug"],double_agent:!1,area:{origin:{x:2436,y:3080,level:0},size:{x:13,y:20}},hidey_hole:{name:"Stone blocks (hidey-hole)",location:{topleft:{x:2448,y:3088},botright:{x:2448,y:3087},level:0}}},{id:225,type:"emote",tier:"hard",text:["Panic in the heart of the Haunted Woods. Beware of double agents! Have no items equipped when you do."],emotes:["Panic"],items:["Nothing"],double_agent:!0,area:{origin:{x:3611,y:3483,level:0},size:{x:11,y:11}},hidey_hole:null},{id:226,type:"emote",tier:"hard",text:["Laugh in the Jokul's tent in the Mountain Camp. Beware of double agents! Equip a rune full helmet, blue dragonhide chaps and a fire battlestaff."],items:["Rune full helm","Blue dragonhide chaps","Fire battlestaff"],emotes:["Laugh"],double_agent:!0,area:{origin:{x:2790,y:3667,level:0},size:{x:8,y:9}},hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:2790,y:3667},botright:{x:2790,y:3667},level:0}}},{id:227,type:"emote",tier:"hard",text:["Panic by the pilot on White Wolf Mountain. Beware of double agents! Equip mithril platelegs, a ring of life, and a rune hatchet."],items:["Mithril platelegs","Ring of life","Rune hatchet"],emotes:["Panic"],double_agent:!0,area:{origin:{x:2843,y:3489,level:1},size:{x:11,y:10}},hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:2845,y:3496},botright:{x:2845,y:3496},level:1}}},{id:228,type:"emote",tier:"hard",text:["Salute in the banana plantation. Beware of double agents! Equip a diamond ring, amulet of power and nothing on your chest and legs."],items:["Diamond ring","Amulet of power","Nothing on your chest and legs"],emotes:["Salute"],double_agent:!0,area:{origin:{x:2908,y:3154,level:0},size:{x:27,y:21}},hidey_hole:{name:"Log (hidey-hole)",location:{topleft:{x:2914,y:3154},botright:{x:2914,y:3154},level:0}}},{id:229,type:"emote",tier:"hard",text:["Dance at the cat-doored pyramid in Sophanem. Beware of double agents! Equip a ring of life, an amulet of glory and an adamant two-handed sword."],items:["Ring of life","Uncharged amulet of glory","Adamant 2h sword"],emotes:["Dance"],double_agent:!0,area:{origin:{x:3292,y:2781,level:0},size:{x:6,y:4}},hidey_hole:{name:"Crate (hidey-hole)",location:{topleft:{x:3310,y:2784},botright:{x:3310,y:2783},level:0}}},{id:230,type:"emote",tier:"hard",text:["Blow a raspberry in the Fishing Guild bank. Beware of double agents! Equip an elemental shield, blue dragonhide chaps and a rune warhammer."],area:{origin:{x:2585,y:3420,level:0},size:{x:3,y:4}},items:["Elemental shield","Blue dragonhide chaps","Rune warhammer"],emotes:["Raspberry"],double_agent:!0,hidey_hole:{location:{topleft:{x:2585,y:3424},botright:{x:2585,y:3424},level:0},name:"Crate (hidey-hole)"}},{id:231,type:"emote",tier:"hard",text:["Blow a kiss between the tables in Shilo Village bank. Beware of double agents! Equip a splitbark helm, mud pie and rune platebody."],items:["Splitbark helmet","Mud pie","Rune platebofy"],emotes:["Blow kiss"],double_agent:!0,area:{origin:{x:2851,y:2951,level:0},size:{x:3,y:4}},hidey_hole:{name:"Potted plant (hidey-hole)",location:{topleft:{x:2856,y:2954},botright:{x:2857,y:2953},level:0}}},{id:232,type:"emote",tier:"hard",text:["Bow or curtsy at the top of the lighthouse. Beware of double agents! Equip a blue dragonhide body, blue dragonhide vambraces and no jewellery."],area:{origin:{x:2504,y:3636,level:2},size:{x:10,y:10}},items:["Blue dragonhide body","Blue dragon vambraces","No jewellry"],emotes:["Bow or Curtsy"],double_agent:!0,hidey_hole:{location:{topleft:{x:2512,y:3639},botright:{x:2512,y:3639},level:2},name:"Crate (hidey-hole)"}},{id:235,type:"emote",tier:"hard",text:["Yawn near the Wilderness Bandit camp obelisk. Beware of double agents! Equip an iron square shield, blue dragon vambraces and an iron pickaxe."],items:["Iron square shield","Blue dragonhide vambraces","Iron pickaxe"],emotes:["Yawn"],area:{origin:{x:3031,y:3728,level:0},size:{x:9,y:9}},hidey_hole:{name:"Dead tree (hidey-hole)",location:{topleft:{x:3031,y:3723},botright:{x:3032,y:3722},level:0}},double_agent:!0},{id:243,type:"emote",tier:"hard",text:["Shrug in the Zamorak temple, found in the eastern Wilderness. Beware of double agents! Equip bronze platelegs, an iron platebody and blue dragonhide vambraces."],items:["Bronze platelegs","Iron platebody","Blue dragonhide vambraces"],emotes:["Shrug"],area:{origin:{x:3234,y:3603,level:0},size:{x:12,y:12}},double_agent:!0,hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:3245,y:3610},botright:{x:3245,y:3610},level:0}}},{id:233,type:"emote",tier:"master",text:["Cheer by the sulphur pit in the TzHaar City. Beware of double agents! Equip a fire cape, a Toktz-ket-xil and a spork."],area:{origin:{x:4632,y:5106,level:0},size:{x:9,y:9}},items:["Fire Cape","Toktz-Ket-Xil","Spork"],emotes:["Cheer"],double_agent:!0,hidey_hole:{name:"Table (hidey-hole)",location:{topleft:{x:4638,y:5106},botright:{x:4638,y:5106},level:0}}},{id:234,type:"emote",tier:"master",text:["Headbang inside the Slayer Tower. Beware of double agents! Equip an imp-hide hood, a Prifddinian musician's robe top and an amulet of magic."],emotes:["Headbang"],area:{origin:{x:3400,y:3541,level:0},size:{x:47,y:34}},items:["Imp-hide Hood","Prifddinia Musician's Robe Top","Amulet of Magic"],double_agent:!0,hidey_hole:{name:"Crates (hidey-hole)",location:{topleft:{x:3427,y:3541},botright:{x:3427,y:3541},level:0}}},{id:236,type:"emote",tier:"master",text:["Dare to laugh in the Green Ghost inn at Port Phasmatys. Beware of double agents! Equip an Iban's staff, a ghostly cloak and a cavalier."],emotes:["Laugh"],items:["Iban's Staff","Ghostly Cloak","Cavalier"],double_agent:!0,area:{origin:{x:3671,y:3489,level:0},size:{x:11,y:11}},hidey_hole:{name:"Barrel (hidey-hole)",location:{topleft:{x:3676,y:3494},botright:{x:3676,y:3494},level:0}}},{id:237,type:"emote",tier:"master",text:["Blow a Raspberry at the celestial dragons on Dragontooth Isle. Beware of double agents! Equip a dragon mask, a Dragon Rider amulet and a dragon defender."],double_agent:!0,area:{origin:{x:2242,y:5956,level:0},size:{x:60,y:57}},items:["Any Dragon Mask","Dragon Rider Amulet","Dragon Defender"],emotes:["Raspberry"],hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:2277,y:5966},botright:{x:2277,y:5965},level:0}}},{id:238,type:"emote",tier:"master",text:["Wave in front of the entrance to the Grand Library of Menaphos. Beware of double agents! Equip an asylum surgeon's ring and the Scabaras mask."],area:{origin:{x:3173,y:2708,level:0},size:{x:3,y:4}},items:["Asylum Surgeon's Ring","Scabaras Mask"],emotes:["Wave"],double_agent:!0,hidey_hole:{name:"Plant (hidey-hole)",location:{topleft:{x:3172,y:2711},botright:{x:3172,y:2711},level:0}}},{id:239,type:"emote",tier:"master",text:["Jig in the Edgeville Monastery garden. Beware of double agents! Equip a holy cithara, Saradomin's murmur and a ring of devotion."],emotes:["Jig"],items:["Holy Cithara","Saradomin's Murmur","Ring of Devotion"],double_agent:!0,area:{origin:{x:3046,y:3501,level:0},size:{x:12,y:8}},hidey_hole:{name:"Barrel (hidey-hole)",location:{topleft:{x:3056,y:3499},botright:{x:3056,y:3499},level:0}}},{id:240,type:"emote",tier:"master",text:["Bow or curtsy at the charm sprite hunter area. Beware of double agents! Equip an enhanced yaktwee stick, a Dagon-hai hat and an amulet of ranging."],items:["Enhances Yaktwee Stick","Dagon-Hai Hat","Amulet of Ranging"],area:{origin:{x:2391,y:3363,level:0},size:{x:27,y:21}},emotes:["Bow or Curtsy"],double_agent:!0,hidey_hole:{name:"Rock (hidey-hole)",location:{topleft:{x:2398,y:3369},botright:{x:2398,y:3368},level:0}}},{id:241,type:"emote",tier:"master",text:["Think in the Hefin district of Prifddinas. Beware of double agents! Equip an ancient staff, Prifddinian worker's trousers and a berserker ring."],emotes:["Think"],items:["Ancient Staff","Prifdiinia Worker's Trousers","Berserker Ring"],area:{origin:{x:2174,y:3393,level:1},size:{x:30,y:22}},double_agent:!0,hidey_hole:{name:"Potted plant (hidey-hole)",location:{topleft:{x:2181,y:3402},botright:{x:2181,y:3402},level:1}}},{id:242,type:"emote",tier:"master",text:["Shrug in the Lumbridge Fishing Supplies shop. Beware of double agents! Equip demon slayer gloves, a boater and the cape of legends."],area:{origin:{x:3191,y:3251,level:0},size:{x:8,y:5}},items:["Demon Slayer Gloves","Any Boater","Cape of Legends"],emotes:["Shrug"],double_agent:!0,hidey_hole:{name:"Barrel (hidey-hole)",location:{topleft:{x:3198,y:3250},botright:{x:3198,y:3250},level:0}}},{id:244,type:"emote",tier:"master",text:["Have an idea inside the Invention Guild. Beware of double agents! Equip a lab coat top, lab coat legs and a staff of light."],items:["Lab Coat Top","Lab Coat Legs","Staff of Light"],emotes:["Idea"],area:{origin:{x:6160,y:1039,level:0},size:{x:18,y:36}},double_agent:!0,hidey_hole:{name:"Barrel (hidey-hole)",location:{topleft:{x:6176,y:1050},botright:{x:6176,y:1050},level:0}}},{id:245,type:"emote",tier:"master",text:["Dance on an Uncharted Isle. Beware of double agents! Equip a dark bow, some infinity boots and culinaromancer gloves 10."],area:{origin:{x:1185,y:7372,level:0},size:{x:21,y:22}},items:["Dark bow","Infinity boots","Culinaromancer gloves 10"],emotes:["Dance"],double_agent:!0,hidey_hole:{location:{topleft:{x:1818,y:11653},botright:{x:1818,y:11653},level:0},name:"Water barrel (hidey-hole)"}},{id:246,type:"emote",tier:"master",text:["Salute in the Max Guild Garden. Beware of double agents! Have no items equipped when you do."],area:{origin:{x:2268,y:3318,level:1},size:{x:17,y:18}},items:["Nothing"],emotes:["Salute"],hidey_hole:null,double_agent:!0}],e.map=[{id:49,type:"map",tier:"easy",image_url:"/assets/Map_clue_Wizards_Tower.png",text:["X marks the spot south of the wizard's tower."],ocr_data:[26,74,167,26,77,-17,6,8,26,77,-18,8,10,25,78,-17,6,7,26,80,-14,5,6,25,77,-15,7,8,26,77,-17,7,9,26,77,-18,6,8,25,80,-20,7,9,25,86,-19,7,8,25,82,-20,6,7,26,82,-18,5,6,26,82,-20,4,6,25,82,-19,5,7,25,85,-20,6,7,26,81,-21,8,10,26,78,-17,7,9,25,76,-21,7,9,25,79,-18,5,7,26,81,-15,6,8,26,79,-16,7,8,26,77,-19,7,8,25,78,-20,6,7,24,79,-15,15,20,25,80,-20,8,12,26,81,-11,13,17,26,79,-5,18,21,26,80,-15,12,17,25,79,-22,5,7,25,83,-23,7,8,26,80,-21,6,8,25,77,-19,8,10,26,78,-21,6,8,26,78,-20,6,7,25,82,-17,5,7,26,79,-20,6,7,26,77,-16,10,12,26,79,-18,9,14,26,64,37,40,52,26,69,24,45,56,26,68,26,41,50,26,67,40,55,67,26,67,33,52,62,26,79,-20,5,7,26,80,-23,6,7,26,80,-22,7,8,25,78,-20,5,6,25,78,-20,6,8,25,77,-20,4,5,26,80,-19,6,8,27,71,14,39,47,26,69,17,35,46,26,68,34,60,72,26,61,43,53,66,25,64,44,68,82,26,64,32,51,62,26,72,0,26,35,27,69,18,26,36,26,80,-18,6,8,25,79,-22,6,8,26,79,-23,5,6,25,78,-17,8,10,26,78,-21,6,8,25,78,-22,5,6,25,76,-8,20,24,27,67,27,43,50,26,69,12,34,43,27,64,38,66,77,27,57,60,53,63,27,59,66,71,84,27,59,51,64,79,26,62,42,52,61,27,74,-5,16,21,25,80,-18,5,6,26,81,-22,6,7,26,80,-25,6,7,26,77,-23,5,7,25,81,-21,6,7,26,78,-25,6,7,26,75,-9,19,25,26,61,40,57,67,27,62,37,62,72,26,59,56,60,73,26,54,44,25,33,26,55,44,31,38,26,58,60,73,89,26,64,28,48,67,27,69,24,31,43,26,80,-19,5,6,26,81,-22,5,6,25,80,-23,6,7,26,77,-23,7,9,26,78,-26,7,8,25,80,-23,6,8,27,67,24,48,57,27,56,69,62,80,27,58,47,64,79,26,56,45,40,46,26,53,55,40,48,26,53,46,25,30,25,60,41,42,52,27,58,61,61,76,26,70,24,30,40,25,82,-16,8,9,25,80,-22,5,6,26,79,-24,6,7,26,79,-18,6,8,26,78,-26,6,7,26,78,-23,6,8,25,74,-7,17,21,26,64,32,40,52,27,58,52,67,84,27,58,46,42,52,26,54,44,25,29,26,55,46,19,22,26,59,51,53,64,26,59,63,66,81,26,71,14,24,32,25,83,-17,6,7,26,79,-23,6,7,26,81,-23,6,8,26,79,-16,5,6,25,80,-19,6,8,26,82,-22,6,8,26,80,-11,12,15,26,70,4,27,33,27,59,44,64,78,27,61,40,56,69,26,57,57,71,85,26,59,54,55,67,26,60,50,66,80,26,62,46,56,70,26,76,-10,12,18,26,81,-18,4,6,25,79,-19,5,6,26,79,-24,5,6,25,81,-15,7,10,25,80,-17,8,10,26,81,-19,6,8,25,80,-11,12,14,25,74,-2,16,20,26,67,20,30,38,26,63,38,51,57,26,59,55,100,119,26,60,52,71,87,26,63,37,50,59,25,73,-5,19,24,26,74,-21,8,10,26,79,-21,4,5,26,80,-22,5,7,27,77,-25,5,7,26,82,-15,6,8,26,82,-18,7,8,25,82,-16,8,10,25,80,-16,8,10,26,79,-11,11,13,25,80,-14,10,13,25,81,-11,10,13,25,77,4,22,28,26,76,-6,18,24,26,77,-21,9,11,26,76,-20,10,12,27,77,-25,6,7,26,80,-21,6,8,26,79,-25,6,7,27,77,-27,5,7,25,84,-13,9,11,24,84,-15,8,10,24,85,-14,9,11,25,84,-12,7,9,25,84,-13,7,9,25,83,-14,10,12,24,84,-14,8,10,25,85,-16,10,12,26,80,-23,6,8,26,78,-24,6,8,26,77,-26,6,7,27,78,-26,5,6,26,80,-21,6,7,26,78,-25,6,8,27,76,-26,6,8],solution:{type:"dig",description:"east of the rock",spot:{x:3103,y:3133,level:0}}},{id:50,type:"map",tier:"easy",image_url:"/assets/Map_clue_Brother_Galahads_house.png",text:["X marks the spot in front of a small house surrounded by trees and near a bridge."],ocr_data:[26,77,175,26,77,-9,6,8,26,77,-10,8,10,25,78,-9,6,7,26,79,-1,15,19,25,77,-7,7,10,26,77,-9,7,9,26,77,-10,6,8,25,80,-12,7,9,25,86,-11,7,8,25,82,-12,6,7,26,82,-10,5,6,26,82,-12,4,6,25,82,-11,5,7,25,85,-12,6,7,26,81,-13,8,10,26,78,-9,7,9,25,76,-13,7,9,25,79,-10,5,14,27,70,41,40,50,26,71,37,48,59,26,77,-10,9,14,25,78,-12,6,7,24,80,-13,6,8,25,80,-14,5,7,26,84,-10,5,6,26,83,-8,6,8,26,82,-12,6,10,27,70,16,52,59,25,83,-15,7,8,26,80,-13,6,8,25,77,-11,8,10,26,78,-13,6,8,26,78,-12,6,16,26,72,36,34,42,27,70,35,45,50,26,79,-12,5,7,26,80,-13,5,6,26,80,-12,6,8,25,79,-13,7,8,26,79,-12,5,7,26,81,-9,6,7,27,71,17,45,51,26,76,-6,22,31,26,80,-15,6,7,26,80,-14,7,8,25,78,-12,5,6,25,78,-12,6,8,25,77,-12,4,9,27,69,41,39,52,27,70,38,46,57,26,80,-11,8,14,27,73,17,57,64,25,80,-15,10,17,24,80,-10,7,8,25,78,-5,21,24,26,77,-3,24,27,27,71,16,41,50,27,70,21,50,61,25,79,-14,6,8,26,79,-15,5,6,25,78,-9,8,10,26,78,-13,6,8,25,78,-14,5,6,26,69,41,55,61,27,75,15,40,46,27,76,9,22,26,26,79,-13,13,17,28,68,18,64,76,26,77,-1,25,37,26,74,22,71,89,25,75,13,66,85,27,72,21,55,87,27,71,21,57,64,26,81,-14,6,7,26,80,-17,6,7,26,77,-15,5,7,25,81,-13,6,7,26,78,-17,6,7,26,70,32,31,44,26,75,-4,22,38,26,68,37,40,53,27,70,17,57,66,26,77,2,45,58,26,74,6,43,68,26,70,42,108,131,25,76,0,39,50,27,78,-3,24,30,27,70,28,61,85,26,81,-13,6,10,25,80,-15,6,7,26,77,-15,7,9,26,78,-18,7,8,25,80,-15,6,8,27,72,19,26,31,26,72,22,53,59,27,68,42,51,63,28,67,21,58,66,25,76,-11,15,22,26,77,4,43,49,25,81,-9,8,10,26,79,-8,8,10,26,80,9,41,46,26,78,5,36,45,25,80,-13,5,9,26,79,-16,6,7,26,79,-10,6,8,26,78,-18,6,7,26,78,-15,6,8,26,72,37,27,31,27,72,53,36,45,27,68,60,53,62,27,77,-7,27,32,26,79,1,45,48,26,79,7,41,47,26,80,-10,7,9,25,82,-8,6,8,26,78,9,43,51,25,82,-7,7,12,26,79,-15,6,7,26,81,-15,6,8,26,79,-8,5,6,25,80,-11,6,8,26,82,-14,6,8,26,79,4,21,27,27,72,23,41,49,27,72,7,35,42,27,66,41,62,71,26,81,-13,7,11,26,78,8,50,55,26,78,4,41,47,26,78,5,42,48,27,73,18,60,76,27,75,8,27,34,25,79,-11,5,6,26,79,-16,5,6,25,81,-7,7,10,25,80,-9,8,10,26,81,-11,6,8,25,81,1,18,23,26,71,36,46,56,26,79,-11,6,7,25,75,9,31,37,26,66,49,58,70,26,72,23,21,25,26,72,15,26,31,25,78,-10,9,16,27,67,13,48,58,27,70,17,51,57,26,80,-14,5,7,27,77,-17,5,7,26,82,-7,6,8,26,82,-10,7,8,25,82,-8,8,10,25,80,-7,9,14,26,80,-5,12,18,25,81,-10,6,8,25,83,-8,8,10,25,82,-5,12,19,26,77,5,29,38,27,73,13,42,52,27,66,47,59,70,27,70,16,24,30,26,78,-8,18,24,26,79,-17,6,7,27,77,-19,5,7,25,84,-5,9,11,24,84,-7,8,10,24,85,-6,9,11,25,84,-4,7,9,25,84,-5,7,9,25,83,-6,10,12,24,84,-6,8,10,25,85,-8,10,12,26,80,-15,6,8,26,78,-16,6,8,26,77,-17,6,12,27,72,8,37,46,26,77,0,20,25,26,78,-17,6,8,27,76,-18,6,8],solution:{type:"dig",description:"in front of the door",spot:{x:2612,y:3481,level:0}}},{id:54,type:"map",tier:"easy",image_url:"/assets/Map_clue_Falador_stones.png",text:["X marks the spot near some rocks and a tree."],ocr_data:[26,78,182,26,77,-2,6,8,26,77,-3,8,10,25,78,-2,6,7,26,80,1,5,6,25,77,0,7,8,26,77,-2,7,9,26,77,-3,6,8,25,80,-5,7,9,25,86,-4,7,8,25,82,-5,6,7,26,82,-3,5,6,26,82,-5,4,6,25,82,-4,5,7,25,85,-5,6,7,26,81,-6,8,10,26,78,-2,7,9,25,76,-6,7,9,25,79,-3,5,7,26,79,7,14,19,26,78,1,10,15,28,68,28,53,60,26,77,-3,9,14,24,80,-6,6,8,25,80,-7,5,7,26,84,-3,5,6,26,83,-1,6,8,26,82,-5,5,6,25,79,-7,5,7,25,83,-8,7,8,26,80,-6,6,8,25,77,-4,8,10,26,78,-6,6,8,26,78,-5,6,7,26,75,16,31,42,27,78,1,13,17,26,77,-1,15,18,26,80,-5,7,14,26,78,13,56,65,25,78,-1,19,28,26,79,-5,5,7,26,81,-2,6,7,26,79,-3,5,6,26,79,-5,5,7,26,80,-8,6,7,26,80,-7,7,8,25,78,-5,5,6,25,78,-5,6,8,25,77,-5,4,5,26,81,-5,4,6,27,79,7,41,44,26,79,0,22,26,26,81,8,45,53,25,80,-9,6,8,24,79,9,38,46,26,76,15,68,74,26,76,12,46,53,26,78,0,7,11,26,80,-3,6,8,25,79,-7,6,8,26,79,-8,5,6,25,78,-2,8,10,26,78,-6,6,8,25,78,-7,5,6,25,80,-5,6,8,27,78,11,67,75,26,78,-3,15,18,26,75,2,20,23,26,64,24,38,43,25,75,3,18,23,26,77,-5,11,21,25,76,-1,12,20,27,77,13,54,61,25,80,-3,5,6,26,81,-7,6,7,26,80,-10,6,7,26,77,-8,5,7,25,81,-6,6,7,26,78,-10,6,7,26,78,0,37,43,26,64,28,39,48,26,75,0,18,22,26,68,26,28,37,26,75,1,17,20,26,69,5,30,35,26,68,63,130,157,27,66,33,65,83,27,78,11,43,49,28,70,25,50,54,26,81,-7,5,6,25,80,-8,6,7,26,77,-8,7,9,26,78,-11,7,8,25,80,-8,6,8,26,78,-6,8,12,26,77,-6,6,8,26,70,3,21,29,26,78,-9,6,14,25,76,-5,11,15,26,78,-4,8,12,25,75,12,21,29,26,79,0,8,16,26,80,18,48,56,25,80,8,28,31,25,80,-7,5,6,26,79,-9,6,7,26,79,-3,6,8,26,78,-11,6,7,26,78,-8,6,8,25,78,3,29,39,26,76,8,49,63,27,77,-6,14,33,27,79,6,53,60,26,79,6,41,48,26,78,6,17,21,26,70,19,21,28,26,79,17,69,78,26,80,1,7,12,25,83,-2,6,7,26,79,-8,6,7,26,81,-8,6,8,26,79,-1,5,6,25,80,-4,6,8,26,82,-7,6,8,26,82,-2,9,11,26,79,-3,12,16,27,75,1,24,31,28,68,18,46,55,26,78,10,41,52,25,78,11,43,48,26,78,11,51,59,25,80,-2,6,10,26,80,-3,4,5,26,81,-3,4,6,25,79,-4,5,6,26,79,-9,5,6,25,81,0,7,10,25,80,-2,8,10,26,81,-4,6,8,25,82,4,22,25,25,78,14,39,45,26,77,12,41,46,26,76,17,55,65,26,79,-1,11,20,25,79,-5,6,7,26,78,-5,6,7,26,78,6,38,46,26,74,10,44,49,26,78,8,39,42,26,80,-7,5,7,27,77,-10,5,7,26,82,0,6,8,26,82,-3,7,8,25,82,-1,8,10,25,80,1,12,17,26,81,0,7,14,25,81,0,12,16,25,82,4,29,32,25,81,15,46,57,26,79,10,41,49,27,77,11,53,58,26,77,0,26,37,27,76,-7,17,21,26,80,-6,6,8,26,79,-10,6,7,27,77,-12,5,7,25,84,2,9,11,24,84,0,8,10,24,85,1,9,11,25,84,3,7,9,25,84,2,7,9,25,83,1,10,12,24,84,1,8,10,25,85,-1,10,12,26,80,-8,6,8,26,78,-9,6,8,26,77,-11,6,7,27,78,-11,5,6,26,80,-6,6,7,26,78,-10,6,8,27,76,-11,6,8],solution:{type:"dig",description:"west of the tree",spot:{x:3043,y:3399,level:0}}},{id:55,type:"map",tier:"easy",image_url:"/assets/Map_clue_Falador_statue_crossroads.png",text:["X marks the spot near a statue."],ocr_data:[26,77,180,26,77,-4,6,8,26,77,-5,8,10,25,78,-4,6,7,26,80,-1,5,6,25,77,-2,7,8,26,77,-4,7,9,26,77,-5,6,8,25,80,-7,7,9,25,86,-6,7,8,25,82,-7,6,7,26,82,-5,5,6,26,82,-7,4,6,25,82,-6,5,7,25,85,-7,6,7,26,81,-8,8,10,26,78,-4,7,9,25,76,-8,7,9,25,79,-5,5,7,26,81,-2,6,8,26,77,4,21,28,27,71,14,32,44,25,78,-7,6,7,24,80,-8,6,8,26,76,2,24,29,27,75,21,31,38,26,83,-3,6,8,27,76,10,24,28,25,79,-9,6,10,25,83,-10,7,8,26,80,-8,6,8,25,77,-6,8,10,26,78,-8,6,8,26,78,-7,6,10,27,74,20,44,51,26,80,-7,5,6,26,79,-7,5,8,26,78,-2,16,21,26,80,-7,6,8,25,79,-8,7,9,26,75,3,19,29,26,81,-4,6,7,27,69,24,48,52,26,78,-4,11,15,26,80,-10,6,7,26,80,-9,7,8,25,78,-7,5,6,25,78,-7,6,8,25,77,-7,4,5,26,79,-3,14,18,27,81,-8,6,7,26,80,-8,6,8,26,75,14,49,54,27,69,25,44,51,24,79,-1,15,19,25,78,-3,12,16,26,78,-4,7,9,26,78,-2,7,9,26,80,-5,6,8,25,79,-9,6,8,26,79,-10,5,6,25,78,-4,8,10,26,78,-8,6,8,25,78,-9,5,6,25,80,-3,18,22,28,71,20,56,60,26,80,-8,6,8,26,81,-11,5,7,25,48,31,77,85,25,64,10,29,35,27,70,19,51,57,25,77,-5,6,9,27,79,-3,7,9,25,80,-5,5,6,26,81,-9,6,7,26,80,-12,6,7,26,77,-10,5,7,25,81,-8,6,7,26,78,-12,6,9,26,77,17,71,86,26,74,17,75,86,26,78,-8,10,16,25,80,-10,7,8,21,36,35,49,58,23,38,37,42,51,25,78,-7,7,8,25,78,-7,11,16,26,76,0,16,21,26,78,13,52,60,26,81,-8,5,11,25,80,-10,6,7,26,77,-10,7,9,26,78,-13,7,8,25,80,-10,6,8,26,77,-2,18,27,26,75,14,66,73,27,75,15,69,87,26,77,3,44,57,24,51,34,135,153,25,52,34,63,80,26,75,32,85,97,26,76,23,58,67,26,79,26,71,88,26,80,21,62,73,25,80,-3,20,24,26,79,-11,6,7,26,79,-5,6,8,26,78,-13,6,7,26,78,-10,6,8,27,71,17,48,53,26,77,-6,12,17,27,77,6,52,63,27,79,9,46,59,26,80,-7,6,14,26,72,14,94,107,26,74,25,67,86,26,78,28,77,89,26,79,13,44,52,25,83,-4,6,7,26,79,-10,6,7,26,81,-10,6,8,26,79,-3,5,6,25,80,-6,6,8,26,82,-9,6,8,26,80,0,19,23,28,66,33,62,69,27,76,-14,6,7,27,75,10,58,66,26,81,-8,7,8,25,75,3,26,27,26,78,15,51,59,25,80,-4,7,10,26,80,-5,5,8,26,76,3,21,24,25,79,-6,5,6,26,79,-11,5,6,25,81,-2,7,10,25,80,-4,8,10,26,81,-6,6,8,26,77,14,31,37,25,78,3,21,27,28,66,32,60,65,25,79,1,17,26,26,78,16,57,64,26,78,12,51,57,26,77,7,40,49,25,77,-3,10,13,26,69,2,23,29,25,72,4,27,28,26,80,-9,5,7,27,77,-12,5,7,26,82,-2,6,8,26,82,-5,7,8,25,82,-3,8,10,25,77,3,22,27,26,81,-3,7,8,27,72,21,44,52,25,83,-3,8,10,26,81,20,59,69,26,79,11,44,53,26,78,-10,5,6,26,78,-11,5,6,27,73,-5,16,19,26,80,-8,6,8,26,79,-12,6,7,27,77,-14,5,7,25,84,0,9,11,24,84,-2,8,10,24,85,-1,9,11,25,84,1,7,9,25,84,0,7,9,25,80,9,29,41,24,84,-1,8,10,25,83,11,44,53,26,80,-10,6,8,26,78,-11,6,8,26,77,-13,6,7,27,78,-13,5,6,26,80,-8,6,7,26,78,-12,6,8,27,76,-13,6,8],solution:{type:"dig",description:"two tiles south-east of the bench",spot:{x:2971,y:3414,level:0}}},{id:56,type:"map",tier:"easy",image_url:"/assets/Map_clue_Varrock_east_mine.webp",text:["X marks the spot at the end of a path north of a mine."],ocr_data:[26,78,181,26,77,-3,6,8,26,77,-4,8,10,25,78,-3,6,7,26,80,0,5,6,25,77,-1,7,8,26,77,-3,7,9,26,77,-4,6,8,25,80,-6,7,9,25,86,-5,7,8,25,79,12,39,46,26,79,10,36,43,26,82,-6,4,6,25,82,-5,5,7,25,85,-6,6,7,26,81,-7,8,10,26,78,-3,7,9,25,76,-7,7,9,25,79,-4,5,7,26,81,-1,6,8,26,79,-2,7,8,26,78,-6,7,8,25,78,-6,6,7,24,80,-7,6,8,25,80,-8,5,7,26,77,25,58,68,26,77,21,54,64,26,82,-6,5,6,25,79,-8,5,7,25,83,-9,7,8,26,80,-7,6,8,25,77,-5,8,10,26,78,-7,6,8,26,78,-6,6,7,25,82,-3,5,7,26,80,-6,5,6,26,79,-6,5,7,26,72,9,49,55,26,71,16,95,106,25,73,6,43,49,26,71,11,50,56,26,79,-1,9,13,26,79,-4,5,6,26,79,-6,5,7,26,80,-9,6,7,26,80,-8,7,8,25,78,-6,5,6,25,78,-6,6,8,25,77,-6,4,5,26,81,-6,4,6,27,81,-6,9,13,26,80,-7,6,8,25,76,9,48,58,25,73,10,34,53,24,74,7,19,27,25,78,-5,6,8,26,77,3,23,27,26,78,-1,7,9,26,80,-4,6,8,25,79,-8,6,8,26,79,-9,5,6,25,78,-3,8,10,26,78,-7,6,8,25,78,-8,5,6,25,80,-6,6,7,27,77,13,43,49,26,77,3,87,97,26,69,16,54,74,26,63,24,39,51,25,74,7,23,31,26,64,26,36,40,25,75,12,42,48,27,79,-2,7,9,25,80,-4,5,6,26,81,-8,6,7,26,80,-11,6,7,26,77,-9,5,7,25,81,-7,6,7,26,78,-11,6,7,26,79,-8,6,8,26,75,10,43,49,26,66,17,46,53,26,70,12,60,84,26,72,7,85,103,26,76,-7,10,19,25,78,-6,7,8,25,76,9,50,58,27,79,-5,7,11,26,80,-5,5,6,26,81,-8,5,6,25,80,-9,6,7,26,77,-9,7,9,26,78,-12,7,8,25,80,-9,6,8,26,78,-7,7,9,26,75,10,44,51,26,65,16,39,46,26,76,-6,16,25,25,76,-6,15,21,26,64,31,91,107,25,71,21,31,35,26,79,-1,8,12,26,79,16,73,82,25,82,-1,8,11,25,80,-8,5,6,26,79,-10,6,7,26,79,-4,6,8,26,78,-12,6,7,26,78,-9,6,8,25,78,-5,8,9,26,76,7,43,49,27,78,-11,5,7,27,70,15,25,31,26,69,17,53,62,26,79,1,14,18,26,80,-4,7,9,25,82,-2,6,8,26,79,3,17,28,26,80,14,23,27,26,79,-9,6,7,26,81,-9,6,8,26,79,-2,5,6,25,80,-5,6,8,26,82,-8,6,8,26,82,-3,9,11,26,77,7,47,55,27,76,-9,11,19,27,74,-2,20,24,26,71,16,23,26,25,80,-5,6,7,25,76,2,17,20,26,71,16,26,32,26,75,10,28,38,26,79,12,22,25,25,79,-5,5,6,26,79,-10,5,6,25,81,-1,7,10,25,80,-3,8,10,26,81,-5,6,8,25,83,-2,8,10,25,80,-3,6,7,26,76,15,68,78,25,79,-2,10,18,26,79,-6,5,7,25,79,-6,6,7,26,69,16,22,26,25,61,35,46,55,26,71,5,29,41,26,77,8,23,26,26,80,-8,5,7,27,77,-11,5,7,26,82,-1,6,8,26,82,-4,7,8,25,82,-2,8,10,25,80,-3,7,9,26,81,-2,7,8,25,81,-4,6,8,26,80,16,46,54,26,80,16,43,49,26,78,11,42,49,27,75,15,42,56,27,74,14,42,55,27,75,11,47,52,26,79,-1,16,20,26,79,-11,6,7,27,77,-13,5,7,25,84,1,9,11,24,84,-1,8,10,24,85,0,9,11,25,84,2,7,9,25,84,1,7,9,25,83,0,10,12,24,84,0,8,10,25,85,-2,10,12,26,80,-9,6,8,26,78,-10,6,8,26,77,-12,6,7,27,78,-12,5,6,26,80,-7,6,7,26,78,-11,6,8,27,76,-12,6,8],solution:{type:"dig",description:"two tiles south-east of the dead tree",spot:{x:3290,y:3373,level:0}}},{id:63,type:"map",tier:"easy",image_url:"/assets/Map_clue_Varrock_west_mine.png",text:["X marks the spot east of a tree near a small island on a river."],ocr_data:[26,77,177,26,77,-7,6,8,26,77,-8,8,10,25,78,-7,6,7,26,80,-4,5,6,25,77,-5,7,8,26,77,-7,7,10,26,77,-8,6,8,25,80,-10,7,9,25,86,-9,7,8,25,82,-10,6,7,26,82,-8,5,6,26,82,-10,4,9,25,82,-9,5,7,25,85,-10,6,7,26,81,-11,8,10,26,78,-7,7,9,25,76,-11,7,9,25,79,-8,5,7,26,81,-5,6,8,27,75,7,28,36,29,62,37,59,69,25,77,-9,7,12,27,66,32,55,62,25,80,-12,5,7,26,84,-8,5,7,26,72,13,38,45,26,68,17,39,46,25,79,-11,6,11,25,83,-13,7,8,26,80,-11,6,8,25,77,-9,8,10,26,78,-11,6,8,26,78,-10,6,7,26,81,-5,10,15,28,64,34,51,60,27,75,-3,19,23,26,80,-11,5,6,26,75,2,30,34,25,76,-4,18,22,26,75,-1,22,28,26,66,27,28,37,25,62,29,31,39,26,75,-2,16,19,26,80,-13,6,7,26,80,-12,7,8,25,78,-10,5,6,25,78,-10,6,8,25,77,-10,4,5,26,81,-10,4,6,27,80,-8,11,14,26,80,-11,6,8,25,84,-11,7,9,25,77,-6,19,23,24,65,27,33,39,25,72,4,20,28,26,78,-7,7,9,26,77,-3,9,16,26,80,-8,6,8,25,79,-12,6,8,26,79,-13,5,6,25,78,-7,8,10,26,78,-11,6,8,25,78,-12,5,6,25,80,-10,6,7,26,80,-10,6,7,26,80,-11,6,8,26,81,-14,5,7,26,77,-16,5,7,26,71,9,21,24,26,71,5,21,24,25,77,-8,6,8,27,79,-6,7,9,25,80,-8,5,6,26,81,-12,6,7,26,80,-15,6,7,26,77,-13,5,7,25,81,-11,6,7,26,78,-15,6,7,26,79,-11,7,13,29,63,33,40,53,26,78,-14,5,6,25,79,-2,31,40,26,79,-13,7,11,26,76,-12,7,8,25,78,-10,7,8,25,78,-11,7,9,27,79,-9,7,9,26,80,-9,5,6,26,81,-12,5,6,25,80,-13,6,7,26,77,-13,7,9,26,78,-16,7,8,25,80,-13,6,8,26,78,-11,7,11,26,70,9,41,53,26,66,11,127,130,26,71,30,106,124,26,73,9,25,31,26,75,4,21,25,25,81,-6,9,14,26,79,-6,8,10,26,82,-4,7,8,25,82,-6,8,9,25,80,-12,5,6,26,79,-14,6,7,26,79,-8,6,8,26,78,-16,6,7,26,76,-4,24,29,26,69,30,49,60,26,77,-10,9,16,27,69,23,44,54,27,71,29,50,60,26,77,9,33,41,26,75,19,35,40,26,70,33,53,63,26,73,27,40,49,26,80,-5,7,11,25,83,-7,6,7,26,79,-13,6,7,26,81,-13,6,8,26,79,-6,5,6,25,80,-9,6,8,26,82,-12,6,8,26,81,-1,18,26,26,69,32,61,71,27,73,-3,24,31,27,75,-4,22,29,27,64,50,74,86,26,67,41,63,75,26,75,7,28,35,26,77,6,26,34,27,67,56,56,63,26,72,35,39,47,25,79,-9,5,6,26,79,-14,5,6,25,81,-5,7,10,25,80,-7,8,10,26,80,-7,12,18,25,83,-6,8,13,25,80,-7,6,7,26,79,-9,6,7,25,78,0,21,28,26,66,45,75,92,26,66,36,77,87,26,72,19,46,55,25,79,-10,5,6,27,70,33,27,31,26,75,19,35,55,26,80,-12,5,7,27,77,-15,5,7,26,82,-5,6,8,26,82,-8,7,8,25,80,4,17,21,26,70,34,52,61,27,71,33,47,54,26,71,31,52,61,25,81,4,28,39,25,83,-6,7,21,26,80,-6,14,29,26,71,22,44,54,26,68,30,58,66,27,68,32,41,52,26,74,24,27,33,26,79,-15,6,7,27,77,-17,5,7,25,84,-3,9,11,24,84,-5,8,10,24,85,-4,9,11,25,84,-2,7,9,25,84,-3,7,9,25,82,2,16,21,25,75,26,24,30,25,74,34,28,42,26,72,25,26,36,26,76,-6,15,21,26,77,-16,6,7,27,78,-16,5,6,26,80,-11,6,7,26,78,-15,6,8,27,76,-16,6,8],solution:{type:"dig",description:"three tiles east of the tree",spot:{x:3166,y:3360,level:0}}},{id:44,type:"map",tier:"medium",image_url:"/assets/Map_clue_Clock_Tower.png",text:["A crate near a bridge over a river."],ocr_data:[26,78,174,26,77,-10,6,8,26,77,-11,8,10,25,78,-10,6,7,26,80,-7,5,6,25,77,-8,7,8,26,77,-10,7,9,26,77,-9,10,15,25,76,11,21,24,26,76,29,24,34,26,79,2,18,23,26,82,-11,5,6,26,82,-13,4,6,25,82,-12,5,7,25,85,-13,6,7,26,81,-14,8,10,26,78,-10,7,9,25,76,-14,7,9,25,79,-11,5,7,26,81,-8,6,8,26,79,-9,7,8,26,76,-3,17,22,27,69,41,63,74,25,76,18,74,92,25,78,-2,29,55,26,76,29,55,63,26,74,33,50,60,26,74,26,23,33,26,71,26,23,34,26,82,-10,18,23,26,80,-14,6,8,25,77,-12,8,10,26,78,-14,6,8,26,78,-13,6,7,25,82,-10,5,7,27,77,14,42,51,27,71,36,52,64,26,79,-7,13,28,26,70,33,48,59,26,70,39,54,70,26,76,5,33,41,26,80,-1,49,55,26,78,1,27,48,26,73,17,40,66,26,79,-9,15,19,26,80,-15,7,8,25,78,-13,5,6,25,78,-13,6,8,25,77,-13,4,5,26,77,4,21,25,27,72,46,79,102,27,79,6,45,51,26,81,5,36,42,26,72,17,24,29,24,80,-11,7,12,26,69,36,52,60,27,70,38,60,67,27,68,40,70,81,26,72,26,29,35,25,78,-12,10,13,26,79,-16,5,6,25,78,-10,8,10,26,78,-14,6,8,25,78,-15,5,8,26,72,37,58,70,27,78,8,36,55,27,74,18,51,58,27,69,41,65,75,26,75,-6,17,21,26,76,24,76,94,27,75,24,85,107,25,76,5,45,55,27,79,-9,7,9,25,80,-11,5,6,26,81,-15,6,7,26,80,-18,6,7,26,77,-16,5,7,25,81,-14,6,7,26,75,5,39,45,26,75,11,38,44,26,73,13,44,57,26,75,4,45,54,25,80,-15,7,11,26,78,-1,44,52,26,76,-10,14,24,26,77,-8,16,25,26,76,24,85,104,27,79,-12,7,9,26,80,-12,5,6,26,81,-15,5,6,25,80,-16,6,7,26,77,-16,7,9,26,78,-19,7,8,25,80,-16,6,8,26,78,-14,7,9,27,67,43,61,72,26,76,-15,11,16,28,64,25,36,42,27,71,26,70,80,26,78,-13,7,9,25,81,-10,8,10,26,77,16,60,70,26,82,-7,7,8,25,82,-9,8,9,25,80,-15,5,6,26,79,-17,6,7,26,79,-11,6,8,26,78,-19,6,7,26,78,-16,6,8,26,71,22,49,60,26,73,11,24,30,27,77,-17,7,18,31,55,80,41,58,28,71,47,75,84,26,79,12,53,58,26,78,8,43,48,26,79,17,56,66,26,80,-8,7,15,25,83,-10,6,7,26,79,-16,6,7,26,81,-16,6,8,26,79,-9,5,6,25,80,-12,6,8,26,79,-3,25,32,26,69,38,48,58,26,79,-15,6,8,27,76,-20,6,7,27,75,4,53,60,26,79,8,47,55,26,78,10,44,51,26,78,7,43,48,26,78,11,48,57,26,78,13,50,64,26,81,-11,4,6,25,79,-12,5,6,26,79,-17,5,6,25,81,-8,7,10,25,80,-10,8,10,26,79,-5,15,20,25,82,-6,13,16,25,80,-10,6,7,26,79,-12,6,7,26,78,8,44,50,26,79,-8,20,27,26,76,26,89,99,26,78,-13,6,7,26,77,7,43,49,26,75,3,44,49,26,79,-14,4,5,26,80,-15,5,7,27,77,-18,5,7,26,82,-8,6,8,26,82,-11,7,8,25,82,-9,8,10,25,80,-10,7,9,26,81,-9,7,8,25,81,-11,6,8,26,81,10,44,49,26,81,14,53,60,26,79,6,44,49,26,77,8,54,62,27,76,4,48,57,27,75,6,63,69,26,80,-14,6,8,26,79,-18,6,7,27,77,-20,5,7,25,84,-6,9,11,24,84,-8,8,10,24,85,-7,9,11,25,84,-5,7,9,25,84,-6,7,9,25,83,-7,10,12,24,84,-7,8,10,25,84,-5,23,27,26,80,-16,6,8,26,78,-13,20,24,26,77,-12,29,33,27,78,-19,5,6,26,80,-14,6,7,26,78,-18,6,8,27,76,-19,6,8],solution:{type:"search",spot:{level:0,topleft:{x:2565,y:3248},botright:{x:2565,y:3248}},entity:"Crate"}},{id:45,type:"map",tier:"medium",image_url:"/assets/Map_clue_McGrubors_Wood.png",text:["A crate in the woods directly next to a building."],ocr_data:[26,78,180,26,77,-4,6,8,26,77,-5,8,10,25,78,-4,6,7,26,80,-1,5,6,25,77,-2,7,8,26,77,-1,18,23,26,76,-2,13,17,25,80,-6,10,14,25,85,-3,11,15,25,82,-7,6,7,26,82,-5,5,6,26,82,-5,10,15,25,82,-6,5,7,25,85,-7,6,7,26,81,-8,8,10,26,78,-4,7,9,25,76,-8,7,9,25,79,-5,5,7,26,81,-2,6,8,26,79,-3,7,8,26,79,7,49,56,28,68,31,57,67,25,77,7,24,37,26,77,2,21,27,27,77,14,42,50,26,82,7,37,46,28,77,20,52,65,25,79,-9,5,7,25,83,-10,7,8,26,80,-8,6,8,25,77,-6,8,10,26,78,-8,6,8,26,78,-7,6,7,26,80,2,15,22,27,76,5,24,30,28,74,21,58,66,26,80,4,40,49,26,79,-3,11,18,25,78,-5,14,18,27,73,23,57,66,26,81,4,32,40,26,76,5,24,34,26,77,-1,17,21,26,80,-10,6,7,26,80,-9,7,8,25,78,-7,5,6,25,78,-7,6,8,25,77,-7,4,5,26,81,-7,4,7,27,81,-7,8,10,26,78,-2,21,24,27,81,20,56,65,26,79,-3,19,24,24,80,-5,7,8,26,80,7,37,41,27,74,13,28,33,27,77,3,17,21,27,74,16,42,46,25,79,-9,6,8,26,79,-10,5,6,25,78,-4,8,10,26,78,-8,6,8,26,77,-6,13,17,27,74,18,41,50,27,76,8,28,33,26,80,-8,6,8,26,80,8,45,56,26,77,-12,6,12,25,79,-7,6,8,27,77,16,52,59,25,75,-1,13,20,27,79,-3,7,10,25,80,-5,5,6,26,81,-9,6,7,26,80,-12,6,7,26,77,-10,5,7,25,81,-8,6,7,26,78,-12,6,7,26,78,-6,13,18,26,75,-3,21,27,27,75,4,28,34,26,82,12,54,62,26,80,3,32,48,27,78,6,48,63,27,77,26,82,94,26,74,6,24,33,28,74,12,27,33,26,80,-6,5,7,26,81,-9,5,6,25,80,-10,6,7,26,77,-10,7,9,26,78,-13,7,8,25,80,-10,6,8,27,73,8,30,41,26,76,-4,14,17,27,74,-3,21,28,26,80,0,39,46,25,77,-9,8,11,26,79,7,55,61,26,83,22,51,62,26,77,4,25,32,26,79,8,25,34,25,82,-2,8,9,25,80,-9,5,6,26,79,-11,6,7,26,79,-5,6,8,26,78,-13,6,7,26,77,-9,9,13,27,74,10,32,37,27,74,7,31,37,27,74,2,31,37,27,82,1,44,51,26,81,-2,23,31,26,81,2,21,31,26,81,7,48,55,26,76,15,36,42,26,80,-2,7,9,26,81,1,14,18,26,79,-10,6,7,26,81,-10,6,8,26,79,-3,5,6,25,80,-6,6,8,26,82,-9,6,8,26,81,-1,15,19,26,78,-5,20,23,27,76,-11,14,18,28,72,10,35,41,26,82,2,33,39,28,71,41,70,80,28,73,31,47,54,26,77,8,20,25,26,80,-5,5,8,27,76,10,28,34,25,79,-6,5,6,26,79,-11,5,6,25,81,-2,7,10,25,80,-4,8,10,26,81,-6,6,9,26,77,15,43,48,25,80,-1,14,17,28,73,16,35,41,26,76,8,33,40,27,76,7,26,35,29,69,45,56,64,29,76,37,44,52,26,74,9,32,36,28,71,12,39,43,26,79,-8,4,5,26,80,-9,5,7,27,77,-12,5,7,26,82,-2,6,8,26,82,-5,7,8,25,82,-3,8,10,26,78,3,17,28,27,77,11,27,34,26,80,-1,13,16,26,82,0,14,19,27,77,14,29,38,26,79,0,14,22,28,74,9,27,33,27,77,-7,13,17,27,75,-6,22,25,26,80,-8,6,8,26,79,-12,6,7,27,77,-14,5,7,25,84,0,9,11,24,84,-2,8,10,24,85,-1,9,11,25,84,1,7,9,25,84,0,7,9,25,83,-1,10,12,24,84,-1,8,10,25,83,1,18,26,26,80,-10,6,8,26,76,-5,22,27,26,77,-13,6,7,27,78,-13,5,6,26,80,-8,6,7,26,78,-12,6,8,27,76,-13,6,8],solution:{type:"search",spot:{level:0,topleft:{x:2658,y:3488},botright:{x:2658,y:3488}},entity:"Crate"}},{id:48,type:"map",tier:"medium",image_url:"/assets/Map_clue_Ourania_chaos_altar.png",text:["X marks the spot between lava lakes."],ocr_data:[25,89,175,26,77,-9,6,8,26,77,-10,8,10,25,78,-9,6,7,26,80,-6,5,6,25,77,-7,7,8,26,77,-9,7,9,26,76,-7,23,36,25,78,-1,47,58,25,86,-11,7,8,25,82,-12,6,7,26,82,-10,5,6,26,82,-12,4,6,25,82,-11,5,7,25,85,-12,6,7,26,81,-13,8,10,26,78,-9,7,9,25,76,-13,7,9,25,79,-10,5,7,26,81,-7,6,8,26,79,-8,7,8,26,78,-12,7,8,26,77,4,50,68,24,106,29,45,59,25,84,3,43,50,26,83,-8,11,14,26,83,-8,6,8,26,82,-12,5,6,25,79,-14,5,7,25,83,-15,7,8,26,80,-13,6,8,25,77,-11,8,10,26,78,-13,6,8,26,78,-12,6,7,25,82,-9,5,7,26,80,-12,5,6,27,79,-1,47,54,26,80,-11,8,19,25,112,35,47,55,25,91,10,33,41,26,79,-12,5,7,26,81,-9,6,7,26,79,-10,5,6,26,79,-12,5,7,26,80,-15,6,7,26,80,-14,7,8,25,78,-12,5,6,25,78,-12,6,8,25,77,-12,4,5,26,81,-12,4,6,27,81,-10,17,24,27,81,3,43,54,25,104,12,31,36,22,200,55,4,6,22,187,54,17,24,25,83,3,27,46,26,78,-9,7,9,26,78,-7,7,9,26,80,-10,6,8,25,79,-14,6,8,26,79,-15,5,6,25,78,-9,8,10,26,78,-13,6,8,25,78,-14,5,6,25,80,-12,6,7,27,72,18,107,132,27,79,6,60,70,25,100,14,28,32,22,187,63,2,3,22,188,62,2,3,24,129,44,55,60,25,77,-10,6,10,27,79,-8,7,9,25,80,-10,5,6,26,81,-14,6,7,26,80,-17,6,7,26,77,-15,5,7,25,81,-13,6,7,26,78,-17,6,7,26,79,-14,6,8,26,72,1,46,59,26,78,-1,40,45,26,83,3,45,52,24,124,46,83,95,22,171,67,13,22,22,181,66,3,4,23,126,39,46,53,27,79,-10,8,13,26,80,-11,5,6,26,81,-14,5,6,25,80,-15,6,7,26,77,-15,7,9,26,78,-18,7,8,25,80,-15,6,8,26,78,-13,7,9,26,77,-13,6,8,26,77,0,41,47,26,78,-1,41,46,26,72,20,101,114,23,136,58,31,42,22,171,73,2,3,22,167,67,9,12,25,90,9,42,47,25,82,-8,8,9,25,80,-14,5,6,26,79,-16,6,7,26,79,-10,6,8,26,78,-18,6,7,26,78,-15,6,8,25,78,-11,8,9,26,81,-8,18,26,27,77,1,61,71,26,89,9,51,61,26,89,8,38,44,25,93,12,32,38,23,150,58,37,47,24,115,21,19,24,26,80,-7,7,9,25,83,-9,6,7,26,79,-15,6,7,26,81,-15,6,8,26,79,-8,5,6,25,80,-11,6,8,26,82,-14,6,8,26,82,-9,9,11,24,128,27,29,36,24,111,69,98,116,24,118,58,81,98,25,105,17,32,38,26,80,18,82,92,26,80,0,24,37,26,80,1,20,33,26,78,-1,47,61,26,81,-9,4,7,25,79,-11,5,6,26,79,-16,5,6,25,81,-7,7,10,25,80,-9,8,10,26,81,-11,6,8,25,83,-8,8,10,25,95,8,29,34,22,181,58,18,27,22,186,58,16,24,25,92,8,32,40,26,80,13,65,77,26,78,-9,13,16,25,79,-12,5,6,27,71,2,56,70,26,79,-13,4,5,26,80,-14,5,7,27,77,-17,5,7,26,82,-7,6,8,26,82,-10,7,8,25,82,-8,8,10,25,80,-9,7,9,26,80,-6,17,22,25,88,27,105,116,25,96,11,28,33,25,83,-8,7,9,26,81,-12,6,7,26,76,-4,52,59,27,75,-3,49,64,27,77,-18,5,6,26,80,-13,6,8,26,79,-17,6,7,27,77,-19,5,7,25,84,-5,9,11,24,84,-7,8,10,24,85,-6,9,11,25,84,-4,7,9,25,84,-5,7,9,25,81,-1,21,24,24,84,-6,8,10,25,85,-8,10,12,26,80,-15,6,8,26,77,-14,11,14,26,76,-16,10,14,27,78,-18,5,6,26,80,-13,6,7,26,78,-17,6,8,27,76,-18,6,8],solution:{type:"dig",description:"behind the chaos altar at Ourania",spot:{x:2454,y:3230,level:0}}},{id:51,type:"map",tier:"medium",image_url:"/assets/Map_clue_Chemist's_house.png",text:["X marks the spot next to a building at the coast."],ocr_data:[26,78,178,26,77,-6,6,8,26,77,-7,8,10,25,78,-6,6,7,26,80,-1,8,13,26,73,17,36,44,26,77,-6,7,12,26,77,-7,6,8,25,80,-9,7,9,25,86,-8,7,8,25,82,-9,6,7,26,82,-7,5,6,26,82,-9,4,6,25,82,-8,5,7,25,85,-9,6,7,26,81,-10,8,10,26,78,-6,7,9,25,76,-10,7,9,25,79,-7,5,7,26,81,-3,8,11,27,73,22,22,27,27,68,47,65,76,25,78,-9,6,8,26,71,19,49,53,27,71,21,55,61,26,84,-7,5,6,26,83,-5,6,8,26,82,-9,5,6,25,79,-11,5,7,25,83,-12,7,8,26,80,-10,6,8,25,77,-8,8,10,26,78,-10,6,8,26,78,-9,6,7,25,82,-6,5,7,26,80,-9,5,6,26,76,8,19,25,27,74,29,55,64,26,77,0,27,30,27,69,22,54,66,26,76,3,27,34,26,81,-6,6,7,26,79,-7,5,6,26,79,-9,5,7,26,80,-12,6,7,26,80,-11,7,8,25,78,-9,5,6,25,78,-9,6,8,25,77,-9,4,5,26,81,-9,4,6,27,81,-10,6,7,26,80,-10,6,8,26,75,29,35,46,25,77,7,35,46,27,67,30,53,68,27,68,25,56,62,26,78,-6,7,9,26,78,-4,7,9,26,80,-7,6,8,25,79,-11,6,8,26,79,-12,5,6,25,78,-6,8,10,26,78,-10,6,8,25,78,-11,5,6,25,80,-9,6,7,26,80,-9,6,7,26,80,-10,6,8,26,79,-3,20,27,27,71,28,42,47,26,78,-7,11,14,26,78,-10,6,8,25,77,-7,6,8,27,79,-5,7,9,25,80,-7,5,6,26,81,-11,6,7,26,80,-14,6,7,26,77,-12,5,7,25,81,-10,6,7,26,78,-14,6,8,26,78,-3,43,48,26,76,-4,42,46,26,78,-13,5,6,26,72,38,60,69,26,78,2,32,40,27,75,13,48,62,25,77,-7,12,21,25,78,-10,7,17,27,79,-8,7,18,26,80,-8,5,14,26,81,-11,5,6,25,80,-12,6,7,26,77,-12,7,9,26,78,-15,7,8,25,80,-12,6,8,26,78,-10,7,9,26,77,-10,6,8,26,75,-7,17,24,26,70,36,44,51,25,76,5,42,52,26,77,4,22,42,26,79,25,42,71,26,78,15,25,41,26,80,16,25,40,26,80,26,56,71,25,80,-11,5,6,26,79,-13,6,7,26,79,-7,6,8,26,78,-15,6,7,26,78,-12,6,8,25,78,-8,8,11,26,78,-11,6,10,27,76,0,21,26,27,74,26,40,45,26,70,62,123,140,26,77,31,58,73,26,80,-2,14,21,25,82,-5,6,8,26,80,2,23,29,26,80,23,60,76,26,79,-12,6,7,26,81,-12,6,8,26,79,-5,5,6,25,80,-8,6,8,26,82,-11,7,9,26,82,1,43,47,26,79,-3,41,46,27,76,-7,44,51,27,69,39,63,75,26,81,-7,14,25,26,78,12,43,49,26,78,11,42,48,26,79,13,42,48,26,79,12,41,46,26,79,13,43,48,25,79,-8,5,6,26,79,-13,5,6,25,81,-4,7,10,25,80,-6,8,10,26,81,-8,6,8,25,83,-5,8,10,25,80,-6,6,7,26,79,-8,6,7,25,77,6,17,20,26,70,40,44,55,26,70,41,56,65,26,71,28,39,45,26,75,9,31,38,26,76,-14,4,5,27,72,14,33,39,26,79,-8,13,17,27,77,-14,5,7,26,82,-4,6,8,26,82,-7,7,8,25,82,-5,8,10,25,80,-6,7,9,26,81,-5,7,8,25,81,-4,18,21,25,82,5,53,58,25,83,-1,23,26,26,81,-9,6,9,26,76,0,20,24,27,70,24,31,41,27,68,38,59,65,26,68,35,68,79,26,79,-14,6,7,27,77,-16,5,7,25,84,-2,9,11,24,84,-4,8,10,24,85,-3,9,11,25,84,-1,7,9,25,84,-2,7,9,25,83,-3,10,12,24,84,-3,8,10,25,85,-5,10,12,26,80,-12,6,8,26,78,-13,6,8,26,77,-15,6,7,27,78,-15,5,6,26,72,21,29,39,26,75,4,32,38,27,76,-15,6,8],solution:{type:"dig",description:"west of the Chemist's House",spot:{x:2923,y:3210,level:0}}},{id:52,type:"map",tier:"medium",image_url:"/assets/Map_clue_Miscellania.png",text:["X marks the spot between some trees at the end of a path."],ocr_data:[26,79,180,26,77,-4,6,8,26,77,-5,8,10,25,78,-4,6,7,26,80,-1,5,6,25,77,-2,7,8,26,77,-4,7,9,26,77,-5,6,8,25,80,-7,7,9,25,86,-6,7,8,25,82,-7,6,7,26,82,-5,5,6,26,82,-7,4,6,25,82,-6,5,7,25,85,-7,6,7,26,81,-8,8,10,26,78,-4,7,9,25,76,-8,7,9,25,79,-3,11,16,26,81,2,13,21,26,79,-3,7,8,26,78,-7,7,8,25,78,-7,6,7,25,80,6,26,32,27,78,17,33,38,26,84,-5,5,6,26,83,-3,6,12,27,80,14,34,42,25,79,-9,5,7,25,83,-10,7,8,26,80,-8,6,8,25,77,-6,8,10,26,78,-8,6,8,26,78,-4,17,23,26,81,13,52,58,27,79,7,43,49,27,78,5,24,29,27,78,15,31,35,26,80,3,22,32,26,78,18,39,46,26,79,-7,5,7,26,80,0,16,22,27,75,42,62,67,26,79,-7,5,7,26,80,-10,6,7,26,80,-9,7,8,25,78,-7,5,6,25,78,-7,6,8,25,77,-3,11,25,27,79,12,42,57,27,80,9,56,63,27,79,3,25,34,26,80,19,41,48,25,80,-11,6,8,24,80,-5,7,8,25,78,-6,6,8,26,78,-4,7,9,26,78,-2,7,9,26,80,-5,6,8,25,79,-9,6,8,26,79,-10,5,6,25,78,-4,8,10,26,78,-8,6,8,25,78,-9,5,6,26,79,22,62,83,26,80,-7,6,7,26,80,-8,6,8,26,81,-11,5,7,26,77,-6,18,23,26,78,8,27,32,26,78,-8,6,8,25,77,-5,6,8,27,79,-3,7,9,25,80,-5,5,6,26,81,-9,6,7,26,80,-12,6,7,26,77,-10,5,7,25,81,-8,6,7,26,78,-12,6,7,26,78,21,63,85,26,77,-10,6,7,27,77,15,42,49,25,77,18,59,73,26,73,35,98,119,27,75,28,45,52,25,78,-7,7,8,25,78,-8,7,9,27,79,-6,7,9,26,80,-6,5,6,26,81,-9,5,6,25,80,-10,6,7,26,77,-10,7,9,26,78,-13,7,8,25,80,-10,6,8,27,77,16,62,75,26,76,13,60,66,28,75,36,64,73,26,77,2,31,47,25,61,31,149,169,26,78,-7,7,9,25,81,-4,8,10,26,79,-2,8,17,27,78,26,36,40,26,79,17,32,36,25,80,-9,5,6,26,79,-11,6,7,26,79,-5,6,8,26,78,-13,6,7,26,78,-10,6,8,26,77,10,44,50,26,78,5,41,48,27,78,-12,5,7,27,81,-11,6,11,26,61,31,157,169,26,70,17,120,144,26,77,5,48,70,29,75,55,54,72,26,79,9,28,34,26,82,5,25,31,26,79,-10,6,7,26,81,-10,6,8,26,79,-3,5,6,25,80,-6,6,8,26,82,-9,6,8,26,81,18,60,66,26,78,11,62,69,27,76,-14,6,7,27,77,-12,6,8,26,79,-2,16,24,26,68,33,99,138,26,68,26,83,124,26,79,17,57,66,26,79,9,39,44,26,80,6,34,37,25,79,-6,5,6,26,79,-11,5,6,25,81,-2,7,10,25,80,-4,8,10,26,81,-4,9,16,26,81,25,67,86,26,79,17,50,59,26,78,20,59,78,25,80,-4,11,17,26,79,14,67,75,26,78,10,46,59,26,76,11,53,66,25,79,-7,5,6,26,76,-12,4,5,26,79,-8,4,5,26,80,-9,5,7,27,77,-12,5,7,26,82,-2,6,8,26,82,-5,7,8,25,82,2,22,28,26,80,5,30,36,26,81,-3,7,10,26,80,12,48,53,26,82,13,48,53,25,83,-3,7,10,26,80,8,41,48,26,78,1,36,44,26,77,0,38,46,27,77,-13,5,6,26,80,-8,6,8,26,79,-12,6,7,27,77,-14,5,7,25,84,0,9,11,24,84,-2,8,10,24,85,-1,9,11,25,84,1,7,9,25,84,0,7,9,25,83,-1,10,12,24,84,-1,8,10,25,85,-3,10,12,26,80,-10,6,9,26,78,-11,6,8,26,77,-13,6,7,27,78,-13,5,6,26,80,-8,6,7,26,78,-12,6,8,27,76,-13,6,8],solution:{type:"dig",description:"between the signpost and the evergreen",spot:{x:2536,y:3865,level:0}}},{id:53,type:"map",tier:"medium",image_url:"/assets/Map_clue_Tower_of_Life.png",text:["X marks the spot on a surprisingly detailled map next to a statue on a road."],ocr_data:[29,69,156,28,75,-7,8,11,31,64,7,30,34,28,75,-3,10,14,29,74,-1,15,19,28,74,-2,29,36,27,67,-8,36,44,27,66,-29,16,19,25,72,-27,43,49,26,73,-28,19,25,27,73,-11,37,43,30,72,10,48,57,29,79,-2,6,9,28,78,13,32,37,28,79,15,36,41,29,77,13,37,42,29,76,-4,9,12,28,75,-8,10,12,28,77,-7,8,11,30,74,2,23,29,28,64,-7,34,41,27,69,-33,15,19,26,72,-34,13,17,25,72,-25,38,45,27,72,-12,38,45,28,80,-8,10,13,31,70,18,36,41,29,79,-1,6,8,26,59,24,32,38,25,51,16,10,11,26,56,27,31,37,28,75,-7,10,15,30,71,-2,17,21,29,74,-3,14,19,31,68,15,43,50,29,67,0,46,54,28,62,-27,16,20,27,66,-29,15,20,27,68,-17,26,31,28,77,-7,29,37,33,66,16,31,39,29,78,1,6,7,29,77,1,6,9,25,56,28,34,40,25,51,15,8,10,26,54,26,33,40,28,66,12,23,30,30,64,10,29,33,29,71,4,21,26,30,75,1,15,20,29,80,-5,13,18,28,78,-6,28,33,27,82,-14,21,26,27,77,-20,11,14,27,77,-10,10,13,30,65,6,31,37,29,76,-2,10,12,29,76,0,9,13,27,61,25,47,54,26,56,21,36,42,27,59,24,53,61,28,75,-3,13,17,28,67,6,18,22,31,60,11,35,42,31,63,8,34,44,29,75,-2,14,18,29,77,-10,11,13,28,77,-16,9,12,28,74,-19,9,12,30,69,-3,20,26,30,69,3,25,31,28,76,-1,7,9,29,75,-3,11,15,28,78,-5,6,8,29,77,-6,11,16,31,69,3,20,25,30,72,-2,18,24,31,66,11,35,42,28,66,1,19,24,32,59,10,40,46,32,63,7,27,33,29,74,-6,13,18,29,47,19,73,78,29,75,-8,14,18,30,71,-3,22,26,31,66,12,33,40,30,71,5,26,32,32,66,7,25,29,30,69,3,20,26,31,67,3,22,28,30,71,1,24,31,31,67,10,35,40,31,66,1,44,51,29,72,-6,22,28,29,67,5,25,32,29,65,11,23,30,29,66,7,21,25,21,80,6,68,78,31,64,5,26,33,32,65,14,36,44,30,72,10,26,31,33,61,15,38,41,29,79,2,8,9,29,74,6,19,22,29,75,-2,15,20,30,74,-1,18,24,28,76,-7,13,18,32,66,8,38,46,29,70,-1,28,35,30,68,9,32,40,30,72,1,20,25,29,75,-6,11,17,29,67,12,10,16,29,76,-3,12,16,31,67,11,55,61,29,70,4,38,46,29,76,1,19,23,29,80,6,21,27,28,82,6,26,32,31,69,9,31,36,33,67,11,34,44,28,77,-4,9,12,28,77,-5,16,21,32,68,8,40,48,28,79,-7,11,13,29,78,-8,11,16,28,65,10,49,56,26,54,19,36,42,26,59,21,40,46,29,70,15,44,60,29,74,4,22,33,29,73,8,47,54,29,61,-6,37,46,29,57,-8,31,39,28,79,1,28,34,29,71,-7,27,32,29,76,3,16,21,32,64,10,29,37,32,70,10,24,28,28,79,-5,10,12,27,68,15,40,47,25,52,12,11,15,25,53,12,30,35,25,51,16,16,20,26,56,25,41,49,29,78,-1,13,19,28,63,-7,34,42,27,68,-38,13,17,27,67,-31,19,24,28,74,-2,49,56,29,78,-10,27,32,32,65,11,25,31,29,76,-1,14,22,28,75,1,23,29,28,77,-4,10,12,28,67,16,33,39,25,52,15,11,13,26,68,-13,39,47,25,54,14,30,35,26,54,27,33,41,29,78,0,12,19,29,62,-6,39,48,28,70,-40,10,13,27,73,-36,11,14,28,68,-36,19,23,29,63,-36,17,21,28,80,1,12,16,28,80,-1,10,13,28,78,4,17,22,32,65,16,31,39,29,70,20,49,59,25,53,23,16,23,24,51,22,10,13,24,51,21,11,14,27,62,27,48,58,29,78,-1,12,18,29,62,-8,43,54,28,71,-41,9,12,27,74,-37,7,9,27,72,-40,8,10,28,70,-42,9,12],solution:{type:"dig",description:"south of the giant head",spot:{x:2648,y:3231,level:0}}},{id:57,type:"map",tier:"medium",image_url:"/assets/Map_clue_Seers_to_Rellekka_road.png",text:["X marks the spot on a narrow landstrip near a road and a lot of trees."],ocr_data:[26,77,174,26,77,-10,6,8,26,77,-11,8,10,25,78,-10,6,7,26,80,-7,5,6,25,77,-8,7,8,26,77,-10,7,9,26,77,-11,6,8,25,80,-10,16,21,25,82,3,18,23,25,82,-13,6,7,26,82,-11,6,9,26,82,-13,4,6,25,82,-12,5,7,25,85,-13,6,7,26,81,-14,8,10,26,78,-10,7,9,25,76,-14,7,9,25,79,-11,5,7,27,78,13,34,42,27,73,31,117,134,26,75,2,53,67,25,78,-13,6,7,24,80,-14,6,12,26,68,42,63,73,26,82,-6,28,32,26,81,1,47,54,26,82,-12,11,14,25,79,-15,5,7,25,83,-16,7,8,26,80,-14,6,8,25,77,-12,8,10,26,78,-14,6,8,26,78,-13,6,7,30,62,72,35,44,29,64,63,41,46,27,74,18,106,120,27,69,21,62,68,26,77,-2,23,27,26,74,13,38,46,26,71,31,49,58,26,80,-9,8,12,26,79,-8,15,21,26,79,-13,5,9,26,80,-16,6,7,26,80,-15,7,8,25,78,-13,5,6,25,78,-13,6,8,25,77,-13,4,5,26,77,15,40,49,27,78,15,49,56,27,75,16,95,110,27,75,32,50,58,27,69,21,65,77,26,71,18,44,51,25,76,2,27,39,27,69,34,42,54,26,77,-2,28,34,26,79,-3,39,44,25,79,-15,6,8,26,79,-16,5,6,25,78,-10,8,10,26,78,-14,6,8,25,78,-15,5,6,25,80,-13,6,7,28,69,19,56,60,27,72,35,126,141,31,59,84,11,22,28,70,32,44,52,26,75,-4,27,33,26,78,-14,6,9,26,68,32,54,64,27,73,17,26,35,26,78,1,19,22,26,80,-9,12,17,26,80,-18,6,7,26,77,-16,5,7,25,81,-14,6,7,26,78,-18,6,7,27,73,4,25,30,26,74,-4,29,44,26,74,14,81,104,25,75,21,50,60,26,79,-12,15,24,26,66,48,121,141,25,74,9,42,55,25,78,-14,7,9,27,75,10,35,43,26,73,20,35,41,26,80,-10,13,18,25,80,-16,6,7,26,77,-16,7,9,26,78,-19,7,8,25,80,-13,11,15,27,70,14,54,65,26,76,-12,8,12,27,72,14,111,128,26,75,4,74,91,25,77,-16,7,9,27,70,16,45,57,25,79,-1,21,31,28,70,22,52,60,27,71,22,46,52,25,82,-9,8,9,25,80,-15,5,6,26,79,-17,6,7,26,79,-11,6,8,26,78,-19,6,7,26,78,-15,7,12,26,65,46,61,72,26,78,-15,6,8,27,78,-18,5,7,27,78,4,62,80,26,76,19,93,114,26,73,21,71,86,26,77,11,70,84,26,76,13,71,86,27,70,18,49,57,26,78,4,22,31,26,79,-16,6,7,26,81,-16,6,8,26,79,-9,5,6,25,80,-12,6,8,26,82,-15,6,8,26,76,14,26,33,27,68,35,54,66,27,74,-3,34,42,27,77,-17,9,13,27,70,22,54,69,26,78,3,28,54,27,71,21,42,67,28,67,42,110,136,26,77,3,42,57,26,80,-9,6,10,25,79,-12,5,6,26,79,-17,5,6,25,81,-8,7,10,25,80,-10,8,10,26,81,-12,6,8,25,83,-8,11,19,25,78,1,29,42,26,68,37,36,48,26,71,29,52,63,26,76,-2,29,37,25,79,-12,6,10,27,66,24,54,70,26,72,12,54,79,26,73,5,62,76,26,79,-14,4,5,26,80,-15,5,7,27,77,-18,5,7,26,82,-8,6,8,26,82,-11,7,8,25,82,-9,8,10,25,79,-5,19,29,26,80,-3,22,31,25,81,-10,7,13,25,79,9,23,31,26,69,38,44,54,26,81,-13,6,7,26,74,-5,29,38,26,76,-6,30,46,27,74,-1,61,72,26,80,-14,6,8,26,79,-18,6,7,27,77,-20,5,7,25,84,-6,9,11,24,84,-8,8,10,24,85,-7,9,11,25,84,-5,7,9,25,84,-6,7,9,25,83,-7,10,12,24,84,-7,8,10,25,81,2,25,30,26,80,-16,6,8,26,78,-17,6,8,26,77,-19,6,7,27,78,-19,5,6,26,80,-14,6,7,26,78,-18,6,8,27,76,-19,6,8],solution:{type:"dig",description:"next to the bush",spot:{x:2667,y:3562,level:0}}},{id:58,type:"map",tier:"medium",image_url:"/assets/Map_clue_Hobgoblin_peninsula.png",text:["X marks the spot near a rock on a peninsula."],ocr_data:[26,78,177,26,77,-7,6,8,26,77,-8,8,10,25,78,-7,6,7,26,80,-4,5,6,25,77,-5,7,8,26,73,14,37,43,26,77,-8,6,9,25,80,-10,7,9,25,86,-9,7,8,25,82,-10,6,7,26,82,-8,5,6,26,82,-10,4,6,25,82,-9,5,7,25,85,-10,6,7,26,81,-11,8,10,26,78,-7,7,9,25,76,-11,7,9,25,79,-8,5,7,26,81,-5,6,8,26,79,-6,7,10,26,73,14,24,31,26,72,23,45,56,26,72,18,49,60,29,69,29,67,78,26,78,4,18,23,26,72,19,26,30,26,82,-10,5,7,25,79,-12,5,7,25,83,-13,7,8,26,80,-11,6,8,25,77,-9,8,10,26,78,-11,6,8,26,78,-10,6,7,26,82,-2,27,31,26,79,-2,39,45,26,79,-10,8,11,26,71,32,46,56,26,75,11,32,42,26,73,8,40,45,26,79,-10,5,7,26,75,7,22,25,26,70,16,24,28,26,79,-10,5,7,26,80,-13,6,7,26,80,-12,7,8,25,78,-10,5,6,25,78,-10,6,8,25,77,-10,4,5,26,81,-10,4,6,27,81,-11,6,7,26,80,-11,6,8,25,84,-10,11,18,26,69,38,43,54,24,80,-8,7,8,27,71,18,52,58,29,69,26,60,67,26,78,-5,7,9,26,80,-8,6,8,25,79,-12,6,8,26,79,-13,5,6,25,78,-7,8,10,26,78,-11,6,8,25,78,-12,5,6,25,80,-10,6,7,26,80,-9,10,14,26,80,-11,6,9,26,78,19,40,49,27,69,45,60,76,26,74,23,52,62,27,75,0,25,31,26,72,12,30,43,28,73,12,29,37,26,79,-4,12,15,26,81,-12,6,7,26,80,-15,6,7,26,77,-13,5,7,25,81,-11,6,7,26,78,-15,6,7,26,79,-7,24,28,26,77,-5,32,40,26,77,6,27,33,26,78,13,42,50,26,74,30,57,68,27,73,24,39,49,26,74,27,51,61,25,78,-10,13,18,29,70,26,58,69,26,80,-9,5,6,26,81,-12,5,6,25,80,-13,6,7,26,77,-13,7,9,26,78,-16,7,8,25,80,-13,6,8,26,78,-11,7,9,26,77,-11,6,8,26,74,23,24,36,26,77,8,43,68,25,74,33,102,122,27,74,38,59,68,26,74,37,49,63,26,78,2,20,27,26,81,-3,9,12,25,82,-6,8,9,25,80,-12,5,6,26,79,-14,6,7,26,79,-8,6,8,26,78,-16,6,7,26,78,-13,6,8,25,78,-9,8,9,26,78,-12,6,7,27,77,13,24,36,27,79,8,40,54,26,76,9,38,49,26,76,22,39,45,26,71,38,38,45,25,77,16,33,40,26,80,-5,7,9,25,83,-7,6,7,26,79,-13,6,7,26,81,-13,6,8,26,79,-6,5,6,25,80,-9,6,8,26,82,-12,6,8,26,82,-7,9,11,26,79,-12,6,8,27,76,-16,7,10,27,75,33,63,74,26,69,18,25,35,26,72,32,43,50,26,76,19,33,46,26,77,22,44,54,26,80,-8,4,5,26,81,-8,4,6,25,79,-9,5,6,26,79,-14,5,6,25,81,-5,7,10,25,80,-7,8,10,26,81,-9,6,8,25,83,-5,12,22,25,80,1,30,42,26,79,-2,36,43,25,80,-2,17,23,27,79,27,58,65,25,79,-6,12,19,27,69,44,59,70,26,72,27,38,52,27,71,32,52,63,26,79,-9,7,13,26,80,-12,5,7,27,77,-15,5,7,26,82,-5,6,8,26,82,-8,7,8,25,82,-6,8,10,26,80,-2,16,24,26,81,-6,7,10,25,81,-6,6,14,25,83,-6,8,10,26,75,39,54,60,26,81,-10,6,7,26,77,-2,23,31,27,68,33,46,56,27,77,-13,8,14,26,80,-11,6,8,26,79,-15,6,7,27,77,-17,5,7,25,84,-3,9,11,24,84,-5,8,10,24,85,-4,9,11,25,84,-2,7,9,25,84,-3,7,9,25,83,-4,10,12,24,84,-4,8,10,25,80,17,26,37,26,80,-9,13,20,26,78,-14,6,8,26,72,11,41,46,27,78,-16,5,6,26,80,-11,6,7,26,78,-15,6,8,27,76,-16,6,8],solution:{type:"dig",spot:{x:2906,y:3296,level:0},description:"west of the snape grass at the tip of the hobgoblin peninsula."}},{id:60,type:"map",tier:"medium",image_url:"/assets/Map_clue_Lighthouse_peninsula.png",text:["X marks the spot on a small landmass surrounded by water."],ocr_data:[26,77,176,26,77,-8,6,8,26,77,-9,8,10,25,78,-8,6,7,26,80,-5,5,6,25,77,-6,7,8,26,77,-8,7,9,26,77,-9,6,8,25,80,-11,7,9,25,86,-10,7,8,25,82,-11,6,7,26,82,-9,5,6,26,82,-11,4,6,25,82,-10,5,7,25,85,-11,6,7,26,81,-12,8,10,26,78,-8,7,9,25,76,-12,7,9,25,79,-9,5,7,26,81,-6,6,8,26,79,-7,7,8,26,77,-10,8,14,26,70,28,44,58,25,72,30,64,71,26,73,18,54,62,26,76,23,45,52,26,73,31,51,59,26,81,-9,8,12,26,76,-1,28,33,25,83,-14,7,8,26,80,-12,6,8,25,77,-10,8,10,26,78,-12,6,8,26,78,-11,6,7,25,82,-8,5,7,26,77,2,61,69,26,79,-11,5,7,26,78,-4,15,33,26,80,-11,6,8,25,79,-11,8,14,26,78,0,47,63,26,75,21,109,126,27,68,55,71,88,27,64,69,100,113,26,80,-14,6,7,26,80,-13,7,8,25,78,-11,5,6,25,78,-11,6,8,25,77,-11,4,5,26,81,-11,4,6,27,78,4,61,78,26,76,13,101,117,27,71,29,85,99,25,79,-2,52,62,25,77,17,108,129,27,69,29,67,89,26,72,15,36,40,26,68,41,58,69,26,73,22,33,45,25,78,-12,7,13,26,79,-14,5,6,25,78,-8,8,10,26,78,-12,6,8,25,78,-13,5,6,25,77,-2,23,32,27,72,13,33,43,26,79,-8,18,29,27,74,19,66,93,27,69,29,128,153,26,78,-3,20,32,26,74,-2,31,38,25,75,-1,21,27,27,70,35,52,59,25,80,-9,5,6,26,81,-13,6,7,26,80,-16,6,7,26,77,-14,5,7,25,81,-12,6,7,26,77,-11,14,17,26,75,0,23,30,26,76,-11,9,12,26,78,-15,5,6,26,79,-4,42,58,26,74,14,113,133,26,76,-12,9,16,26,68,30,52,61,26,68,36,62,71,27,75,14,33,41,26,80,-9,7,10,26,81,-13,5,6,25,80,-14,6,7,26,77,-14,7,9,26,78,-17,7,8,25,80,-13,9,13,27,68,33,58,66,26,67,34,58,65,26,74,4,55,64,26,75,17,110,132,25,77,-12,7,13,26,77,-6,17,26,26,67,48,59,71,26,68,42,61,71,26,80,1,34,40,25,81,1,40,45,25,80,-13,6,9,26,79,-15,6,7,26,79,-9,6,8,26,78,-17,6,7,26,78,-14,6,8,25,73,10,24,29,26,68,30,52,62,26,69,41,106,120,27,77,9,47,64,26,71,27,54,62,26,69,39,52,60,26,72,19,54,71,27,65,51,65,79,26,78,1,16,23,25,83,-8,6,7,26,79,-14,6,7,26,81,-14,6,8,26,79,-7,5,6,25,80,-10,6,8,26,82,-13,6,8,26,68,45,61,71,26,79,-13,6,8,27,76,-18,6,7,27,68,35,66,77,26,78,3,18,22,25,79,-7,11,15,26,72,24,34,44,26,72,25,35,44,26,80,-9,4,5,26,81,-9,4,6,25,79,-10,5,6,26,79,-15,5,6,25,81,-6,7,10,25,80,-8,8,10,26,81,-10,6,8,26,69,44,56,65,25,78,2,26,36,26,75,13,37,44,26,74,20,25,33,26,78,-5,30,35,26,78,-2,44,52,26,78,-10,9,12,25,79,-11,5,6,26,76,-16,4,5,26,79,-12,4,5,26,80,-13,5,7,27,77,-16,5,7,26,82,-6,6,8,26,82,-9,7,8,25,82,-7,8,10,25,79,-3,13,17,27,71,31,35,45,26,71,37,46,56,25,83,-5,10,15,25,83,-7,7,9,26,81,-11,6,7,26,78,-13,11,13,26,76,-6,45,50,27,75,-7,51,58,26,79,-7,25,29,26,79,-16,6,7,27,77,-18,5,7,25,84,-4,9,11,24,84,-6,8,10,24,85,-5,9,11,25,84,-3,7,9,25,84,-4,7,9,25,83,-5,10,12,24,84,-5,8,10,25,85,-7,10,12,26,80,-14,6,8,26,78,-15,6,8,26,77,-17,6,7,27,78,-17,5,6,26,80,-12,6,7,26,78,-16,6,8,27,76,-17,6,8],solution:{type:"dig",spot:{x:2579,y:3597,level:0},description:"at the end of the branching path next to the crystal tree"}},{id:61,type:"map",image_url:"/assets/Map_clue_Haunted_Mine.png",tier:"medium",text:["X marks the spot near some weird looking grass"],ocr_data:[26,76,169,26,77,-15,6,8,26,77,-16,8,10,25,78,-15,6,8,26,80,-12,5,7,25,77,-13,7,9,26,77,-5,24,30,26,77,-16,7,12,25,79,-1,32,36,25,86,-17,8,12,26,79,2,31,38,26,82,-16,5,6,26,81,2,27,32,25,82,-16,6,10,25,85,-18,6,7,26,81,-19,8,10,26,78,-15,7,9,25,76,-19,7,9,25,78,-5,27,33,26,76,20,38,47,26,79,-14,7,8,27,73,28,58,67,26,78,-11,41,49,25,75,25,47,56,25,80,-20,6,10,26,77,28,54,65,26,83,-10,26,31,26,77,13,36,43,26,78,-9,17,20,25,83,-21,7,8,26,80,-19,6,8,25,77,-17,8,10,26,78,-19,6,8,26,78,-18,6,7,26,76,28,47,58,29,70,17,111,128,26,78,-6,15,21,26,75,27,62,71,26,76,22,49,57,25,79,-18,7,9,26,74,30,54,71,26,80,-7,28,39,26,77,6,35,43,26,78,-1,17,20,26,80,-21,6,7,26,80,-20,7,8,25,78,-18,5,6,25,78,-18,6,8,25,77,-18,4,5,27,73,31,58,68,30,68,29,137,164,27,75,-3,43,57,25,84,-19,7,9,25,80,-18,18,23,24,80,-6,17,22,26,73,28,62,73,27,70,20,39,49,26,74,20,43,53,28,72,18,94,103,25,79,-20,6,8,26,79,-21,5,6,25,78,-15,8,10,26,78,-19,6,8,26,75,11,51,60,25,79,-1,46,70,29,68,46,105,135,29,73,8,73,95,26,79,-9,28,42,26,75,13,30,40,25,79,-14,13,18,27,73,26,60,68,26,73,27,52,58,27,76,19,47,63,30,67,32,146,175,26,79,-14,21,29,26,80,-23,6,7,26,77,-21,5,7,25,81,-19,6,7,26,76,0,20,23,26,76,4,37,49,27,74,24,53,66,31,63,36,154,186,28,68,22,91,115,26,69,2,51,59,26,64,5,106,112,26,67,3,43,54,25,78,-19,7,9,27,79,-16,7,12,29,68,25,132,163,28,73,8,74,91,25,80,-21,6,7,26,77,-21,7,9,26,78,-24,7,8,26,79,2,18,23,27,77,0,41,56,27,74,26,50,57,30,65,24,142,169,28,62,36,137,171,25,72,-5,92,103,26,78,-18,7,9,25,70,4,38,50,26,78,-12,15,22,26,81,-10,14,21,27,77,5,66,86,28,70,18,102,121,26,79,-22,6,7,26,79,-16,6,8,26,78,-24,6,8,26,75,25,62,74,26,77,8,57,73,29,66,43,121,138,31,65,30,158,188,28,68,51,152,189,28,70,20,113,138,26,79,-8,21,36,26,70,3,40,50,29,69,26,116,140,29,70,23,116,134,27,75,13,90,110,28,73,-1,54,70,26,81,-21,6,8,26,79,-14,5,6,25,80,-17,6,8,26,82,-17,12,18,26,76,29,57,65,28,73,5,75,98,31,64,29,148,191,31,65,30,147,187,30,67,31,147,178,28,70,17,102,116,26,64,14,134,150,29,68,24,119,144,30,66,32,141,176,30,67,30,142,169,25,79,-16,6,10,26,79,-22,5,6,25,81,-13,7,10,25,80,-15,8,10,26,81,-17,6,8,26,78,25,35,52,25,79,-11,16,24,28,70,18,114,128,29,67,28,132,157,30,66,33,148,183,26,75,-6,36,51,26,69,1,26,42,28,71,10,87,112,29,67,15,103,134,28,71,10,80,106,26,80,-20,5,8,27,77,-23,5,7,26,82,-13,6,8,26,82,-16,7,8,25,82,-8,20,31,26,76,22,25,39,26,81,-14,7,8,25,81,-16,6,8,25,83,-14,8,10,25,83,-13,8,13,27,75,1,66,78,26,68,-4,36,46,26,67,-2,31,41,28,74,-9,52,68,27,76,-4,56,67,26,79,-23,6,7,27,77,-25,5,7,25,84,-11,9,11,24,84,-13,8,10,24,84,-9,13,18,25,83,-7,11,14,25,84,-11,7,9,25,83,-12,10,12,24,84,-12,8,10,25,85,-14,10,12,27,75,-1,72,81,26,78,-22,7,11,26,76,-23,8,12,27,78,-24,5,6,26,80,-19,6,7,26,78,-23,6,8,27,76,-24,6,8],solution:{type:"dig",spot:{x:3434,y:3265,level:0},description:"four tiles west of the mushroom"}},{id:62,type:"map",tier:"medium",image_url:"/assets/Map_clue_Draynor.png",text:["X marks the spot at the end of a path starting from a rock and near a fishing spot."],ocr_data:[26,78,180,26,77,-4,6,8,26,77,-5,8,10,25,78,-4,6,7,26,79,3,17,23,25,77,-2,7,8,26,77,-4,7,9,26,77,-5,6,8,25,80,-7,7,9,25,86,-6,7,8,25,82,-7,6,7,26,82,-5,5,6,26,82,-7,4,6,25,82,-6,5,7,25,85,-7,6,7,26,81,-8,8,10,26,78,-4,7,9,25,76,-8,7,9,25,79,-5,5,7,26,73,28,35,45,27,70,36,58,67,26,78,-7,7,8,26,77,-3,10,14,24,80,-6,9,14,25,80,-9,5,7,26,84,-5,5,6,26,83,-3,6,8,26,82,-7,5,6,25,79,-9,5,7,25,83,-10,7,8,26,80,-8,6,8,25,77,-6,8,10,26,78,-8,6,8,26,78,-7,6,7,25,82,-4,5,7,27,75,12,21,27,27,69,38,64,74,27,73,15,33,37,27,74,14,28,41,27,73,13,23,28,29,69,32,43,53,26,75,9,90,103,26,74,6,34,43,26,74,4,16,18,26,80,-10,6,7,26,80,-9,7,8,25,78,-7,5,6,25,78,-7,6,8,25,77,-7,4,5,26,81,-7,4,6,27,81,-8,6,7,26,75,12,22,29,26,71,41,68,80,25,78,-3,20,29,26,71,20,47,51,26,73,10,49,64,26,74,4,38,41,26,66,25,25,28,26,66,29,25,28,25,79,-9,6,8,26,79,-10,5,6,25,78,-4,8,10,26,78,-8,6,8,25,78,-9,5,6,25,80,-7,6,8,26,80,1,41,50,26,80,-6,16,21,26,78,1,17,21,27,68,41,68,78,26,78,-1,19,29,29,66,39,78,98,25,71,8,79,80,27,77,2,32,41,25,80,-5,5,6,26,81,-9,6,7,26,80,-12,6,7,26,77,-10,5,7,25,81,-8,6,7,26,78,-12,6,7,26,79,-8,10,19,26,77,-6,9,16,26,78,-10,5,11,25,80,-10,7,8,26,77,0,17,22,27,69,41,60,73,26,73,5,30,34,25,76,-3,20,32,27,72,8,48,63,26,78,0,52,58,26,81,-9,5,6,25,80,-10,6,7,26,77,-10,7,9,26,78,-13,7,8,25,80,-10,6,8,26,78,-8,7,9,26,77,-8,6,8,26,76,-11,7,8,26,78,-13,6,8,26,76,-3,23,28,27,58,62,41,54,27,74,31,68,82,28,72,25,39,46,26,77,25,76,91,25,80,13,60,75,25,80,-9,5,6,26,79,-11,6,7,26,79,-5,6,8,26,78,-13,6,7,26,78,-10,6,8,25,78,-6,8,13,26,78,-6,23,33,27,78,-8,29,42,27,81,-11,7,14,26,81,-8,6,7,26,78,11,23,27,26,72,31,41,48,25,78,5,17,25,25,77,25,68,78,25,81,9,38,44,26,79,-10,6,7,26,81,-10,6,8,26,79,-3,5,6,25,80,-6,6,8,26,82,-9,6,8,26,82,-2,15,24,26,79,-4,16,26,27,76,-9,12,19,27,77,-6,17,30,26,81,-8,7,8,25,80,-6,7,14,26,68,44,40,52,25,80,-4,6,7,26,80,-5,4,5,26,81,-5,4,6,25,79,-6,5,6,26,79,-11,5,6,25,81,-2,7,10,25,80,-4,8,10,26,81,-6,6,8,25,83,-3,8,10,25,80,-4,6,7,26,79,-6,6,7,25,80,-5,7,12,26,79,-7,5,7,25,79,-7,6,7,26,68,43,57,64,25,79,-7,5,6,26,76,-12,4,5,26,79,-8,4,5,26,80,-9,5,7,27,77,-12,5,7,26,82,-2,6,8,26,82,-5,7,8,25,82,-3,8,10,25,80,-4,7,9,26,81,-3,7,8,25,81,-3,14,16,26,83,6,44,52,25,83,1,24,28,26,81,-7,6,7,27,69,37,42,53,26,76,-1,19,28,27,77,-13,5,6,26,80,-8,6,8,26,79,-12,6,7,27,77,-14,5,7,25,84,0,9,11,24,84,-2,8,10,24,85,-1,9,11,25,84,1,7,9,25,84,0,7,9,25,83,-1,10,12,24,84,-1,8,10,25,85,-3,10,12,26,80,-10,6,8,26,77,-7,13,17,26,73,11,35,42,27,78,-13,5,6,26,80,-8,6,7,26,78,-12,6,8,27,76,-13,6,8],solution:{type:"dig",spot:{x:3092,y:3225,level:0},description:"between the southern most willow tree and the small obelisk"}},{id:40,type:"map",tier:"hard",text:["A crate at a group of three buildings."],image_url:"/assets/Map_clue_Observatory.png",ocr_data:[26,77,185,26,77,1,6,8,26,77,0,8,10,25,78,1,6,7,26,80,4,5,6,25,77,3,7,8,26,76,5,14,20,26,73,14,19,23,25,80,-2,7,9,25,86,-1,7,8,25,82,-2,6,7,26,82,0,5,6,26,82,-2,4,6,25,82,1,13,18,25,85,-2,6,7,26,81,-3,8,10,26,78,1,7,9,25,76,-3,7,9,25,79,0,5,7,26,81,3,6,8,27,74,18,22,27,27,74,12,24,31,27,69,25,37,53,24,80,-3,6,8,25,80,-4,5,7,26,84,0,5,6,26,83,2,6,8,26,81,6,18,27,26,77,12,44,55,25,83,-5,7,8,26,80,-3,6,8,25,77,-1,8,10,26,78,-3,6,8,26,78,-2,6,7,25,82,1,5,7,27,71,23,40,55,27,76,6,14,25,26,76,9,17,22,28,69,35,47,61,26,75,9,26,30,26,77,20,45,51,26,76,34,59,65,26,76,21,42,47,26,79,-2,5,7,26,80,-5,6,7,26,80,-4,7,8,25,78,-2,5,6,25,78,-2,6,8,25,77,-2,4,5,26,81,-2,4,16,29,65,50,64,76,26,79,0,15,19,26,77,17,33,38,26,72,17,34,53,25,75,33,61,73,26,76,23,46,51,26,76,21,43,49,26,75,23,43,48,26,80,0,6,8,25,79,-4,6,8,26,79,-5,5,6,25,78,1,8,10,26,78,-3,6,8,25,78,-4,5,6,25,80,1,12,34,27,75,30,47,58,27,76,25,43,49,26,78,16,38,44,26,77,-8,5,7,26,75,33,60,66,26,76,13,35,39,26,73,33,65,69,27,76,22,42,49,25,80,0,5,7,26,81,-4,6,7,26,80,-7,6,7,26,77,-5,5,7,25,81,-3,6,7,26,78,-7,6,7,26,76,19,60,68,26,74,18,46,55,26,78,-6,5,6,26,77,20,48,54,26,78,0,15,18,26,76,-4,7,8,25,78,-2,7,8,25,78,-3,7,9,27,78,3,12,17,26,78,16,58,63,26,81,-4,5,6,25,80,-5,6,7,26,77,-5,7,9,26,78,-8,7,8,25,80,-5,6,8,27,74,25,67,78,29,62,62,86,108,29,54,71,50,60,28,67,52,65,73,26,74,21,48,54,26,78,-2,7,9,25,81,1,8,10,26,79,2,8,10,26,82,4,7,8,25,82,2,8,9,25,80,-4,5,6,26,79,-6,6,7,26,79,0,6,8,26,78,-8,6,7,26,78,-5,6,8,25,78,3,14,23,27,71,45,91,106,29,57,85,72,82,28,70,52,53,61,26,79,9,28,35,26,81,2,7,9,26,79,4,20,28,26,78,29,49,54,26,78,22,37,43,25,83,1,6,7,26,79,-5,6,7,26,81,-5,6,8,26,79,2,5,6,25,80,-1,6,8,26,82,-4,6,8,26,82,1,9,11,26,77,14,42,51,27,75,-1,6,29,27,76,0,6,30,26,81,0,7,18,25,80,-1,6,7,26,74,47,57,83,26,77,25,43,48,26,77,21,42,47,26,81,0,4,6,25,79,-1,5,6,26,79,-6,5,6,25,81,3,7,10,25,80,1,8,10,26,81,-1,6,8,25,83,2,8,10,25,80,1,6,7,26,79,-1,6,7,25,80,0,7,8,26,79,-2,5,7,25,79,-2,6,7,26,76,12,24,41,25,79,-2,5,6,26,74,15,43,48,26,79,-3,4,5,26,80,-4,5,7,27,77,-7,5,7,26,82,3,6,8,26,82,0,7,8,25,82,2,8,10,25,80,1,7,9,26,81,2,7,8,25,81,1,7,12,28,70,40,53,60,25,83,2,7,9,26,81,-2,6,7,27,75,24,40,51,27,75,23,43,49,27,76,4,25,30,26,80,-3,6,8,26,79,-7,6,7,27,77,-9,5,7,25,84,5,9,11,24,84,3,8,10,24,85,4,9,11,25,84,6,7,9,25,84,5,7,9,25,83,4,10,12,24,79,16,33,38,25,85,2,10,12,26,80,-5,6,8,26,78,-6,6,8,26,77,-8,6,7,27,78,-8,5,6,26,80,-3,6,7,26,78,-7,6,8,27,76,-8,6,8],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:2457,y:3182},botright:{x:2457,y:3182}}}},{id:41,type:"map",tier:"hard",text:["X marks the spot next to a tree behind a building in the corner of a city."],image_url:"/assets/Map_clue_Yanille_anvil.png",ocr_data:[26,77,176,26,77,-8,6,8,26,77,-9,8,10,25,78,-8,6,7,26,80,-5,5,6,25,77,-6,7,8,26,76,2,28,32,26,77,-9,6,8,25,79,-2,25,29,25,84,-1,21,25,26,80,-1,22,26,26,82,-9,5,6,26,82,-11,4,6,25,82,-10,5,7,25,85,-11,6,7,26,81,-12,8,10,26,78,-8,7,9,25,76,-12,7,9,25,79,-9,5,7,26,81,-6,6,8,26,79,-7,7,8,26,76,7,41,47,26,76,3,43,49,25,77,11,55,61,26,76,15,43,49,26,79,19,42,47,26,79,3,17,22,26,81,-9,7,13,25,79,-13,5,7,25,83,-14,7,8,26,80,-12,6,8,25,77,-10,8,10,26,78,-12,6,8,26,78,-11,6,7,25,82,-8,5,7,26,80,-11,5,6,26,77,0,37,48,26,79,-5,18,28,26,80,-11,6,8,26,76,17,44,50,26,76,18,42,47,27,70,21,35,48,26,75,3,17,27,26,79,-11,5,7,26,80,-14,6,7,26,80,-13,7,8,25,78,-11,5,6,25,78,-11,6,8,25,77,-11,4,5,26,81,-11,4,6,27,81,-12,6,10,26,79,-1,43,48,26,81,5,51,62,25,79,-1,42,52,25,77,19,43,49,26,75,19,43,48,26,78,-8,7,9,26,78,-6,7,9,26,80,-9,6,8,25,79,-13,6,8,26,79,-14,5,6,25,78,-8,8,10,26,78,-12,6,8,26,77,-5,28,32,25,78,3,45,54,27,77,13,66,80,26,80,-12,6,8,26,81,-15,5,7,26,75,6,66,83,26,75,21,50,60,27,75,17,43,49,25,77,-9,6,8,27,79,-7,7,9,28,67,31,61,66,26,81,-13,6,7,26,80,-16,6,7,26,77,-14,5,7,25,81,-12,6,7,26,78,-16,6,7,26,77,1,44,50,26,75,4,51,60,26,76,0,45,55,26,78,4,47,63,27,63,56,110,137,28,68,34,67,81,26,74,17,43,49,25,78,-12,7,9,27,79,-10,7,9,26,76,-1,23,26,26,81,-13,5,6,25,80,-14,6,7,26,77,-14,7,9,26,78,-17,7,8,25,79,-7,27,42,26,76,1,41,68,26,77,-12,6,29,26,75,-6,30,61,26,76,4,60,99,25,67,38,121,160,26,73,20,70,82,26,76,22,55,61,26,79,-7,8,10,26,82,-5,7,8,25,82,-7,8,9,25,80,-13,5,6,26,79,-15,6,7,26,79,-9,6,8,26,78,-17,6,7,26,75,8,41,46,26,72,43,64,71,27,71,45,63,70,27,71,43,63,71,27,73,44,64,72,27,73,45,62,69,26,75,31,72,84,26,77,7,32,48,25,74,23,34,39,26,72,24,34,40,26,73,31,47,54,26,79,-14,6,7,26,81,-14,6,8,26,79,-7,5,6,25,80,-10,6,8,27,74,8,34,48,28,71,24,64,76,27,76,-3,27,35,27,76,-18,6,7,27,74,-5,18,22,26,78,-1,18,23,25,80,-10,6,7,26,66,50,64,74,26,75,10,21,25,26,76,7,24,32,26,80,-4,9,14,25,79,-10,5,6,26,79,-15,5,6,25,81,-6,7,10,25,80,-8,8,10,26,80,-8,10,14,26,71,22,61,76,26,72,15,45,52,27,73,6,27,31,26,76,2,28,32,26,73,7,29,35,26,70,32,59,70,26,72,20,33,44,25,79,-9,15,18,26,74,-5,50,59,26,79,-9,21,23,26,80,-13,5,7,27,77,-16,5,7,26,82,-6,6,8,26,82,-9,7,8,25,82,-7,8,10,25,80,-8,7,9,26,81,-7,7,10,27,69,24,53,61,26,77,18,42,50,26,69,46,65,77,26,74,16,26,32,26,77,-6,43,47,26,76,-4,52,59,27,77,-13,21,25,26,80,-12,6,8,26,79,-16,6,7,27,77,-18,5,7,25,84,-4,9,11,24,84,-6,8,10,24,85,-5,9,11,25,84,-3,7,9,25,84,-4,7,9,25,79,13,39,46,25,76,25,30,36,25,83,-1,17,23,26,80,-14,6,8,26,78,-15,6,8,26,77,-17,6,7,27,78,-17,5,6,26,80,-12,6,7,26,78,-16,6,8,27,76,-17,6,8],solution:{type:"dig",spot:{x:2616,y:3077,level:0},description:"inside, next to the south-eastern wall of the anvil building, or outside next to the tree"}},{id:42,type:"map",tier:"hard",text:["X marks the spot between two tables."],image_url:"/assets/Map_clue_Legends_Guild.png",ocr_data:[26,77,176,26,77,-8,6,8,26,77,-9,8,10,25,78,-8,6,7,26,80,-5,5,6,25,77,-6,7,8,26,77,-8,7,9,26,77,-9,6,8,25,79,0,22,26,26,81,19,40,46,25,82,-11,6,7,26,82,-9,5,6,26,82,-11,4,6,25,82,-10,5,7,25,85,-11,6,7,26,81,-12,8,10,26,78,-8,7,9,25,76,-12,7,9,25,79,-9,5,9,26,76,21,67,79,27,71,43,116,133,26,70,34,99,115,26,75,2,34,47,26,70,43,40,46,31,58,88,8,17,26,81,4,27,34,27,72,24,58,62,26,76,25,60,65,26,74,17,52,57,25,83,-14,7,8,26,80,-12,6,8,25,77,-10,8,10,26,78,-12,6,8,26,78,-11,6,7,27,73,35,38,43,31,59,87,12,19,27,76,9,33,46,26,72,36,101,118,26,72,38,80,113,26,72,48,76,95,26,79,-11,5,7,26,78,-2,20,23,26,72,34,56,68,27,70,44,75,89,26,80,-14,6,7,26,80,-13,7,8,25,78,-11,5,6,25,78,-11,6,8,25,77,-10,5,12,27,74,32,55,63,27,70,64,76,87,26,80,-9,10,19,27,72,21,59,66,25,76,8,41,57,25,72,43,88,105,26,71,39,99,111,27,71,41,92,113,27,71,44,111,127,26,78,4,29,35,25,79,-13,6,8,26,79,-14,5,6,25,78,-8,8,10,26,78,-12,6,8,26,73,16,40,45,31,58,87,4,5,27,73,27,41,48,28,68,23,64,70,26,79,-10,17,20,26,77,-17,5,7,25,79,-11,6,8,26,78,-12,6,8,25,77,-9,6,11,28,69,23,45,55,26,79,-5,14,17,26,81,-13,6,7,26,80,-16,6,7,26,77,-14,5,7,25,81,-12,6,7,26,78,-14,10,14,26,71,46,78,89,26,76,-8,17,24,28,68,18,60,66,25,80,-14,7,8,26,74,-2,26,36,27,68,9,44,64,25,78,-11,7,10,25,78,-12,7,9,27,78,-8,12,16,26,80,-10,5,6,26,81,-13,5,6,25,80,-14,6,7,26,77,-14,7,9,26,78,-17,7,8,25,80,-14,6,8,26,78,-12,7,9,26,77,-12,6,8,26,73,-6,30,33,26,78,-17,6,8,26,70,4,31,34,26,68,14,30,38,25,80,-5,11,18,26,79,-7,8,10,26,82,-5,7,8,25,82,-7,8,9,25,80,-13,5,6,26,79,-15,6,7,26,79,-9,6,8,26,78,-17,6,7,26,78,-14,6,8,25,78,-10,8,9,26,78,-13,6,7,27,78,-16,5,7,27,81,-15,6,8,26,77,5,72,84,26,76,22,66,81,25,73,21,79,92,25,82,-7,6,8,26,80,-6,7,9,26,78,8,34,37,27,72,5,31,40,26,81,-14,6,8,26,79,-7,5,6,25,80,-10,6,8,26,82,-13,6,8,26,82,-8,9,11,26,75,4,90,103,27,76,-14,33,39,27,77,-16,6,12,26,79,4,28,64,25,76,13,42,63,25,72,23,81,93,25,80,-8,6,7,26,78,-3,15,20,26,80,-7,9,12,25,78,-8,8,11,26,79,-15,5,6,25,81,-6,7,10,25,80,-8,8,10,26,81,-10,6,8,25,83,-7,8,10,25,77,0,25,29,26,79,-10,6,7,25,76,2,76,88,26,78,1,25,46,25,79,-11,6,7,26,78,-11,6,7,25,79,-11,5,6,27,68,7,43,46,26,78,-8,12,16,26,80,-13,5,7,27,77,-16,5,7,26,82,-6,6,8,26,82,-9,7,8,25,82,-7,8,10,25,80,-8,7,9,26,81,-7,7,8,25,81,-9,6,8,26,77,8,31,43,26,74,17,45,71,26,81,-11,6,7,26,78,-14,5,6,26,78,-15,5,6,27,77,-17,5,6,26,80,-12,6,8,26,79,-16,6,7,27,77,-18,5,7,25,84,-4,9,11,24,84,-6,8,10,24,85,-5,9,11,25,84,-3,7,9,25,84,-4,7,9,25,83,-5,10,12,24,76,14,34,37,25,74,17,41,45,26,80,-14,6,8,26,78,-15,6,8,26,77,-17,6,7,27,78,-17,5,6,26,80,-12,6,7,26,78,-16,6,8,27,76,-17,6,8],solution:{type:"dig",spot:{x:2722,y:3338,level:0},description:"two tiles south of the northern bench"}},{id:43,type:"map",tier:"hard",image_url:"/assets/Map_clue_West_Ardougne.png",text:["X marks the spot in one of multiple column-like buildings."],ocr_data:[26,79,181,26,77,-3,6,8,26,77,-4,8,10,25,78,-3,6,7,26,80,0,5,6,25,77,-1,7,8,26,77,-3,7,9,26,77,-4,6,8,25,80,-6,7,9,25,86,-5,7,8,25,82,-6,6,7,26,82,-4,5,6,26,82,-6,4,6,25,82,-5,5,7,25,85,-6,6,7,26,81,-7,8,10,26,78,-3,7,9,25,76,-7,7,9,25,79,-4,5,7,26,81,-1,6,8,26,77,15,40,44,26,75,18,73,81,26,75,15,43,50,25,77,18,62,82,25,77,13,43,49,26,78,32,78,87,26,80,15,44,49,26,79,16,63,68,25,79,-8,5,7,25,83,-9,7,8,26,80,-7,6,8,25,77,-5,8,10,26,78,-7,6,8,26,78,-6,6,7,25,82,-3,5,7,26,78,4,37,41,27,75,21,67,75,26,77,14,43,49,26,76,24,53,72,26,77,7,44,50,26,76,25,75,87,26,79,8,38,43,26,76,21,67,73,26,79,-6,5,7,26,80,-9,6,7,26,80,-8,7,8,25,78,-6,5,6,25,78,-6,6,8,25,77,-6,4,5,26,81,-6,4,6,27,81,-7,6,7,26,80,-7,6,8,25,84,-7,7,9,25,80,-10,6,8,24,80,-4,7,8,25,78,-5,6,8,26,78,-3,7,9,26,78,-1,7,9,26,80,-4,6,8,25,79,-8,6,8,26,79,-9,5,6,25,78,-3,8,10,26,78,-7,6,8,25,78,-8,5,6,25,80,-6,6,7,26,80,-6,6,7,26,80,-7,6,8,26,81,-10,5,7,26,77,-12,5,7,25,79,-6,6,8,26,78,-7,6,8,25,77,-4,6,8,27,79,-2,7,9,25,80,-4,5,6,26,81,-8,6,7,26,80,-11,6,7,26,77,-9,5,7,25,81,-7,6,7,26,78,-11,6,7,26,79,-8,6,8,26,75,13,70,76,26,76,10,59,65,25,80,-9,7,8,26,76,15,58,81,26,74,7,56,61,25,77,-6,8,15,25,66,65,155,190,27,77,13,53,64,26,80,-5,5,6,26,81,-8,5,6,25,80,-9,6,7,26,77,-9,7,9,26,78,-12,7,8,25,80,-9,6,8,26,78,-7,7,9,26,75,8,47,53,26,75,5,49,56,26,78,-12,6,8,26,75,6,27,53,26,76,9,46,52,25,81,-3,8,10,26,77,9,25,49,26,81,5,21,28,25,82,-2,8,9,25,80,-8,5,6,26,79,-10,6,7,26,79,-4,6,8,26,78,-12,6,7,26,78,-9,6,8,25,78,-5,8,9,26,75,17,58,80,27,75,12,56,75,27,81,-10,6,8,26,78,14,35,70,26,78,17,50,65,26,80,-4,7,9,26,79,18,35,67,26,78,17,52,65,25,83,-3,6,7,26,79,-9,6,7,26,81,-9,6,8,26,79,-2,5,6,25,80,-5,6,8,26,82,-8,6,8,26,82,-3,9,11,26,77,6,46,53,27,75,2,48,53,27,77,-11,6,8,26,80,3,23,40,25,79,3,31,34,25,80,-6,5,7,26,79,7,21,38,26,79,3,25,28,26,81,-4,4,6,25,79,-5,5,6,26,79,-10,5,6,25,81,-1,7,10,25,80,-3,8,10,26,81,-5,6,8,25,83,-2,8,10,26,77,21,67,76,26,76,17,61,69,25,80,-4,7,8,26,76,20,60,86,26,77,10,49,56,26,78,-6,6,7,26,75,21,57,84,26,74,6,50,57,26,79,-7,4,5,26,80,-8,5,7,27,77,-11,5,7,26,82,-1,6,8,26,82,-4,7,8,25,82,-2,8,10,25,80,-3,7,9,27,79,12,50,54,26,79,11,46,52,25,83,-2,8,10,26,81,11,29,51,26,79,8,46,54,26,78,-9,5,6,26,76,5,30,53,27,75,4,47,55,26,80,-7,6,8,26,79,-11,6,7,27,77,-13,5,7,25,84,1,9,11,24,84,-1,8,10,24,85,0,9,11,25,84,2,7,9,25,84,1,7,9,25,83,1,10,17,24,84,0,8,10,25,85,-2,10,12,26,80,-8,6,13,26,78,-10,6,8,26,77,-12,6,7,27,78,-11,5,12,26,80,-7,6,7,26,78,-11,6,8,27,76,-12,6,8],solution:{type:"dig",description:"in the north-western corner of the building",spot:{x:2488,y:3308,level:0}}},{id:46,type:"map",tier:"hard",image_url:"/assets/Map_clue_Dark_Warriors_Fortress.png",text:["A crate in the courtyard of a castle."],ocr_data:[26,77,170,26,77,-14,6,8,26,77,-15,8,10,25,78,-14,6,7,26,80,-11,5,6,25,77,-12,7,8,26,77,-14,7,9,26,77,-15,10,13,25,80,-17,9,11,25,86,-16,7,8,25,82,-17,6,7,26,82,-15,5,10,26,82,-16,6,10,25,82,-16,5,7,25,85,-17,6,7,26,81,-18,8,10,26,78,-14,7,9,25,76,-18,7,9,25,79,-15,5,7,26,75,14,31,39,27,67,37,58,66,26,67,28,35,49,26,68,27,57,69,25,72,22,56,69,26,71,27,55,66,26,73,21,23,32,27,69,43,58,68,27,67,42,58,68,26,77,-11,14,18,25,83,-20,7,8,26,80,-18,6,8,25,77,-16,8,10,26,78,-18,6,8,26,78,-17,6,7,27,69,38,58,66,27,78,2,37,43,27,75,17,60,74,26,76,16,55,72,26,77,1,30,37,26,77,-5,20,36,26,74,22,63,78,26,78,12,45,50,26,74,13,38,50,26,74,6,20,24,26,80,-20,6,7,26,80,-19,7,8,25,78,-17,5,6,25,78,-17,6,8,25,77,-17,4,5,27,69,32,48,55,27,79,8,44,49,26,80,-18,6,8,26,80,16,56,64,26,78,3,45,51,25,78,7,42,48,26,75,14,46,53,26,77,-2,25,28,27,69,33,52,63,26,77,-1,19,22,25,79,-19,6,8,26,79,-20,5,6,25,78,-14,8,10,26,78,-18,6,8,25,78,-19,5,6,26,71,27,32,49,27,76,13,52,66,27,76,11,49,57,27,76,22,67,77,26,75,1,44,50,26,77,6,42,48,27,73,24,67,83,26,74,19,54,60,27,70,30,51,60,26,77,1,20,24,26,81,-19,6,7,26,80,-22,6,7,26,77,-20,5,7,25,81,-18,6,7,26,78,-17,17,21,27,71,25,47,56,26,76,-9,24,33,26,76,3,44,50,26,78,3,44,50,26,79,-21,7,8,26,76,-19,7,8,26,76,6,44,62,26,76,5,26,39,27,72,15,37,42,26,76,0,18,21,26,81,-19,5,6,25,80,-20,6,7,26,77,-20,7,9,26,78,-23,7,8,25,79,-15,17,21,27,68,39,60,74,26,76,-12,15,23,26,74,3,47,53,29,58,46,57,65,28,66,32,47,52,26,78,-17,7,9,25,78,9,45,67,26,77,10,27,37,26,77,7,33,40,26,73,17,21,24,25,80,-19,5,6,26,79,-21,6,7,26,79,-15,6,8,26,78,-23,6,7,26,78,-20,6,8,26,67,34,54,66,26,75,8,51,57,27,75,9,50,58,29,60,52,60,69,28,70,37,50,58,26,78,9,42,48,27,75,26,66,77,26,78,16,43,53,26,78,7,29,56,26,70,32,27,41,26,79,-20,6,7,26,81,-20,6,8,26,79,-13,5,6,25,80,-16,6,8,26,82,-19,6,8,26,71,33,49,56,26,76,6,45,51,27,76,-24,6,7,27,74,13,51,64,26,78,5,32,49,26,77,7,31,48,26,76,13,45,53,25,80,-14,6,7,26,77,9,31,48,26,69,36,55,61,25,79,-16,5,6,26,79,-21,5,6,25,81,-12,7,10,25,80,-14,8,10,26,81,-16,6,8,26,71,33,53,60,26,78,3,34,40,26,77,8,43,49,26,78,5,42,56,26,79,-17,5,7,25,79,-17,6,15,26,77,5,40,46,26,76,6,41,47,26,74,-8,26,40,26,67,38,56,65,26,80,-19,5,7,27,77,-22,5,7,26,82,-12,6,8,26,82,-15,7,8,25,82,-13,8,10,26,74,10,25,32,27,70,33,52,59,26,72,29,53,60,26,70,39,42,58,26,70,39,56,70,27,69,35,42,68,27,67,32,56,64,27,68,28,57,64,27,70,18,37,48,26,78,-10,14,19,26,79,-22,6,7,27,77,-24,5,7,25,84,-10,9,11,24,84,-12,8,10,24,85,-11,9,11,25,84,-9,7,9,25,84,-10,7,9,25,83,-11,10,12,24,84,-11,8,10,25,84,-8,21,32,26,80,-13,25,35,26,78,-21,6,11,26,77,-23,6,7,27,78,-23,5,6,26,80,-18,6,7,26,78,-22,6,8,27,76,-23,6,8],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3026,y:3629},botright:{x:3026,y:3629}}}},{id:47,type:"map",tier:"hard",image_url:"/assets/Map_clue_Fort_Forinthry.png",text:["A crate outside of some fort's walls."],ocr_data:[26,77,176,26,77,-7,6,8,26,77,-9,8,10,25,78,-8,6,7,26,80,-5,5,6,25,77,-6,7,8,26,77,-8,7,9,26,77,-9,6,8,25,80,-11,7,9,25,86,-10,7,8,25,83,-11,6,7,26,81,-9,5,7,26,82,-11,5,6,25,82,-10,5,7,25,85,-11,6,7,26,81,-12,8,10,26,78,0,35,41,26,75,12,89,102,25,79,-8,6,11,26,81,-6,6,8,26,79,-7,7,8,26,77,-10,7,8,26,78,-11,6,7,24,80,-11,6,8,25,80,-14,5,7,26,84,-9,5,6,26,83,-7,6,7,26,82,-11,5,6,26,79,-3,33,42,26,82,3,64,77,26,81,-9,15,21,25,77,-9,8,10,26,78,-2,39,49,27,78,15,75,88,26,81,17,68,77,27,80,14,68,76,27,78,13,69,77,26,80,-2,33,37,26,80,-11,6,8,26,79,5,55,62,26,78,22,87,102,27,80,23,85,97,27,79,18,68,77,27,79,14,72,85,26,67,11,51,64,26,69,2,24,27,25,78,-11,5,6,25,78,-11,6,8,26,77,-11,4,6,26,81,-11,5,6,27,81,-12,6,7,26,80,-12,7,8,25,84,-12,7,8,25,81,-15,6,8,25,63,14,32,39,25,67,39,95,108,26,75,18,71,86,26,78,-3,13,18,32,75,41,44,51,28,73,17,44,52,26,79,-14,5,6,25,78,-8,8,9,26,78,-12,6,8,25,78,-12,5,6,25,80,-12,6,7,26,80,-11,6,7,26,80,-12,6,8,26,81,-15,5,7,26,77,-17,5,7,25,79,-11,6,12,27,34,39,19,23,25,55,19,18,21,27,79,-1,17,24,31,74,44,40,48,28,78,14,37,42,26,80,-15,6,7,26,77,-13,5,7,25,81,-12,6,7,26,78,-16,6,7,26,79,-13,6,8,26,77,-13,6,8,26,78,-15,5,6,26,80,0,25,37,26,78,-4,27,36,26,76,-12,10,16,28,21,56,7,11,27,35,38,17,20,27,79,-10,7,9,26,81,2,22,28,28,81,12,42,49,27,80,4,30,35,26,77,-14,7,8,26,78,-16,7,8,25,80,-14,6,8,26,78,-13,7,9,26,77,-12,6,8,26,72,-8,15,19,27,76,6,40,53,26,76,10,49,55,26,78,-11,7,9,26,54,15,17,20,27,70,12,32,38,26,82,5,22,28,25,82,-6,7,10,32,73,50,42,53,31,73,41,45,53,26,77,8,53,58,27,76,3,31,50,26,77,4,25,40,26,77,0,25,31,27,78,3,23,31,27,71,16,34,54,28,78,23,67,80,27,78,11,46,54,26,67,9,29,33,25,80,-8,10,17,33,73,49,29,36,33,70,53,28,36,25,83,-3,10,17,26,80,2,32,37,27,82,0,30,40,27,78,16,46,53,26,78,11,48,57,27,78,15,48,65,27,78,26,48,72,27,78,10,24,43,27,76,-11,16,27,27,77,-16,6,8,26,78,12,48,54,25,68,5,15,18,26,55,16,18,21,28,78,31,46,51,30,78,34,52,58,26,81,-8,5,6,25,79,-10,5,6,26,79,-15,5,6,25,81,-6,8,10,25,80,-8,9,11,26,81,-10,6,8,25,83,-8,8,11,25,80,-1,10,25,26,78,7,25,35,26,76,19,54,65,26,77,13,45,51,26,60,11,17,20,26,43,28,15,19,26,79,-4,16,23,26,77,-6,19,23,26,79,-12,4,5,26,80,-13,5,7,27,77,-16,5,7,26,82,-6,6,8,26,81,-9,7,8,25,82,-7,8,10,25,80,-8,7,9,26,81,-7,7,8,25,81,-8,6,8,26,80,20,43,50,26,80,16,44,49,26,81,-11,6,7,26,79,-14,5,6,26,78,-14,5,6,27,77,-17,5,6,26,79,-12,6,7,26,79,-16,6,7,27,77,-18,6,7,25,84,-4,8,10,25,84,-6,9,11,24,84,-5,10,12,25,83,-4,7,8,25,84,-5,6,8,25,83,-5,10,12,25,81,20,44,50,26,83,19,40,46,26,81,-14,6,8,26,78,-16,6,8,26,77,-17,6,7,27,78,-17,5,6,26,79,-12,6,7,26,78,-16,6,8,27,76,-17,6,8],solution:{type:"search",entity:"Crate",spot:{level:0,topleft:{x:3312,y:3528},botright:{x:3312,y:3528}}}},{id:59,type:"map",tier:"hard",image_url:"/assets/Map_clue_small_volcanoes.png",text:["X marks the spot between three small volcanoes."],ocr_data:[26,78,184,26,77,0,6,8,26,77,-1,8,10,25,78,0,6,7,26,79,8,24,32,26,77,4,10,20,26,77,0,7,9,26,77,-1,6,8,25,80,-3,7,9,25,86,-2,7,8,25,82,-3,6,7,26,82,-1,5,6,26,82,-3,4,6,25,82,-2,5,7,25,85,-3,6,7,26,81,-4,8,10,26,78,0,7,9,25,76,-4,7,9,25,79,-1,5,7,26,75,19,61,68,26,78,4,18,25,26,78,-3,7,8,25,78,-3,6,7,24,80,-4,6,8,25,80,-5,5,7,26,84,-1,5,6,26,83,1,6,8,26,82,-3,5,6,25,79,-5,5,7,25,83,-6,7,8,26,80,-4,6,8,25,77,-2,8,10,26,78,-4,6,8,26,78,-3,6,7,25,82,0,5,7,26,80,-3,5,6,26,79,-3,5,7,26,80,-4,5,6,26,80,-3,6,8,25,79,-4,7,8,26,79,-3,5,7,26,81,0,6,7,26,79,-1,5,6,26,79,-3,5,7,26,80,-6,6,7,26,80,-5,7,8,25,78,-3,5,6,25,78,-3,6,8,25,77,-3,4,5,26,81,-3,4,6,27,81,-4,6,7,26,80,0,14,19,25,84,-2,12,17,25,80,-7,6,8,24,80,-1,7,8,25,78,-2,6,8,26,78,0,7,9,26,78,2,7,9,26,80,-1,6,8,25,79,-5,6,8,26,79,-6,5,6,25,78,0,8,10,26,78,-4,6,8,25,78,-5,5,6,25,80,-3,6,7,26,80,-3,6,7,25,58,36,42,47,25,63,27,36,41,26,77,-9,5,7,25,79,-3,6,8,26,77,-3,11,22,25,77,-1,6,8,27,79,1,8,12,26,76,19,96,103,26,81,-5,6,7,26,80,-8,6,7,26,77,-6,5,7,25,81,-4,6,7,26,78,-8,6,7,26,79,-5,6,8,26,77,-6,6,7,26,78,-7,5,6,25,80,-4,14,23,25,71,61,122,141,26,63,20,42,55,24,46,101,37,51,25,76,0,13,20,27,79,-2,7,9,26,77,5,20,23,26,81,-5,5,6,25,80,-6,6,7,26,77,-6,7,9,26,78,-9,7,8,25,80,-6,6,8,26,78,-4,7,9,26,77,-4,6,8,26,76,-7,7,8,26,78,-8,7,13,25,75,15,38,47,25,63,22,31,41,23,47,47,22,26,26,71,13,22,27,26,82,3,7,8,25,82,1,8,9,25,80,-5,5,6,26,79,-7,6,7,26,79,-1,6,8,26,78,-9,6,7,26,78,-6,6,8,25,78,-2,8,9,26,78,-5,6,7,27,78,-8,5,7,27,81,-7,6,8,26,81,-4,6,7,26,81,1,7,9,26,80,-1,7,9,25,82,1,6,8,26,80,2,7,9,25,83,0,6,7,26,79,-6,6,7,26,81,-6,6,8,26,79,1,5,6,25,80,-2,6,8,26,82,-5,6,8,26,82,0,9,11,26,79,-5,6,8,27,76,-10,6,7,27,77,-8,6,11,24,53,58,59,66,25,79,-1,7,13,25,80,-3,5,7,25,80,0,6,7,26,80,-1,4,5,26,81,-1,4,6,25,79,-2,5,6,26,79,-7,5,6,25,81,2,7,10,25,80,0,8,10,26,81,-2,6,8,25,83,1,8,10,25,80,0,6,7,26,79,-2,6,7,25,80,-1,7,11,25,70,11,21,25,25,78,-2,7,11,26,78,-3,6,7,25,79,-3,5,6,26,76,-8,4,5,26,79,-4,4,5,26,80,-5,5,7,27,77,-8,5,7,26,82,2,6,8,26,82,-1,7,8,25,82,1,8,10,25,80,0,7,9,26,80,5,25,33,26,77,17,76,86,25,83,1,8,10,25,83,1,7,9,26,81,-3,6,7,26,78,-6,5,6,26,78,-7,5,6,27,77,-9,5,6,26,80,-4,6,8,26,79,-8,6,7,27,77,-10,5,7,25,84,4,9,11,24,84,2,8,10,24,85,3,9,11,25,84,5,7,9,25,84,4,7,9,25,81,8,18,24,24,84,3,8,10,25,85,1,10,12,26,80,-6,6,8,26,78,-7,6,8,26,77,-9,6,7,27,78,-9,5,6,26,80,-4,6,7,26,78,-8,6,8,27,76,-9,6,8],solution:{type:"dig",spot:{x:3021,y:3913,level:0},description:"two tiles west of the large geyser"}}],e.anagram=[{id:14,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Eek Zero Op"],challenge:[{type:"challengescroll",question:"How many animals are in the Ardougne Zoo?",answers:[{answer:40,note:"Before Eagles' Peak and Hunt for Red Raktuber"},{answer:41,note:"After either Eagles' Peak or Hunt for Red Raktuber"},{answer:42,note:"After both Eagles' Peak and Hunt for Red Raktuber"}]}],solution:{type:"talkto",npc:"Zookeeper",spots:[{range:{origin:{x:2607,y:3268,level:0},size:{x:14,y:14}},description:"in Ardougne Zoo"}]},anagram:["Eek Zero Op"]},{id:24,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Stab Ob","This anagram reveals who to speak to next: Boast B"],solution:{type:"talkto",spots:[{id:"before-death-plateu",description:"in his cave near Burthorpe",range:{origin:{x:2267,y:4752,level:0},size:{x:5,y:9}},note:"Before 'Death Plateu'"}],npc:"Sabbot"},anagram:["Stab Ob","Boast B"]},{id:318,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Nod med"],challenge:[{type:"challengescroll",question:"How many pigeon cages are there around the back of Jerico's house?",answers:[{answer:3}]}],solution:{type:"talkto",npc:"Edmond",spots:[{range:{origin:{x:2564,y:3330,level:0},size:{x:7,y:7}},description:"north of Ardougne castle"}]},anagram:["Nod med"]},{id:320,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Winston Lane"],challenge:[{type:"challengescroll",question:"How many tables are there in the Pick and Lute Inn?",answers:[{answer:10}]}],solution:{type:"talkto",npc:"Nails Newton",spots:[{range:{origin:{x:2880,y:3443,level:0},size:{x:3,y:3}},description:"near Taverley Lodestone"}]},anagram:["Winston Lane"]},{id:321,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Or A Vile"],challenge:[{type:"challengescroll",question:"How many windows look out into the Citharede Abbey courtyard?",answers:[{answer:17}]}],solution:{type:"talkto",npc:"Valerio",spots:[{range:{origin:{x:3399,y:3148,level:0},size:{x:3,y:3}},description:"outside of the abbey"}]},anagram:["Or A Vile"]},{id:322,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Icy Fe"],solution:{type:"talkto",npc:"Fycie",spots:[{range:{origin:{x:2646,y:9390,level:0},size:{x:8,y:9}},description:"in Rantz's cave"}]},anagram:["Icy Fe"]},{id:323,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Aha Jar"],solution:{type:"talkto",npc:"Jaraah",spots:[{range:{origin:{x:3290,y:3215,level:0},size:{x:8,y:5}},description:"at the northern end of Al Kharid"}]},anagram:["Aha Jar"]},{id:326,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Bail Trims"],solution:{type:"talkto",spots:[{range:{origin:{x:2405,y:9815,level:0},size:{x:9,y:8}},description:"in his cave at Tree Gnome Stronghold"}],npc:"Brimstail"},anagram:["Bail Trims"]},{id:327,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Ok Co"],challenge:[{type:"challengescroll",question:"How many cannons does Lumbridge Castle have?",answers:[{answer:7}]}],solution:{type:"talkto",npc:"Cook",spots:[{range:{origin:{x:3208,y:3215,level:0},size:{x:3,y:1}},description:"in Lumbridge Castle's kitchen"}]},anagram:["Ok Co"]},{id:328,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Are Col"],challenge:[{type:"challengescroll",question:"If x is 15 and y is 3, what is 3x + y? ",answers:[{answer:48}]}],solution:{type:"talkto",npc:"Oracle",spots:[{range:{origin:{x:3008,y:3498,level:0},size:{x:12,y:6}},description:"on the peak of Ice Mountain"}]},anagram:["Are Col"]},{id:329,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Arc O Line"],challenge:[{type:"challengescroll",question:"How many fishermen are there on the Fishing Platform?",answers:[{answer:11,note:"Before 'Kennith's Concerns'"},{answer:0,note:"After 'Kennith's Concerns'"}]}],solution:{type:"talkto",npc:"Caroline",spots:[{id:"default",description:"in Witchhaven",range:{origin:{x:2713,y:3290,level:0},size:{x:6,y:16}},note:"Before 'Sea Slug'"},{range:{origin:{x:2708,y:3280,level:1},size:{x:5,y:6}},description:"in her house in Witchhaven",note:"After 'Sea Slug'."}]},anagram:["Arc O Line"]},{id:330,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Goblin Kern"],solution:{type:"talkto",spots:[{range:{origin:{x:2540,y:3167,level:0},size:{x:3,y:5}},description:"in Tree Gnome Village"}],npc:"King Bolren"},anagram:["Goblin Kern"]},{id:331,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Soy Drain"],challenge:[{type:"challengescroll",question:"How many ore rocks are there in the nearby copper and tin mine?",answers:[{answer:8}]}],solution:{type:"talkto",npc:"Ysondria",spots:[{range:{origin:{x:3219,y:3182,level:0},size:{x:3,y:3}},description:"at the Nexus"}]},anagram:["Soy Drain"]},{id:332,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Dt Run B"],challenge:[{type:"challengescroll",question:"How many people are waiting for the next bard to perform?",answers:[{answer:4}]}],solution:{type:"talkto",npc:"Brundt the Chieftain",spots:[{range:{origin:{x:2657,y:3666,level:0},size:{x:4,y:5}},description:"in Relekka Longhall"}]},anagram:["Dt Run B"]},{id:334,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Me if"],solution:{type:"talkto",spots:[{range:{origin:{x:2457,y:3380,level:0},size:{x:5,y:3}},description:"at gates of Tree Gnome Stronghold"}],npc:"Femi"},anagram:["Me if"]},{id:335,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: R Ak Mi"],challenge:[{type:"challengescroll",question:"I have 16 kebabs, I eat one myself and share the rest equally between 3 friends. How many do they have each?",answers:[{answer:5}]}],solution:{type:"talkto",npc:"Karim",spots:[{range:{origin:{x:3269,y:3182,level:0},size:{x:3,y:3}},description:"in Al Kharid"}]},anagram:["R Ak Mi"]},{id:336,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Got A Boy"],challenge:[{type:"challengescroll",question:"How many buildings are in the village?",answers:[{answer:11}]}],solution:{type:"talkto",npc:"Gabooty",spots:[{range:{origin:{x:2786,y:3063,level:0},size:{x:16,y:8}},description:"in Tai Bwo Wannai Village"}]},anagram:["Got A Boy"]},{id:337,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Halt Us"],solution:{type:"talkto",spots:[{range:{origin:{x:2935,y:3152,level:0},size:{x:7,y:5}},description:"at Musa Point"}],npc:"Luthas"},anagram:["Halt Us"]},{id:338,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Err Cure It"],challenge:[{type:"challengescroll",question:"How many houses have a cross on the door?",answers:[{answer:20}]}],solution:{type:"talkto",npc:"Recruiter",spots:[{range:{origin:{x:2539,y:3302,level:0},size:{x:6,y:7}},description:"in West Ardougne"}]},anagram:["Err Cure It"]},{id:339,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Iz A Ammo Load For Mrs Yakkers"],challenge:[{type:"challengescroll",question:"How many bottles are there on the stall to the east of Mr Ex?",answers:[{answer:7}]}],solution:{type:"talkto",npc:"Moldark, Emissary of Zamorak",spots:[{range:{origin:{x:3104,y:3508,level:0},size:{x:2,y:3}},description:"in Edgeville"}]},anagram:["Iz A Ammo Load For Mrs Yakkers"]},{id:340,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Im Krom"],challenge:[{type:"challengescroll",question:"How many rocks in the Rimmington mine cannot be used to make bronze?",answers:[{answer:7}]}],solution:{type:"talkto",npc:"Rommik",spots:[{range:{origin:{x:2945,y:3193,level:0},size:{x:6,y:7}},description:"in Rimmington"}]},anagram:["Im Krom"]},{id:341,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: El Ow"],solution:{type:"talkto",spots:[{range:{origin:{x:3230,y:3420,level:0},size:{x:7,y:3}},description:"in Varrock's Archery Store"}],npc:"Lowe"},anagram:["El Ow"]},{id:342,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Peaty Pert"],solution:{type:"talkto",spots:[{range:{origin:{x:3048,y:3372,level:0},size:{x:7,y:7}},description:"in the Party Room"}],npc:"Party Pete"},anagram:["Peaty Pert"]},{id:343,type:"anagram",tier:"medium",text:["This anagram reveals who to speak to next: Lark In Dog"],challenge:[{type:"challengescroll",question:"How many bookcases are there in the Varrock Palace library?",answers:[{answer:24}]}],solution:{type:"talkto",npc:"King Roald",spots:[{range:{origin:{x:3217,y:3471,level:0},size:{x:8,y:8}},description:"in Varrock Castle"}]},anagram:["Lark In Dog"]},{id:20,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Me Am The Calc","This anagram reveals who to speak to next: Ace Match Elm","This anagram reveals who to speak to next: The Cal Came"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3284,y:3234,level:0},size:{x:11,y:8}},description:"north of Al Kharid"}],npc:"Cam the Camel"},anagram:["Me Am The Calc","Ace Match Elm","The Cal Came"]},{id:287,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: I Eat Its Chart Hints Do U"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3420,y:2926,level:0},size:{x:11,y:5}},description:"in Nardah"}],npc:"Shiratti the Custodian"},anagram:["I Eat Its Chart Hints Do U"]},{id:288,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: An Paint Tonic"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2868,y:9876,level:0},size:{x:3,y:2}},description:"in the Dwarven Tunnel under the White Wolf Mountain"}],npc:"Captain Ninto"},anagram:["An Paint Tonic"]},{id:289,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Arr! So I am a crust, and?"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2338,y:3673,level:0},size:{x:9,y:6}},description:"at the Piscatoris Fishing Colony"}],npc:"Ramara du Croissant"},anagram:["Arr! So I am a crust, and?"]},{id:290,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: C On Game Hoc"],challenge:[{type:"challengescroll",question:"How many gnomes on the gnome ball field have red patches on their uniforms?",answers:[{answer:6}]}],solution:{type:"talkto",npc:"Gnome Coach",spots:[{range:{origin:{x:2405,y:3497,level:0},size:{x:3,y:3}},description:"north-east of the gnomeball field"}]},anagram:["C On Game Hoc"]},{id:291,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: He Do Pose. It Is Cultrrl, Mk?"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2903,y:10206,level:0},size:{x:3,y:3}},description:"in eastern Keldagrim"}],npc:"Riki the sculptor's model"},anagram:["He Do Pose. It Is Cultrrl, Mk?"]},{id:292,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Profs Lose Wrong Pie"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3103,y:3146,level:0},size:{x:12,y:20}},description:"on the ground floor of Wizard's Tower"}],npc:"Professor Onglewip"},anagram:["Profs Lose Wrong Pie"]},{id:293,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: O Birdz A Zany En Pc"],challenge:[{type:"challengescroll",question:"How many banana trees are there in the plantation?",answers:[{answer:33}]}],solution:{type:"talkto",npc:"Cap'n Izzy No-Beard",spots:[{range:{origin:{x:2806,y:3190,level:0},size:{x:4,y:3},data:"7g8="},description:"at the Agility Arena"}]},anagram:["O Birdz A Zany En Pc"]},{id:295,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Red Art Tans"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3032,y:3190,level:0},size:{x:3,y:2}},description:"in Port Sarim"}],npc:"Trader Stan"},anagram:["Red Art Tans"]},{id:296,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Or Zinc Fumes Ward"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2587,y:9488,level:0},size:{x:3,y:2}},description:"in the basement of Wizard's Guild"}],npc:"Wizard Frumscone"},anagram:["Or Zinc Fumes Ward"]},{id:297,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: By Look"],challenge:[{type:"challengescroll",question:"How many flowers are there in the clearing below this platform?",answers:[{answer:13}]}],solution:{type:"talkto",npc:"Bolkoy",spots:[{range:{origin:{x:2525,y:3160,level:1},size:{x:7,y:5}},description:"in Tree Gnome Village"}]},anagram:["By Look"]},{id:298,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Sequin Dirge"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2499,y:3861,level:1},size:{x:4,y:4}},note:"After 'Blood Runs Deep'",description:"in Miscellania's Throneroom"},{range:{origin:{x:2612,y:3871,level:1},size:{x:6,y:9}},note:"Before 'Blood Runs Deep'",description:"in Etceteria Castle"}],npc:"Queen Sigrid"},anagram:["Sequin Dirge"]},{id:299,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: A Zen She"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2657,y:3291,level:0},size:{x:5,y:3}},description:"in her house south of Ardougne Market"}],npc:"Zenesha"},anagram:["A Zen She"]},{id:300,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Gulag Run"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2437,y:3047,level:0},size:{x:14,y:11}},description:"south of Castle Wars"}],npc:"Uglug Nar"},anagram:["Gulag Run"]},{id:301,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: Land Doomd"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:3358,y:3502,level:0},size:{x:7,y:9}},description:"at the limestone mine"}],npc:"Odd Old Man"},anagram:["Land Doomd"]},{id:302,type:"anagram",tier:"hard",text:["This anagram reveals who to speak to next: I Faffy Run"],challenge:[{type:"slider"}],solution:{type:"talkto",spots:[{range:{origin:{x:2384,y:4466,level:0},size:{x:6,y:6}},description:"north of the bank in Zanaris"}],npc:"Fairy Nuff"},anagram:["I Faffy Run"]},{id:303,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: An exile that isn't wholly free WE IRK OVER NAMESAKE."],solution:{type:"talkto",spots:[{range:{origin:{x:4644,y:5382,level:0},size:{x:5,y:5}},description:"at the bottom of Polypore Dungeon"}],npc:"Ramokee Skinweaver"},anagram:["WE IRK OVER NAMESAKE"]},{id:306,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: He often preaches of QUIT THY BRINE RAT ROLL"],solution:{type:"talkto",spots:[{range:{origin:{x:3679,y:2960,level:0},size:{x:5,y:5}},description:"by the docks on Mos Le'Harmless",note:"Mos Le'Harmless"},{range:{origin:{x:3783,y:2822,level:0},size:{x:8,y:8}},description:"on Harmony Island",note:"Harmony"}],npc:"Brother Tranquility"},anagram:["QUIT THY BRINE RAT ROLL"]},{id:307,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: They seek spirits O EASTERN WISHES"],challenge:[{type:"towers"}],solution:{type:"talkto",spots:[{range:{origin:{x:1784,y:11952,level:0},size:{x:3,y:3}},description:"on Tuaei Leit"}],npc:"Sensei Seaworth"},anagram:["O EASTERN WISHES"]},{id:308,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: This lady wants me to find ancient scrolls ERGO I DIG CLAY"],challenge:[{type:"towers"}],solution:{type:"talkto",spots:[{id:"outside",description:"outside of the entrance to the empty throne room",range:{origin:{x:3376,y:3403,level:0},size:{x:3,y:3}},note:"Outside the empty throne room"},{id:"inside",description:"inside the empty throne room",range:{origin:{x:2825,y:12630,level:2},size:{x:3,y:3}},note:"Inside the empty throne room"}],npc:"Celia Diggory"},anagram:["ERGO I DIG CLAY"]},{id:309,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: Master of the elements, he may REIGN US IF IMMORTAL"],challenge:[{type:"lockbox"}],solution:{type:"talkto",spots:[{id:"armadyl-tower",range:{origin:{x:2997,y:3263,level:0},size:{x:8,y:11}},description:"by Armadyl's tower"},{id:"city-of-um",range:{origin:{x:1034,y:1762,level:1},size:{x:3,y:3}},description:"at the Ritual Site"}],npc:"Malignus mortifer"},anagram:["REIGN US IF IMMORTAL"]},{id:310,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: If distracted from their work AH; WET ARM"],challenge:[{type:"lockbox"}],solution:{type:"talkto",spots:[{range:{origin:{x:2346,y:3163,level:0},size:{x:3,y:3}},description:"in Lletya"}],npc:"Amaethwr"},anagram:["AH; WET ARM"]},{id:311,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: Young but stylish PIN HEIR ALL IN PLACE"],solution:{type:"talkto",npc:"Philippe Carnillean",spots:[{id:"before",description:"at Carnillean Mansion",range:{origin:{x:2564,y:3267,level:0},size:{x:12,y:8}},note:"Before Carnillean Rising"},{id:"50qp",description:"at the entrance of Ardougne Combat Training Camp",range:{origin:{x:2514,y:3354,level:0},size:{x:8,y:4}},note:"50 qp."},{id:"100qp",description:"at the entrance to Mountain Camp",range:{origin:{x:2752,y:3649,level:0},size:{x:8,y:8}},note:"100 qp."},{id:"150qp",description:"in Shilo Village",range:{origin:{x:2857,y:2993,level:1},size:{x:9,y:9}},note:"150 qp."},{id:"200qp",description:"in the Green Ghost Inn",range:{origin:{x:3671,y:3489,level:0},size:{x:11,y:11}},note:"200 qp."},{id:"250qp",description:"at the bottom of Polypore Dungeon",range:{origin:{x:4643,y:5384,level:0},size:{x:8,y:8}},note:"250 qp."},{id:"300qp",description:"outside of Oldak's house",range:{origin:{x:2709,y:5357,level:0},size:{x:6,y:6}},note:"300 qp."},{id:"350qp",description:"at Piscatoris Fishing Colony",range:{origin:{x:2338,y:3673,level:0},size:{x:9,y:6}},note:"350 qp."},{id:"400qp",description:"at the TzHaar fight Caves",range:{origin:{x:4610,y:5123,level:0},size:{x:8,y:8}},note:"400 qp."},{id:"450qp",description:"in the City of Um",range:{origin:{x:1127,y:1719,level:1},size:{x:5,y:5}},note:"450 qp."}]},anagram:["PIN HEIR ALL IN PLACE"]},{id:312,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: In his youth, this adventurer was a WINSOME LAD"],solution:{type:"talkto",spots:[{range:{origin:{x:3087,y:3254,level:0},size:{x:3,y:2}},description:"in Draynor"}],npc:"Wise Old Man"},anagram:["WINSOME LAD"]},{id:313,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: The cabbage diet must work because he has A PURE GLOW"],solution:{type:"talkto",spots:[{id:"life-altar",note:"After Gower Quest",range:{origin:{x:1055,y:5549,level:1},size:{x:3,y:3}},description:"at the Life Altar"},{id:"farm",note:"Before Gower Quest",range:{origin:{x:3252,y:3353,level:0},size:{x:5,y:3}},description:"at the farm south of Varrock"}],npc:"Paul Gower"},anagram:["A PURE GLOW"]},{id:314,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: Age allows a new perspective in this vital place TABOO RISES SHYLY"],solution:{type:"talkto",spots:[{range:{origin:{x:3197,y:6960,level:1},size:{x:3,y:3}},description:"at the entrance to Telos"}],npc:"Soothsayer Sybil"},anagram:["TABOO RISES SHYLY"]},{id:315,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: With her age, it's no surprise to HEAR A LADY RANT"],solution:{type:"talkto",spots:[{range:{origin:{x:2220,y:3297,level:1},size:{x:3,y:3}},description:"at the seren stones"}],npc:"Lady Trahaearn"},anagram:["HEAR A LADY RANT"]},{id:316,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: He claimed to be a human scholar but I SAW THE LIE"],solution:{type:"talkto",spots:[{range:{origin:{x:3416,y:2935,level:0},size:{x:6,y:6}},description:"in Nardaah"}],npc:"Ali The Wise"},anagram:["I SAW THE LIE"]},{id:317,type:"anagram",tier:"master",text:["This anagram reveals who to speak to next: His job leaves him kind of HATED"],solution:{type:"talkto",spots:[{id:"office",range:{origin:{x:414,y:674,level:0}},description:"in Death's Office",note:"Death's Office"}],npc:"Death"},anagram:["HATED"]}],e.coordinates=[{id:402,type:"coordinates",tier:"medium",text:["00 degrees 05 minutes south,01 degrees 13 minutes east"],coordinates:{latitude:{degrees:0,minutes:5,direction:"south"},longitude:{degrees:1,minutes:13,direction:"east"}}},{id:403,type:"coordinates",tier:"medium",text:["00 degrees 13 minutes south,14 degrees 00 minutes east"],coordinates:{latitude:{degrees:0,minutes:13,direction:"south"},longitude:{degrees:14,minutes:0,direction:"east"}}},{id:404,type:"coordinates",tier:"medium",text:["00 degrees 18 minutes south,09 degrees 28 minutes east"],coordinates:{latitude:{degrees:0,minutes:18,direction:"south"},longitude:{degrees:9,minutes:28,direction:"east"}}},{id:405,type:"coordinates",tier:"medium",text:["00 degrees 20 minutes south,23 degrees 15 minutes east"],coordinates:{latitude:{degrees:0,minutes:20,direction:"south"},longitude:{degrees:23,minutes:15,direction:"east"}}},{id:406,type:"coordinates",tier:"medium",text:["00 degrees 31 minutes south,17 degrees 43 minutes east"],coordinates:{latitude:{degrees:0,minutes:31,direction:"south"},longitude:{degrees:17,minutes:43,direction:"east"}}},{id:407,type:"coordinates",tier:"medium",text:["00 degrees 50 minutes north,24 degrees 16 minutes east"],coordinates:{latitude:{degrees:0,minutes:50,direction:"north"},longitude:{degrees:24,minutes:16,direction:"east"}}},{id:408,type:"coordinates",tier:"medium",text:["01 degrees 18 minutes south,14 degrees 15 minutes east"],coordinates:{latitude:{degrees:1,minutes:18,direction:"south"},longitude:{degrees:14,minutes:15,direction:"east"}}},{id:410,type:"coordinates",tier:"medium",text:["01 degrees 26 minutes north,08 degrees 01 minutes east"],coordinates:{latitude:{degrees:1,minutes:26,direction:"north"},longitude:{degrees:8,minutes:1,direction:"east"}}},{id:411,type:"coordinates",tier:"medium",text:["01 degrees 35 minutes south,07 degrees 28 minutes east"],coordinates:{latitude:{degrees:1,minutes:35,direction:"south"},longitude:{degrees:7,minutes:28,direction:"east"}}},{id:413,type:"coordinates",tier:"medium",text:["02 degrees 50 minutes north,06 degrees 20 minutes east"],coordinates:{latitude:{degrees:2,minutes:50,direction:"north"},longitude:{degrees:6,minutes:20,direction:"east"}}},{id:414,type:"coordinates",tier:"medium",text:["02 degrees 50 minutes north,21 degrees 46 minutes east"],coordinates:{latitude:{degrees:2,minutes:50,direction:"north"},longitude:{degrees:21,minutes:46,direction:"east"}}},{id:416,type:"coordinates",tier:"medium",text:["03 degrees 35 minutes south,13 degrees 35 minutes east"],coordinates:{latitude:{degrees:3,minutes:35,direction:"south"},longitude:{degrees:13,minutes:35,direction:"east"}}},{id:419,type:"coordinates",tier:"medium",text:["04 degrees 00 minutes south,12 degrees 46 minutes east"],coordinates:{latitude:{degrees:4,minutes:0,direction:"south"},longitude:{degrees:12,minutes:46,direction:"east"}}},{id:422,type:"coordinates",tier:"medium",text:["04 degrees 13 minutes north,12 degrees 45 minutes east"],coordinates:{latitude:{degrees:4,minutes:13,direction:"north"},longitude:{degrees:12,minutes:45,direction:"east"}}},{id:425,type:"coordinates",tier:"medium",text:["05 degrees 20 minutes south,04 degrees 28 minutes east"],coordinates:{latitude:{degrees:5,minutes:20,direction:"south"},longitude:{degrees:4,minutes:28,direction:"east"}}},{id:427,type:"coordinates",tier:"medium",text:["05 degrees 43 minutes north,23 degrees 05 minutes east"],coordinates:{latitude:{degrees:5,minutes:43,direction:"north"},longitude:{degrees:23,minutes:5,direction:"east"}}},{id:431,type:"coordinates",tier:"medium",text:["06 degrees 31 minutes north,01 degrees 46 minutes west"],coordinates:{latitude:{degrees:6,minutes:31,direction:"north"},longitude:{degrees:1,minutes:46,direction:"west"}}},{id:432,type:"coordinates",tier:"medium",text:["07 degrees 05 minutes north,30 degrees 56 minutes east"],coordinates:{latitude:{degrees:7,minutes:5,direction:"north"},longitude:{degrees:30,minutes:56,direction:"east"}}},{id:434,type:"coordinates",tier:"medium",text:["07 degrees 33 minutes north,15 degrees 00 minutes east"],coordinates:{latitude:{degrees:7,minutes:33,direction:"north"},longitude:{degrees:15,minutes:0,direction:"east"}}},{id:440,type:"coordinates",tier:"medium",text:["08 degrees 33 minutes north,01 degrees 39 minutes west"],coordinates:{latitude:{degrees:8,minutes:33,direction:"north"},longitude:{degrees:1,minutes:39,direction:"west"}}},{id:442,type:"coordinates",tier:"medium",text:["09 degrees 33 minutes north,02 degrees 15 minutes east"],coordinates:{latitude:{degrees:9,minutes:33,direction:"north"},longitude:{degrees:2,minutes:15,direction:"east"}}},{id:443,type:"coordinates",tier:"medium",text:["09 degrees 48 minutes north,17 degrees 39 minutes east"],coordinates:{latitude:{degrees:9,minutes:48,direction:"north"},longitude:{degrees:17,minutes:39,direction:"east"}}},{id:444,type:"coordinates",tier:"medium",text:["11 degrees 03 minutes north,31 degrees 20 minutes east"],coordinates:{latitude:{degrees:11,minutes:3,direction:"north"},longitude:{degrees:31,minutes:20,direction:"east"}}},{id:445,type:"coordinates",tier:"medium",text:["11 degrees 05 minutes north,00 degrees 45 minutes west"],coordinates:{latitude:{degrees:11,minutes:5,direction:"north"},longitude:{degrees:0,minutes:45,direction:"west"}}},{id:446,type:"coordinates",tier:"medium",text:["11 degrees 41 minutes north,14 degrees 58 minutes east"],coordinates:{latitude:{degrees:11,minutes:41,direction:"north"},longitude:{degrees:14,minutes:58,direction:"east"}}},{id:449,type:"coordinates",tier:"medium",text:["14 degrees 54 minutes north,09 degrees 13 minutes east"],coordinates:{latitude:{degrees:14,minutes:54,direction:"north"},longitude:{degrees:9,minutes:13,direction:"east"}}},{id:462,type:"coordinates",tier:"medium",text:["22 degrees 30 minutes north,03 degrees 01 minutes east"],coordinates:{latitude:{degrees:22,minutes:30,direction:"north"},longitude:{degrees:3,minutes:1,direction:"east"}}},{id:401,type:"coordinates",tier:"hard",text:["00 degrees 00 minutes north,07 degrees 13 minutes west"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:0,minutes:0,direction:"north"},longitude:{degrees:7,minutes:13,direction:"west"}}},{id:409,type:"coordinates",tier:"hard",text:["01 degrees 24 minutes north,08 degrees 05 minutes west"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:1,minutes:24,direction:"north"},longitude:{degrees:8,minutes:5,direction:"west"}}},{id:412,type:"coordinates",tier:"hard",text:["02 degrees 33 minutes north,28 degrees 45 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:2,minutes:33,direction:"north"},longitude:{degrees:28,minutes:45,direction:"east"}}},{id:415,type:"coordinates",tier:"hard",text:["03 degrees 03 minutes south,05 degrees 03 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:3,minutes:3,direction:"south"},longitude:{degrees:5,minutes:3,direction:"east"}}},{id:417,type:"coordinates",tier:"hard",text:["03 degrees 39 minutes south,13 degrees 58 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:3,minutes:39,direction:"south"},longitude:{degrees:13,minutes:58,direction:"east"}}},{id:418,type:"coordinates",tier:"hard",text:["03 degrees 45 minutes south,22 degrees 45 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:3,minutes:45,direction:"south"},longitude:{degrees:22,minutes:45,direction:"east"}}},{id:420,type:"coordinates",tier:"hard",text:["04 degrees 03 minutes south,03 degrees 11 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:4,minutes:3,direction:"south"},longitude:{degrees:3,minutes:11,direction:"east"}}},{id:421,type:"coordinates",tier:"hard",text:["04 degrees 05 minutes south,04 degrees 24 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:4,minutes:5,direction:"south"},longitude:{degrees:4,minutes:24,direction:"east"}}},{id:423,type:"coordinates",tier:"hard",text:["04 degrees 16 minutes south,16 degrees 16 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:4,minutes:16,direction:"south"},longitude:{degrees:16,minutes:16,direction:"east"}}},{id:424,type:"coordinates",tier:"hard",text:["04 degrees 41 minutes north,03 degrees 09 minutes west"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:4,minutes:41,direction:"north"},longitude:{degrees:3,minutes:9,direction:"west"}}},{id:426,type:"coordinates",tier:"hard",text:["05 degrees 37 minutes north,31 degrees 15 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:5,minutes:37,direction:"north"},longitude:{degrees:31,minutes:15,direction:"east"}}},{id:428,type:"coordinates",tier:"hard",text:["05 degrees 50 minutes south,10 degrees 05 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:5,minutes:50,direction:"south"},longitude:{degrees:10,minutes:5,direction:"east"}}},{id:429,type:"coordinates",tier:"hard",text:["06 degrees 00 minutes south,21 degrees 48 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:6,minutes:0,direction:"south"},longitude:{degrees:21,minutes:48,direction:"east"}}},{id:430,type:"coordinates",tier:"hard",text:["06 degrees 11 minutes south,15 degrees 07 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:6,minutes:11,direction:"south"},longitude:{degrees:15,minutes:7,direction:"east"}}},{id:433,type:"coordinates",tier:"hard",text:["07 degrees 22 minutes north,14 degrees 15 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:7,minutes:22,direction:"north"},longitude:{degrees:14,minutes:15,direction:"east"}}},{id:435,type:"coordinates",tier:"hard",text:["07 degrees 41 minutes north,06 degrees 00 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:7,minutes:41,direction:"north"},longitude:{degrees:6,minutes:0,direction:"east"}}},{id:436,type:"coordinates",tier:"hard",text:["07 degrees 43 minutes south,12 degrees 26 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:7,minutes:43,direction:"south"},longitude:{degrees:12,minutes:26,direction:"east"}}},{id:437,type:"coordinates",tier:"hard",text:["08 degrees 03 minutes north,31 degrees 16 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:8,minutes:3,direction:"north"},longitude:{degrees:31,minutes:16,direction:"east"}}},{id:438,type:"coordinates",tier:"hard",text:["08 degrees 05 minutes south,15 degrees 56 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:8,minutes:5,direction:"south"},longitude:{degrees:15,minutes:56,direction:"east"}}},{id:439,type:"coordinates",tier:"hard",text:["08 degrees 26 minutes south,10 degrees 28 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:8,minutes:26,direction:"south"},longitude:{degrees:10,minutes:28,direction:"east"}}},{id:441,type:"coordinates",tier:"hard",text:["09 degrees 22 minutes north,02 degrees 24 minutes west"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:9,minutes:22,direction:"north"},longitude:{degrees:2,minutes:24,direction:"west"}}},{id:447,type:"coordinates",tier:"hard",text:["12 degrees 48 minutes north,20 degrees 20 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:12,minutes:48,direction:"north"},longitude:{degrees:20,minutes:20,direction:"east"}}},{id:448,type:"coordinates",tier:"hard",text:["13 degrees 46 minutes north,21 degrees 01 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:13,minutes:46,direction:"north"},longitude:{degrees:21,minutes:1,direction:"east"}}},{id:450,type:"coordinates",tier:"hard",text:["15 degrees 48 minutes north,13 degrees 52 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:15,minutes:48,direction:"north"},longitude:{degrees:13,minutes:52,direction:"east"}}},{id:451,type:"coordinates",tier:"hard",text:["16 degrees 20 minutes north,12 degrees 45 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:16,minutes:20,direction:"north"},longitude:{degrees:12,minutes:45,direction:"east"}}},{id:452,type:"coordinates",tier:"hard",text:["16 degrees 30 minutes north,16 degrees 28 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:16,minutes:30,direction:"north"},longitude:{degrees:16,minutes:28,direction:"east"}}},{id:453,type:"coordinates",tier:"hard",text:["16 degrees 35 minutes north,27 degrees 01 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:16,minutes:35,direction:"north"},longitude:{degrees:27,minutes:1,direction:"east"}}},{id:454,type:"coordinates",tier:"hard",text:["17 degrees 50 minutes north,08 degrees 30 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:17,minutes:50,direction:"north"},longitude:{degrees:8,minutes:30,direction:"east"}}},{id:455,type:"coordinates",tier:"hard",text:["18 degrees 03 minutes north,25 degrees 16 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:18,minutes:3,direction:"north"},longitude:{degrees:25,minutes:16,direction:"east"}}},{id:456,type:"coordinates",tier:"hard",text:["18 degrees 22 minutes north,16 degrees 33 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:18,minutes:22,direction:"north"},longitude:{degrees:16,minutes:33,direction:"east"}}},{id:457,type:"coordinates",tier:"hard",text:["19 degrees 43 minutes north,25 degrees 07 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:19,minutes:43,direction:"north"},longitude:{degrees:25,minutes:7,direction:"east"}}},{id:458,type:"coordinates",tier:"hard",text:["20 degrees 05 minutes north,21 degrees 52 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:20,minutes:5,direction:"north"},longitude:{degrees:21,minutes:52,direction:"east"}}},{id:459,type:"coordinates",tier:"hard",text:["20 degrees 07 minutes north,18 degrees 33 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:20,minutes:7,direction:"north"},longitude:{degrees:18,minutes:33,direction:"east"}}},{id:460,type:"coordinates",tier:"hard",text:["20 degrees 33 minutes north,15 degrees 48 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:20,minutes:33,direction:"north"},longitude:{degrees:15,minutes:48,direction:"east"}}},{id:461,type:"coordinates",tier:"hard",text:["21 degrees 24 minutes north,17 degrees 54 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:21,minutes:24,direction:"north"},longitude:{degrees:17,minutes:54,direction:"east"}}},{id:463,type:"coordinates",tier:"hard",text:["22 degrees 35 minutes north,19 degrees 18 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:22,minutes:35,direction:"north"},longitude:{degrees:19,minutes:18,direction:"east"}}},{id:464,type:"coordinates",tier:"hard",text:["22 degrees 45 minutes north,26 degrees 33 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:22,minutes:45,direction:"north"},longitude:{degrees:26,minutes:33,direction:"east"}}},{id:465,type:"coordinates",tier:"hard",text:["24 degrees 26 minutes north,26 degrees 24 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:24,minutes:26,direction:"north"},longitude:{degrees:26,minutes:24,direction:"east"}}},{id:466,type:"coordinates",tier:"hard",text:["24 degrees 56 minutes north,22 degrees 28 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:24,minutes:56,direction:"north"},longitude:{degrees:22,minutes:28,direction:"east"}}},{id:467,type:"coordinates",tier:"hard",text:["24 degrees 58 minutes north,18 degrees 43 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:24,minutes:58,direction:"north"},longitude:{degrees:18,minutes:43,direction:"east"}}},{id:468,type:"coordinates",tier:"hard",text:["25 degrees 03 minutes north,17 degrees 05 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:25,minutes:3,direction:"north"},longitude:{degrees:17,minutes:5,direction:"east"}}},{id:469,type:"coordinates",tier:"hard",text:["25 degrees 03 minutes north,23 degrees 24 minutes east"],challenge:[{type:"wizard"}],coordinates:{latitude:{degrees:25,minutes:3,direction:"north"},longitude:{degrees:23,minutes:24,direction:"east"}}}],e.scan=[{id:36,type:"scan",tier:"elite",text:["This scroll will work in the deepest levels of the Wilderness. Orb scan range: 25 paces."],spots:[{x:2958,y:3917,level:0},{x:2979,y:3962,level:0},{x:2998,y:3914,level:0},{x:2956,y:3908,level:0},{x:2944,y:3909,level:0},{x:2990,y:3924,level:0},{x:3055,y:3914,level:0},{x:3060,y:3941,level:0},{x:3029,y:3949,level:0},{x:3012,y:3959,level:0},{x:3057,y:3948,level:0},{x:3048,y:3926,level:0},{x:3037,y:3925,level:0},{x:3031,y:3926,level:0},{x:3021,y:3926,level:0},{x:3110,y:3954,level:0},{x:3125,y:3909,level:0},{x:3080,y:3911,level:0},{x:3160,y:3943,level:0},{x:3182,y:3926,level:0},{x:3193,y:3950,level:0},{x:3179,y:3943,level:0},{x:3175,y:3962,level:0},{x:3242,y:3956,level:0},{x:3241,y:3944,level:0},{x:3210,y:3910,level:0},{x:3216,y:3944,level:0},{x:3266,y:3936,level:0},{x:3307,y:3916,level:0},{x:3306,y:3947,level:0},{x:3281,y:3942,level:0},{x:3315,y:3914,level:0},{x:3269,y:3914,level:0},{x:3380,y:3960,level:0},{x:3342,y:3894,level:0},{x:3334,y:3906,level:0},{x:3363,y:3960,level:0},{x:3346,y:3976,level:0},{x:3408,y:3937,level:0}],range:25,scantext:"the deepest levels of the Wilderness"},{id:349,type:"scan",tier:"elite",text:["This scroll will work in the desert, east of the Elid and north of Nardah. Orb scan range: 27 paces."],spots:[{x:3421,y:2949,level:0},{x:3444,y:2952,level:0},{x:3447,y:2967,level:0},{x:3438,y:2960,level:0},{x:3417,y:2959,level:0},{x:3427,y:2970,level:0},{x:3442,y:2974,level:0},{x:3408,y:2986,level:0},{x:3426,y:2984,level:0},{x:3436,y:2989,level:0},{x:3406,y:3003,level:0},{x:3393,y:2997,level:0},{x:3419,y:3017,level:0},{x:3382,y:3015,level:0},{x:3385,y:3024,level:0},{x:3383,y:3018,level:0},{x:3423,y:3020,level:0},{x:3448,y:3019,level:0},{x:3411,y:3048,level:0},{x:3422,y:3051,level:0},{x:3448,y:3063,level:0},{x:3401,y:3064,level:0},{x:3460,y:3022,level:0},{x:3476,y:3018,level:0},{x:3462,y:3047,level:0},{x:3465,y:3034,level:0},{x:3502,y:3050,level:0},{x:3510,y:3041,level:0},{x:3476,y:3057,level:0},{x:3480,y:3090,level:0},{x:3473,y:3082,level:0},{x:3482,y:3108,level:0},{x:3499,y:3104,level:0},{x:3505,y:3093,level:0},{x:3401,y:3099,level:0},{x:3396,y:3110,level:0},{x:3406,y:3126,level:0},{x:3433,y:3122,level:0},{x:3444,y:3085,level:0},{x:3446,y:3128,level:0},{x:3360,y:3095,level:0},{x:3387,y:3123,level:0},{x:3373,y:3126,level:0},{x:3384,y:3081,level:0},{x:3405,y:3136,level:0},{x:3409,y:3119,level:0},{x:3432,y:3105,level:0},{x:3427,y:3141,level:0},{x:3444,y:3141,level:0},{x:3435,y:3129,level:0},{x:3456,y:3140,level:0}],range:27,scantext:"the desert, east of the Elid and north of Nardah"},{id:350,type:"scan",tier:"elite",text:["This scroll will work in Isafdar and Lletya. Orb scan range: 22 paces."],spots:[{x:2173,y:3125,level:0},{x:2283,y:3265,level:0},{x:2217,y:3130,level:0},{x:2253,y:3118,level:0},{x:2247,y:3143,level:0},{x:2271,y:3165,level:0},{x:2287,y:3141,level:0},{x:2310,y:3187,level:0},{x:2331,y:3171,level:0},{x:2322,y:3190,level:0},{x:2348,y:3183,level:0},{x:2225,y:3145,level:0},{x:2186,y:3146,level:0},{x:2205,y:3155,level:0},{x:2216,y:3159,level:0},{x:2182,y:3192,level:0},{x:2226,y:3158,level:0},{x:2176,y:3201,level:0},{x:2225,y:3212,level:0},{x:2219,y:3221,level:0},{x:2194,y:3220,level:0},{x:2194,y:3237,level:0},{x:2229,y:3248,level:0},{x:2203,y:3254,level:0},{x:2258,y:3212,level:0},{x:2289,y:3220,level:0},{x:2302,y:3230,level:0},{x:2282,y:3262,level:0},{x:2232,y:3223,level:0}],range:22,scantext:"Isafdar and Lletya"},{id:351,type:"scan",tier:"elite",text:["This scroll will work within the walls of Varrock and the Grand Exchange Orb scan range: 16 paces"],spots:[{x:3197,y:3383,level:0},{x:3211,y:3385,level:0},{x:3228,y:3383,level:0},{x:3240,y:3383,level:0},{x:3175,y:3404,level:0},{x:3175,y:3415,level:0},{x:3196,y:3415,level:0},{x:3197,y:3423,level:0},{x:3253,y:3393,level:0},{x:3228,y:3409,level:0},{x:3231,y:3439,level:0},{x:3220,y:3407,level:0},{x:3204,y:3409,level:0},{x:3273,y:3398,level:0},{x:3284,y:3378,level:0},{x:3185,y:3472,level:0},{x:3188,y:3488,level:0},{x:3180,y:3510,level:0},{x:3141,y:3488,level:0},{x:3213,y:3484,level:0},{x:3230,y:3494,level:0},{x:3241,y:3480,level:0},{x:3213,y:3462,level:0},{x:3248,y:3454,level:0}],range:16,scantext:"Varrock and the Grand Exchange"},{id:352,type:"scan",tier:"elite",text:["This scroll will work within the walls of East or West Ardougne. Orb scan range: 22 paces."],spots:[{x:2442,y:3310,level:0},{x:2440,y:3319,level:0},{x:2462,y:3282,level:0},{x:2483,y:3313,level:0},{x:2467,y:3319,level:0},{x:2496,y:3282,level:0},{x:2517,y:3281,level:0},{x:2512,y:3267,level:0},{x:2529,y:3270,level:0},{x:2537,y:3306,level:0},{x:2520,y:3318,level:0},{x:2500,y:3290,level:0},{x:2540,y:3331,level:0},{x:2509,y:3330,level:0},{x:2475,y:3331,level:0},{x:2583,y:3265,level:0},{x:2589,y:3319,level:0},{x:2582,y:3314,level:0},{x:2623,y:3311,level:0},{x:2570,y:3321,level:0},{x:2662,y:3304,level:0},{x:2625,y:3292,level:0},{x:2635,y:3313,level:0},{x:2662,y:3338,level:0},{x:2633,y:3339,level:0},{x:2613,y:3337,level:0},{x:2589,y:3330,level:0},{x:2569,y:3340,level:0}],range:22,scantext:"East or West Ardougne"},{id:353,type:"scan",tier:"elite",text:["This scroll will work within the dwarven city of Keldagrim. Orb scan range: 11 paces."],spots:[{x:2841,y:10189,level:0},{x:2856,y:10192,level:0},{x:2822,y:10193,level:0},{x:2873,y:10194,level:0},{x:2872,y:10181,level:0},{x:2846,y:10233,level:0},{x:2860,y:10215,level:0},{x:2837,y:10209,level:0},{x:2905,y:10162,level:0},{x:2924,y:10162,level:0},{x:2938,y:10162,level:0},{x:2936,y:10206,level:0},{x:2906,y:10202,level:0},{x:2937,y:10191,level:0},{x:2904,y:10193,level:0},{x:2924,y:10191,level:0},{x:2922,y:10179,level:0},{x:2938,y:10179,level:0}],range:11,scantext:"Keldagrim"},{id:354,type:"scan",tier:"elite",text:["This scroll will work in Menaphos. Orb scan range: 30 paces"],spots:[{x:3099,y:2677,level:0},{x:3127,y:2643,level:0},{x:3095,y:2730,level:0},{x:3096,y:2692,level:0},{x:3108,y:2742,level:0},{x:3131,y:2791,level:0},{x:3135,y:2775,level:0},{x:3146,y:2659,level:0},{x:3155,y:2641,level:0},{x:3180,y:2669,level:0},{x:3180,y:2700,level:0},{x:3199,y:2750,level:0},{x:3145,y:2759,level:0},{x:3153,y:2799,level:0},{x:3165,y:2814,level:0},{x:3193,y:2797,level:0},{x:3237,y:2664,level:0},{x:3200,y:2709,level:0},{x:3210,y:2770,level:0},{x:3231,y:2770,level:0},{x:3238,y:2792,level:0}],range:30,scantext:"Menaphos"},{id:355,type:"scan",tier:"elite",text:["This scroll will work in the Piscatoris Hunter Area. Orb scan range: 14 paces."],spots:[{x:2310,y:3518,level:0},{x:2336,y:3540,level:0},{x:2364,y:3547,level:0},{x:2353,y:3543,level:0},{x:2324,y:3553,level:0},{x:2361,y:3567,level:0},{x:2308,y:3560,level:0},{x:2313,y:3576,level:0},{x:2331,y:3574,level:0},{x:2342,y:3575,level:0},{x:2358,y:3557,level:0},{x:2363,y:3527,level:0},{x:2358,y:3580,level:0},{x:2388,y:3586,level:0},{x:2398,y:3582,level:0},{x:2392,y:3591,level:0},{x:2373,y:3612,level:0},{x:2372,y:3626,level:0},{x:2318,y:3601,level:0},{x:2339,y:3589,level:0},{x:2362,y:3612,level:0},{x:2347,y:3609,level:0},{x:2332,y:3632,level:0},{x:2320,y:3625,level:0},{x:2344,y:3645,level:0},{x:2310,y:3587,level:0}],range:14,scantext:"Piscatoris Hunter Area"},{id:356,type:"scan",tier:"elite",text:["This scroll will work in Brimhaven Dungeon. Orb scan range: 14 paces."],spots:[{x:2703,y:9439,level:0},{x:2738,y:9456,level:0},{x:2737,y:9433,level:0},{x:2722,y:9444,level:0},{x:2729,y:9427,level:0},{x:2695,y:9457,level:0},{x:2739,y:9506,level:0},{x:2745,y:9488,level:0},{x:2707,y:9486,level:0},{x:2699,y:9481,level:0},{x:2730,y:9513,level:0},{x:2717,y:9517,level:0},{x:2712,y:9524,level:0},{x:2701,y:9516,level:0},{x:2713,y:9503,level:0},{x:2679,y:9479,level:0},{x:2650,y:9488,level:0},{x:2649,y:9499,level:0},{x:2665,y:9504,level:0},{x:2681,y:9505,level:0},{x:2647,y:9511,level:0},{x:2664,y:9522,level:0},{x:2672,y:9514,level:0},{x:2652,y:9528,level:0},{x:2640,y:9533,level:0},{x:2641,y:9541,level:0},{x:2680,y:9542,level:0},{x:2669,y:9573,level:0},{x:2675,y:9582,level:0},{x:2660,y:9589,level:0},{x:2642,y:9575,level:0},{x:2638,y:9594,level:2},{x:2630,y:9581,level:2},{x:2638,y:9566,level:2},{x:2634,y:9551,level:2},{x:2627,y:9530,level:2},{x:2631,y:9516,level:2},{x:2639,y:9504,level:2},{x:2628,y:9489,level:2},{x:2655,y:9475,level:2},{x:2703,y:9564,level:0},{x:2697,y:9563,level:0}],range:14,scantext:"Brimhaven Dungeon"},{id:357,type:"scan",tier:"elite",text:["This scroll will work in Taverley Dungeon. Orb scan range: 22 paces."],spots:[{x:2858,y:9788,level:0},{x:2870,y:9791,level:0},{x:2875,y:9805,level:0},{x:2832,y:9813,level:0},{x:2835,y:9819,level:0},{x:2822,y:9826,level:0},{x:2892,y:9783,level:0},{x:2895,y:9769,level:0},{x:2914,y:9757,level:0},{x:2936,y:9764,level:0},{x:2905,y:9734,level:0},{x:2907,y:9718,level:0},{x:2907,y:9705,level:0},{x:2926,y:9692,level:0},{x:2968,y:9786,level:0},{x:2952,y:9786,level:0},{x:2949,y:9773,level:0},{x:2938,y:9812,level:0},{x:2904,y:9809,level:0},{x:2884,y:9799,level:0},{x:2895,y:9831,level:0},{x:2933,y:9848,level:0},{x:2907,y:9842,level:0},{x:2888,y:9846,level:0},{x:2945,y:9796,level:0}],range:22,scantext:"Taverley Dungeon"},{id:358,type:"scan",tier:"elite",text:["This scroll will work on the faraway island of Mos Le'Harmless. Orb scan range: 27 paces."],spots:[{x:3702,y:2972,level:0},{x:3657,y:2955,level:0},{x:3699,y:2996,level:0},{x:3651,y:2991,level:0},{x:3692,y:2976,level:0},{x:3676,y:2981,level:0},{x:3773,y:2960,level:0},{x:3728,y:2973,level:0},{x:3730,y:2996,level:0},{x:3765,y:2995,level:0},{x:3717,y:2969,level:0},{x:3758,y:2956,level:0},{x:3752,y:3006,level:0},{x:3669,y:3055,level:0},{x:3695,y:3063,level:0},{x:3697,y:3052,level:0},{x:3687,y:3046,level:0},{x:3679,y:3018,level:0},{x:3702,y:3027,level:0},{x:3757,y:3063,level:0},{x:3742,y:3063,level:0},{x:3736,y:3041,level:0},{x:3726,y:3038,level:0},{x:3765,y:3030,level:0},{x:3769,y:3015,level:0},{x:3740,y:3018,level:0},{x:3802,y:3035,level:0},{x:3791,y:3023,level:0},{x:3818,y:3027,level:0},{x:3831,y:3031,level:0},{x:3843,y:2987,level:0},{x:3850,y:3010,level:0}],range:27,scantext:"Mos Le'Harmless"},{id:359,type:"scan",tier:"elite",text:["This scroll will work within the Haunted Woods. Orb scan range: 11 paces."],spots:[{x:3534,y:3470,level:0},{x:3523,y:3460,level:0},{x:3551,y:3514,level:0},{x:3575,y:3511,level:0},{x:3562,y:3509,level:0},{x:3583,y:3484,level:0},{x:3583,y:3466,level:0},{x:3552,y:3483,level:0},{x:3573,y:3484,level:0},{x:3529,y:3501,level:0},{x:3544,y:3465,level:0},{x:3567,y:3475,level:0},{x:3609,y:3499,level:0},{x:3596,y:3501,level:0},{x:3637,y:3486,level:0},{x:3623,y:3476,level:0},{x:3604,y:3507,level:0},{x:3624,y:3508,level:0},{x:3616,y:3512,level:0},{x:3606,y:3465,level:0},{x:3590,y:3475,level:0}],range:11,scantext:"the Haunted Woods"},{id:360,type:"scan",tier:"elite",text:["This scroll will work in the Kharazi Jungle. Orb scan range: 14 paces."],spots:[{x:2775,y:2891,level:0},{x:2786,y:2914,level:0},{x:2804,y:2924,level:0},{x:2762,y:2918,level:0},{x:2775,y:2936,level:0},{x:2766,y:2932,level:0},{x:2815,y:2887,level:0},{x:2859,y:2891,level:0},{x:2848,y:2907,level:0},{x:2827,y:2934,level:0},{x:2832,y:2935,level:0},{x:2852,y:2934,level:0},{x:2857,y:2919,level:0},{x:2841,y:2915,level:0},{x:2872,y:2901,level:0},{x:2920,y:2888,level:0},{x:2892,y:2907,level:0},{x:2931,y:2920,level:0},{x:2921,y:2937,level:0},{x:2892,y:2937,level:0},{x:2929,y:2894,level:0},{x:2927,y:2925,level:0},{x:2936,y:2917,level:0},{x:2944,y:2902,level:0},{x:2932,y:2935,level:0},{x:2942,y:2934,level:0}],range:14,scantext:"the Kharazi Jungle"},{id:361,type:"scan",tier:"elite",text:["This scroll will work in the city of Zanaris. Orb scan range: 16 paces."],spots:[{x:2414,y:4378,level:0},{x:2423,y:4372,level:0},{x:2420,y:4381,level:0},{x:2389,y:4405,level:0},{x:2377,y:4410,level:0},{x:2404,y:4406,level:0},{x:2372,y:4467,level:0},{x:2402,y:4466,level:0},{x:2396,y:4457,level:0},{x:2410,y:4460,level:0},{x:2400,y:4441,level:0},{x:2380,y:4421,level:0},{x:2406,y:4428,level:0},{x:2429,y:4431,level:0},{x:2417,y:4444,level:0},{x:2417,y:4470,level:0},{x:2385,y:4447,level:0},{x:2439,y:4460,level:0},{x:2441,y:4428,level:0},{x:2468,y:4439,level:0},{x:2457,y:4443,level:0},{x:2453,y:4471,level:0}],range:16,scantext:"Zanaris"},{id:362,type:"scan",tier:"elite",text:["This scroll will work in the dark and damp caves below Lumbridge Swamp. Orb scan range: 11 paces."],spots:[{x:3172,y:9570,level:0},{x:3167,y:9546,level:0},{x:3179,y:9559,level:0},{x:3191,y:9555,level:0},{x:3170,y:9557,level:0},{x:3210,y:9557,level:0},{x:3233,y:9547,level:0},{x:3246,y:9566,level:0},{x:3252,y:9577,level:0},{x:3227,y:9575,level:0},{x:3209,y:9587,level:0},{x:3210,y:9571,level:0}],range:11,scantext:"The caves beneath Lumbridge Swamp"},{id:363,type:"scan",tier:"elite",text:["This scroll will work on the Fremennik Isles of Jatizso and Neitiznot. Orb scan range: 16 paces."],spots:[{x:2354,y:3790,level:0},{x:2360,y:3799,level:0},{x:2324,y:3808,level:0},{x:2322,y:3787,level:0},{x:2311,y:3801,level:0},{x:2340,y:3803,level:0},{x:2342,y:3809,level:0},{x:2330,y:3829,level:0},{x:2311,y:3835,level:0},{x:2376,y:3800,level:0},{x:2381,y:3789,level:0},{x:2402,y:3789,level:0},{x:2421,y:3792,level:0},{x:2397,y:3801,level:0},{x:2419,y:3833,level:0},{x:2395,y:3812,level:0},{x:2373,y:3834,level:0},{x:2314,y:3851,level:0},{x:2326,y:3866,level:0},{x:2326,y:3850,level:0},{x:2354,y:3853,level:0},{x:2349,y:3880,level:0},{x:2312,y:3894,level:0},{x:2352,y:3892,level:0},{x:2414,y:3848,level:0},{x:2418,y:3870,level:0},{x:2377,y:3850,level:0},{x:2400,y:3870,level:0},{x:2368,y:3870,level:0},{x:2417,y:3893,level:0},{x:2399,y:3888,level:0},{x:2389,y:3899,level:0}],range:16,scantext:"Fremennik Isles of Jatizso and Neitiznot"},{id:364,type:"scan",tier:"elite",text:["This scroll will work within the walls of Falador. Orb scan range: 22 paces."],spots:[{x:2938,y:3322,level:0},{x:2976,y:3316,level:0},{x:2947,y:3316,level:0},{x:3005,y:3326,level:0},{x:2958,y:3379,level:0},{x:2972,y:3342,level:0},{x:2945,y:3339,level:0},{x:2948,y:3390,level:0},{x:2942,y:3388,level:0},{x:2939,y:3355,level:0},{x:3039,y:3331,level:0},{x:3050,y:3348,level:0},{x:3015,y:3339,level:0},{x:3027,y:3365,level:0},{x:3025,y:3379,level:0},{x:3059,y:3384,level:0},{x:3031,y:3379,level:0},{x:3011,y:3382,level:0}],range:22,scantext:"Falador"},{id:365,type:"scan",tier:"elite",text:["This scroll will work in the cave goblin city of Dorgesh-Kaan. Orb scan range: 16 paces."],spots:[{x:2747,y:5263,level:0},{x:2731,y:5266,level:0},{x:2740,y:5273,level:0},{x:2723,y:5279,level:0},{x:2711,y:5271,level:0},{x:2729,y:5295,level:0},{x:2711,y:5284,level:0},{x:2730,y:5315,level:0},{x:2717,y:5311,level:0},{x:2739,y:5253,level:1},{x:2738,y:5301,level:1},{x:2700,y:5284,level:1},{x:2704,y:5321,level:0},{x:2732,y:5327,level:0},{x:2704,y:5349,level:0},{x:2701,y:5343,level:1},{x:2704,y:5357,level:1},{x:2734,y:5370,level:1},{x:2747,y:5327,level:1},{x:2698,y:5316,level:1}],range:16,scantext:"Dorgesh-Kaan"},{id:366,type:"scan",tier:"elite",text:["This scroll will work in the Fremennik Slayer Dungeons. Orb scan range: 16 paces."],spots:[{x:2720,y:9969,level:0},{x:2741,y:9977,level:0},{x:2701,y:9978,level:0},{x:2724,y:9977,level:0},{x:2714,y:9990,level:0},{x:2731,y:9998,level:0},{x:2718,y:1e4,level:0},{x:2722,y:10025,level:0},{x:2705,y:10027,level:0},{x:2745,y:10024,level:0},{x:2743,y:9986,level:0},{x:2751,y:9995,level:0},{x:2754,y:10009,level:0},{x:2804,y:10004,level:0},{x:2808,y:10018,level:0},{x:2789,y:10042,level:0},{x:2772,y:10030,level:0},{x:2757,y:10029,level:0},{x:2767,y:10002,level:0}],range:16,scantext:"Fremennik Slayer Dungeons"},{id:367,type:"scan",tier:"elite",text:["This scroll will work in the crater of the Wilderness volcano. Orb scan range: 11 paces."],spots:[{x:3112,y:3678,level:0},{x:3124,y:3698,level:0},{x:3130,y:3672,level:0},{x:3120,y:3665,level:0},{x:3104,y:3704,level:0},{x:3087,y:3712,level:0},{x:3133,y:3717,level:0},{x:3118,y:3724,level:0},{x:3110,y:3735,level:0},{x:3096,y:3738,level:0},{x:3134,y:3741,level:0},{x:3169,y:3745,level:0},{x:3180,y:3713,level:0},{x:3163,y:3724,level:0},{x:3146,y:3738,level:0},{x:3174,y:3705,level:0},{x:3152,y:3698,level:0},{x:3145,y:3681,level:0},{x:3146,y:3698,level:0}],range:11,scantext:"The crater of the Wilderness volcano"},{id:368,type:"scan",tier:"master",text:["This scroll will work in the elven city of Prifddinas. Orb scan range: 30 paces."],spots:[{x:2175,y:3291,level:1},{x:2133,y:3379,level:1},{x:2145,y:3381,level:1},{x:2148,y:3351,level:1},{x:2174,y:3398,level:1},{x:2180,y:3322,level:1},{x:2199,y:3268,level:1},{x:2212,y:3272,level:1},{x:2227,y:3295,level:1},{x:2224,y:3328,level:1},{x:2197,y:3433,level:1},{x:2222,y:3429,level:1},{x:2228,y:3424,level:1},{x:2247,y:3267,level:1},{x:2234,y:3265,level:1},{x:2275,y:3382,level:1},{x:2292,y:3361,level:1},{x:2268,y:3397,level:1}],range:30,scantext:"Prifddinas"},{id:369,type:"scan",tier:"master",text:["This scroll will work in the vampyre city of Darkmeyer. Orb scan range: 16 paces."],spots:[{x:3599,y:3328,level:0},{x:3590,y:3344,level:0},{x:3588,y:3361,level:0},{x:3596,y:3375,level:0},{x:3631,y:3358,level:0},{x:3611,y:3328,level:0},{x:3606,y:3391,level:0},{x:3639,y:3390,level:0},{x:3651,y:3405,level:0},{x:3670,y:3373,level:0},{x:3632,y:3344,level:0},{x:3654,y:3335,level:0},{x:3666,y:3344,level:0},{x:3654,y:3357,level:0},{x:3671,y:3366,level:0},{x:3661,y:3374,level:0},{x:3676,y:3392,level:0}],range:16,scantext:"Darkmeyer"},{id:370,type:"scan",tier:"master",text:["This scroll will work on The Islands That Once Were Turtles. Orb scan range: 27 paces."],spots:[{x:2103,y:11425,level:0},{x:2092,y:11427,level:0},{x:2100,y:11432,level:0},{x:2101,y:11440,level:0},{x:2099,y:11448,level:0},{x:2286,y:11452,level:0},{x:2285,y:11440,level:0},{x:2266,y:11455,level:0},{x:2221,y:11497,level:0},{x:2198,y:11481,level:0},{x:2183,y:11500,level:0},{x:2194,y:11500,level:0},{x:2200,y:11501,level:0},{x:2251,y:11428,level:0},{x:2267,y:11441,level:0},{x:2275,y:11453,level:0},{x:2283,y:11499,level:0},{x:2272,y:11428,level:0},{x:2286,y:11473,level:0}],range:27,scantext:"Islands That Once Were Turtles"},{id:371,type:"scan",tier:"master",text:["This scroll will work in the Heart of Gielinor. Orb scan range: 49 paces."],spots:[{x:3119,y:6905,level:1},{x:3124,y:6905,level:1},{x:3148,y:6913,level:1},{x:3131,y:6921,level:1},{x:3131,y:6932,level:1},{x:3156,y:6925,level:1},{x:3166,y:6910,level:1},{x:3165,y:6932,level:1},{x:3236,y:6924,level:1},{x:3257,y:6927,level:1},{x:3258,y:6913,level:1},{x:3248,y:6903,level:1},{x:3227,y:6982,level:1},{x:3217,y:7004,level:1},{x:3219,y:7023,level:1},{x:3180,y:6985,level:1},{x:3129,y:6998,level:1},{x:3141,y:7018,level:1},{x:3183,y:7015,level:1},{x:3194,y:7029,level:1},{x:3210,y:7028,level:1},{x:3229,y:6980,level:1},{x:3241,y:7039,level:1},{x:3147,y:7046,level:1},{x:3156,y:7040,level:1},{x:3274,y:7045,level:1}],range:49,scantext:"Heart of Gielinor"},{id:485,type:"scan",tier:"master",text:["This scroll will work in the Lost Grove. Orb scan range: 14 paces."],spots:[{x:1374,y:5550,level:0},{x:1390,y:5616,level:0},{x:1431,y:5596,level:0},{x:1421,y:5627,level:0},{x:1423,y:5656,level:0},{x:1417,y:5684,level:0},{x:1375,y:5731,level:0},{x:1328,y:5694,level:0},{x:1375,y:5687,level:0},{x:1326,y:5664,level:0},{x:1307,y:5622,level:0},{x:1333,y:5608,level:0},{x:1352,y:5625,level:0},{x:1373,y:5634,level:0},{x:1402,y:5695,level:0},{x:1344,y:5652,level:0},{x:1370,y:5670,level:0}],range:14,scantext:"The Lost Grove"}],e.skilling=[{type:"skilling",text:["Pick some coconuts that are oh so close to the stage."],tier:"sandy",id:479,areas:[{origin:{x:3185,y:3239,level:0},size:{x:3,y:2}}],answer:"Attempt to pick coconuts from the palm tree south of the main stage at the Lumbridge Crater, or read the palm if it's depleted.",cursor:"generic"},{type:"skilling",text:["Investigate a large hole that leads... Well, we don't know where it leads."],tier:"sandy",id:480,areas:[{origin:{x:3167,y:3242,level:0},size:{x:5,y:6},data:"////CQ=="}],answer:"Attempt to dungeoneer in the Dungeoneering hole at the Lumbridge Crater.",cursor:"generic"},{type:"skilling",text:["Investigate a magical portal that will take you to random encounters within a dangerous land."],tier:"sandy",id:482,areas:[{origin:{x:3150,y:3222,level:0},size:{x:3,y:3}}],answer:"Attempt to enter the Wilderness Flash Events portal at the Lumbridge Crater.",cursor:"generic"},{type:"skilling",text:["Something smells fishy behind a dwarf on holiday."],tier:"sandy",id:483,areas:[{origin:{x:3180,y:3251,level:0},size:{x:3,y:4}}],answer:"Click on the table behind Nigel at the Lumbridge Crater.",cursor:"generic"},{type:"skilling",text:["Somewhere a dwarf looks after a pile of coconuts. Search the pile!"],tier:"sandy",id:484,areas:[{origin:{x:3171,y:3214,level:0},size:{x:3,y:3},data:"ugA="}],answer:"Attempt to deposit coconuts on the pile of coconuts next to the coconut shy at the Lumbridge Crater.",cursor:"generic"},{type:"skilling",text:["Crossing the desert I met a crocodile. She gave me a dazzling smile but she had something in her teeth."],tier:"master",id:372,areas:[{origin:{x:3274,y:2677,level:0},size:{x:8,y:9}}],answer:"Catch a plover bird in the southern part of Sophanem.",cursor:"hunt"},{type:"skilling",text:["I once met a man returning from market. He showed me the spoils of his day. It's precious to see what people pay for."],tier:"master",id:373,areas:[{origin:{x:2666,y:3301,level:0},size:{x:4,y:5}}],answer:"Steal from the Ardougne Gem Stall.",cursor:"thieve"},{type:"skilling",text:["A view of the city from high above. I can hear their prayers below."],tier:"master",id:374,areas:[{origin:{x:2189,y:3441,level:2},size:{x:3,y:3}}],cursor:"agility",answer:"Go to the top of the Hefin Agility Course."},{type:"skilling",text:["Round and round we go, burning, burning all aglow."],tier:"master",id:375,areas:[{origin:{x:3017,y:9242,level:0},size:{x:4,y:4}}],cursor:"burn",answer:"Start a firepit with a Curly Root in the Jadinko Lair."},{type:"skilling",text:["When I encountered this individual, she had more rings than any I had seen before."],tier:"master",id:376,areas:[{origin:{x:2269,y:3386,level:1},size:{x:5,y:5}}],answer:"Cut some elder logs from an elder tree.",cursor:"chop"},{type:"skilling",text:["Rowdy Unruly Boisterous I am pie."],tier:"master",id:377,answer:"Cook a wild pie. The 'Bake Pie' spell works.",cursor:"cook",areas:[{origin:{x:2633,y:3164,level:0},size:{x:2,y:2}}]},{type:"skilling",text:["In a station of power someone requires assistance. Do a good deed to spread some happiness."],tier:"master",id:378,areas:[{origin:{x:2698,y:5186,level:2},size:{x:50,y:61}}],cursor:"agility",answer:"Help Turgall at the Dorgesh-Kaan Agility Course."},{type:"skilling",text:["Those things I once held dear continue to fade. I look upon her face and barely know who she is. But her eyes... They are still so radiant."],tier:"master",id:379,areas:[{origin:{x:3800,y:3547,level:0},size:{x:10,y:10}}],cursor:"divine",answer:"Harvest a radiant memory."},{type:"skilling",text:["There are those who prove themselves and become a beacon of light in the darkness. Come to the crystal city and become that figure."],tier:"master",cursor:"pray",id:380,areas:[{origin:{x:2199,y:3352,level:1},size:{x:19,y:19}}],answer:"Active the Light Form Prayer in Prifddinas"},{type:"skilling",text:["Stare into the flames for long enough and you may see something you didn't realise was there."],tier:"master",id:381,answer:"Light some magic logs.",cursor:"burn",areas:[{origin:{x:4310,y:823,level:0},size:{x:3,y:2},data:"Og=="}]},{type:"skilling",text:["The crystals tempt most however, there are other riches to gain for the quick-fingered."],tier:"master",id:382,answer:"Pickpocket any elf",cursor:"thieve",areas:[{origin:{x:2141,y:3333,level:1},size:{x:7,y:13}}]},{type:"skilling",text:["Magical energy floats unleashed. The fluid of life that flows through us all. Span the gap to capture this energy."],tier:"master",id:383,areas:[{origin:{x:4348,y:6059,level:0},size:{x:11,y:12}}],answer:"Siphon some blood runes in the Runespan.",cursor:"runecraft"},{type:"skilling",text:["The spell struck me in the chest. Perhaps if I had worn armour today. Black looks better than red."],tier:"master",id:384,answer:"Craft a black dragonhide body.",cursor:"craft",areas:[{origin:{x:2274,y:3311,level:1},size:{x:5,y:3}}]},{type:"skilling",text:["Ernie once mentioned to me a secret to improve my cooking. His idea was strong but I went the extra mile."],tier:"master",id:385,answer:"Add a fire rune to a decorated cooking urn (nr).",cursor:"craft",areas:[{origin:{x:2274,y:3311,level:1},size:{x:5,y:3}}]},{type:"skilling",text:["I have all the ingredients for soup but sometimes a simple meal tastes the best."],tier:"master",id:386,answer:"Cook a raw shark, raw rocktail or raw sailfish.",cursor:"cook",areas:[{origin:{x:4310,y:823,level:0},size:{x:3,y:3}}]},{type:"skilling",text:["Take the journey to a distant mining site. Become a blight to your foes."],tier:"master",id:387,answer:"Smelt a Bane bar at a furnace.",cursor:"smith",areas:[{origin:{x:3225,y:3255,level:0},size:{x:5,y:3}}]},{type:"skilling",text:["Where there is Light there is also Death. Should you contain this you may progress."],tier:"master",id:388,areas:[{origin:{x:2203,y:4834,level:0},size:{x:5,y:5}}],answer:"Craft a death rune.",cursor:"runecraft"},{type:"skilling",text:["There is a temple where there are rivers of red. Bind the magic to get ahead."],tier:"master",id:389,areas:[{origin:{x:2460,y:4893,level:1},size:{x:6,y:6}}],answer:"Craft a blood rune.",cursor:"runecraft"},{type:"skilling",text:["Corruption seeps from this stone but there are those who work to cleanse it. Lend your voice."],tier:"master",id:390,areas:[{origin:{x:2188,y:3446,level:1},size:{x:5,y:5}}],answer:"Completely use up a cleansing crystal on the Corrupted Seren Stone.",cursor:"pray"},{type:"skilling",text:["Charm me and I shall unlock. But be brave in the darkness."],tier:"master",id:391,areas:[{origin:{x:3365,y:3730,level:0},size:{x:21,y:21}}],answer:"Catch a charming moth in the Wilderness.",cursor:"hunt"},{type:"skilling",text:["I once met an ancient warrior who told me tales of his adventures. His eyes lit up as he spoke."],tier:"master",id:392,answer:"Burn some elder logs.",cursor:"herblore",areas:[{origin:{x:4310,y:823,level:0},size:{x:3,y:2},data:"Og=="}]},{type:"skilling",text:["Keeping all your gold together. That's a good idea. It shall be mine."],tier:"master",id:393,answer:"Mine a concentrated gold deposit in the Living Rock Caverns.",cursor:"mine",areas:[{origin:{x:3646,y:5141,level:0},size:{x:3,y:5}}]},{type:"skilling",text:["Rumours of a great shark continue to spread. Catch me one and I will be fed."],tier:"master",id:394,answer:"Catch a raw great white shark.",cursor:"fish",areas:[{origin:{x:2845,y:3424,level:0},size:{x:19,y:7},data:"wA8A/wD8z+H/j/9//v///x8="}]},{type:"skilling",text:["The God of Order requires a sacrifice of strength but in return restores me. If only we could keep that feeling in his absence."],tier:"master",id:395,answer:"Create a Saradomin brew.",cursor:"herblore",areas:[{origin:{x:2274,y:3311,level:1},size:{x:5,y:3}}]},{type:"skilling",text:["Head protection is never a bad thing. Make it from rune for the best chance of survival."],tier:"master",id:396,answer:"Smith a rune med helm or rune full helm.",cursor:"smith",areas:[{origin:{x:3228,y:3253,level:0},size:{x:2,y:3}}]},{type:"skilling",text:["Being open to Chaos can raise your defences. It may also bring you closer to death. Take a moment to bottle this feeling."],tier:"master",id:397,answer:"Create a Zamorak brew.",cursor:"herblore",areas:[{origin:{x:2274,y:3311,level:1},size:{x:5,y:3}}]},{type:"skilling",text:["Catching only one shark. That don't impress me much."],tier:"master",id:398,answer:"Catch two sharks at once.",cursor:"fish",areas:[{origin:{x:2845,y:3424,level:0},size:{x:19,y:7},data:"wA8A/wD8z+H/j/9//v///x8="}]}],e.all=[...e.simple,...e.cryptic,...e.map,...e.emote,...e.anagram,...e.scan,...e.compass,...e.skilling,...e.coordinates],e.index=yp.simple(e.all),e.spot_index=mp.simple(e.index)}(_p||(_p={})),function(e){var t=_e.cleanedJSON;e.toString=function(e){const i=e.category?`[${e.category}] `:"";return"string"==typeof e.body?i+e.body:i+t(e.body)},e.equals=function(e,t){return e.body==t.body&&e.category==t.category&&!e.attachment&&!t.attachment}}(vp||(vp={}));class xp{constructor(e=void 0){this.clone_to=e}_log(e){var t;null===(t=this.clone_to)||void 0===t||t._log(e)}log(e,t=void 0,i=void 0){const n=i instanceof ImageData?{type:"image",value:"data:image/png;base64,"+i.toPngBase64()}:null!=i?{type:"object",value:i}:void 0;return this._log({body:e,category:null!=t?t:"",attachment:n}),this}}!function(e){var t=_e.index;e.Void=class extends e{_log(e){super._log(e)}};class i extends e{_log(e){super._log(e),console.log(vp.toString(e))}}let n;e.Console=i,function(e){var i=_e.formatTime;e.toString=function(e){return e.map((e=>e.timestamps.length>1?`${i(e.timestamps[0])} - ${vp.toString(e.message)} (${e.timestamps.length}x until ${i(t(e.timestamps,-1))})`:`${i(e.timestamps[0])} - ${vp.toString(e.message)}`)).join("\n")}}(n||(n={}));class o extends e{constructor(){super(...arguments),this.entries=[]}_log(e){super._log(e),this.entries.length>0&&vp.equals(e,t(this.entries,-1).message)?t(this.entries,-1).timestamps.push(Date.now()):this.entries.push({timestamps:[Date.now()],message:e})}last(){return t(this.entries,-1)}first(){return t(this.entries,0)}}e.SingleBuffered=o;class s extends e{constructor(){super(...arguments),this.buffers=[new o,new o]}_log(e){super._log(e),this.buffers[0]._log(e),this.buffers[0].entries.length>1e4&&(this.buffers[1]=this.buffers[0],this.buffers[0]=new o)}get(){return[...this.buffers[1].entries,...this.buffers[0].entries]}toString(){return n.toString(this.get())}}e.DoubleBuffered=s;const r=ma((()=>new s(new i)));e.log=function(){return r.get()}}(xp||(xp={}));var wp,bp,kp,Tp=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},zp=_e.timestamp,Sp=su.ClueSpot,Cp=_e.uuid,Ap=xp.log;!function(e){function t(e){return"default"==e.type&&!e.is_real_default}e.setMeta=function(e,t){e.author=t.author,e.description=t.description,e.name=t.name,e.default_assumptions=oe.cloneDeep(t.default_assumptions),e.default_method_name=t.default_method_name},e.meta=function(e){return{name:e.name,author:e.author,description:e.description,default_assumptions:oe.cloneDeep(e.default_assumptions),default_method_name:e.default_method_name}},e.isEditable=function(e){return"local"==e.type||t(e)},e.isEditableDefault=t}(wp||(wp={})),function(e){e.create=function(e,t){return{method:e,pack:t,clue:_p.spot_index.get(e.for).for}},e.isSame=function(e,t){return e==t||e&&t&&kp.equals(kp.fromMethod(e),kp.fromMethod(t))}}(bp||(bp={})),function(e){e.fromMethod=function(e){return{local_pack_id:e.pack.local_id,method_id:e.method.id}},e.equals=function(e,t){return e.local_pack_id==t.local_pack_id&&e.method_id==t.method_id}}(kp||(kp={}));class Ep{constructor(){this.local_pack_store=fp.instance().variable("data/local_methods"),this.local_packs=[],this.pack_set_changed=ji(),this.saved=ji(),this.method_index=mp.simple(_p.index).with((()=>({methods:[]}))),this.initialized=(()=>Tp(this,void 0,void 0,(function*(){var e;this.local_packs=null!==(e=yield this.local_pack_store.get())&&void 0!==e?e:[],this.local_packs.forEach((e=>e.is_real_default=void 0)),this.default_packs=[yield(yield fetch("/data/method_packs/scans_zyklop.json")).json(),yield(yield fetch("/data/method_packs/easy_ngis.json")).json(),yield(yield fetch("/data/method_packs/medium_ngis.json")).json(),yield(yield fetch("/data/method_packs/hard_ngis.json")).json(),yield(yield fetch("/data/method_packs/master_ngis.json")).json(),yield(yield fetch("/data/method_packs/elite_compass_ngis.json")).json(),yield(yield fetch("/data/method_packs/tetras_ngis.json")).json()],this.default_packs.forEach((e=>e.is_real_default=!0))})))(),this.invalidateIndex(),this.pack_set_changed.on((()=>this.invalidateIndex()))}save(){return Tp(this,void 0,void 0,(function*(){yield this.local_pack_store.set(this.local_packs),this.invalidateIndex(),this.saved.trigger(null)}))}invalidateIndex(){this.index_created=new Promise((e=>Tp(this,void 0,void 0,(function*(){this.method_index.forEach((e=>e.methods=[])),(yield this.all()).forEach((e=>{e.methods.forEach((t=>{var i,n;null===(n=null===(i=this.method_index.get(t.for,!1))||void 0===i?void 0:i.methods)||void 0===n||n.push(bp.create(t,e))}))})),e()}))))}all(){return Tp(this,void 0,void 0,(function*(){return yield this.initialized,[...this.default_packs.filter((e=>!this.local_packs.some((t=>t.local_id==e.local_id)))),...this.local_packs]}))}local(){return[...this.local_packs]}create(e){return Tp(this,arguments,void 0,(function*(e,t=!1){return(e=oe.cloneDeep(e)).is_real_default=void 0,t||(e.local_id=Cp(),e.original_id=e.local_id,e.type="local",e.timestamp=zp()),this.local_packs.push(e),yield this.save(),this.pack_set_changed.trigger(yield this.all()),e}))}import(e){return Tp(this,arguments,void 0,(function*(e,t=!1){return e=oe.cloneDeep(e),t||(e.local_id=Cp(),e.type="imported"),this.local_packs.push(e),this.invalidateIndex(),yield this.save(),this.pack_set_changed.trigger(yield this.all()),e}))}getPack(e){return Tp(this,void 0,void 0,(function*(){return(yield this.all()).find((t=>t.local_id==e))}))}deletePack(e){return Tp(this,arguments,void 0,(function*(e,t=!0){if(e.is_real_default)return void Ap().log("Attempting to delete default pack");let i=this.local_packs.findIndex((t=>t.local_id==e.local_id));i<0?Ap().log("Attempting to delete non-existing pack"):(this.local_packs.splice(i,1),t&&(yield this.save(),this.pack_set_changed.trigger(yield this.all())))}))}updatePack(e,t){return Tp(this,void 0,void 0,(function*(){if(!e.is_real_default)return t(e),e.timestamp=zp(),yield this.save(),e}))}replacePack(e,t){return Tp(this,void 0,void 0,(function*(){yield this.deletePack(e,!1),t.local_id=e.local_id,yield this.create(t,!0)}))}updateMethod(e){return Tp(this,void 0,void 0,(function*(){const t=this.local_packs.find((t=>wp.isEditable(t)&&t.local_id==e.pack.local_id)),i=t.methods.findIndex((t=>t.id==e.method.id));i>=0?t.methods[i]=e.method:t.methods.push(e.method),e.method.timestamp=t.timestamp=zp(),this.save()}))}deleteMethod(e){let t=this.local_packs.find((t=>wp.isEditable(t)&&t.local_id==e.pack.local_id)),i=t.methods.findIndex((t=>t.id==e.method.id));t.methods.splice(i,1),t.timestamp=zp(),this.save()}static instance(){return Ep._instance||(Ep._instance=new Ep),Ep._instance}getForClue(e){return Tp(this,arguments,void 0,(function*(e,t=void 0){var i,n;yield this.index_created;const o=null!==(n=null===(i=this.method_index.get(e))||void 0===i?void 0:i.methods)&&void 0!==n?n:[];return t?o.filter((e=>t.includes(e.pack.local_id))):o}))}get(e){return Tp(this,arguments,void 0,(function*(e,t=void 0){return yield this.getForClue(Sp.toId(e),t)}))}getMethod(e,t){return Tp(this,void 0,void 0,(function*(){const i=yield this.getPack(e);return i?i.methods.find((e=>e.id==t)):null}))}resolve(e){return Tp(this,void 0,void 0,(function*(){const t=(yield this.all()).find((t=>t.local_id==e.local_pack_id));if(!t)return null;const i=t.methods.find((t=>t.id==e.method_id));return i?bp.create(i,t):null}))}}Ep._instance=null;var Pp=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Mp=_e.copyUpdate,Lp=Yc.notification;class Dp extends lc{constructor(e){super(),this.setValue(e)}render(){this.empty();const e=(new Pa).appendTo(this),t=this.get();e.named("Name",this.name=(new Lc).onCommit((e=>{this.commit(Mp(this.get(),(t=>t.name=e)))})).setPlaceholder("Enter a pack name...").setValue(t.name)),e.named("Author(s)",this.authors=(new Lc).onCommit((e=>{this.commit(Mp(this.get(),(t=>t.author=e)))})).setPlaceholder("Enter author(s)...").setValue(t.author)),e.header("Description"),e.row(this.description=(new xc).setPlaceholder("Optionally enter a description.").onCommit((e=>{this.commit(Mp(this.get(),(t=>t.description=e)))})).css("height","80px").setValue(t.description)),e.header("Default Assumptions"),e.row((new mu).setValue(t.default_assumptions).onCommit((e=>{this.commit(Mp(this.get(),(t=>t.default_assumptions=e)))}))),e.header("Default Method Name"),e.row((new Lc).onCommit((e=>{this.commit(Mp(this.get(),(t=>t.default_method_name=e)))})).setPlaceholder("Enter default name...").setValue(t.default_method_name))}}class Ip extends fc{constructor(e=null){super({size:"small"}),this.clone_from=e}render(){super.render(),this.clone_from?(this.title.set("Clone Method Pack"),this.edit=new Dp({name:`${this.clone_from.name} (Clone)`,description:this.clone_from.description,author:this.clone_from.author,default_assumptions:this.clone_from.default_assumptions,default_method_name:this.clone_from.default_method_name}).appendTo(this.body)):(this.title.set("Create Method Pack"),this.edit=new Dp({name:"",description:"",author:"",default_assumptions:{},default_method_name:""}).appendTo(this.body))}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.hide())),new mc("Save","confirm").onClick((()=>Pp(this,void 0,void 0,(function*(){const e=yield Ep.instance().create(this.clone_from?Object.assign(Object.assign({},oe.cloneDeep(this.clone_from)),this.edit.get()):Object.assign(Object.assign({},this.edit.get()),{type:"local",local_id:"",original_id:"",timestamp:0,methods:[]}));Lp(`Method Pack '${e.name}' created!`).show(),this.confirm({created:e})}))))]}getValueForCancel(){return{created:null}}}class Op extends fc{constructor(e){super({size:"small"}),this.pack=e}render(){super.render(),this.title.set("Edit Method Pack"),this.edit=new Dp(wp.meta(this.pack)).appendTo(this.body)}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.hide())),new mc("Save","confirm").onClick((()=>Pp(this,void 0,void 0,(function*(){const e=yield Ep.instance().updatePack(this.pack,(e=>wp.setMeta(e,this.edit.get())));Lp(`Saved changes to method Pack '${e.name}'!`).show(),this.confirm({saved:!0})}))))]}getValueForCancel(){return{saved:!1}}}var Rp=du.ClueAssumptions;class Bp extends aa{constructor(e){super(),this.parent=e,this.assumptions=qi(Rp.init())}begin(){this.layer.add(new ac(!0))}setAssumptions(e){return this.assumptions.set(e),this}}var Fp=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Np=wa.movement_state,jp=mr.activate,Up=ie.hbox,qp=ie.hboxl,Hp=ie.vbox,Vp=ie.span,$p=wa.collect_issues,Wp=ha.EntityTransportation.default_interactive_area;function Gp(e,t){switch(t){case"pre":return e.pre_path;case"post":return e.post_path;case"main":return e.main_path}}class Zp extends Ii{constructor(e,t){super(Up().container),this.parent=e,this.section=t,this.path=null,this.addClass("ctr-scantreeedit-node"),t.path||this.addClass("no-hover");const i=Up(c().css("background-color",t.path?"blue":"gray").css("width","3px")).css2({"padding-left":"4px","padding-right":"4px"});this.body=new Pa,this.append(i,this.body.css("flex-grow","1").on("click",(e=>{e.stopPropagation(),e.preventDefault(),this.parent.requestActivation(this.isActive()?null:this)}))),this.on("contextmenu",(e=>this.contextMenu(e.originalEvent))),this.renderValue(null)}contextMenu(e){e.preventDefault(),e.stopPropagation();const t=[{type:"basic",text:this.isActive()?"Deactivate":"Activate",handler:()=>{this.parent.requestActivation(this.isActive()?null:this)}}];new Zi({type:"submenu",text:"",children:t.filter((e=>!!e))}).showFromEvent2(e)}renderValue(e){if(this.path=e,this.body.empty(),this.body.header(Kp.SequenceSegment.header(this.section)),this.section.path&&e){e.raw.length>0&&this.body.row(c().append(...pa().app.template_resolver.resolve(this.path.raw.map(Oa.templateString).join(" - "))));const t=$p(e);t.length>0&&this.body.row(Hp(...t.map((e=>new ku(e))))),this.body.named("Timing",qp(Vp(`T${this.path.pre_state.tick}`).addClass("nisl-textlink"),Vp().setInnerHtml("&nbsp;to&nbsp;"),Vp(`T${this.path.post_state.tick}`).addClass("nisl-textlink")))}}setActive(e){this.toggleClass("active",e)}isActive(){return this==this.parent.active.value()}}class Kp extends Bp{constructor(e,t){super(e),this.value=t,this.path_editor=this.withSub(new la),this.sequence=[],this.active=qi(null),this.preview_layer=null,this.layer=new Or,this.assumptions.subscribe((e=>{this.updateSequence()})),this.active.subscribe((e=>{this.path_editor.isActive()&&(this.path_editor.get(),this.path_editor.set(null)),this.updatePreview(null==e?void 0:e.section),e&&this.setPathEditor({start_state:e.path.pre_state,initial:e.path.raw,target:e.path.target,commit_handler:t=>{switch(this.sequence.find((t=>t.edit==e)).path.section){case"pre":this.value.method.pre_path=t;break;case"post":this.value.method.post_path=t;break;case"main":this.value.method.main_path=t}this.parent.registerChange(),this.propagateState()},discard_handler:()=>{}}).onStop((()=>{this.active.value()==e&&this.requestActivation(null)}))}))}updatePreview(e){if(this.preview_layer&&(this.preview_layer.remove(),this.preview_layer=null),!e){const e=new Or;this.sequence.filter((e=>e.path)).map((e=>e.path.section)).filter((e=>e)).map((t=>{il.renderPath(Gp(this.value.method,t)).addTo(e)})),this.preview_layer=e.addTo(this.layer)}}setPathEditor(e){let t=new up(this.layer,pa().app.template_resolver,e,!1);return this.path_editor.set(t),t}begin(){const e=Object.create(null,{begin:{get:()=>super.begin}});return Fp(this,void 0,void 0,(function*(){e.begin.call(this),this.sidepanel_widget=c().appendTo(this.parent.sidebar.body),this.layer.addTo(pa().app.map),yield this.updateSequence(),this.requestActivation(this.sequence.find((e=>e.path)).edit)}))}updateSequence(){return Fp(this,void 0,void 0,(function*(){const e=this.value.clue;this.sequence=yield Kp.getSequence(e,this.assumptions.value()),yield this.render()}))}render(){return Fp(this,void 0,void 0,(function*(){this.sidepanel_widget.empty();const e=(new Pa).appendTo(this.sidepanel_widget);this.value,this.assumptions.value(),this.sequence.forEach((t=>{e.row(t.edit=new Zp(this,t))})),yield this.propagateState()}))}end(){this.layer.remove()}propagateState(){return Fp(this,void 0,void 0,(function*(){const e=yield this.sequence.reduce(((e,t)=>Fp(this,void 0,void 0,(function*(){let i=oe.cloneDeep(yield e);if(t.path){const e=Gp(this.value.method,t.path.section),n=yield wa.augment(e,i,t.path.target);t.edit.renderValue(n),i=oe.cloneDeep(n.post_state)}return t.ticks&&(i.tick+=t.ticks),i}))),Promise.resolve(Np.start(this.assumptions.value())));this.value.method.expected_time=e.tick}))}requestActivation(e){e&&!e.section.path||(this.active.value()&&this.active.value().setActive(!1),this.active.set(e),this.active.value()&&this.active.value().setActive(!0))}}!function(e){var t=su.ClueSpot;let i;function n(e,i){return Fp(this,void 0,void 0,(function*(){var n;let o=[];const s=e.clue;if("emote"==s.type){const e=s.hidey_hole&&jp(s.area).query(ze.center(s.hidey_hole.location));i.full_globetrotter||(e?o.push({name:"Path to Hidey Hole in Target Area",path:{section:"main",target:[jp(Wp(s.hidey_hole.location))]}}):s.hidey_hole&&o.push({name:"Path to Hidey Hole",path:{section:"pre",target:[jp(Wp(s.hidey_hole.location))]}}),s.hidey_hole?o.push({name:"Take and Equip Items",ticks:1}):o.push({name:"Unequip Items",ticks:1+Math.floor(s.items.length/3)})),!i.full_globetrotter&&e||o.push({name:"Path to Emote Area",path:{section:"main",target:[jp(s.area)]}}),o.push({name:"Summon Uri",ticks:1}),s.double_agent&&o.push({name:"Kill double agent",ticks:"master"==s.tier?5:3}),!s.hidey_hole||e||i.full_globetrotter||(o.push({name:"Return to Hidey Hole",path:{section:"post",target:[jp(Wp(s.hidey_hole.location))]}}),o.push({name:"Return Items",ticks:1}))}else{su.requiresKey(s)&&!i.way_of_the_footshaped_key&&(o.push({name:"Path to Key",path:{section:"pre",target:[jp(s.solution.key.area)]}}),o.push({name:`Get Key (${s.solution.key.instructions})`,ticks:2})),o.push({name:"To target",path:{section:"main",target:su.ClueSpot.targetArea({clue:s,spot:e.spot}).map(jp)}});const r=t.solution(e),a=1==(null===(n=e.clue.challenge)||void 0===n?void 0:n.length)&&"challengescroll"==e.clue.challenge[0].type;if(r)switch(r.type){case"dig":o.push({name:"Dig",ticks:1});break;case"search":o.push({name:"Search",ticks:1});break;case"talkto":a?o.push({name:"Speak to Target",ticks:1}):o.push({name:"Speak to Target",ticks:2})}a&&o.push({name:"Hand in Challenge Scroll",ticks:3})}return o}))}!function(e){e.header=function(e){return null!=e.ticks?`${e.name} (+${e.ticks} ticks)`:e.name}}(i=e.SequenceSegment||(e.SequenceSegment={})),e.getSequence=n,e.getEndState=function(e){return Fp(this,void 0,void 0,(function*(){const t=yield n(e.clue,e.method.assumptions);return yield t.reduce(((t,i)=>Fp(this,void 0,void 0,(function*(){let n=oe.cloneDeep(yield t);if(i.path){const t=Gp(e.method,i.path.section),o=yield wa.augment(t,n,i.path.target);n=oe.cloneDeep(o.post_state)}return i.ticks&&(n.tick+=i.ticks),n}))),Promise.resolve(Np.start(e.method.assumptions)))}))}}(Kp||(Kp={}));var Yp,Qp=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){var t=up.normalizeFarDive,i=_e.cleanedJSON;class n{step(e){return Qp(this,void 0,void 0,(function*(){return e}))}path(e){return Qp(this,void 0,void 0,(function*(){return yield Promise.all(e.map((e=>Qp(this,void 0,void 0,(function*(){return this.step(e)})))))}))}method(e){return Qp(this,void 0,void 0,(function*(){switch(e.method.type){case"general_path":return Object.assign(Object.assign({},e.method),{pre_path:e.method.pre_path?yield this.path(e.method.pre_path):void 0,main_path:e.method.main_path?yield this.path(e.method.main_path):void 0,post_path:e.method.post_path?yield this.path(e.method.post_path):void 0});case"scantree":const t=e=>Qp(this,void 0,void 0,(function*(){return Object.assign(Object.assign({},e),{path:yield this.path(e.path),children:yield Promise.all(e.children.map((e=>Qp(this,void 0,void 0,(function*(){return{key:e.key,value:yield t(e.value)}})))))})}));return Object.assign(Object.assign({},e.method),{tree:Object.assign(Object.assign({},e.method.tree),{root:yield t(e.method.tree.root)})})}}))}pack(e){return Qp(this,void 0,void 0,(function*(){return Object.assign(Object.assign({},e),{methods:yield Promise.all(e.methods.map((t=>this.method(bp.create(t,e)))))})}))}}function o(){return new class extends n{step(e){return Qp(this,void 0,void 0,(function*(){return yield t(e)}))}}}function s(){return new class extends n{method(e){return Qp(this,void 0,void 0,(function*(){switch(e.method.type){case"general_path":return Object.assign(Object.assign({},e.method),{expected_time:(yield Kp.getEndState(e)).tick});case"scantree":return Object.assign(Object.assign({},e.method),{expected_time:(yield hu.Augmentation.augment({augment_paths:!0,analyze_timing:!0,path_assumptions:e.method.assumptions},e.method.tree,e.clue.clue)).state.timing_analysis.statistics.average+1})}}))}}}function r(...e){return new class extends n{pack(t){return Qp(this,void 0,void 0,(function*(){return yield e.reduce(((e,t)=>Qp(this,void 0,void 0,(function*(){return yield t.pack(yield e)}))),Promise.resolve(t))}))}}}function a(e){const t=[];return e.update_far_dives&&t.push(o()),e.recalculate_timings&&t.push(s()),r(...t)}e.update_far_dives=o,e.update_timings=s,e.chain=r,e.forSettings=a,e.Modal=class extends gc{constructor(e){super(),this.pack=e,this.settings={recalculate_timings:!0},this.mode="show",this.title.set("Normalize Method Pack")}render(){super.render();const e=(new Pa).appendTo(this.body);e.header(new Mc("Update Far Dives").onCommit((e=>this.settings.update_far_dives=e))),e.paragraph("Update all dives to correctly contain a flag that indicates whether it's a far dive or a precise dive."),e.header(new Mc("Recalculate timings").setValue(!0).onCommit((e=>this.settings.recalculate_timings=e))),e.paragraph("Recalculate expected timings for all methods.");const t=new Mc.Group([{button:new Mc("Show JSON"),value:"show"},{button:new Mc("Save").setEnabled(!this.pack.is_real_default),value:"save"},{button:new Mc("Save Copy"),value:"savecopy"}]).setValue(this.mode).onChange((e=>this.mode=e));(new hc).buttons(...t.checkboxes()).appendTo(this.body)}execute(){return Qp(this,void 0,void 0,(function*(){const e=yield a(this.settings).pack(this.pack);switch(this.mode){case"show":new Vu(i(e)).show();break;case"save":Ep.instance().updatePack(this.pack,(t=>t.methods=e.methods));break;case"savecopy":new Ip(e).do()}this.remove()}))}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.remove())),new mc("Confirm","confirm").onClick((()=>this.execute()))]}}}(Yp||(Yp={}));var Xp=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Jp=ra.exp,eh=_e.cleanedJSON,th=Yc.notification,ih=ie.hboxl,nh=ie.span,oh=ie.spacer;class sh extends Ii{constructor(e,t,i,n=void 0){super(),this.pack=e,this.manager=t,this.open_handler=n,this.addClass("ctr-pack-widget");const o=(new Pa).addClass("ctr-pack-widget-body"),s=ie.hbox(`${e.name} (${e.methods.length})`,oh(),ie.div(nh(oe.capitalize(e.type)).addClass("ctr-pack-widget-header-type").addClass(wp.isEditableDefault(e)?"ctr-pack-widget-header-type-local":`ctr-pack-widget-header-type-${e.type}`)).css("position","relative"),i.buttons?c().setInnerHtml("&#x22EE;").addClass("ctr-path-edit-overview-step-options").addClass("ctr-clickable").on("click",(e=>Xp(this,void 0,void 0,(function*(){this.openContextMenu(e)})))):void 0).addClass("ctr-pack-widget-header").tooltip(e.local_id);this.append(s,o),o.named("Assumptions",ih(...mu.icons(e.default_assumptions))),o.named("Author(s)",c().text(e.author)),o.row(c().css("font-style","italic").text(e.description)),i.buttons&&this.on("contextmenu",(e=>this.openContextMenu(e))),n&&(this.addClass("ctr-clickable"),this.on("click",(()=>this.open_handler(e))))}openContextMenu(e){e.preventDefault(),e.stopPropagation();const t=this.pack,i=this.manager,n={type:"submenu",text:"",children:[]};if(this.open_handler&&n.children.push({type:"basic",text:"Open",handler:()=>this.open_handler(t)}),e.ctrlKey&&t.is_real_default?n.children.push({type:"basic",text:"Enable Editing",icon:"/assets/icons/copy.png",handler:()=>Ep.instance().create(t,!0)}):n.children.push({type:"basic",text:"Clone",icon:"/assets/icons/copy.png",handler:()=>new Ip(t).do()}),wp.isEditable(t)&&n.children.push({type:"basic",text:"Edit Metainformation",icon:"/assets/icons/edit.png",handler:()=>{new Op(t).do()}}),wp.isEditable(t)||"imported"==t.type){n.children.push({type:"basic",text:"Delete",icon:"/assets/icons/delete.png",handler:()=>Xp(this,void 0,void 0,(function*(){(yield new Wc({body:"imported"==t.type?"Are you sure you want to remove this imported pack? You will need to reimport it again.":`Are you sure you want to delete the local pack ${t.name}? There is no way to undo this action!`,options:[{kind:"neutral",text:"Cancel",value:!1},{kind:"cancel",text:"Delete",value:!0}]}).do())&&(yield i.deletePack(t),th(`Deleted pack '${this.pack.name}'`).show())}))});const e=t.name.length>0?t.name:"Unnamed Pack";n.children.push({type:"basic",text:"Export",handler:()=>{Vu.do(Jp({type:"method-pack",version:1},!0,!0)(t),"",`${e}.txt`)}}),n.children.push({type:"basic",text:"Export JSON",handler:()=>{Vu.do(eh(t),"",`${e}.json`)}})}t.is_real_default||n.children.push({type:"basic",text:"Normalize",handler:()=>{new Yp.Modal(this.pack).show()}}),new Zi(n).showFromEvent2(e.originalEvent)}}class rh extends Ii{constructor(){super(),this.url=qi(""),this.addClass("nisl-icon"),this.img=c("<img>").appendTo(this),this.url.subscribe((e=>{this.img.setAttribute("src",e)}))}inline(){return this.img.addClass("text-icon"),this}setSource(e){return this.url.set(e),this}withClick(e){return this.addClass("ctr-clickable"),this.on("click",e),this}static dropdown(){return(new rh).setSource("/assets/nis/dropdown.png")}static arrow(e="down"){return new lh(e)}static sectionArrow(e){const t=(new rh).setSource("/assets/nis/sectionarrowright.png");return"left"==e&&t.img.css("transform","scaleX(-1)"),t}static info(){return(new rh).css("cursor","help").setSource("/assets/icons/info_nis.png")}static delete(){return(new rh).setSource("/assets/icons/delete.png")}static plus(){return(new rh).setSource("/assets/nis/plus.png")}static from(e){return(new rh).setSource(e)}static reset(){return(new rh).setSource("/assets/icons/reset_nis.png")}static reset2(){return(new rh).setSource("/assets/icons/reset.png").css("scale",.8)}}class ah extends rh{constructor(){super(),this.toggled=qi(!1),this.toggled.subscribe((e=>{this.setSource(e?"/assets/nis/favourite_on.png":"/assets/nis/favourite_off.png")}),!0),this.img.css("margin-bottom","2px")}set(e){return this.toggled.set(e),this}}class lh extends rh{constructor(e="down"){super(),this.direction=qi(e),this.direction.subscribe((e=>{this.setSource(`assets/nis/arrow_${e}.png`)}),!0)}setDirection(e){return this.direction.set(e),this}}var ch=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},uh=du.Method,ph=du.ClueAssumptions,hh=_e.copyUpdate;class dh extends lc{constructor(e,t,i=!0){super(),this.spot=e,this.include_assumptions=i,t.assumptions=ph.filterWithRelevance(t.assumptions,ph.Relevance.forSpot(this.spot)),this.setValue(t)}render(){this.empty();const e=(new Pa).appendTo(this),t=this.get();e.named("Name",this.name=(new Lc).onCommit((e=>{this.commit(hh(this.get(),(t=>t.name=e)))})).setPlaceholder("Enter a method name...").setValue(t.name)),e.header("Description"),e.row(this.description=(new xc).setPlaceholder("Optionally enter a description.").onCommit((e=>{this.commit(hh(this.get(),(t=>t.description=e)))})).css("height","80px").setValue(t.description)),this.include_assumptions&&(e.header("Clue Assumptions"),e.row((new mu).setValue(t.assumptions).setRelevantAssumptions(ph.Relevance.forSpot(this.spot)).onCommit((e=>{this.commit(hh(this.get(),(t=>t.assumptions=e)))}))))}}class gh extends lc{constructor(){super()}render(){return ch(this,void 0,void 0,(function*(){this.empty();const e=this.get();this.selector=new Sc({type_class:{toHTML:e=>e?e.create_new?c().text("Create New"):c().text(e.pack.name):c().text("None")}},[]).setItems((()=>ch(this,void 0,void 0,(function*(){return[...(yield Ep.instance().all()).filter((e=>wp.isEditable(e))).map((e=>({pack:e}))),{pack:null,create_new:!0},null]})))).setValue(e?{pack:e}:null).onSelection((e=>ch(this,void 0,void 0,(function*(){if(null==e?void 0:e.create_new){this.selector.setValue(null);const e=yield(new Ip).do();(null==e?void 0:e.created)&&this.commit(e.created)}else this.commit(null==e?void 0:e.pack)})))).appendTo(this)}))}}class fh extends fc{constructor(e,t=null){super({size:"small"}),this.spot=e,this.clone_from=t}render(){super.render(),(new Pa).appendTo(this.body).named("Pack",this.pack_selector=(new gh).setValue(this.clone_from&&wp.isEditable(this.clone_from.pack)?this.clone_from.pack:null).onCommit((e=>{if(e){const t=oe.cloneDeep(this.edit.get());t.assumptions=ph.filterWithRelevance(e.default_assumptions,ph.Relevance.forSpot(this.spot)),t.name=e.default_method_name,this.edit.setValue(t)}}))),this.clone_from?(this.title.set("Clone Method"),this.edit=new dh(this.spot,hh(uh.meta(this.clone_from.method),(e=>{e.name+=" (Clone)"}))).appendTo(this.body)):(this.title.set("Create New Method"),this.edit=new dh(this.spot,{name:"",description:"",assumptions:{}}).appendTo(this.body))}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.confirm(this.getValueForCancel()))),new mc("Create","confirm").onClick((()=>ch(this,void 0,void 0,(function*(){const e=this.clone_from?du.clone(this.clone_from.method):du.init(this.spot);uh.setMeta(e,this.edit.get()),e.assumptions=ph.filterWithRelevance(e.assumptions,ph.Relevance.forSpot(this.spot)),this.confirm({created:bp.create(e,this.pack_selector.get())})}))))]}getValueForCancel(){return{created:null}}}class yh extends fc{constructor(e,t,i=!0){super({size:"small"}),this.spot=e,this.start_value=t,this.include_assumptions=i}render(){super.render(),this.title.set("Edit Method Metainformation"),this.edit=new dh(this.spot,this.start_value,this.include_assumptions).appendTo(this.body)}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.confirm(this.getValueForCancel()))),new mc("Save","confirm").onClick((()=>ch(this,void 0,void 0,(function*(){this.confirm({result:this.edit.get()})}))))]}getValueForCancel(){return{result:null}}}var mh=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},_h=ie.hbox,vh=ie.spacer,xh=ie.span,wh=su.ClueSpot,bh=_e.natural_join,kh=_e.plural,Th=mr.activate;class zh extends Pa{constructor(e,t,i,n,o){super(),this.clue=e,this.edit_handler=t,this.include_header=i,this.alternative_index=n,this.manage_methods_button=o,this.render_promise=null,this.render_promise=this.render()}render(){return mh(this,void 0,void 0,(function*(){var e;function t(e,t){try{e.named("Solution",(()=>{switch(t.type){case"dig":return c(`<span><img src='assets/icons/cursor_shovel.png' class="inline-img"> Dig at ${Te.toString(t.spot)}</span>`);case"search":return c(`<span><img src='assets/icons/cursor_search.png' class="inline-img"> Search <span class="nisl-entity">${t.entity}</span> at ${Te.toString(ze.bl(t.spot))}</span>`);case"talkto":return c(`<span><img src='assets/icons/cursor_talk.png' class="inline-img"> Talk to <span class="nisl-npc">${t.npc}</span> near ${Te.toString(Th(t.spots[e.alternative_index||0].range).center())}</span>`)}})()),"search"==t.type&&t.key&&e.named("Key",c(`<span><span style="font-style: italic">${t.key.instructions}</span> (${t.key.answer})</span>`))}catch(e){}}switch(this.include_header&&this.row(zh.header(this.clue)),this.clue.clue.type){case"scan":this.named("Area",c().text(`${this.clue.clue.scantext}`)),this.named("Range",c().text(`${this.clue.clue.range}`)),this.named("Spots",c().text(`${this.clue.clue.spots.length}`));break;case"compass":t(this,{type:"dig",spot:this.clue.spot,description:null}),this.named("Total",c().text(`${this.clue.clue.spots.length}`));break;case"coordinates":this.named("Text",c().text(this.clue.clue.text[0]).css("font-style","italic")),this.named("Coordinates",c().text(ae.toString(this.clue.clue.coordinates))),t(this,{type:"dig",spot:ae.toCoords(this.clue.clue.coordinates),description:null});break;case"simple":case"cryptic":case"anagram":this.named("Text",c().text(this.clue.clue.text[0]).css("font-style","italic")),t(this,this.clue.clue.solution);break;case"map":this.row(c(`<div style="text-align: center"><img src="${this.clue.clue.image_url}" style="height: 180px; width: auto; max-width: 100%"></div>`)),this.named("Transcript",c().text(this.clue.clue.text[0])),t(this,this.clue.clue.solution);break;case"emote":this.named("Text",c().text(this.clue.clue.text[0]).css("font-style","italic")),this.named("Equip",c().text(bh(this.clue.clue.items,"and"))),this.clue.clue.emotes.length>1?this.named("Emotes",c().text(bh(this.clue.clue.emotes,"then"))):this.named("Emote",c().text(this.clue.clue.emotes[0])),this.named("Agent",c().text(this.clue.clue.double_agent?"Yes":"No"));break;case"skilling":this.named("Text",c().text(this.clue.clue.text[0])),this.named("Answer",c().text(this.clue.clue.answer))}(null===(e=this.clue.clue.challenge)||void 0===e?void 0:e.length)>0&&this.named("Challenge",c().append(...this.clue.clue.challenge.map(zh.render_challenge).map((e=>e))));const i=yield Ep.instance().get(this.clue);return this.named("Methods",c().text(`${kh(i.length,"method")} available`)),this.manage_methods_button&&this.row(_h(new Jc("Manage Methods","rectangle").onClick((e=>mh(this,void 0,void 0,(function*(){new Zi(yield zh.methodMenu(this.clue,this.edit_handler)).showFromEvent(e)}))))).addClass("ctr-button-container")),this}))}rendered(){return this.render_promise}}!function(e){var t=Yc.notification,i=du.Method;function n(e,n){return mh(this,void 0,void 0,(function*(){const o=yield ua.instance().app.favourites.getMethod(wh.toId(e.clue),!1),s=bp.isSame(o,e),r={type:"submenu",text:e.method.name,icon:()=>(new ah).set(s),children:[{type:"basic",text:s?"Unset Favourite":"Make Favourite",icon:()=>(new ah).set(s),handler:()=>{ua.instance().app.favourites.setMethod(wh.toId(e.clue),s?void 0:e)}}]};return wp.isEditable(e.pack)&&(r.children.push({type:"basic",text:"Edit",icon:"/assets/icons/edit.png",handler:()=>n(e)}),r.children.push({type:"basic",text:"Edit Metadata",icon:"/assets/icons/edit.png",handler:()=>mh(this,void 0,void 0,(function*(){const t=yield new yh(e.clue,i.meta(e.method),!1).do();(null==t?void 0:t.result)&&(i.setMeta(e.method,t.result),Ep.instance().updateMethod(e))}))})),r.children.push({type:"basic",icon:"/assets/icons/copy.png",text:"Edit Copy",handler:()=>mh(this,void 0,void 0,(function*(){const t=yield new fh(e.clue,e).do();(null==t?void 0:t.created)&&n(t.created)}))}),wp.isEditable(e.pack)&&r.children.push({type:"basic",text:"Delete",icon:"/assets/icons/delete.png",handler:()=>mh(this,void 0,void 0,(function*(){(yield new Wc({body:"Are you sure you want to delete this method? There is no way to undo it!",options:[{kind:"neutral",text:"Cancel",value:!1},{kind:"cancel",text:"Delete",value:!0}]}).do())&&(Ep.instance().deleteMethod(e),t("Deleted").show())}))}),wp.isEditableDefault(e.pack)&&r.children.push({type:"basic",text:e.method.is_default_override?"Unset as Overridden Default":"Set as Overridden Default",icon:()=>(new ah).set(e.method.is_default_override),handler:()=>mh(this,void 0,void 0,(function*(){e.method.is_default_override?e.method.is_default_override=!1:((yield Ep.instance().getForClue(e.method.for,[e.pack.local_id])).forEach((t=>{bp.isSame(t,e)||(t.method.is_default_override=void 0,Ep.instance().updateMethod(t))})),e.method.is_default_override=!0),Ep.instance().updateMethod(e)}))}),r}))}e.header=function(e){return _h(xh(`${ou.meta(e.clue.tier).name} ${ou.meta(e.clue.type).name} Step (Id ${e.clue.id})`).css("font-weight","bold"),vh().css("min-width","20px"),c(`<img class="icon" src='${e.clue.tier?ou.meta(e.clue.tier).icon_url:""}' title="${ou.pretty(e.clue.tier)}" style="margin-right: 3px">`),c(`<img class="icon" src='${Fr.icons.types[e.clue.type]}' title="${ou.pretty(e.clue.type)}">`))},e.methodMenu=function(e,t){return mh(this,void 0,void 0,(function*(){const i=yield Ep.instance().get(e);return{type:"submenu",text:"",children:[{type:"basic",text:"New Method",handler:()=>mh(this,void 0,void 0,(function*(){const i=yield new fh(e).do();(null==i?void 0:i.created)&&t(i.created)}))},...yield Promise.all(i.map((e=>mh(this,void 0,void 0,(function*(){return yield n(e,t)})))))]}}))},e.methodSubMenu=n,e.render_challenge=function(e){switch(e.type){case"wizard":return c("<div><img src='assets/icons/cursor_attack.png' class=\"inline-img\"> Wizard</div>");case"slider":return c("<div><img src='assets/icons/slider.png' class=\"inline-img\"> Puzzle box</div>");case"celticknot":return c("<div><img src='assets/icons/celticknot.png' class=\"inline-img\"> Celtic Knot</div>");case"lockbox":return c("<div><img src='assets/icons/lockbox.png' class=\"inline-img\"> Lockbox</div>");case"towers":return c("<div><img src='assets/icons/towers.png' class=\"inline-img\"> Towers Puzzle</div>");case"challengescroll":return c(`<div><img src='assets/icons/cursor_talk.png' class="inline-img"> <span style="font-style: italic">${e.question}</span> (Answer: ${bh(e.answers.map((e=>e.note?`${e.answer} (${e.note}`:e.answer)),"or")})</div>`)}}}(zh||(zh={}));var Sh=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Ch extends Ji{constructor(e,t,i,n){super(),this.clue=e,this.methods=t,this.edit_handler=i,this.talk_alternative_index=n,this.setInteractive(),this.setTooltip((()=>Sh(this,void 0,void 0,(function*(){let e=this;return(yield new zh(e.clue,e.edit_handler,!0,e.talk_alternative_index).rendered()).row(c().text("Right click marker to manage methods.").css("font-style","italic"))}))))}bounds(){return ze.from(Ch.position(this.clue,this.talk_alternative_index))}render_implementation(e){return Sh(this,void 0,void 0,(function*(){const t=[Qr,Xr,Jr,ea],i=Ch.position(this.clue,this.talk_alternative_index),n=e.highlight;return ce.marker([i.y,i.x],{icon:ce.icon({iconUrl:t[i.level],iconSize:n?[27,36]:[18,24],iconAnchor:n?[14,36]:[9,24],className:"marker-icon"})}).addTo(this).getElement()}))}contextMenu(e){return Sh(this,void 0,void 0,(function*(){return yield zh.methodMenu(this.clue,this.edit_handler)}))}}!function(e){var t=mr.activate;e.position=function(e,i){var n,o;switch(e.clue.type){case"anagram":case"simple":case"cryptic":case"map":switch(null===(n=e.clue.solution)||void 0===n?void 0:n.type){case"talkto":let n=Math.min(i||0,e.clue.solution.spots.length);return t(e.clue.solution.spots[n].range).center();case"dig":return e.clue.solution.spot;case"search":return ze.center(e.clue.solution.spot)}return{x:0,y:0,level:0};case"compass":return e.spot;case"coordinates":return ae.toCoords(e.clue.coordinates);case"emote":return t(e.clue.area).center();case"scan":return Te.lift(we.center(we.from(...e.clue.spots)),Math.min(...e.clue.spots.map((e=>e.level))));case"skilling":let s=i||0;if(s>=0&&(null===(o=e.clue.areas)||void 0===o?void 0:o.length)>0)return s>=e.clue.areas.length&&(s=0),t(e.clue.areas[s]).center()}return{x:0,y:0,level:0}},e.forClue=function(t,i,n){var o;return("talkto"==(null===(o=t.clue.solution)||void 0===o?void 0:o.type)&&t.clue.solution.spots?t.clue.solution.spots.map(((e,t)=>({instance_index:t}))):"skilling"==t.clue.type?(t.clue.areas||[]).map(((e,t)=>({instance_index:t}))):[{}]).map((({instance_index:o})=>new e(t,i,n,o)))}}(Ch||(Ch={}));var Ah=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Eh=ie.hbox,Ph=ie.spacer,Mh=ie.space,Lh=su.ClueSpot;class Dh extends Ii{constructor(e,t){super(),this.parent=e,this.method=t,this.addClass("ctr-method-widget"),this.render(),this.on("contextmenu",(e=>{this.openContextMenu(e)}))}render(){return Ah(this,void 0,void 0,(function*(){var e,t;const i=(new Pa).appendTo(this),n=(null===(t=null===(e=yield pa().app.favourites.getMethod(this.method.method.for,!1))||void 0===e?void 0:e.method)||void 0===t?void 0:t.id)==this.method.method.id;i.header(Eh(this.favourite_icon=(new ah).set(n).addClass("ctr-clickable").on("click",(()=>Ah(this,void 0,void 0,(function*(){var e,t;(null===(t=null===(e=yield pa().app.favourites.getMethod(this.method.method.for,!1))||void 0===e?void 0:e.method)||void 0===t?void 0:t.id)==this.method.method.id?this.parent.app.favourites.setMethod(this.method.method.for,void 0):this.parent.app.favourites.setMethod(this.method.method.for,this.method)})))),Mh(),this.method.method.name,Ph(),c().setInnerHtml("&#x22EE;").addClass("ctr-path-edit-overview-step-options").addClass("ctr-clickable").on("click",(e=>Ah(this,void 0,void 0,(function*(){this.openContextMenu(e)}))))),"left",1),this.method.method.description&&i.paragraph(this.method.method.description),i.named("Clue",c().text(Lh.shortString(this.method.clue)).addClass("ctr-filtered-clue-result-summary").addTippy((yield new zh(this.method.clue,null,!0).rendered()).row(c().text("Click to see on map.").css("font-style","italic"))).on("click",(e=>{e.stopPropagation(),e.preventDefault(),this.parent.layer.getMap().fitView(ze.from(Ch.position(this.method.clue)),{maxZoom:4})}))),i.named("Time",(Math.round(10*this.method.method.expected_time)/10).toString()+" ticks")}))}notifyFavouriteChange(e){var t,i;su.ClueSpot.Id.equals(e.clue,this.method.method.for)&&this.favourite_icon.set((null===(i=null===(t=e.new)||void 0===t?void 0:t.method)||void 0===i?void 0:i.id)==this.method.method.id)}openContextMenu(e){return Ah(this,void 0,void 0,(function*(){e.preventDefault(),new Zi(yield zh.methodSubMenu(this.method,(e=>{this.parent.editMethod(e)}))).showFromEvent(e)}))}}var Ih=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Oh=ie.btnrow,Rh=ra.imp;class Bh extends pp{constructor(e){super("Method Packs"),this.theorycrafter=e,this.opened_pack=qi(null),this.method_widgets=[],this.css("width","300px"),this.methods=Ep.instance(),this.methods.saved.on((e=>Ih(this,void 0,void 0,(function*(){return this.render()})))).bindTo(e.lifetime_manager),this.opened_pack.subscribe((()=>this.render()),!0)}render(){return Ih(this,void 0,void 0,(function*(){this.body.empty();const e=this.opened_pack.value(),t=yield this.methods.all();this.method_widgets=[];const i=(new Pa).appendTo(this.body);e?(this.header.name.set(`Pack: ${e.name}`),this.header.close_handler.set((()=>this.opened_pack.set(null))),this.method_widgets=e.methods.map((t=>new Dh(this.theorycrafter,bp.create(t,e)).appendTo(this.body)))):(this.header.name.set("Method Packs"),this.header.close_handler.set(null),i.row(Oh(new Jc("Import","rectangle").onClick((()=>Ih(this,void 0,void 0,(function*(){const e=yield new Wu(Rh({expected_type:"method-pack",expected_version:1})).do();if(null==e?void 0:e.imported){const t=this.methods.local().find((t=>t.original_id==e.imported.original_id));switch(t?yield new Wc({title:"Duplicate Import",body:"An instance of this method pack already exists locally. What do you want to do?",options:[{kind:"cancel",text:"Cancel",value:"cancel",is_cancel:!0},{kind:"confirm",text:"Duplicate",value:"copy"},{kind:"confirm",text:"Replace",value:"replace"}]}).do():"copy"){case"copy":this.methods.import(e.imported,!t&&"default"==e.imported.type);break;case"replace":this.methods.replacePack(t,e.imported)}}})))),new Jc("+ Create New","rectangle").onClick((()=>{(new Ip).do()})))),t.forEach((e=>{new sh(e,Ep.instance(),{buttons:!0,collapsible:!0},(e=>this.opened_pack.set(e))).appendTo(this.body)})))}))}notifyFavouriteChange(e){this.method_widgets.forEach((t=>t.notifyFavouriteChange(e)))}}var Fh,Nh=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},jh=_c.sitog,Uh=ie.hbox,qh=ie.spacer,Hh=ie.span,Vh=ie.vbox,$h=su.ClueSpot;!function(e){var t=su.ClueSpot;e.normalize=function(e){return e.types||(e.types={simple:!0,anagram:!0,compass:!0,coordinates:!0,cryptic:!0,emote:!0,map:!0,scan:!0,skilling:!0}),e.tiers||(e.tiers={easy:!0,elite:!0,hard:!0,master:!0,medium:!0,tetracompass:!0,sandy:!0}),e},e.apply=function(e,i,n,o){return Nh(this,void 0,void 0,(function*(){if(!e.types[i.clue.type]||!e.tiers[i.clue.tier])return!1;if(n&&e.method_mode){let o=yield n.getForClue(t.toId(i),e.method_pack?[e.method_pack]:void 0);switch(e.method_mode){case"none":if(o.length>0)return!1;break;case"at_least_one":if(o.length<=0)return!1}}if(e.search_term){if(!o)return!1;let t=Bc.single(e.search_term,o);if(!t||t.score<-500)return!1}return!0}))},e.filter_string=function(e){return"compass"===e.clue.type?null:e.clue.text[0]}}(Fh||(Fh={}));class Wh extends Ii{constructor(e,t,i,n){super(),this.spot=e,this.methods=t,this.edit_handler=i,this.map=n,this.addClass("ctr-filtered-clue-result"),this.addTippy((()=>new zh(this.spot,this.edit_handler,!0,void 0,!1).row(c().text("Right click to manage methods.").css("font-style","italic")))),this.append(Uh(Vh(this.summary=c().text($h.shortString(e)).addClass("ctr-filtered-clue-result-summary").on("click",(()=>{this.map&&this.map.fitView(ze.from(Ch.position(e)),{maxZoom:4})})).tooltip("Click to center on spot.")).css2({overflow:"hidden"}),qh(),c().setInnerHtml("&#x22EE;").addClass("ctr-path-edit-overview-step-options").addClass("ctr-clickable").on("click",(e=>Nh(this,void 0,void 0,(function*(){new Zi(yield zh.methodMenu(this.spot,this.edit_handler)).showFromEvent(e)})))))),this.on("contextmenu",(e=>Nh(this,void 0,void 0,(function*(){e.preventDefault(),new Zi(yield zh.methodMenu(this.spot,this.edit_handler)).showFromEvent(e)}))))}}class Gh extends Vr{constructor(t,i){super({type:"floating",position:"top-right"},new za("Clue Filter").css2({"max-width":"300px",width:"300px"})),this.methods=t,this.edit_handler=i,this.stored_filter=new e.Variable("preferences/cluefilters2",(()=>Fh.normalize({}))),this.filter=qi({}),this.filtered_index_updated=ji(),this.index=_p.spot_index.with((()=>({visible:!1,list_widget:null,prepared_search_string:null}))),this.index.forEach((e=>{let t=Fh.filter_string(e.for);e.prepared_search_string=t?Bc.prepare(t):null})),this.filter.set(Fh.normalize(this.stored_filter.get())),this.filter.subscribe((e=>{this.stored_filter.set(e)})),this.renderFilter(),this.filter.subscribe((()=>Nh(this,void 0,void 0,(function*(){yield this.refreshFilterIndex()}))),!0)}refreshFilterIndex(){return Nh(this,void 0,void 0,(function*(){yield Promise.all(this.index.flat().map((e=>Nh(this,void 0,void 0,(function*(){e.visible=yield Fh.apply(this.filter.value(),e.for,this.methods,e.prepared_search_string)}))))),this.filtered_index_updated.trigger(void 0),this.renderResults()}))}renderFilter(){return Nh(this,void 0,void 0,(function*(){this.count_line=c(),this.result_container=c().css2({"max-height":"60vh","overflow-y":"scroll"}),this.content.body.css2({display:"flex","flex-direction":"column"});let e=(new Pa).appendTo(this.content.body),t={tier:nu.values.map((e=>({tier:e,btn:jh(ou.meta(e).icon_url,(t=>this.filter.update((i=>i.tiers[e]=t)))).setState(this.filter.value().tiers[e]).tooltip(ou.meta(e).name)}))),type:ou.all.map((e=>({type:e,btn:jh(ou.meta(e).icon_url,(t=>this.filter.update((i=>i.types[e]=t)))).setState(this.filter.value().types[e]).tooltip(ou.meta(e).name)})))};if(e.named("Tier",Uh(...t.tier.map((e=>e.btn)),qh()).addClass("ctr-filter-control-row")),e.named("Type",Uh(...t.type.map((e=>e.btn)),qh()).addClass("ctr-filter-control-row")),this.methods){const t=new Mc.Group([{value:"none",button:new Mc("None")},{value:"at_least_one",button:new Mc("At least one","radio")}],!0).setValue(this.filter.value().method_mode).onChange((e=>this.filter.update((t=>t.method_mode=e)))),[i,n]=t.checkboxes(),o=Uh(i,qh(),n),s=new Sc({type_class:{toHTML:e=>Hh(e?`${oe.capitalize(e.type)}: ${e.name}`:"Any")}},[null].concat(yield this.methods.all())).setItems((()=>Nh(this,void 0,void 0,(function*(){return[null].concat(yield this.methods.all())})))).setValue(this.filter.value().method_pack?yield this.methods.getPack(this.filter.value().method_pack):null).onSelection((e=>{this.filter.update((t=>t.method_pack=null==e?void 0:e.local_id))}),!0);e.named("Methods",o),e.named("In Pack",s)}e.named("Search",(new Lc).setPlaceholder("Search").setValue(this.filter.value().search_term||"").onChange((e=>{this.filter.update((t=>t.search_term=e.value))}))),this.content.body.append(this.count_line,this.result_container)}))}renderResults(){return Nh(this,void 0,void 0,(function*(){this.index.flat().forEach((e=>{e.visible&&!e.list_widget?e.list_widget=new Wh(e.for,this.methods,this.edit_handler,this.getMap()).appendTo(this.result_container):!e.visible&&e.list_widget&&(e.list_widget.remove(),e.list_widget=null)})),null==this||this.count_line.text(`${this.index.flat().filter((e=>e.visible)).length} matches`)}))}}var Zh=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Kh=ie.span,Yh=_e.copyUpdate;class Qh extends lc{constructor(){super()}setValue(e){return e||(e={type:"none"}),super.setValue(e)}render(){return Zh(this,void 0,void 0,(function*(){this.empty();const e=this.get(),t=new Mc.Group([{value:"none",button:new Mc("None")},{value:"favourites",button:new Mc("Preferred")},{value:"pack",button:new Mc("Method Pack")}]).setValue(e.type).onChange((e=>Zh(this,void 0,void 0,(function*(){this.method_dropdown.setEnabled("pack"==e);const t=(yield Ep.instance().all())[0];this.commit(Yh(this.get(),(i=>{var n;i.type=e,"pack"==e&&(null!==(n=i.local_pack_id)&&void 0!==n||(i.local_pack_id=t.local_id))})))}))));this.append(...t.checkboxes()),this.method_dropdown=new Sc({type_class:{toHTML:e=>Kh(e?`${oe.capitalize(e.type)}: ${e.name}`:"None")}},yield Ep.instance().all()).setValue(yield Ep.instance().getPack(e.local_pack_id)).setItems((()=>Zh(this,void 0,void 0,(function*(){return yield Ep.instance().all()})))).setEnabled("pack"==e.type).onSelection((e=>{this.commit(Yh(this.get(),(t=>{t.local_pack_id=e.local_id})))})).appendTo(this)}))}}var Xh,Jh,ed=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},td=su.ClueSpot,id=du.Method;class nd extends Or{constructor(t){super(),this.theorycrafter=t,this.route_display_options=new e.Variable("preferences/overview_route_display",(()=>({type:"none"}))),this.update_promise=Promise.resolve(),this.filter_control=new Gh(Ep.instance(),(e=>t.editMethod(e))).addTo(this),new Vr({type:"floating",position:"top-left"},new za("Show routes").setContent(this.route_control=(new Qh).setValue(this.route_display_options.get()).onCommit((e=>{this.route_display_options.set(e),this.updateVisibleRoutes()}))).css("width","200px")).addTo(this),this.marker_index=_p.spot_index.with((()=>({markers:[],route_display:null}))),this.filter_control.filtered_index_updated.on((()=>this.updateVisibleMarkersByFilter())),this.updateVisibleMarkersByFilter()}updateVisibleMarkersByFilter(){return ed(this,void 0,void 0,(function*(){yield this.update_promise,this.update_promise=Promise.all(this.marker_index.flat().map((e=>ed(this,void 0,void 0,(function*(){let t=this.filter_control.index.get(td.toId(e.for)).visible;!t&&e.markers.length>0&&(e.markers.forEach((e=>this.removeLayer(e))),e.markers=[]),t&&0==e.markers.length&&(e.markers=Ch.forClue(e.for,Ep.instance(),(e=>this.theorycrafter.editMethod(e))),e.markers.forEach((e=>e.addTo(this))))}))))),yield this.updateVisibleRoutes()}))}updateVisibleRoutes(){return ed(this,void 0,void 0,(function*(){yield this.update_promise;const e=this.route_control.get();this.update_promise=(()=>ed(this,void 0,void 0,(function*(){for(const t of this.marker_index.flat()){let i=null;if(t.markers.length>0)switch(e.type){case"favourites":i=yield pa().app.favourites.getMethod(td.toId(t.for));break;case"pack":if(!e.local_pack_id)break;const n=yield Ep.instance().get(t.for,[e.local_pack_id]);n.length>0&&(i=n[0])}t.route_display&&(t.route_display.remove(),t.route_display=null),i&&(t.route_display=il.renderPath(id.allPaths(i.method)).addTo(this))}})))(),yield this.update_promise}))}}class od{constructor(e,t=null){this.bounds=e,this.size={x:e.botright.x-e.topleft.x+1,y:e.topleft.y-e.botright.y+1},this.data=new Array(this.size.x*this.size.y),t&&(this.data=this.data.map((()=>t())))}xyToI(e){return(e.y-this.bounds.botright.y)*this.size.x+(e.x-this.bounds.topleft.x)}iToXY(e){return{x:e%this.size.x+this.bounds.topleft.x,y:Math.floor(e/this.size.x)+this.bounds.botright.y}}get(e){return this.data[this.xyToI(e)]}set(e,t){this.data[this.xyToI(e)]=t}}!function(e){e.compute=function(e,t,i){return t.map((t=>ru.Pulse.hash(ru.get_pulse(e,t,i))))},e.equals=function(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!=t[i])return!1;return!0},e.information_gain=function(e){let t=e.length,i=[0,0,0,0,0,0,0,0];e.forEach((e=>i[e]++));let n=0;return i[0]>0&&(n+=i[0]*Math.log2(t/i[0])),i[1]>0&&(n+=i[1]*Math.log2(t/i[1])),i[2]>0&&(n+=i[2]*Math.log2(t)),i[3]>0&&(n+=i[3]*Math.log2(t/i[3])),i[4]>0&&(n+=i[4]*Math.log2(t/i[4])),i[5]>0&&(n+=i[5]*Math.log2(t)),n/=t,n}}(Xh||(Xh={}));class sd{constructor(e,t,i){this.id=e,this.profile=t,this.area=i,this.information_gain=Xh.information_gain(t)}}class rd{constructor(e){if(this.options=e,this.raster=null,this.equivalence_classes=null,0==this.options.candidates.length)return this.max_information=0,void(this.equivalence_classes=[]);let t=ce.bounds(this.options.candidates.map((e=>ce.point(e.x,e.y))));this.raster=new od(this.options.complement?{topleft:{x:t.getTopLeft().x-(this.options.range+15),y:(t.getBottomLeft().y+(this.options.range+15)+1+6400)%12800},botright:{x:t.getTopRight().x+(this.options.range+15)+1,y:(t.getTopLeft().y-(this.options.range+15)+6400)%12800}}:{topleft:{x:t.getTopLeft().x-2*this.options.range,y:t.getBottomLeft().y+2*this.options.range+1},botright:{x:t.getTopRight().x+2*this.options.range,y:t.getTopLeft().y-2*this.options.range}}),this.equivalence_classes=[];let i=0;for(let e=0;e<this.raster.size.y;e++)for(let t=0;t<this.raster.size.x;t++){let n=e*this.raster.size.x+t,o={x:this.raster.bounds.topleft.x+t,y:this.raster.bounds.botright.y+e,level:this.options.floor},s=Xh.compute(o,this.options.candidates,this.options.range);if(t>0){let e=this.raster.data[n-1];if(Xh.equals(s,e.profile)){this.raster.data[n]=e,e.area.push(n);continue}}if(e>0){let e=this.raster.data[n-this.raster.size.x];if(Xh.equals(s,e.profile)){this.raster.data[n]=e,e.area.push(n);continue}}this.raster.data[n]=new sd(i++,s,[n]),this.equivalence_classes.push(this.raster.data[n])}this.max_information=Math.max(...this.equivalence_classes.map((e=>e.information_gain)))}}!function(e){e.bool=e=>t=>"boolean"==typeof t?t:e,e.number=e=>t=>"number"==typeof t?t:e,e.clamp=function(e,t){return i=>oe.clamp(i,e,t)},e.str=e=>t=>null!=t?t:e,e.normaliz=function(e){return t=>{t||(t={});for(const i of Object.keys(e)){const n=e[i];t[i]=n(t[i])}return t}}}(Jh||(Jh={}));var ad,ld=s(9485);class cd{constructor(e,t){this.for_overlay=e,this.css_string=t}static fromHex(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),i=parseInt(t[1],16),n=parseInt(t[2],16),o=parseInt(t[3],16);return new cd((0,ld.mixColor)(i,n,o),e)}static fromNumber(e){const[t,i,n]=(0,ld.unmixColor)(e);function o(e){const t=e.toString(16);return 1==t.length?"0"+t:t}return new cd(e,"#"+o(t)+o(i)+o(n))}static fromRGB(e,t,i){return this.fromNumber((0,ld.mixColor)(e,t,i))}}!function(e){e.black=e.fromHex("#010101"),e.gray=e.fromHex("#808080"),e.white=e.fromHex("#FFFFFF"),e.red=e.fromHex("#FF0000"),e.green=e.fromHex("#00FF00"),e.blue=e.fromHex("#0000FF"),e.yellow=e.fromHex("#FFFF00"),e.magenta=e.fromHex("#FF00FF"),e.cyan=e.fromHex("#00FFFF")}(cd||(cd={})),function(e){let t,i;!function(e){var t=_e.compose;e.normalize=Jh.normaliz({show_minimap_overlay_scantree:Jh.bool(!0),show_minimap_overlay_simple:Jh.bool(!0),minimap_overlay_automated_zoom_detection:Jh.bool(!1),minimap_overlay_zoom_manual_ppt:t(Jh.number(4),Jh.clamp(3,30)),show_double_ping:Jh.bool(!0),show_triple_ping:Jh.bool(!0),zoom_behaviour_include_triples:Jh.bool(!1),zoom_behaviour_include_doubles:Jh.bool(!1),zoom_behaviour_include_singles:Jh.bool(!1),select_floor_based_on_previous_solution:Jh.bool(!0),input_control_enabled:Jh.bool(!0),input_control_configuration:Jh.normaliz({position:Jh.normaliz({x:t(Jh.number(0),Jh.clamp(-2e3,2e3)),y:t(Jh.number(0),Jh.clamp(0,2e3))}),size:Jh.normaliz({x:t(Jh.number(160),Jh.clamp(160,1e3)),y:t(Jh.number(100),Jh.clamp(100,1e3))}),gutter:t(Jh.number(5),Jh.clamp(1,20)),warn_for_meerkats:Jh.bool(!0),show_help_button:Jh.bool(!0),force_small_back_button:Jh.bool(!1)}),panel_status_overlay_enabled:Jh.bool(!0),panel_status_overlay_configuration:Jh.normaliz({})})}(t=e.Settings||(e.Settings={})),function(e){e.different_level=cd.fromHex("#8adc13"),e.triple=cd.fromHex("#d51918"),e.double=cd.fromHex("#e1a53f"),e.single=cd.fromHex("#0f91d3");const t=[e.different_level,e.single,e.double,e.triple];e.forContextPulse=function(e){return e.type?t[e.type]:t["DL"==e.text?0:1]},e.forPulse=function(e){return t[e.pulse]}}(i=e.PulseColors||(e.PulseColors={}))}(ad||(ad={}));var ud=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},pd=Fi.observe_combined;class hd extends Bl{constructor(e){super(1,.2),this._spot=e,this.update()}spot(){return this._spot}setRegion(e){this._spot=e,this.update()}update(){var e;this.polygon&&(this.polygon.remove(),this.polygon=null,this.label.remove(),this.label=null),(null===(e=this._spot)||void 0===e?void 0:e.area)&&(this.polygon=Pr(this._spot.area),this.label=ce.tooltip({interactive:!1,permanent:!0,className:"area-name",offset:[0,0],direction:"center",pane:ia.objectPane,content:this._spot.name}),this.polygon.setStyle({color:Fr.colors.scan_area,fillColor:Fr.colors.scan_area,interactive:!1,pane:ia.areaPane}).bindTooltip(this.label).addTo(this)),this.setActive(this.isActive())}}class dd extends Ji{constructor(e,t,i,n,o){super(),this.spot=e,this.range=t,this.include_marker=i,this.is_complement=n,this.range_is_with_meerkats=o,this.setInteractive(),this.setTooltip((()=>{const e=new Pa;return e.header("Manual Radius Marker"),this.is_complement?(e.named("Position",Te.toString(this.spot)+" (In complement area)"),e.named("Radius",`${this.range+15} (${this.range} base + 15 due to being in complement area)`)):(e.named("Position",Te.toString(this.spot)),this.range_is_with_meerkats?e.named("Radius",`${this.range} (${this.range-5} base + 5 from meerkats)`):e.named("Radius",this.range.toString())),e.row(c().text("Click to remove").css("font-style","italic")),e}))}bounds(){return we.centeredOn(this.spot,2*this.range)}render_implementation(e){return ud(this,void 0,void 0,(function*(){var t,i;return this.include_marker&&ce.marker(xe.toLatLong(this.spot),{icon:ta(this.spot.level,e.highlight?1.5:1),opacity:e.opacity,interactive:!0,bubblingMouseEvents:!0}).addTo(this),this.is_complement?Er({topleft:{x:this.spot.x-(this.range+15),y:this.spot.y+(this.range+15)},botright:{x:this.spot.x+(this.range+15),y:this.spot.y-(this.range+15)}}).setStyle({interactive:!1,className:"ctr-step-graphics"}).setStyle({color:ad.PulseColors.different_level.css_string,fillOpacity:0}).addTo(this):(Er({topleft:{x:this.spot.x-this.range,y:this.spot.y+this.range},botright:{x:this.spot.x+this.range,y:this.spot.y-this.range}}).setStyle({interactive:!1,className:"ctr-step-graphics"}).setStyle({color:ad.PulseColors.triple.css_string,fillOpacity:0,dashArray:[9,6,9,6,9,18]}).addTo(this),Er({topleft:{x:this.spot.x-2*this.range,y:this.spot.y+2*this.range},botright:{x:this.spot.x+2*this.range,y:this.spot.y-2*this.range}}).setStyle({interactive:!1,className:"ctr-step-graphics"}).setStyle({color:ad.PulseColors.double.css_string,fillOpacity:0,dashArray:[9,9,9,18]}).addTo(this)),null===(i=null===(t=this.marker)||void 0===t?void 0:t.marker)||void 0===i?void 0:i.getElement()}))}contextMenu(e){return ud(this,void 0,void 0,(function*(){return{type:"submenu",text:"",children:[]}}))}}class gd extends Or{constructor(){super(),this.marker_spot=qi(null),this.scan_range=qi({radius:10,meerkat:!1}),this.surface_is_complement=qi(!1),this.fixedMarker=qi(null),this.manualMarker=qi(null),this.cursorMarker=qi(null),this.canBeManuallySet=qi(!1),this.followCursor=qi(!1),this.canBeManuallySet.subscribe((()=>{this.manualMarker.set(null)})),pd({fixed:this.fixedMarker,manual:this.manualMarker,cursor:this.cursorMarker,manualEnabled:this.canBeManuallySet,followEnabled:this.followCursor}).subscribe((({fixed:e,manual:t,cursor:i,manualEnabled:n,followEnabled:o})=>{o&&i?this.marker_spot.set({coordinates:i,with_marker:!1}):n&&t?this.marker_spot.set({coordinates:t,with_marker:!0}):e?this.marker_spot.set({coordinates:e,with_marker:!1}):this.marker_spot.set(null)})),pd({range:this.scan_range,spot:this.marker_spot}).subscribe((({range:e,spot:t})=>{if(this.custom_marker&&(this.custom_marker.remove(),this.custom_marker=null),t){let i=t.coordinates.y<6400==this.surface_is_complement.value();this.custom_marker=new dd(t.coordinates,e.radius,t.with_marker,i,e.meerkat).addTo(this)}}))}setComplementByExampleSpot(e){return this.surface_is_complement.set(e.y>=6400),this}setFixedSpot(e){return this.fixedMarker.set(e),this}setFollowCursor(e){return this.followCursor.set(e),this}setClickable(e){return this.canBeManuallySet.set(e),this}setRadius(e,t){return this.scan_range.set({radius:e,meerkat:t}),this}clearManualMarker(){this.manualMarker.set(null)}eventClick(e){e.onPost((()=>{this.canBeManuallySet.value()&&(this.custom_marker&&e.active_entity==this.custom_marker||Te.eq2(e.tile(),this.manualMarker.value())?this.clearManualMarker():this.manualMarker.set(e.tile()))}))}eventHover(e){e.onPost((()=>{this.followCursor.value()&&this.cursorMarker.set(e.tile())}))}eventContextMenu(e){e.onPre((()=>{e.active_entity instanceof dd&&e.active_entity==this.custom_marker?e.addForEntity({type:"basic",text:"Remove",handler:()=>{this.manualMarker.set(null)}}):this.canBeManuallySet.value()&&!e.active_entity&&(Te.eq2(this.manualMarker.value(),e.tile())?e.add({type:"basic",text:"Remove Marker",handler:()=>{this.manualMarker.set(null)}}):e.add({type:"basic",text:"Set Marker",handler:()=>{this.manualMarker.set(e.tile())}}))}))}}var fd,yd=ie.hboxc,md=ie.centered,_d=ie.span;class vd extends Ii{constructor(e){super(),this.editor=e,this.normal=qi(!1),this.complement=qi(!1),md(c("<div style='font-weight: bold'>Center On</div>"),new hc({align:"center",sizing:"100px",max_center_spacer_width:"20px"}).buttons(new Jc("Spots").onClick((()=>{let e=ce.latLngBounds([]);this.editor.value.clue.clue.spots.forEach((t=>e.extend(xe.toLatLong(t)))),e.pad(.1),this.editor.app.map.fitBounds(e)})),new Jc("Complement").onClick((()=>{let e=ce.latLngBounds([]);this.editor.value.clue.clue.spots.forEach((t=>{e.extend(xe.toLatLong({x:t.x,y:t.y<6400?t.y+6400:t.y-6400}))})),e.pad(.1),this.editor.app.map.fitBounds(e)}))).addClass("ctr-button-container"),c("<div style='font-weight: bold'>Show Equivalence Classes</div>"),yd(new Mc("Spots").onCommit((e=>{this.normal.set(e)})),new Mc("Complement").onCommit((e=>{this.complement.set(e)}))),c("<div style='font-weight: bold'>Expected Average Time</div>"),this.expected_timing_display=c().css("text-align","center").css("font-family","monospace")).appendTo(this),this.editor.builder.augmented.subscribe((e=>{const t=_d(e.state.timing_analysis.statistics.average.toFixed(2)+" ticks");e.state.timing_analysis.spots.some((e=>e.timings.some((e=>e.incomplete))))&&t.css("color","yellow").tooltip("Incomplete path"),this.expected_timing_display.empty().append(t)}))}}class xd extends Ca{constructor(e){super(e),this.config=e,this.dragstart=null,this.area=qi({area:null,committed:!1})}onAdd(e){return super.onAdd(e),e.dragging.disable(),this}onRemove(e){return super.onRemove(e),e.dragging.enable(),this}start(e){return this.dragstart=e,this}reset(){this.dragstart=null,this.area.set({area:null,committed:!1})}eventMouseDown(e){e.onPre((()=>{this.dragstart||(e.stopAllPropagation(),this.dragstart=e.tile(),this.preview(ze.fromTile(e.tile())))}))}eventMouseUp(e){e.onPre((()=>{this.dragstart&&(e.stopAllPropagation(),this.commit(ze.from(this.dragstart,e.tile())))}))}eventClick(e){e.onPre((()=>{e.stopAllPropagation(),this.dragstart?this.commit(ze.from(this.dragstart,e.tile())):this.commit(ze.fromTile(e.tile()))}))}eventHover(e){e.onPre((()=>{this.dragstart&&(e.stopAllPropagation(),this.preview(ze.from(this.dragstart,e.tile())))}))}}class wd{constructor(){this.bounds=null,this.level=null,this.distance_limit=null,this.fixed_center=!1,this.level_fixed=!1}setDistanceLimit(e){return this.distance_limit=null!=e?{limit:e,center:we.center(this.bounds)}:null,this}fixCenter(e=!0){return this.fixed_center=e,this}fixLevel(e=!0){return this.level_fixed=e,this}addTile(...e){for(let t of e)t&&(null!=this.distance_limit&&e.some((e=>xe.lengthSquared(xe.sub(this.distance_limit.center,e))>this.distance_limit.limit*this.distance_limit.limit))||(this.bounds?(this.fixed_center&&(this.bounds=we.extendTo(this.bounds,xe.mirrorThroughPoint(t,we.center(this.bounds)))),this.bounds=we.extendTo(this.bounds,t)):this.bounds={topleft:t,botright:t},"level"in t&&!this.level_fixed&&(null==this.level?this.level=t.level:this.level=Math.min(this.level,t.level))))}addRectangle(e){e&&("level"in e?(this.addTile(ze.tl(e)),this.addTile(ze.br(e))):(this.addTile(e.topleft),this.addTile(e.botright)))}addArea(e){e&&this.addRectangle(mr.toRect(e))}get(){return this.bounds?{topleft:this.bounds.topleft,botright:this.bounds.botright,level:this.level||0}:null}}!function(e){e.render_digspot=function(e){return c("<span>").addClass("ctr-digspot-inline").text(null==e?void 0:e.toString())},e.render_scanregion=function(e){return c("<span>").addClass("ctr-scanspot-inline").text(e)}}(fd||(fd={}));var bd=fd.render_digspot,kd=ru.Pulse.simplify_with_context,Td=ie.cls;class zd extends Ii{constructor(e,t){super();this.addClass("ctr-neosolving-pulseicon");let{type:i,text:n}=t?kd(e,t):{type:e.pulse,text:e.different_level?"DL":null};null!=i&&c("<img>").setAttribute("src",["assets/icons/pulse_single.png","assets/icons/pulse_double.png","assets/icons/pulse_triple.png"][e.pulse-1]).appendTo(this),null!=n&&Td("tele-icon-code-overlay").text(n).appendTo(this)}}class Sd extends Jc{constructor(e){switch(super("","round"),this.addClass("ctr-neosolving-pulsebutton"),this.css("position","relative"),e.type){case"pulse":this.append(new zd(e.value,e.context));break;case"spot":this.empty().append(bd(e.value))}}static forPulse(e,t){return new Sd({type:"pulse",value:e,context:t})}static forSpot(e){return new Sd({type:"spot",value:e})}}var Cd,Ad,Ed=xp.log;class Pd extends aa{constructor(e,t){super(),this.parent=e,this.type=t,this._state=void 0}setRelatedState(e){this._state=e}endClue(e){var t;(null===(t=this.parent)||void 0===t?void 0:t.reset(this._state))&&Ed().log(`Ended clue from subbehaviour: ${e}`,"NeoSolving"),this.stop()}registerSolution(e){this._state||console.error("Setting solution area with undefined state"),this.parent.setSolutionArea(this._state,e)}pausesClueReader(){return!1}}!function(e){function t(e,t,i=null){return{origin:xe.add(e.origin,t),size:null!=i?i:e.size}}function i(e){return{origin:we.screenOrigin(e),size:{x:we.width(e)+1,y:we.height(e)+1}}}e.move=t,e.subRect=function(e,i){return t(e,i.origin,i.size)},e.relativeTo=function(e,t){return{origin:xe.sub(t.origin,e.origin),size:t.size}},e.fromRectangle=i,e.fromPixels=function(...e){return i(we.from(...e))},e.toRectangle=function(e){return we.fromOriginAndSize(e.origin,e.size)},e.extend=function(e,t){return{origin:xe.sub(e.origin,t),size:xe.add(e.size,t,t)}},e.contains=function(e,t){const i=xe.sub(t,e.origin);return i.x>=0&&i.x<e.size.x&&i.y>=0&&i.y<e.size.y},e.center=function(e){return xe.snap(xe.add(e.origin,xe.scale(.5,e.size)))},e.centeredOn=function(e,t){return{origin:xe.sub(e,{x:t,y:t}),size:{x:2*t,y:2*t}}},e.union=function(...t){return e.fromRectangle(we.union(...t.map(e.toRectangle)))},e.equals=function(e,t){return oe.isEqual(e,t)}}(Cd||(Cd={})),function(e){class t{constructor(e){this.primitives=e}playback(e=3e4){var t,i,n,o;for(let s of this.primitives)switch(s.type){case"rect":const r=we.screenOrigin(s.rect);alt1.overLayRect(s.options.color.for_overlay,Math.round(r.x),Math.round(r.y),Math.round(we.width(s.rect)),Math.round(we.height(s.rect)),e,null!==(t=s.options.width)&&void 0!==t?t:3);break;case"line":alt1.overLayLine(s.options.color.for_overlay,s.options.width,Math.round(s.from.x),Math.round(s.from.y),Math.round(s.to.x),Math.round(s.to.y),e);break;case"text":alt1.overLayTextEx(s.text,s.options.color.for_overlay,null!==(i=s.options.width)&&void 0!==i?i:20,Math.round(s.position.x),Math.round(s.position.y),e,void 0,null===(n=s.options.centered)||void 0===n||n,null===(o=s.options.shadow)||void 0===o||o)}return this}}let i,n;e.Buffer=t,function(e){e.DEFAULT={width:2,color:cd.red}}(i=e.StrokeOptions||(e.StrokeOptions={})),function(e){e.DEFAULT={width:20,color:cd.red,centered:!0,shadow:!0}}(n=e.TextOptions||(e.TextOptions={})),e.GeometryBuilder=class{constructor(){this.primitives=[]}buffer(){return new t([...this.primitives])}rectangle(t,i=e.StrokeOptions.DEFAULT){return this.primitives.push({type:"rect",rect:Cd.toRectangle(t),options:i}),this}line(t,i,n=e.StrokeOptions.DEFAULT){return this.primitives.push({type:"line",from:t,to:i,options:n}),this}polyline(t,i=!1,n=e.StrokeOptions.DEFAULT){var o,s;for(let e=0;e<t.length;e++){const r=(e+1)%t.length;if(0==r&&!i)break;let a=t[e],l=t[r];const c=xe.normalize(xe.sub(l,a));a=xe.add(a,xe.scale(-(null!==(o=n.width)&&void 0!==o?o:2)/3,c)),l=xe.add(l,xe.scale((null!==(s=n.width)&&void 0!==s?s:2)/3,c)),this.line(a,l,n)}return this}circle(t,i=8,n=e.StrokeOptions.DEFAULT){const o=[];for(let e=0;e<i;e++){const n=e/i*2*Math.PI;o.push({x:t.center.x+~~(Math.cos(n)*t.radius),y:t.center.y+~~(Math.sin(n)*t.radius)})}return this.polyline(o,!0,n),this}progressbar(e,t,i,n=5,o=2,s=cd.green,r=cd.red){const a=xe.add(e,{x:-Math.floor(t/2),y:0}),l=xe.add(a,{x:t,y:0}),c=xe.snap(xe.add(a,{x:se().clamp(i,0,1)*t,y:0}));this.line(xe.add(a,{x:-o,y:0}),xe.add(l,{x:o,y:0}),{color:cd.black,width:n+2*o}),this.line(a,c,{color:s,width:n}),this.line(c,l,{color:r,width:n})}text(t,i,n=e.TextOptions.DEFAULT){return this.primitives.push({type:"text",text:t,position:i,options:n}),this}}}(Ad||(Ad={}));var Md=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Ld=_e.delay;class Dd{constructor(){this.finished_event=ji(),this.is_running=!1,this.should_stop=!1,this.finished=!1,this.interrupt_settings={interrupt:{interval:50,length:1}},this.timeout=Number.MAX_SAFE_INTEGER,this.interrupt_ewent=ji()}asInterval(e){return this.interrupt_settings={interval:e},this}withInterrupt(e,t){return this.interrupt_settings={interrupt:{interval:e,length:t}},this}withTimeout(e){return this.timeout=e,this}run(){return Md(this,void 0,void 0,(function*(){if(this.is_running||this.finished)return null;this.is_running=!0,this.should_stop=!1,this.start_time=Date.now(),this.end_time=this.start_time+this.timeout,this.last_interrupt_time=this.start_time;const e=yield this.implementation();return this.is_running=!1,this.should_stop=!1,this.finished=!0,this.finished_event.trigger(this),e}))}isFinished(){return this.finished}onInterrupt(e){return this.interrupt_ewent.on(e),this}interrupt(e){return Md(this,void 0,void 0,(function*(){this.interrupt_ewent.trigger(null),yield Ld(e)}))}stop(){this.is_running&&(this.should_stop=!0)}await(){return new Promise((e=>{this.finished?e(this):this.finished_event.on(e)}))}checkTime(){return Md(this,void 0,void 0,(function*(){const e=Date.now();this.interrupt_settings.interval?yield this.interrupt(Math.max(this.interrupt_settings.interval/2,this.last_interrupt_time+this.interrupt_settings.interval-e)):e>=this.end_time?this.stop():e>=this.last_interrupt_time+this.interrupt_settings.interrupt.interval&&(this.last_interrupt_time=e,yield this.interrupt(this.interrupt_settings.interrupt.length))}))}onFinished(e){return this.finished_event.on(e),this}}!function(e){e.Interval=class extends e{constructor(e){super(),this.asInterval(e)}implementation(){return Md(this,void 0,void 0,(function*(){for(;!this.should_stop;)yield this.tick(),yield this.checkTime()}))}}}(Dd||(Dd={}));class Id{constructor(){this.position=qi(null).structuralEquality()}startTracking(){const e=this;this.process||(this.process=new class extends Dd.Interval{constructor(){super(20)}tick(){if(0==e.position.changed.handlerCount())return this.stop(),void(e.process=null);e.position.set(ld.getMousePosition())}},this.process.run())}subscribe(e){const t=this.position.subscribe2((t=>{t&&e(t)}));return this.startTracking(),t}}class Od{constructor(){this.handlers=[],this.trigger_count=0,ld.on("alt1pressed",(e=>{this.clean_pass();const t=new Od.Event(e),i=oe.sortBy(this.handlers.filter((e=>e.isAlive())),(e=>-e.priority));for(const e of i)if(e.apply(t),t.isConsumed())break}))}clean_pass(){this.trigger_count+=1,this.trigger_count>10&&(this.handlers=this.handlers.filter((e=>e.isAlive())))}subscribe(e,t){this.clean_pass();let i=new Od.Handler(e,t);return this.handlers.push(i),i}}!function(e){e.Handler=class extends Oi{constructor(e,t){super(t),this.priority=e}},e.Event=class{constructor(e){this.raw=e,this.consumed=!1,this.mouse=e.mouseRs,this.mouseScreen=e.mouseAbs,this.text=e.text.length>0?e.text:null}consume(){return this.consumed=!0,this}isConsumed(){return this.consumed}}}(Od||(Od={}));var Rd,Bd=_e.sampleImage,Fd=_e.rgbSimilarity;class Nd{constructor(){this.ewent=ji(),this.last_rect=null,ld.on("menudetected",(e=>{new Nd.Event(e),this.last_rect={origin:{x:e.rectangle.x,y:e.rectangle.y},size:{x:e.rectangle.width,y:e.rectangle.height}},this.ewent.trigger(this.last_rect)}))}check(e){if(!this.last_rect)return null;const t=[28,26,18],i=xe.add(this.last_rect.origin,{x:22,y:6});if(Cd.contains(e.screenRectangle(),i)){const n=e.getSubSection(Cd.relativeTo(e.screenRectangle(),{origin:i,size:{x:1,y:1}})),o=Bd(n.getData(),{x:0,y:0});Fd(t,o)<.9&&(this.last_rect=null,this.ewent.trigger(this.last_rect))}return this.last_rect}subscribe(e){return this.ewent.on(e)}}!function(e){e.Event=class{constructor(e){this.raw=e,this.rect={origin:{x:e.rectangle.x,y:e.rectangle.y},size:{x:e.rectangle.width,y:e.rectangle.height}}}}}(Nd||(Nd={}));class jd{constructor(){this.active_instance=null}setTooltip(e){return this.active_instance&&this.removeTooltip(this.active_instance),alt1.setTooltip(e),this.active_instance=new jd.Instance(e,this)}removeTooltip(e){this.active_instance==e&&(alt1.clearTooltip(),this.active_instance=null)}}!function(e){e.Instance=class{constructor(e,t){this.text=e,this.manager=t}remove(){this.manager.removeTooltip(this)}endLifetime(){this.remove()}}}(jd||(jd={}));class Ud{constructor(){this.last_checked_tick=void 0,this.interests=[],this.raw_last_capture=void 0,this._currentInterest=null}subscribe(e){const t=e instanceof Ud.InterestToken?e:new class extends Ud.InterestToken{handle(t){var i;null===(i=e.handle)||void 0===i||i.call(e,t)}isPaused(){var t,i;return null!==(i=null===(t=e.paused)||void 0===t?void 0:t.call(e))&&void 0!==i&&i}options(t){return e.options(t)}isOneTime(){return!!e.isOneTime&&e.isOneTime()}};return this.interests.push(t),t.onKilled((()=>{const e=this.interests.indexOf(t);e>=0&&this.interests.splice(e,1)})),t.lifetime_manager.bind(...t.setupHandlers(this)),t}transformValueForNotification(e,t){return t.value}doIfAnyInterest(e,t){var i;if(e.tick==(null===(i=this.last_checked_tick)||void 0===i?void 0:i.tick))return;this.last_checked_tick=e;const n=this.getInterests(e);if(n.length>0){const i=t(n.map((e=>e.options)));if(void 0===i)return;const o=this.raw_last_capture={time:e,value:i,options:null};n.forEach((t=>{t.token.notify({time:e,value:this.transformValueForNotification(t.options,o),options:t.options})}))}}getInterests(e){return this._currentInterest&&this._currentInterest.time.tick==e.tick||(this._currentInterest={time:e,interests:this.interests.filter((e=>!e.isPaused()&&e.isAlive())).map((t=>({options:t.options(e),token:t}))).filter((t=>t.options&&t.options.interval.matches(e)))}),this._currentInterest.interests}captureOnce(e){return new Promise((t=>{this.subscribe({options:()=>Object.assign(Object.assign({},e.options),{interval:Hd.level(0)}),handle:e=>t(e),isOneTime:()=>!0})}))}}!function(e){var t=xp.log;e.InterestToken=class{constructor(){this.lifetime_manager=new Mr,this.killed_event=ji(),this.alive=!0}isPaused(){return!1}isAlive(){return this.alive}revoke(){this.alive&&(this.alive=!1,this.killed_event.trigger(this),this.lifetime_manager.kill())}onKilled(e){return this.killed_event.on(e),this}isOneTime(){return!1}notify(e){if(this.alive){this._last_notification=e;try{this.handle(e)}catch(e){e instanceof Error&&(console.error(e.stack),t().log(e.toString(),"Capturing"))}this.isOneTime()&&this.revoke()}}lastNotification(){return this._last_notification}setupHandlers(e){return[]}endLifetime(){this.revoke()}}}(Ud||(Ud={}));class qd extends Ud{constructor(){super(),this.sources=[]}addDataSource(e,t){const i=this,n=e.subscribe(new class extends Ud.InterestToken{handle(e){if(i.sources.every((t=>{var i,n;return(null===(n=null===(i=t.token.lastNotification())||void 0===i?void 0:i.time)||void 0===n?void 0:n.tick)==e.time.tick}))){const t=i.getInterests(e.time),n=i.raw_last_capture={time:e.time,options:null,value:i.processNotifications(t)};t.forEach((e=>{e.token.notify({time:n.time,options:e.options,value:i.transformValueForNotification(e.options,n)})}))}}options(e){const n=i.getInterests(e);if(0==n.length)return null;const o=t(e,n.map((e=>e.options)));return Object.assign(Object.assign({},o),{interval:oe.minBy([Hd.level(200),...n.map((e=>e.options.interval))],(e=>e.tick_modulo)),original_interests:n})}isPaused(){return i.interests.every((e=>e.isPaused()))}});return this.sources.push({service:e,token:n}),n}endLifetime(){this.sources.forEach((e=>e.token.revoke()))}}class Hd{constructor(e){this.level=e,this.tick_modulo=Math.pow(2,e)}interval(){return this.tick_modulo*(1e3/Hd.global_capturing_fps)}matches(e){return e.tick%this.tick_modulo==0}static level(e){return new Hd(e)}static fromApproximateInterval(e){const t=Math.max(0,Math.round(Math.log2(e/(1e3/Hd.global_capturing_fps))));return new Hd(t)}static setGlobalCapturingFps(e){this.global_capturing_fps=e}static globalCapturingFps(){return this.global_capturing_fps}}Hd.global_capturing_fps=60,function(e){e.MAX_FPS=60,e.MIN_CAPTURE_INTERVAL=1e3/e.MAX_FPS}(Rd||(Rd={}));var Vd;class $d extends Ud{constructor(){super();const e=this;this.ticker=new class extends Dd.Interval{constructor(){super(...arguments),this.start_time=void 0}tick(){return t=this,i=void 0,o=function*(){var t,i;if(!(null===(t=window.alt1)||void 0===t?void 0:t.rsLinked))return;const n=Date.now();null!==(i=this.start_time)&&void 0!==i||(this.start_time=n);const o={tick:~~((n-this.start_time)/Rd.MIN_CAPTURE_INTERVAL),time:n};e.doIfAnyInterest(o,(e=>{const t=Cd.union(...e.map((e=>{var t;return null!==(t=null==e?void 0:e.area)&&void 0!==t?t:{origin:{x:0,y:0},size:{x:alt1.rsWidth,y:alt1.rsHeight}}}))),i=Jd.capture(t);if(i)return i}))},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o}}(1e3/Hd.globalCapturingFps()/2),this.ticker.run()}transformValueForNotification(e,t){return(null==e?void 0:e.area)?t.value.getScreenSection(e.area):t.value}}!function(e){e.contains=function(e,t){return xe.lengthSquared(xe.sub(t,e.center))<e.radius*e.radius}}(Vd||(Vd={}));var Wd=_e.uuid,Gd=xp.log;class Zd extends aa{constructor(e=void 0,t=Yd.instance().overlays){super(),this.oneshot=e,this.heartbeater=t,this.parent=null,this.group_name=Wd(),this.is_frozen=!1,this.visible=qi(!0),this.is_actually_visible=qi(!0),this.overlay=new Ad.Buffer([]),this._interactivity=ma((()=>{const e=this.withSub(new Zd.Interactivity(this));return e.hovered.subscribe2((()=>this.rerender())).bindTo(this.lifetime_manager),e.is_default_action.subscribe2((()=>this.rerender())).bindTo(this.lifetime_manager),e})),this.visible.subscribe((()=>this.refreshVisibility())),this.is_actually_visible.subscribe((()=>this.refresh()))}interactivity(e=!0){return e||this._interactivity.hasValue()?this._interactivity.get():null}setGeometry(e){this.overlay=e,this.refresh()}refresh(){this.isActive()&&(this._interactivity.hasValue()&&this._interactivity.get().refreshTooltip(),this.freeze(),alt1.overLayClearGroup(this.group_name),this.isVisible()&&(alt1.overLaySetGroup(this.group_name),this.overlay.playback(1.5*this.heartbeater.HEARTBEAT),alt1.overLaySetGroup("")),alt1.overLayRefreshGroup(this.group_name))}rerender(){this.render==Zd.prototype.render&&this.renderWithBuilder==Zd.prototype.renderWithBuilder||this.setGeometry(this.render())}render(){const e=new Ad.GeometryBuilder;return this.renderWithBuilder(e),e.buffer()}renderWithBuilder(e){}begin(){this.oneshot||this.heartbeater.onHeartbeat((()=>this.refresh())).bindTo(this.lifetime_manager),this.heartbeater.bindToPageLifetime(this),this.refresh()}end(){alt1.overLayClearGroup(this.group_name),alt1.overLayRefreshGroup(this.group_name)}freeze(){this.group_name&&(alt1.overLayFreezeGroup(this.group_name),this.is_frozen=!0)}isVisible(){return this.is_actually_visible.value()}setVisible(e){return this.visible.set(e),this}refreshVisibility(){this.is_actually_visible.set(this.visible.value()&&(null==this.parent||this.parent.isVisible()))}addTo(e){return null!=this.parent?(Gd().log("ERROR: Overlay already has a parent.","Overlays"),this):(this.parent=e,this.parent.is_actually_visible.subscribe((()=>this.refreshVisibility())),this.refreshVisibility(),e.withSub(this),this)}static oneOff(e,t){const i=new Zd({alive_time:t});return i.setGeometry(e),i.start(),i}}!function(e){class t extends aa{constructor(e){super(),this.parent=e,this.main_hotkey_pressed=ji(),this.right_clicked=ji(),this.bounds=null,this.tooltip=null,this.active_tooltip=null,this.hovered=qi(!1),this.is_default_action=qi(!1)}setBounds(e){return this.bounds=e,this}begin(){Yd.instance().main_hotkey.subscribe(10,(e=>{this.parent.isVisible()&&i.contains(this.bounds,e.mouse)&&(e.consume(),this.main_hotkey_pressed.trigger(this))})).bindTo(this.lifetime_manager),Yd.instance().main_hotkey.subscribe(9,(e=>{this.parent.isVisible()&&this.is_default_action.value()&&(e.consume(),this.main_hotkey_pressed.trigger(this))})).bindTo(this.lifetime_manager),Yd.instance().context_menu.subscribe((e=>{if(!this.parent.isVisible())return;const t=ld.getMousePosition();i.contains(this.bounds,t)&&this.right_clicked.trigger(this)})).bindTo(this.lifetime_manager),Yd.instance().mouse_tracking.subscribe((e=>{const n=i.contains(this.bounds,e);this.hovered.set(n),n?t.setHovered(this):t._hovered.value()==this&&t.setHovered(null)})).bindTo(this.lifetime_manager)}end(){}isHovered(){return this.hovered.value()&&this.parent.isVisible()}makeDefaultHotkeyHandler(){t.setDefaultMainHotkeyHandler(this)}static setDefaultMainHotkeyHandler(e){this._default_main_hotkey_handler.set(e)}static setHovered(e){this._hovered.set(e)}setTooltip(e){return this.tooltip=e,this}refreshTooltip(){this.isHovered()&&this.tooltip&&!this.active_tooltip&&alt1.rsActive?this.active_tooltip=Yd.instance().tooltips.setTooltip(this.tooltip):!this.isHovered()&&this.active_tooltip&&(this.active_tooltip.remove(),this.active_tooltip=null)}}let i;t._default_main_hotkey_handler=qi(null).subscribe(((e,t)=>{t&&t.is_default_action.set(!1),e&&e.is_default_action.set(!0)})),t._hovered=qi(null),e.Interactivity=t,function(e){e.contains=function(e,t){if(!e)return!1;switch(e.type){case"circle":return Vd.contains(e.area,t);case"rectangle":return Cd.contains(e.area,t)}return!1}}(i=e.Bounds||(e.Bounds={}))}(Zd||(Zd={}));class Kd{constructor(){this.HEARTBEAT=2e4,this.heartbeat=ji(),this.page_lifetime_manager=new Mr,window.addEventListener("pagehide",(()=>{this.page_lifetime_manager.endLifetime()}))}startTracking(){if(this.process)return;const e=this;this.process=new class extends Dd.Interval{constructor(){super(e.HEARTBEAT)}tick(){e.heartbeat.trigger(null)}},this.process.run()}onHeartbeat(e){const t=this.heartbeat.on(e);return this.startTracking(),t}bindToPageLifetime(e){this.page_lifetime_manager.bind(e)}create(){return new Zd(void 0,this)}}class Yd{constructor(){this.mouse_tracking=new Id,this.main_hotkey=new Od,this.context_menu=new Nd,this.tooltips=new jd,this.capturing=new $d,this.overlays=new Kd}static instance(){return this._instance.get()}}Yd._instance=ma((()=>new Yd)),function(e){e.exists=function(){return ld.hasAlt1},e.clientSize=function(){return{x:alt1.rsWidth,y:alt1.rsHeight}}}(Yd||(Yd={}));var Qd=_e.uuid;class Xd{constructor(){this.is_frozen=!1,this.group_name=null,this.alive_time=1e4,this.primitives=[]}setGroupName(e){this.group_name=e}withTime(e){return this.alive_time=e,this}rect(e,t=Ad.StrokeOptions.DEFAULT){return this.primitives.push({type:"rect",rect:e,options:t}),this}rect2(e,t=Ad.StrokeOptions.DEFAULT){return this.primitives.push({type:"rect",rect:Cd.toRectangle(e),options:t}),this}line(e,t,i=Ad.StrokeOptions.DEFAULT){return this.primitives.push({type:"line",from:e,to:t,options:i}),this}polyline(e,t=!1,i=Ad.StrokeOptions.DEFAULT){var n,o;for(let s=0;s<e.length;s++){const r=(s+1)%e.length;if(0==r&&!t)break;let a=e[s],l=e[r];const c=xe.normalize(xe.sub(l,a));a=xe.add(a,xe.scale(-(null!==(n=i.width)&&void 0!==n?n:2)/3,c)),l=xe.add(l,xe.scale((null!==(o=i.width)&&void 0!==o?o:2)/3,c)),this.line(a,l,i)}return this}circle(e,t=8,i=Ad.StrokeOptions.DEFAULT){const n=[];for(let i=0;i<t;i++){const o=i/t*2*Math.PI;n.push({x:e.center.x+~~(Math.cos(o)*e.radius),y:e.center.y+~~(Math.sin(o)*e.radius)})}return this.polyline(n,!0,i),this}progressbar(e,t,i,n=5,o=2,s=cd.green,r=cd.red){const a=xe.add(e,{x:-Math.floor(t/2),y:0}),l=xe.add(a,{x:t,y:0}),c=xe.snap(xe.add(a,{x:oe.clamp(i,0,1)*t,y:0}));this.line(xe.add(a,{x:-o,y:0}),xe.add(l,{x:o,y:0}),{color:cd.black,width:n+2*o}),this.line(a,c,{color:s,width:n}),this.line(c,l,{color:r,width:n})}text(e,t,i=Ad.TextOptions.DEFAULT){return this.primitives.push({type:"text",text:e,position:t,options:i}),this}add(...e){return e.forEach((e=>{this.primitives.push(...e.primitives)})),this}push_draw_calls(){var e,t,i,n,o;alt1.overLaySetGroup(this.group_name);for(let s of this.primitives)switch(s.type){case"rect":const r=we.screenOrigin(s.rect);alt1.overLayRect(s.options.color.for_overlay,Math.round(r.x),Math.round(r.y),Math.round(we.width(s.rect)),Math.round(we.height(s.rect)),this.alive_time,null!==(e=s.options.width)&&void 0!==e?e:3);break;case"line":alt1.overLayLine(s.options.color.for_overlay,s.options.width,Math.round(s.from.x),Math.round(s.from.y),Math.round(s.to.x),Math.round(s.to.y),null!==(t=this.alive_time)&&void 0!==t?t:2);break;case"text":alt1.overLayTextEx(s.text,s.options.color.for_overlay,null!==(i=s.options.width)&&void 0!==i?i:20,Math.round(s.position.x),Math.round(s.position.y),this.alive_time,void 0,null===(n=s.options.centered)||void 0===n||n,null===(o=s.options.shadow)||void 0===o||o)}return alt1.overLaySetGroup(""),this}render(){return Yd.exists()?(this.group_name||(this.group_name=Qd()),this.freeze(),alt1.overLayClearGroup(this.group_name),this.push_draw_calls(),alt1.overLayRefreshGroup(this.group_name),this):this}clear(){return this.primitives=[],this}hide(){return this.group_name&&(alt1.overLayClearGroup(this.group_name),alt1.overLayRefreshGroup(this.group_name)),this}freeze(){this.group_name&&(alt1.overLayFreezeGroup(this.group_name),this.is_frozen=!0)}unfreeze(){this.is_frozen&&(alt1.overLayContinueGroup(this.group_name),this.is_frozen=!1)}}!function(e){e.over=function(){return new e}}(Xd||(Xd={}));class Jd{constructor(e,t,i=null){this.capture=e,this.screen_rectangle=t,this.parent=i,this._name=void 0,this._data=void 0,this._fullCapturedRectangle={origin:{x:e.img_ref.x,y:e.img_ref.y},size:{x:e.img_ref.width,y:e.img_ref.height}},this.screen_rectangle||(this.screen_rectangle=this._fullCapturedRectangle),i&&(this._relativeRectangle={origin:xe.sub(this.screen_rectangle.origin,this.parent.screen_rectangle.origin),size:t.size}),this.size=this.screen_rectangle.size}ensure_current(){if(this.capture.img_ref instanceof ld.ImgRefBind&&this.root()!=Jd.latest_capture)throw new Error("Tried to perform an operation on an expired ImgRefBind")}setName(e){return this._name=e,this}name(){return this._name}raw(){return this.capture.img_ref}screenRectangle(){return this.screen_rectangle}relativeRectangle(){return this._relativeRectangle}findNeedle(e){return(()=>{if(this.capture.img_ref instanceof ld.ImgRefBind&&alt1.bindFindSubImg){this.ensure_current();const t=alt1.bindFindSubImg(this.capture.img_ref.handle,e.encoded(),e.underlying.width,this.screen_rectangle.origin.x,this.screen_rectangle.origin.y,this.screen_rectangle.size.x,this.screen_rectangle.size.y);if(!t)throw new ld.Alt1Error;return JSON.parse(t)}return ld.ImageDetect.findSubbuffer(this.getData(),e.underlying).map((e=>xe.add(this.screen_rectangle.origin,e)))})().map((t=>this.getScreenSection({origin:t,size:{x:e.underlying.width,y:e.underlying.height}})))}root(){return this.parent?this.parent.root():this}isFullScreen(){return this.root()==this}getScreenSection(e){return new Jd(this.root().capture,oe.cloneDeep(e),this.root())}getSubSection(e){return new Jd(this.capture,{origin:xe.add(this.screen_rectangle.origin,e.origin),size:e.size},this)}getData(){return this._data||(this.ensure_current(),this._data=this.capture.img_ref.toData(this.screen_rectangle.origin.x,this.screen_rectangle.origin.y,this.screen_rectangle.size.x,this.screen_rectangle.size.y)),this._data}recapture(e){return e.getScreenSection(this.screenRectangle())}static capture(e=null){try{const t=Date.now(),i=null!=e?e:{origin:{x:0,y:0},size:{x:alt1.rsWidth,y:alt1.rsHeight}},n=ld.captureHold(i.origin.x,i.origin.y,i.size.x,i.size.y);return this.latest_capture=new Jd({img_ref:n,timestamp:t},i).setName(e?"Partial Capture":"Full Capture")}catch(e){return console.error(`Capture failed: ${e.message}`),console.error(e.stack),null}}debugOverlay(e=new Xd){return e.rect2(this.screenRectangle()),this._name&&e.text(this._name,this.screen_rectangle.origin,{width:10,centered:!1,color:cd.white}),e}}Jd.latest_capture=null,function(e){e.bind=function(t){return new e({timestamp:Date.now(),img_ref:new ld.ImgRefData(t)},{origin:{x:0,y:0},size:{x:t.width,y:t.height}})}}(Jd||(Jd={}));var eg;class tg{constructor(e){this.underlying=e,this._encoded=ma((()=>ld.encodeImageString(this.underlying)))}encoded(){return this._encoded.get()}static fromURL(e){return t=this,i=void 0,o=function*(){return new tg(yield ld.ImageDetect.imageDataFromUrl(e))},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o}}!function(e){var t=_e.scoreAll,i=_e.rgbSimilarity;function n(e,t,i,n){for(var o=new ld.ImageData(e.width,e.height),s=0;s<e.data.length;s+=4){var r=l(e.data[s],e.data[s+1],e.data[s+2],t,i,n);o.data[s+0]=255*r[0],o.data[s+1]=o.data[s+0],o.data[s+2]=o.data[s+0],o.data[s+3]=255}return o}function o(e,t,i,n,o,s){if(t&&(e.width!=t.width||e.height!=t.height))throw"bgimg size doesn't match";for(var r=new ld.ImageData(e.width,e.height),l=0;l<e.data.length;l+=4){var c=a(e.data[l],e.data[l+1],e.data[l+2],n,o,s,t.data[l+0],t.data[l+1],t.data[l+2]);if(i){c[2]>.01&&console.log("high error component: "+(100*c[2]).toFixed(1)+"%"),c[2];var u=1-c[1]-Math.abs(c[2]);r.data[l+0]=255*u,r.data[l+1]=c[0]/u*255,r.data[l+2]=r.data[l+0]}else r.data[l+0]=255*c[0],r.data[l+1]=r.data[l+0],r.data[l+2]=r.data[l+0];r.data[l+3]=255}return r}function s(e,t,i,n,o){for(var s=new ld.ImageData(e.width,e.height),r=i+n+o,a=0;a<e.data.length;a+=4){if(t){var l=e.data[a+0]+e.data[a+1]+e.data[a+2];s.data[a+0]=e.data[a+3],s.data[a+1]=l/r*255,s.data[a+2]=s.data[a+0]}else s.data[a+0]=e.data[a+3],s.data[a+1]=s.data[a+0],s.data[a+2]=s.data[a+0];s.data[a+3]=255}return s}function r(e,t,i,n,o,s,r){const a=Math.min(50,r/(1-r)),l=e+(e-n)*a,c=t+(t-o)*a,u=i+(i-s)*a;return Math.max(0,-l,-c,-u,l-255,c-255,u-255)}function a(e,t,i,n,o,s,r,a,l){var u=o*l-a*s,p=s*r-l*n,h=n*a-r*o,d=255/Math.sqrt(u*u+p*p+h*h);return c(e,t,i,n,o,s,r,a,l,u*=d,p*=d,h*=d)}function l(e,t,i,n,o,s){var r=Math.abs(e-n),a=Math.abs(t-o),l=Math.abs(i-s);return[1-Math.max(r,a,l)/255]}function c(e,t,i,n,o,s,r,a,l,c,u,p){var h=a*p-l*u,d=l*c-r*p,g=r*u-a*c,f=n*h+o*d+s*g;return[(h*e+d*t+g*i)/f,((u*s-p*o)*e+(p*n-c*s)*t+(c*o-u*n)*i)/f,((o*l-s*a)*e+(s*r-n*l)*t+(n*a-o*r)*i)/f]}function u(e,t,i,n,o,s,r){if(n<0)return null;if(o-t.basey<0)return null;if(n+s+t.width>e.width)return null;if(o+r-t.basey+t.height>e.height)return null;for(var a=1e3,l=null,c=n;c<n+s;c++)for(var u=o;u<o+r;u++){var p=g(e,t,i,c,u,!1,!1);null!=p&&p.sizescore<a&&(a=p.sizescore,l=p)}return l}function p(e,t,i){var n=i.map((e=>({col:e,score:0})));if(t.x<0||t.y<0||t.x+t.width>e.width||t.y+t.height>e.height)return n;var o=e.data;for(var s of n){for(var r=0,a=s.col,l=t.y;l<t.y+t.height;l++)for(var c=t.x;c<t.x+t.width;c++){var u=4*c+4*l*e.width,p=Math.abs(o[u]-a[0])+Math.abs(o[u+1]-a[1])+Math.abs(o[u+2]-a[2]);p<50&&(r+=50-p)}s.score=r}return n.sort(((e,t)=>t.score-e.score))}function h(e,n,o){const s=t(o,(t=>{let o=0;for(let s=n.y;s<n.y+n.height;s++)if(!(s<0||s+1>=e.height))for(let r=n.x;r<n.x+n.width;r++){if(r<0||r+1>=e.width)continue;const n=i(e.getPixel(r,s),t);n>.9&&(o+=n)}return o}));return oe.maxBy(s,(e=>e.score)).value}function d(e,t,i,n,o,s,r=!1){"number"!=typeof i[0]&&1==i.length&&(i=i[0]);var a="number"!=typeof i[0],l=a?i:[i],c=function(i,n,o){const s=t.width;return o&&(i-=s),n-=t.basey,h(e,{x:i,y:n,width:s,height:t.height},l)},u=[],p=n,d=n,f="number"==typeof t.maxspaces?t.maxspaces:1;let y="",m=!1;var _=null;let v=e=>{if(!y)return;let t={text:y,color:_,index:0,xstart:n+(e?b:k),xend:n+(e?k:b)};e?u.push(t):u.unshift(t),y="",b=w,m=!1};for(var x of[!0,!1])if((!x||s)&&(x||r)){for(var w=0,b=w,k=w,T=0,z=!1,S=a?null:i;;){var C=(S=S||c(n+w,o,!x))?g(e,t,S,n+w,o,!x,!0):null;if(null==S||null==C){if(T<f){w+=(x?1:-1)*t.spacewidth,T++;continue}if(a&&!z&&m){w-=(x?1:-1)*T*t.spacewidth,T=0,S=null,z=!0;continue}x?d=n+w-t.spacewidth:p=n+w+t.spacewidth;break}!_||S[0]==_[0]&&S[1]==_[1]&&S[2]==_[2]||v(x);for(var A="",E=0;E<T;E++)A+=" ";x?y+=A+C.chr:y=C.chr+A+y,C.basechar.secondary||(m=!0),T=0,z=!1,w+=(x?1:-1)*C.basechar.width,k=w,_=S}_&&m&&v(x)}return u.forEach(((e,t)=>e.index=t)),{debugArea:{x:p,y:o-9,w:d-p,h:10},text:u.map((e=>e.text)).join(""),fragments:u}}function g(e,t,i,n,o,s,a){o-=t.basey;const l=t.basey,c=t.shadow;if(o<0||o+t.height>=e.height)return null;if(s){if(n-t.width<0||n>e.width)return null}else if(n<0||n+t.width>e.width)return null;const u=[];e:for(const l of t.chars){if(l.secondary&&!a)continue;let t=0;const p=s?n-l.width:n;if(c)for(let n=0;n<l.pixels.length;n+=4){const s=4*(p+l.pixels[n])+(o+l.pixels[n+1])*e.width*4,a=l.pixels[n+3]/255;if(t+=r(e.data[s],e.data[s+1],e.data[s+2],i[0]*a,i[1]*a,i[2]*a,l.pixels[n+2]/255),t>400)continue e}else for(let n=0;n<l.pixels.length;n+=3){const s=4*(p+l.pixels[n])+(o+l.pixels[n+1])*e.width*4;if(t+=r(e.data[s],e.data[s+1],e.data[s+2],i[0],i[1],i[2],l.pixels[n+2]/255),t>400)continue e}u.push({score:t,sizescore:t-l.bonus,chr:l})}const p=oe.minBy(u,(e=>e.sizescore));return!p||p.score>400?null:{chr:p.chr.chr,basechar:p.chr,x:n+0,y:o+l,score:p.score,sizescore:p.sizescore}}function f(e,t,i,n,o,s,r,a){r*=255;for(var l=e.height-1,c=0,u={chars:[],width:0,spacewidth:s,shadow:a,height:0,basey:0},p=!1,h=[],d=0;d<e.width;d++){var g=4*d+4*e.width*(e.height-1);if(255==e.data[g]&&255==e.data[g+3])!1===p&&(p=d);else if(!1!==p){var f=d,y=t[h.length],m={ds:p,de:f,width:f-p,chr:y,bonus:n&&n[y]||0,secondary:-1!=i.indexOf(t[h.length]),pixels:[]};for(h.push(m),u.width=Math.max(u.width,m.width),v=0;v<f-p;v++)for(x=0;x<e.height-1;x++)g=4*(v+p)+x*e.width*4,e.data[g]>=r&&(l=Math.min(l,x),c=Math.max(c,x));p=!1}}for(var _ in u.height=c+1-l,u.basey=o-l,h){m=h[_];for(var v=0;v<m.width;v++)for(var x=0;x<c+1-l;x++)g=4*(v+m.ds)+(x+l)*e.width*4,e.data[g]>=r&&(m.pixels.push(v,x),m.pixels.push(e.data[g]),a&&m.pixels.push(e.data[g+1]),m.bonus+=5);m.bonus=+m.bonus.toFixed(3),u.chars.push({width:m.width,bonus:m.bonus,chr:m.chr,pixels:m.pixels,secondary:m.secondary})}return u}e.debugout={},e.debugFont=function(e){for(var t=e.width+2,i=new ld.ImageData(t*e.chars.length,e.height+1),n=0;n<i.data.length;n+=4)i.data[n]=i.data[n+1]=i.data[n+2]=0,i.data[n+3]=255;for(n=0;n<e.chars.length;n++)for(var o=n*t,s=e.chars[n],r=0;r<s.pixels.length;r+=e.shadow?4:3)i.setPixel(o+s.pixels[r],s.pixels[r+1],[s.pixels[r+2],s.pixels[r+2],s.pixels[r+2],255]),e.shadow&&i.setPixel(o+s.pixels[r],s.pixels[r+1],[s.pixels[r+3],0,0,255]);i.show()},e.unblendBlackBackground=n,e.unblendKnownBg=o,e.unblendTrans=s,e.canblend=r,e.decompose2col=a,e.decomposeblack=l,e.decompose3col=c,e.findChar=u,e.findReadLine=function(e,t,i,n,o,s=-1,r=-1){-1==s&&(s=t.width+t.spacewidth,n-=Math.ceil(s/2)),-1==r&&(r=7,o-=1);var a=null;if(i.length>1)for(var l=p(e,new ld.Rect(n,o-t.basey,s,r),i),c=0;c<2&&c<l.length&&null==a;c++)a=u(e,t,l[c].col,n,o,s,r);else a=u(e,t,i[0],n,o,s,r);return null==a?{debugArea:{x:n,y:o,w:s,h:r},text:"",fragments:[]}:d(e,t,i,a.x,a.y,!0,!0)},e.getChatColorMono=p,e.getChatColor=h,e.readLine=d,e.readSmallCapsBackwards=function(e,t,i,n,o,s=-1,r=-1){-1==s&&(s=t.width+t.spacewidth,n-=Math.ceil(s/2)),-1==r&&(r=7,o-=1);for(var a=null,l=1==i.length?[{col:i[0],score:1}]:p(e,new ld.Rect(n,o-t.basey,s,r),i),c=0;c<2&&c<l.length&&null==a;c++)for(var u=n+s-1;u>=n;u--){for(var h=1e3,f=null,y=o;y<o+r;y++){var m=g(e,t,l[c].col,u,y,!0,!1);null!=m&&m.sizescore<h&&(h=m.sizescore,f=m)}if(f){a=f;break}}return null==a?{text:"",debugArea:{x:n,y:o,w:s,h:r}}:d(e,t,i,a.x,a.y,!1,!0)},e.readChar=g,e.loadFontImage=function(e,t){var i=e.height-1;"removebg"==t.unblendmode&&(i/=2);var r,a=e.clone({x:0,y:0,width:e.width,height:i});if("removebg"==t.unblendmode)r=o(a,e.clone({x:0,y:i+1,width:e.width,height:i}),t.shadow,t.color[0],t.color[1],t.color[2]);else if("raw"==t.unblendmode)r=s(a,t.shadow,t.color[0],t.color[1],t.color[2]);else{if("blackbg"!=t.unblendmode)throw new Error("no unblend mode");r=n(a,t.color[0],t.color[1],t.color[2])}var l=new ld.ImageData(e.width,i+1);return r.copyTo(l,0,0,r.width,r.height,0,0),e.copyTo(l,0,i,e.width,1,0,i),f(l,t.chars,t.seconds,t.bonus||{},t.basey,t.spacewidth,t.treshold,t.shadow)},e.generateFont=f}(eg||(eg={}));var ig=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},ng=_e.index,og=_e.stringSimilarity;class sg{constructor(e,t=null){this.body=e,this.first_line_knowledge=t,this._raw_lines=ma((()=>{const e=[[255,255,255],[239,176,99],[192,192,192],[255,223,0]],t=this.body.getData(),i=[],n=(()=>{if(!this.first_line_knowledge)return 0;for(let n=0;n<this.body.size.y;n+=sg.LINE_HEIGHT/2){const o=eg.readLine(t,sg.FONT,e,this.first_line_knowledge.position.x,n,!0);if(o.text&&og(o.text,this.first_line_knowledge.text)>.7)return i.push(o),n+sg.LINE_HEIGHT}})();if(null==n)return[];for(let o=0;o<sg.MAX_LINE_COUNT;o++){const s=n+o*sg.LINE_HEIGHT,r=eg.findReadLine(t,sg.FONT,e,70,s,40,1);i.push(r)}const o=i.findIndex((e=>""!=e.text)),s=oe.findLastIndex(i,(e=>""!=e.text));return i.slice(o,s+1)})),this._lines=ma((()=>{const e=this._raw_lines.get().map((e=>e.text)),t=[];let i="";for(let n of e)""==n&&""!=i?(t.push(i),i=""):(""!=i&&(i+=" "),i+=n);return""!=i&&t.push(i),t})),this.paragraph_start_indices=ma((()=>{const e=[0];return this._raw_lines.get().forEach(((t,i)=>{""==t.text&&e.push(i+1)})),e})),this._different_level=ma((()=>!!this.checkRawLines([{index:-1,expected_text:"different level."},{index:-1,expected_text:"level."}])||!this.checkRawLines([{index:this.paragraph_start_indices.get()[1],expected_text:"You are too far away and"},{index:this.paragraph_start_indices.get()[1],expected_text:"The orb glows as you scan."}])&&void 0)),this._meerkats_active=ma((()=>{if(!this._different_level.get())return ng(this.paragraph_start_indices.get(),-1),!!this.checkRawLines([{index:ng(this.paragraph_start_indices.get(),-1),expected_text:"Your meerkats are"}])||!this.checkRawLines([{index:this.paragraph_start_indices.get()[1],expected_text:"You are too far away and"},{index:this.paragraph_start_indices.get()[1],expected_text:"The orb glows as you scan."}])&&void 0})),this._triple=ma((()=>!!this.checkRawLines([{index:this.paragraph_start_indices.get()[1],expected_text:"The orb glows as you scan."},{index:this.paragraph_start_indices.get()[1],expected_text:"The orb glows then flickers"}])||!this.checkRawLines([{index:this.paragraph_start_indices.get()[1],expected_text:"You are too far away and"},{index:this.paragraph_start_indices.get()[1],expected_text:"Try scanning a different"}])&&void 0)),this.center_of_text=ma((()=>{const e=this._raw_lines.get(),t=e[0].debugArea,i=e[e.length-1].debugArea,n=e[e.length-1].text.startsWith("The coordinate is")?sg.LINE_HEIGHT:0;return xe.add(this.body.screen_rectangle.origin,{x:~~(t.x+t.w/2),y:(t.y+i.y+n+sg.LINE_HEIGHT+6)/2})})),e.setName("scan")}checkRawLines(e){return e.some((e=>{const t=ng(this._raw_lines.get(),e.index);return null!=t&&og(t.text,e.expected_text)>.7}))}text(){return this._lines.get().join("\n")}scanArea(){return this._lines.get()[0]}hasMeerkats(){return this._meerkats_active.get()}isDifferentLevel(){return this._different_level.get()}isTriple(){return this._triple.get()}screenRectangle(){const e=this._raw_lines.get().length;return Cd.move(this.body.screenRectangle(),{x:0,y:6*e-74},{x:180,y:253})}relevantTextAreaForRecapture(){const e=this.center_of_text.get();return{origin:xe.add(e,xe.scale(-.5,sg.MAX_TEXT_AREA_SIZE)),size:sg.MAX_TEXT_AREA_SIZE}}updated(e){const t=this.relevantTextAreaForRecapture(),i=xe.add(this._raw_lines.get()[0].debugArea,this.body.screenRectangle().origin),n=xe.sub(i,t.origin);return new sg(e.getScreenSection(t),{text:this._raw_lines.get()[0].text,position:n})}isValid(){return this._raw_lines.get().length>0}}!function(e){e.MAX_LINE_COUNT=13,e.LINE_HEIGHT=12,e.FONT=s(9001),e.MAX_TEXT_AREA_SIZE={x:180,y:e.MAX_LINE_COUNT*e.LINE_HEIGHT},e.finder=_a((()=>ig(this,void 0,void 0,(function*(){const t=yield e.anchors.get();return new class{find(i){const n=[{img:t.scanfartext,origin_offset:{x:-20,y:-43}},{img:t.orbglows,origin_offset:{x:-21,y:-43}},{img:t.scanleveltext,origin_offset:{x:-20,y:-41}}],o=(()=>{for(let e of n){let t=i.findNeedle(e.img);if(t.length>0)return i.getSubSection(Cd.move(t[0].screenRectangle(),e.origin_offset,{x:180,y:190}))}})();if(o)return new e(o)}}})))),e.anchors=new ya((()=>ig(this,void 0,void 0,(function*(){return{scanleveltext:yield tg.fromURL("/alt1anchors/differentlevel.png"),scanfartext:yield tg.fromURL("/alt1anchors/youaretofaraway.png"),orbglows:yield tg.fromURL("/alt1anchors/orbglows.png")}}))))}(sg||(sg={}));class rg extends Zd{constructor(e,t){super(),this.area=e,this.config=qi(t).structuralEquality().subscribe((()=>this.rerender())),this.interactivity().setBounds(e?{type:"rectangle",area:e}:null)}renderWithBuilder(e){if(!this.area)return;const t=this.interactivity().isHovered(),i=this.config.value(),n=t?i.active_style:{},o=i.style,s=Object.assign(Object.assign({},o),n),r=s.stroke;if(s.stroke){s.constrast&&e.rectangle(this.area,{width:r.width+2*s.constrast.width,color:s.constrast.color});const t=s.constrast?-s.constrast.width:0;e.rectangle(Cd.extend(this.area,{x:t,y:t}),r)}i.text&&s.font&&e.text(i.text,xe.add(Cd.center(this.area),{x:1,y:-1}),Object.assign(Object.assign({},s.font),{centered:!0}))}position(){return this.area}setPosition(e){this.area=e,this.interactivity().setBounds(e?{type:"rectangle",area:e}:null),this.rerender()}updateConfig(e){return this.config.update2(e),this}}!function(e){e.white=function(e=void 0){return{text:e,style:{stroke:{width:1,color:cd.white},constrast:{width:1,color:cd.black},font:{width:14,color:cd.white,centered:!0}},active_style:{stroke:{width:2,color:cd.white},font:{width:14,color:cd.white,centered:!0}}}}}(rg||(rg={}));var ag,lg=ie.span,cg=ie.hboxl,ug=ie.inlineimg;class pg extends Fc{constructor(){const e=va.getTeleportGroup("fairyring");super({type_class:{toHTML:e=>e?c(`<span><span style="font-weight: bold">${e.code}</span> - </span>`).append(lg(e.name)):lg("None").css("font-style","italic")},search_term:e=>e?`${e.code} - ${e.name}`:"None"},[null].concat(e.spots.filter((e=>e.code&&e.code.length>0))))}set(e){return e?this.setValue(this.items.find((t=>t&&t.id==e))):this.setValue(null),this}}class hg extends Fc{constructor(){const e=va.teleports.flatMap((e=>e.access.filter((e=>"item"==e.type&&e.can_be_in_pota)).flatMap((t=>({group:e,access:t}))))).sort(((e,t)=>e.access.name.name.localeCompare(t.access.name.name)));e.sort(),super({type_class:{toHTML:e=>{var t,i,n;return e?cg(ug(`assets/icons/teleports/${null!==(i=null===(t=e.access.img)||void 0===t?void 0:t.url)&&void 0!==i?i:null===(n=e.group.img)||void 0===n?void 0:n.url}`),e.access.name.name):c().text("Empty").css("font-style","italic")}},search_term:e=>e?e.access.name.name:""},[null].concat(e))}set(e){return e?this.setValue(this.items.find((t=>t&&t.access.id==e.access_id&&t.group.id==e.group_id))):this.setValue(null),this}}class dg{constructor(e){this.collapsed_event=ji(),this.expanded_event=ji(),this.collapsed=qi(e)}isCollapsed(){return this.collapsed.value()}isExpanded(){return!this.collapsed.value()}bindToClickable(e){return e.on("click",(e=>{e.stopPropagation(),this.toggle()})),this}toggle(){return this.collapsed.value()?this.expand():this.collapse(),this}expand(){return this.collapsed.value()?(this.expanded_event.trigger(void 0),this.collapsed.set(!1),this):this}collapse(){return this.collapsed.value()||(this.collapsed_event.trigger(void 0),this.collapsed.set(!0)),this}onCollapse(e){return this.collapsed_event.on(e),this}setCollapsed(e){return this.isCollapsed()?e||this.expand():e&&this.collapse(),this}onExpansion(e){return this.expanded_event.on(e),this}state(){return this.collapsed}onChange(e,t=!1){return this.state().subscribe(e,t),this}}!function(e){function t(t){let i=new e(!!t.starts_collapsed).onCollapse((()=>t.onCollapse(t.target))).onExpansion((()=>t.onExpand(t.target)));return t.collapse_button&&i.bindToClickable(t.collapse_button),t.target&&t.starts_collapsed&&t.target.container.css({display:"none"}),i}e.create=t,e.horizontal=function(e){return t({target:e.target,starts_collapsed:e.starts_collapsed,onExpand:t=>t.container.animate({width:"show"},e.duration||300),onCollapse:t=>t.container.animate({width:"hide"},e.duration||300)})},e.vertical=function(e){return t({target:e.target,starts_collapsed:e.starts_collapsed,onExpand:t=>t.container.animate({height:"show"},e.duration||300),onCollapse:t=>t.container.animate({height:"hide"},e.duration||300)})}}(dg||(dg={}));class gg{constructor(e,t,i={}){this.default_options=i,this.index=e.map((e=>({value:e,prepared:Bc.prepare(t(e))})))}do(e,t={}){return Bc.go(e,this.index,Object.assign(Object.assign(Object.assign({},this.default_options),t),{key:"prepared"})).map((e=>Object.assign(Object.assign({},e),{obj:e.obj.value})))}search(e,t={}){return this.do(e,t).map((e=>e.obj))}setDefaultOptions(e){return this.default_options=e,this}items(){return this.index.map((e=>e.value))}}!function(e){function t(e,t=1,i=!1,n=void 0){return ce.icon({iconUrl:La.meta(e).icon_url,iconSize:[28*t,31*t],iconAnchor:i?[14*t,16*t]:[3*t,0],className:n})}e.interactionIcon=t,e.interactionMarker=function(e,i,n=1,o=!1,s=void 0){let r=t(i,n,o,s);return ce.marker(xe.toLatLong(e),{icon:r,interactive:!0})}}(ag||(ag={}));class fg extends Pa{constructor(e){super(),this.method=e,this.render()}render(){this.empty(),this.named("Pack",c().text(this.method.pack?this.method.pack.name:"None")),this.named("Name",c().text(this.method.method.name)),this.named("Assumptions",c().append(...mu.icons(this.method.method.assumptions))),this.method.method.description&&(this.header("Description"),this.row(c().text(this.method.method.description?this.method.method.description:"None").css("font-style","italic")))}}var yg=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},mg=ie.spacer,_g=ie.span,vg=ie.hbox,xg=_e.async_init;class wg extends Ii{constructor(e,t){super(),this.parent=e,this.clue=t,this.dropdown=null,this.method=qi(e.active_method),xg((()=>yg(this,void 0,void 0,(function*(){this.methods=yield Ep.instance().getForClue(this.clue),this.method.subscribe((e=>this.render(e)),!0)}))))}renderName(e){var t;const i=vg().css2({overflow:"hidden","white-space":"nowrap"});return e.method.name&&e.method.name.length>0?i.append(ie.span(e.method.name).css2({overflow:"hidden","text-overflow":"ellipsis"})):i.append(ie.italic("Unnamed Method").css2({overflow:"hidden","text-overflow":"ellipsis"})),i.append(ie.space(),_g(` (${null!==(t=e.method.expected_time.toFixed("scantree"==e.method.type?1:0))&&void 0!==t?t:"?"}t)`)),i}render(e){const t=rh.dropdown().css("margin-right","3px").css("margin-left","3px").css("position","relative");t.append(c().css2({position:"absolute",top:0,color:"black","font-weight":"bold",width:"100%","text-align":"center"}).text(this.methods.length.toString())),t.img.css("width","12px"),this.row=vg(e?this.renderName(e):c("<span style='font-style: italic; color: gray'> No method selected</span>"),mg(),t).addClass("ctr-clickable").setAttribute("tabindex","-1"),this.row.on("click",(()=>this.openMethodSelection())).appendTo(this)}openMethodSelection(){return yg(this,void 0,void 0,(function*(){if(!this.dropdown){const e=yield this.parent.app.favourites.getMethod(this.clue,!1);this.dropdown=new zc.DropDown({dropdownClass:"ctr-neosolving-favourite-dropdown",renderItem:t=>t?vg((new ah).set(e&&t.method.id==e.method.id),this.renderName(t),mg()).addTippy(new fg(t)):vg((new ah).set(null===e),_g("None"),mg())}).setItems((yield Ep.instance().getForClue(this.clue)).concat([null])).onSelected((e=>{this.parent.app.favourites.setMethod(this.clue,e),this.parent.setMethod(e),e||this.parent.fitToClue()})).onClosed((()=>{this.dropdown=null})).open(this,this.row)}}))}}var bg=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},kg=ie.hbox,Tg=ie.span,zg=ie.hboxl,Sg=_e.index;class Cg{constructor(){this.data=fp.instance().variable("preferences/pathsectionmemory"),this.data.get()||this.data.set({})}hash(e,t){return t?e.pack.local_id+e.method.id+t:e.pack.local_id+e.method.id}get(e,t){return bg(this,void 0,void 0,(function*(){var i;return null===(i=yield this.data.get())||void 0===i?void 0:i[this.hash(e,t)]}))}store(e,t,i){return bg(this,void 0,void 0,(function*(){var n;const o=null!==(n=yield this.data.get())&&void 0!==n?n:{};o[this.hash(e,i)]=t,yield this.data.set(o)}))}static instance(){return Cg._instance.get()}}Cg._instance=ma((()=>new Cg));class Ag extends Ii{constructor(e,t,i,n){super(),this.sections=e,this.current_section_id=t,this.step_graphics=i,this.template_resolver=n,this.section_selected=ji(),this.selected_section=void 0,this.render()}render(){if(this.empty(),this.sections&&this.current_section_id){let e=da.getPath(this.sections,this.current_section_id);e.forEach(((t,i)=>{if(0==i||"inner"!=(null==t?void 0:t.type))return;let n=e[i-1];if(Ua("inner"==n.type),n.children.length<=1)return;let o=n.children.indexOf(t);if("inner"==t.type){const e=o<n.children.length-1,s=o>0;kg(s?rh.sectionArrow("left").withClick((()=>{let e=oe.clone(this.current_section_id);e[i-1]-=1,this.setCurrentSection(e)})):c().css("width","11px"),Tg(t.value.name).css("flex-grow","1").css("text-align","center").css2({"border-left":s?"1px solid #b8770f":"none","border-right":e?"1px solid #b8770f":"none","border-radius":"5px"}).tooltip("This path has multiple sections. Use the arrows to navigate between them."),e?rh.sectionArrow("right").withClick((()=>{let e=oe.clone(this.current_section_id);e[i-1]+=1,this.setCurrentSection(e)})):c().css("width","11px")).appendTo(this)}})),this.selected_section=(()=>{let t=Sg(e,-2);return Ua("inner"==t.type),t.children.map((e=>(Ua("leaf"==e.type),e.value)))})(),"show"==pa().app.settings.settings.solving.info_panel.path_step_list&&this.selected_section.forEach(((e,t)=>{let i=oe.clone(this.current_section_id);i[i.length-1]=t;let n=da.index(this.step_graphics,i);Ua("leaf"==n.type),"cosmetic"!=n.value.step.type&&new Ag.StepRow(i,e,this.template_resolver).setAssociatedGraphics(n.value).appendTo(this)}))}}setCurrentSection(e){this.current_section_id=da.fixIndex(this.sections,e),this.render(),this.section_selected.trigger(this.selected_section)}onSelection(e){return this.section_selected.on(e),this}}!function(e){e.StepRow=class extends Ii{constructor(e,t,i){super(),this.section_index=e,this.step=t,this.template_resolver=i,this.highlighted=qi(!1),this.associated_graphics=null,this.highlighted.subscribe((e=>{this.toggleClass("ctr-neosolving-path-legend-highlighted",e)}));const n=_e.index(this.section_index,-1);let o=c().text(`${n+1}.`);const{icon:s,content:r}=ja.renderTextAndIconSeparately(t);zg(o,s,r).addClass("ctr-neosolving-path-legend").on("mouseover",(()=>this.setHighlight(!0))).on("mouseleave",(()=>this.setHighlight(!1))).appendTo(this)}setAssociatedGraphics(e){return this.associated_graphics=e,e&&this.associated_graphics.highlighted.subscribe((e=>{this.setHighlight(e)})),this}setHighlight(e){this.highlighted.set(e)}}}(Ag||(Ag={}));class Eg extends aa{constructor(e){super(),this.parent=e,this.section_memory=Cg.instance(),this.method=null,this.scan_node=null,this.sectioned_path=null,this.path_layer=new Or,this.step_graphics=null,this.widget=null,this.section_selected=ji()}begin(){this.path_layer.addTo(this.parent.layer)}end(){this.path_layer.remove()}setPath(e,t=null){this.set(null==t?void 0:t.method,wa.Section.split_into_sections(e),null,null==t?void 0:t.node)}setSections(e,t=null){this.set(null,e,t)}setMethod(e){let t=da.init({name:"root"});e.method.pre_path&&e.method.pre_path.length>0&&(da.add(t,wa.Section.split_into_sections(e.method.pre_path,"Pre Path")).value.is_preferred_section=!0),da.add(t,wa.Section.split_into_sections(e.method.main_path,"Main Path")).value.is_preferred_section=!0,e.method.post_path&&e.method.post_path.length>0&&da.add(t,wa.Section.split_into_sections(e.method.post_path,"Post Path")),1==t.children.length&&(t=t.children[0]),this.set(e,t)}set(e,t){return bg(this,arguments,void 0,(function*(e,t,i=null,n=null){if(this.sectioned_path=t,this.method=e,this.scan_node=n,e&&!i&&(i=yield this.section_memory.get(e,this.scan_node?hu.Augmentation.NodeId.hash(hu.Augmentation.NodeId.of(this.scan_node)):null)),!i){let e=[],n=t;for(;"inner"==n.type&&n.children.some((e=>"inner"==e.type));){let t=n.children.findIndex((e=>"inner"==e.type&&e.value.is_preferred_section));t<0&&(t=n.children.length-1),e.push(t),n=n.children[t]}i=e}const o=da.fixIndex(this.sectioned_path,i||[]);this.path_layer.clearLayers(),this.step_graphics=da.map(this.sectioned_path,(e=>new il(e).setInteractive().addTo(this.path_layer))),this.renderWidget(o)}))}reset(){var e;return this.sectioned_path=null,this.method=null,null===(e=this.widget)||void 0===e||e.remove(),this.widget=null,this.path_layer.clearLayers(),this}renderWidget(e){var t;null===(t=this.widget)||void 0===t||t.remove(),this.widget=null,this.section_control=null;const i=c();this.sectioned_path&&(this.section_control=new Ag(this.sectioned_path,e,this.step_graphics,this.parent.app.template_resolver).onSelection((e=>{this.method&&this.section_memory.store(this.method,this.section_control.current_section_id,this.scan_node?hu.Augmentation.NodeId.hash(hu.Augmentation.NodeId.of(this.scan_node)):null),this.section_selected.trigger(e)})).addClass("ctr-neosolving-solution-row"),this.section_control.container.is(":empty")||this.section_control.appendTo(i)),this.section_control&&this.section_selected.trigger(this.section_control.selected_section),i.container.is(":empty")||(this.widget=i.appendTo(this.parent.layer.path_container))}}function Pg(e,t,i,n,o){var s,r,a,l,c,u;for(a=0,l=0,c=0,s=t;s<t+n;s++)for(r=i;r<i+o;r++)u=4*e.width*r+4*s,a+=e.data[u],l+=e.data[u+1],c+=e.data[u+2];return[a/=n*o,l/=n*o,c/=n*o]}function Mg(e,t,i,n,o){var s,r,a,l,c;for(c=4*e.width,a=0,s=t;s<t+n;s++)for(r=i;r<i+o;r++)l=c*r+4*s,a+=Math.abs(e.data[l]-e.data[l+4]),a+=Math.abs(e.data[l]-e.data[l+c]),a+=Math.abs(e.data[l+1]-e.data[l+1+4]),a+=Math.abs(e.data[l+1]-e.data[l+1+c]),a+=Math.abs(e.data[l+2]-e.data[l+2+4]),a+=Math.abs(e.data[l+2]-e.data[l+2+c]);return a}function Lg(e,t,i){var n,o,s,r,a,l;return"object"==typeof e&&(i=e[2],t=e[1],e=e[0]),e/=256,t/=256,i/=256,a=s=(n=Math.max(e,t,i))-(o=Math.min(e,t,i)),l=.5*(n+o),r=0,0!=s&&(n==e&&(r=(6+(t-i)/s)%6),n==t&&(r=(i-e)/s+2),n==i&&(r=(e-t)/s+4)),[Math.round(r/6*255),Math.round(255*a),Math.round(255*l)]}var Dg=s(1344);const Ig={chars:[{width:4,bonus:40,chr:"!",pixels:[1,0,238,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,9,238],secondary:!0},{width:4,bonus:10,chr:"'",pixels:[2,0,221,2,1,187],secondary:!0},{width:4,bonus:20,chr:",",pixels:[1,9,187,1,10,170,2,8,255,2,9,153],secondary:!0},{width:6,bonus:20,chr:"-",pixels:[1,6,255,2,6,255,3,6,255,4,6,170],secondary:!0},{width:4,bonus:5,chr:".",pixels:[1,9,255],secondary:!0},{width:9,bonus:110,chr:"0",pixels:[1,2,187,1,3,238,1,4,255,1,5,255,1,6,238,1,7,187,2,1,255,2,8,255,3,0,238,3,9,238,4,0,255,4,9,255,5,0,238,5,9,238,6,1,255,6,8,255,7,2,187,7,3,238,7,4,255,7,5,255,7,6,238,7,7,187],secondary:!1},{width:7,bonus:80,chr:"1",pixels:[1,2,204,1,9,255,2,1,238,2,9,255,3,0,255,3,1,255,3,2,255,3,3,255,3,4,255,3,5,255,3,6,255,3,7,255,3,8,255,3,9,255,4,9,255,5,9,255],secondary:!1},{width:8,bonus:110,chr:"2",pixels:[2,1,255,2,7,204,2,8,255,2,9,255,3,0,204,3,6,221,3,7,170,3,9,255,4,0,255,4,5,204,4,6,170,4,9,255,5,0,221,5,1,153,5,4,187,5,5,204,5,9,255,6,1,221,6,2,255,6,3,255,6,4,170,6,9,255],secondary:!1},{width:8,bonus:120,chr:"3",pixels:[1,8,170,2,0,255,2,8,187,2,9,170,3,0,255,3,4,255,3,9,255,4,0,255,4,2,170,4,3,221,4,4,238,4,9,255,5,0,255,5,1,238,5,2,187,5,4,170,5,5,187,5,8,187,5,9,170,6,0,255,6,5,187,6,6,255,6,7,255,6,8,187],secondary:!1},{width:9,bonus:115,chr:"4",pixels:[1,5,187,1,6,255,2,4,221,2,5,153,2,6,255,3,3,238,3,6,255,4,2,238,4,6,255,5,0,170,5,1,255,5,6,255,6,0,255,6,1,255,6,2,255,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,7,6,255],secondary:!1},{width:8,bonus:120,chr:"5",pixels:[1,8,153,2,0,255,2,1,255,2,2,255,2,3,221,2,4,255,2,8,153,2,9,187,3,0,255,3,4,255,3,9,255,4,0,255,4,4,255,4,9,255,5,0,255,5,4,187,5,5,187,5,8,187,5,9,170,6,0,170,6,5,187,6,6,255,6,7,255,6,8,187],secondary:!1},{width:9,bonus:150,chr:"6",pixels:[1,3,187,1,4,238,1,5,255,1,6,255,1,7,187,2,1,153,2,2,255,2,3,170,2,4,204,2,5,204,2,7,170,2,8,255,3,1,238,3,4,238,3,9,221,4,0,238,4,4,255,4,9,255,5,0,255,5,4,255,5,9,255,6,0,255,6,4,170,6,5,204,6,8,221,6,9,153,7,5,170,7,6,255,7,7,255,7,8,153],secondary:!1},{width:9,bonus:95,chr:"7",pixels:[1,0,255,2,0,255,2,7,153,2,8,255,2,9,204,3,0,255,3,5,153,3,6,255,3,7,187,4,0,255,4,3,153,4,4,255,4,5,187,5,0,255,5,1,187,5,2,255,5,3,187,6,0,255,6,1,170],secondary:!1},{width:9,bonus:170,chr:"8",pixels:[1,1,204,1,2,255,1,3,204,1,5,153,1,6,255,1,7,255,1,8,153,2,0,187,2,1,187,2,3,187,2,4,255,2,5,204,2,8,221,2,9,153,3,0,255,3,4,255,3,9,255,4,0,255,4,4,170,4,9,255,5,0,204,5,1,153,5,4,204,5,5,204,5,9,238,6,1,238,6,2,255,6,3,255,6,4,170,6,5,255,6,8,221,7,6,238,7,7,255,7,8,153],secondary:!1},{width:9,bonus:140,chr:"9",pixels:[1,2,238,1,3,255,1,4,238,2,1,238,2,5,238,2,9,255,3,0,255,3,6,238,3,9,255,4,0,255,4,6,255,4,9,238,5,0,204,5,1,153,5,6,204,5,8,204,5,9,153,6,1,238,6,2,187,6,5,238,6,6,187,6,7,221,6,8,204,7,2,153,7,3,221,7,4,255,7,5,255,7,6,221],secondary:!1},{width:3,bonus:10,chr:":",pixels:[1,2,255,1,8,255],secondary:!0},{width:6,bonus:55,chr:"?",pixels:[1,0,204,2,0,255,2,5,187,2,6,255,2,9,255,3,0,238,3,4,238,3,5,153,4,1,238,4,2,255,4,3,255],secondary:!0},{width:10,bonus:140,chr:"A",pixels:[1,8,153,1,9,238,2,6,221,2,7,255,2,8,204,3,3,204,3,4,255,3,5,204,3,6,255,4,0,187,4,1,255,4,2,204,4,6,255,5,0,238,5,1,255,5,2,187,5,6,255,6,2,153,6,3,238,6,4,255,6,5,187,6,6,255,7,5,153,7,6,255,7,7,255,7,8,170,8,8,187,8,9,255],secondary:!1},{width:9,bonus:160,chr:"B",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,0,255,2,5,255,2,9,255,3,0,255,3,5,255,3,9,255,4,0,255,4,5,255,4,9,255,5,0,221,5,1,153,5,4,170,5,5,255,5,8,153,5,9,204,6,1,238,6,2,255,6,3,255,6,4,204,6,6,238,6,7,255,6,8,238],secondary:!1},{width:10,bonus:105,chr:"C",pixels:[1,2,153,1,3,255,1,4,255,1,5,255,1,6,238,2,1,204,2,2,204,2,7,204,2,8,204,3,1,187,3,8,204,4,0,221,4,9,221,5,0,255,5,9,255,6,0,238,6,9,238,7,0,187,7,9,187,8,1,221,8,8,255],secondary:!1},{width:10,bonus:160,chr:"D",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,0,255,2,9,255,3,0,255,3,9,255,4,0,255,4,9,255,5,0,238,5,9,238,6,0,153,6,1,204,6,8,204,6,9,153,7,1,221,7,2,204,7,7,204,7,8,221,8,2,170,8,3,255,8,4,255,8,5,255,8,6,255,8,7,170],secondary:!1},{width:8,bonus:105,chr:"E",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,0,255,2,5,255,2,9,255,3,0,255,3,5,255,3,9,255,4,0,255,4,5,255,4,9,255,5,0,255,5,9,255],secondary:!1},{width:7,bonus:85,chr:"F",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,0,255,2,5,255,3,0,255,3,5,255,4,0,255,4,5,255,5,0,255],secondary:!1},{width:10,bonus:145,chr:"G",pixels:[1,2,153,1,3,255,1,4,255,1,5,255,1,6,255,1,7,153,2,1,204,2,2,187,2,7,204,2,8,221,3,0,153,3,1,187,3,8,187,3,9,170,4,0,255,4,9,255,5,0,255,5,9,255,6,0,238,6,5,170,6,9,204,7,1,204,7,5,255,7,8,238,8,5,255,8,6,255,8,7,255,8,8,255,8,9,255],secondary:!1},{width:9,bonus:125,chr:"H",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,5,255,3,5,255,4,5,255,5,5,255,6,5,255,7,0,255,7,1,255,7,2,255,7,3,255,7,4,255,7,5,255,7,6,255,7,7,255,7,8,255,7,9,255],secondary:!1},{width:5,bonus:70,chr:"I",pixels:[1,0,255,1,9,255,2,0,255,2,1,255,2,2,255,2,3,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,3,0,255,3,9,255],secondary:!1},{width:8,bonus:100,chr:"J",pixels:[1,7,255,1,8,187,2,8,187,2,9,187,3,0,221,3,9,255,4,0,255,4,9,255,5,0,255,5,8,187,5,9,187,6,0,255,6,1,255,6,2,255,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,187],secondary:!1},{width:9,bonus:120,chr:"K",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,5,255,3,5,255,4,3,187,4,4,255,4,5,170,4,6,255,5,1,187,5,2,255,5,7,221,5,8,204,6,0,255,6,1,153,6,8,153,6,9,255],secondary:!1},{width:8,bonus:75,chr:"L",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,9,255,3,9,255,4,9,255,5,9,255,6,9,170],secondary:!1},{width:11,bonus:180,chr:"M",pixels:[1,2,170,1,3,170,1,4,204,1,5,221,1,6,238,1,7,255,1,8,255,1,9,255,2,0,255,2,1,255,2,2,255,2,3,170,3,2,204,3,3,255,3,4,170,4,4,153,4,5,255,4,6,221,5,6,221,5,7,255,6,4,187,6,5,255,6,6,187,7,2,221,7,3,238,8,0,255,8,1,255,8,2,255,8,3,187,8,4,153,9,4,170,9,5,187,9,6,204,9,7,221,9,8,238,9,9,255],secondary:!1},{width:10,bonus:145,chr:"N",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,1,238,2,2,221,3,2,170,3,3,255,4,4,221,4,5,204,5,6,255,6,7,204,6,8,221,7,0,255,7,1,255,7,2,255,7,3,255,7,4,255,7,5,255,7,6,255,7,7,255,7,8,255,7,9,255],secondary:!1},{width:11,bonus:130,chr:"O",pixels:[1,3,255,1,4,255,1,5,255,1,6,238,2,1,204,2,2,204,2,7,204,2,8,204,3,1,187,3,8,187,4,0,221,4,9,221,5,0,255,5,9,255,6,0,221,6,9,221,7,1,204,7,8,221,8,1,187,8,2,221,8,7,221,8,8,170,9,3,221,9,4,255,9,5,255,9,6,204],secondary:!1},{width:9,bonus:125,chr:"P",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,0,255,2,6,255,3,0,255,3,6,255,4,0,255,4,6,255,5,0,187,5,1,187,5,5,187,5,6,187,6,1,187,6,2,255,6,3,255,6,4,255,6,5,187],secondary:!1},{width:11,bonus:140,chr:"Q",pixels:[1,3,255,1,4,255,1,5,255,1,6,238,2,1,204,2,2,204,2,7,204,2,8,204,3,1,187,3,8,187,4,0,238,4,9,238,5,0,255,5,9,255,6,0,221,6,9,221,7,1,204,7,7,238,7,8,221,8,1,187,8,2,221,8,7,238,8,8,255,9,3,221,9,4,255,9,5,255,9,6,204,9,9,187],secondary:!1},{width:9,bonus:140,chr:"R",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,0,255,2,5,255,3,0,255,3,5,255,4,0,255,4,5,255,5,0,204,5,1,153,5,4,153,5,5,221,5,6,238,5,7,238,6,1,221,6,2,255,6,3,255,6,4,221,6,8,238,6,9,221],secondary:!1},{width:7,bonus:95,chr:"S",pixels:[1,1,221,1,2,255,1,3,255,1,8,238,2,0,204,2,1,153,2,4,255,2,9,238,3,0,255,3,4,187,3,5,153,3,9,255,4,0,238,4,5,255,4,9,221,5,1,170,5,6,255,5,7,255,5,8,238],secondary:!1},{width:10,bonus:80,chr:"T",pixels:[1,0,255,2,0,255,3,0,255,4,0,255,4,1,255,4,2,255,4,3,255,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,5,0,255,6,0,255,7,0,255],secondary:!1},{width:10,bonus:110,chr:"U",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,238,2,8,238,3,9,204,4,9,255,5,9,255,6,9,204,7,8,238,8,0,255,8,1,255,8,2,255,8,3,255,8,4,255,8,5,255,8,6,255,8,7,221],secondary:!1},{width:10,bonus:110,chr:"V",pixels:[1,0,238,1,1,153,2,1,187,2,2,255,2,3,221,3,4,187,3,5,255,3,6,204,4,7,204,4,8,255,4,9,204,5,7,204,5,8,255,5,9,204,6,4,187,6,5,255,6,6,204,7,1,187,7,2,255,7,3,221,8,0,238,8,1,153],secondary:!1},{width:13,bonus:195,chr:"W",pixels:[1,0,255,1,1,187,2,2,187,2,3,255,2,4,255,2,5,204,3,6,170,3,7,221,3,8,255,3,9,221,4,6,170,4,7,238,4,8,255,4,9,187,5,2,187,5,3,255,5,4,255,5,5,187,6,0,255,6,1,255,6,2,255,7,2,170,7,3,238,7,4,255,7,5,204,8,6,153,8,7,221,8,8,255,8,9,204,9,6,187,9,7,255,9,8,255,9,9,204,10,2,204,10,3,255,10,4,255,10,5,187,11,0,255,11,1,187],secondary:!1},{width:9,bonus:125,chr:"X",pixels:[1,0,221,1,9,255,2,0,153,2,1,255,2,2,187,2,7,238,2,8,221,3,2,170,3,3,255,3,4,153,3,5,204,3,6,238,4,3,187,4,4,255,4,5,255,5,2,238,5,3,221,5,6,255,5,7,170,6,0,221,6,1,238,6,7,187,6,8,255,7,0,153,7,9,221],secondary:!1},{width:9,bonus:80,chr:"Y",pixels:[1,0,238,2,1,238,2,2,204,3,3,255,3,4,187,4,4,255,4,5,255,4,6,255,4,7,255,4,8,255,4,9,255,5,3,238,5,4,204,6,1,221,6,2,238,7,0,255],secondary:!1},{width:9,bonus:115,chr:"Z",pixels:[1,9,170,2,0,255,2,7,153,2,8,255,2,9,255,3,0,255,3,6,238,3,7,221,3,9,255,4,0,255,4,4,187,4,5,255,4,9,255,5,0,255,5,3,255,5,4,187,5,9,255,6,0,255,6,1,204,6,2,221,6,9,255,7,0,255,7,9,255],secondary:!1},{width:8,bonus:110,chr:"a",pixels:[1,7,221,1,8,255,2,3,187,2,6,170,2,7,153,2,9,221,3,3,255,3,6,221,3,9,255,4,3,255,4,6,255,4,9,238,5,3,204,5,4,170,5,6,255,5,8,204,6,4,204,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255],secondary:!1},{width:8,bonus:135,chr:"b",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,3,153,2,4,221,2,8,221,2,9,153,3,3,238,3,9,238,4,3,255,4,9,255,5,3,187,5,4,187,5,8,187,5,9,170,6,4,187,6,5,255,6,6,255,6,7,255,6,8,170],secondary:!1},{width:8,bonus:60,chr:"c",pixels:[1,5,255,1,6,255,1,7,255,2,4,221,2,8,221,3,3,238,3,9,238,4,3,255,4,9,255,5,3,221,5,9,221,6,8,204],secondary:!1},{width:8,bonus:135,chr:"d",pixels:[1,4,170,1,5,255,1,6,255,1,7,255,1,8,187,2,3,170,2,4,187,2,8,187,2,9,170,3,3,255,3,9,255,4,3,238,4,9,238,5,3,153,5,4,221,5,8,221,5,9,153,6,0,255,6,1,255,6,2,255,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255],secondary:!1},{width:8,bonus:100,chr:"e",pixels:[1,5,255,1,6,255,1,7,255,1,8,153,2,4,204,2,6,255,2,8,204,3,3,255,3,6,255,3,9,238,4,3,255,4,6,255,4,9,255,5,3,170,5,4,187,5,6,255,5,9,221,6,4,153,6,5,238,6,6,255],secondary:!1},{width:6,bonus:70,chr:"f",pixels:[1,3,221,2,1,221,2,2,255,2,3,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,3,0,221,3,3,255,4,0,255,4,3,221],secondary:!1},{width:8,bonus:135,chr:"g",pixels:[1,4,187,1,5,255,1,6,255,1,7,255,1,8,187,2,3,204,2,4,170,2,8,170,2,9,221,2,12,238,3,3,255,3,9,255,3,12,255,4,3,187,4,4,153,4,9,204,4,11,170,4,12,187,5,3,255,5,4,255,5,5,255,5,6,255,5,7,255,5,8,255,5,9,255,5,10,255,5,11,204],secondary:!1},{width:9,bonus:100,chr:"h",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,4,238,3,3,204,4,3,255,5,3,238,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255],secondary:!1},{width:4,bonus:40,chr:"i",pixels:[1,0,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255],secondary:!1},{width:5,bonus:60,chr:"j",pixels:[0,12,221,1,12,238,2,0,255,2,3,255,2,4,255,2,5,255,2,6,255,2,7,255,2,8,255,2,9,255,2,10,255,2,11,255],secondary:!1},{width:7,bonus:100,chr:"k",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,6,255,3,5,187,3,6,255,3,7,170,4,4,255,4,5,170,4,7,187,4,8,221,5,3,255,5,9,255],secondary:!1},{width:5,bonus:50,chr:"l",pixels:[1,0,255,1,1,255,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,2,9,255],secondary:!1},{width:12,bonus:130,chr:"m",pixels:[1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,4,238,3,3,204,4,3,255,5,3,221,6,4,238,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,7,4,204,8,3,255,9,3,255,10,4,255,10,5,255,10,6,255,10,7,255,10,8,255,10,9,255],secondary:!1},{width:8,bonus:85,chr:"n",pixels:[1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,4,238,3,3,204,4,3,255,5,3,238,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255],secondary:!1},{width:9,bonus:80,chr:"o",pixels:[1,5,255,1,6,255,1,7,255,2,4,221,2,8,221,3,3,221,3,9,221,4,3,255,4,9,255,5,3,221,5,9,221,6,4,238,6,8,238,7,5,221,7,6,255,7,7,221],secondary:!1},{width:8,bonus:130,chr:"p",pixels:[1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,1,10,255,1,11,255,2,3,153,2,4,204,2,8,221,2,9,153,3,3,238,3,9,238,4,3,255,4,9,255,5,3,187,5,4,187,5,8,187,5,9,170,6,4,187,6,5,255,6,6,255,6,7,255,6,8,170],secondary:!1},{width:8,bonus:130,chr:"q",pixels:[1,4,170,1,5,255,1,6,255,1,7,255,1,8,187,2,3,170,2,4,187,2,8,187,2,9,187,3,3,255,3,9,255,4,3,238,4,9,238,5,3,153,5,4,204,5,8,221,5,9,153,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255,6,10,255,6,11,255],secondary:!1},{width:6,bonus:45,chr:"r",pixels:[1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,255,1,9,255,2,4,238,3,3,238],secondary:!1},{width:6,bonus:65,chr:"s",pixels:[1,4,255,1,5,255,1,8,153,1,9,170,2,3,255,2,6,221,2,9,255,3,3,255,3,6,238,3,9,255,4,3,153,4,7,255,4,8,255],secondary:!1},{width:5,bonus:65,chr:"t",pixels:[0,3,255,1,1,238,1,2,255,1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,221,2,3,255,2,9,221,3,3,221,3,9,255],secondary:!1},{width:9,bonus:85,chr:"u",pixels:[1,3,255,1,4,255,1,5,255,1,6,255,1,7,255,1,8,238,2,9,221,3,9,255,4,9,221,5,8,221,6,3,255,6,4,255,6,5,255,6,6,255,6,7,255,6,8,255,6,9,255],secondary:!1},{width:8,bonus:75,chr:"v",pixels:[1,3,238,2,4,187,2,5,255,2,6,204,3,7,221,3,8,255,3,9,170,4,7,153,4,8,255,4,9,238,5,5,221,5,6,255,5,7,170,6,3,255,6,4,204],secondary:!1},{width:12,bonus:135,chr:"w",pixels:[1,3,238,1,4,153,2,4,170,2,5,255,2,6,238,2,7,153,3,7,153,3,8,255,3,9,255,4,7,204,4,8,255,4,9,170,5,4,187,5,5,255,5,6,187,6,4,255,6,5,221,7,6,187,7,7,255,7,8,187,8,8,255,8,9,255,9,5,187,9,6,255,9,7,221,10,3,255,10,4,204],secondary:!1},{width:8,bonus:90,chr:"x",pixels:[1,3,153,1,9,221,2,3,204,2,4,238,2,8,255,2,9,153,3,5,238,3,6,238,3,7,221,4,5,238,4,6,238,4,7,221,5,3,204,5,4,238,5,8,255,5,9,153,6,3,153,6,9,221],secondary:!1},{width:9,bonus:100,chr:"y",pixels:[1,3,238,1,12,204,2,4,221,2,5,255,2,6,170,2,12,255,3,6,153,3,7,238,3,8,238,3,11,238,3,12,153,4,8,255,4,9,255,4,10,187,5,5,170,5,6,255,5,7,221,6,3,238,6,4,255,6,5,170],secondary:!1},{width:8,bonus:95,chr:"z",pixels:[1,3,255,1,9,255,2,3,255,2,7,187,2,8,255,2,9,255,3,3,255,3,6,221,3,7,187,3,9,255,4,3,255,4,5,238,4,6,153,4,9,255,5,3,255,5,4,255,5,9,255,6,3,238,6,9,255],secondary:!1}],width:13,spacewidth:3,shadow:!1,height:13,basey:9};var Og;!function(e){var t=_e.rgbSimilarity;function i(e,t,i,n,o){let s=0,r=0,a=0;for(let l=t;l<t+n;l++)for(let t=i;t<i+o;t++){const i=4*e.width*t+4*l;s+=e.data[i],r+=e.data[i+1],a+=e.data[i+2]}return s/=n*o,r/=n*o,a/=n*o,[s,r,a]}function n(e,t,i){e/=256,t/=256,i/=256;const n=Math.max(e,t,i),o=Math.min(e,t,i),s=n-o,r=s,a=.5*(n+o);let l=0;return 0!=s&&(n==e&&(l=(6+(t-i)/s)%6),n==t&&(l=(i-e)/s+2),n==i&&(l=(e-t)/s+4)),[Math.round(l/6*255),Math.round(255*r),Math.round(255*a)]}e.TypeHSL=0,e.TypeRGB=1,e.averageColor=i;e.get=function(t,o,s,r,a=e.TypeHSL){switch(a){case e.TypeHSL:{const e=Math.floor(s.x/r.x),l=Math.floor(s.y/r.y),c=new Array(e*l*3);for(let s=0;s<e;s++){const a=o.x+s*r.x;for(let u=0;u<l;u++){const l=o.y+u*r.y,p=3*(s+u*e);let[h,d,g]=n(...i(t,a,l,r.x,r.y));c[p+0]=h,c[p+1]=d,c[p+2]=g}}return{type:a,data:c}}case e.TypeRGB:const l=Math.floor(s.x/r.x),c=Math.floor(s.y/r.y),u=new Array(l*c*3);for(let e=0;e<l;e++){const n=o.x+e*r.x;for(let s=0;s<c;s++){const a=o.y+s*r.y,c=3*(e+s*l);let[p,h,d]=i(t,n,a,r.x,r.y);u[c+0]=p,u[c+1]=h,u[c+2]=d}}return{type:a,data:u}}},e.similarity=function(i,n){if(i.type!=n.type||i.data.length!=n.data.length)return 0;switch(i.type){case e.TypeHSL:{function o(e,t){let i=Math.abs(e-t);return i>128&&(i=255-i),i/128}let s=0;for(let r=0;r<i.data.length;r+=3)s+=(1-o(i.data[r+0],n.data[r+0]))*(1-Math.abs(i.data[r+1]-n.data[r+1])/255)*(1-Math.abs(i.data[r+2]-n.data[r+2])/255);return Math.pow(s/(i.data.length/3),3)}case e.TypeRGB:{let a=0;for(let l=0;l<i.data.length;l+=3)a+=t(i.data.slice(l,l+3),n.data.slice(l,l+3));return a/(i.data.length/3)}}}}(Og||(Og={}));var Rg,Bg,Fg=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Ng=xp.log,jg=_e.findBestMatch;class Ug{constructor(e,t){this.references=e,this.blanks=t}identify(e,t=void 0){var i;const n=Rg.parseSliderImage(e,7);let o=[];const s=this.blanks,r=t?[this.references[t]]:Object.values(this.references);for(let u of n.tiles){const p=jg(s,(e=>Og.similarity(u.signature,e)));for(let h of r)for(let d of h.tiles)o.push({tile:u,reference_tile:d,score:24==d.position?p.score:Og.similarity(u.signature,d.signature)})}const a=oe.groupBy(o,(e=>e.reference_tile.theme)),l=Object.entries(a).map((([e,t])=>{const i=oe.sortBy(t,(e=>-e.score)),n=new Array(25).fill(null),o=new Array(25).fill(!1);for(let e of i)n[e.tile.position]||o[e.reference_tile.position]||(Rg.DEBUG_SLIDE_READER&&(console.log(`Matching ${e.tile.position} to reference tile #${e.reference_tile.position}, score ${e.score.toFixed(3)}`),console.log(e.tile.signature),console.log(e.reference_tile.signature)),n[e.tile.position]=e,o[e.reference_tile.position]=!0);if(Rg.DEBUG_SLIDE_READER&&console.log(`Matched ${e}, total score ${oe.sumBy(n,(e=>e.score)).toFixed(3)}`),Rg.DEBUG_SLIDE_READER){const e=[];for(let i of e){console.log(`Similarity to reference tile ${i}`);const e=oe.sortBy(t.filter((e=>e.reference_tile.position==i)),(e=>e.tile.position));for(let t=0;t<5;t++)console.log(e.slice(5*t,5*(t+1)).map((e=>e.score.toFixed(2))).join(", "));console.log()}console.log("Chosen similarity");for(let e=0;e<5;e++)console.log(n.slice(5*e,5*(e+1)).map((e=>e.score.toFixed(2))).join(", "))}return{theme:e,all_match_pairs:t,preliminary_best_matching:{score:oe.sumBy(n,(e=>e.score))/n.length,match:n}}})),c=oe.maxBy(l,(e=>e.preliminary_best_matching.score));if(Rg.DEBUG_SLIDE_READER){const g=c.all_match_pairs.filter((e=>1==e.score));console.log(`Perfect score pairs ${g.length}`),g.forEach((e=>{console.log(`Perfect Match: Tile ${e.tile.position} with ${e.reference_tile.position}`)}))}if(pa().app.settings.settings.solving.puzzles.sliders.improve_slider_matches_backtracking&&c.preliminary_best_matching.score>Rg.DETECTION_THRESHOLD_SCORE){let f=c.preliminary_best_matching.match,y=25*c.preliminary_best_matching.score;const m=new Array(25).fill(null),_=new Array(25).fill(0).map(((e,t)=>Math.max(...c.all_match_pairs.slice(25*t,25*(t+1)).map((e=>e.score)))));for(let b=23;b>=0;b--)_[b]+=_[b+1];const v=new Array(25).fill(!1);let x=0;function w(e,t){if(x++,!(x>1e4))if(e>=25)t>y&&(Ng().log(`Backtracking found a better match from ${y} to ${t}`,"Slide Reader"),f=[...m],y=t);else for(let i=0;i<25;i++){const n=c.all_match_pairs[25*e+i];v[n.reference_tile.position]||n.score<Rg.DETECTION_THRESHOLD_SCORE||t+n.score+_[e+1]<=y||(m[e]=n,v[n.reference_tile.position]=!0,w(e+1,t+n.score),v[n.reference_tile.position]=!1)}}return Rg.DEBUG_SLIDE_READER&&console.log(`Potential ${_[0]} vs. ${y}`),_[0]>y&&w(0,0),Rg.DEBUG_SLIDE_READER&&console.log(`Before BT: ${c.preliminary_best_matching.score}, After BT: ${y/25}`),{tiles:f.map((e=>e.reference_tile)),theme:c.theme,match_score:y/25}}return{tiles:null===(i=c.preliminary_best_matching)||void 0===i?void 0:i.match.map((e=>e.reference_tile)),theme:c.theme,match_score:c.preliminary_best_matching.score}}}!function(e){const t=_a((()=>Fg(this,void 0,void 0,(function*(){return new Ug(yield o.get(),yield e._blank_tile_reference.get())}))));function i(t,i){return Og.get(t,i,{x:e.TILE_SIZE,y:e.TILE_SIZE},{x:e.KERNEL_INTERVAL,y:e.KERNEL_INTERVAL})}function n(t,n=0,o=void 0){const s=[];for(let r=0;r<e.SLIDER_SIZE;r++)for(let a=0;a<e.SLIDER_SIZE;a++)s.push({theme:o,position:r*e.SLIDER_SIZE+a,signature:i(t,{x:a*(e.TILE_SIZE+n),y:r*(e.TILE_SIZE+n)})});return{tiles:s,theme:o}}e.instance=function(){return Fg(this,void 0,void 0,(function*(){return t.get()}))},e.DETECTION_THRESHOLD_SCORE=.9,e.DEBUG_SLIDE_READER=!1,e.SLIDER_SIZE=5,e.KERNEL_INTERVAL=7,e.TILE_SIZE=49,e.parseTile=i,e.parseSliderImage=n;const o=_a((()=>Fg(this,void 0,void 0,(function*(){return Object.fromEntries(yield Promise.all(["adventurer","araxxor","archers","black_dragon","bridge","castle","clan_citadel","corporeal_beast","drakan_bloodveld","elves","general_graardor","gregorovic","helwyr","ice_strykewyrm","menaphos_pharaoh","nomad","nymora","seal","sword_of_edicts","tree","troll","tuska","v","vanstrom_klause","werewolf","wizard","wyvern"].map((e=>Fg(this,void 0,void 0,(function*(){return[e,n(yield ld.ImageDetect.imageDataFromUrl(s(e)),0,e)]}))))))}))));function s(e){return`alt1anchors/sliders/${e}.png`}e._blank_tile_reference=_a((()=>Fg(this,void 0,void 0,(function*(){const t=yield ld.ImageDetect.imageDataFromUrl("/alt1anchors/sliders/blanktiles.png"),n=t.width/e.TILE_SIZE,o=[];for(let s=0;s<n;s++)o.push(i(t,{x:s*e.TILE_SIZE,y:0}));return o})))),e.getThemeImageUrl=s}(Rg||(Rg={})),function(e){var t=ve.angleDifference;let i;function n(t,i){const n=xe.normalize(xe.sub(i,t)),o=e.ANGLE_REFERENCE_VECTOR,s=n,r=Math.atan2(xe.det(o,s),xe.dot(o,s));return r<0?r+2*Math.PI:r}!function(t){t.construct=function(t,i){const n=xe.sub(t.size,{x:.975,y:.975}),o=xe.transform(e.ANGLE_REFERENCE_VECTOR,le.rotationRadians(i.median)),s=Ae(n,i.median)/2,r=s/Math.tan(i.epsilon),a=xe.sub(t.center(!1),xe.scale(.5*Ae(n,i.median+Math.PI/2),o));return{position:t,angle_radians:i,direction:o,origin:a,modified_origin:xe.sub(a,xe.scale(r,o)),origin_uncertainty:s}}}(i=e.TriangulationPoint||(e.TriangulationPoint={})),e.ANGLE_REFERENCE_VECTOR={x:1,y:0},e.getExpectedAngle=n,e.isPossible=function(e,i){return e.every((e=>{const o=n(e.modified_origin,i);if(xe.max_axis(e.position.size)<=5&&xe.max_axis(xe.sub(i,xe.add(e.position.origin,xe.scale(.5,e.position.size))))<20)return e.position.getTiles().some((o=>t(n(o,i),e.angle_radians.median)<=e.angle_radians.epsilon));if(t(o,e.angle_radians.median)>=e.angle_radians.epsilon)return!1;const s=n(e.origin,i);return t(o,s)<Math.PI/2}))}}(Bg||(Bg={}));var qg=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Hg=_e.rgbSimilarity,Vg=_e.sampleImage;class $g{constructor(e){this.body=e,this._is_arc_lines=ma((()=>{const e=this.arc_line.getData(),t=[51,25,0];let i=0;for(let n=0;n<e.width;n++)Hg(t,Vg(e,{x:n,y:0}))>.9&&i++;return i>5})),e.setName("compass"),this.arc_line=e.getSubSection({origin:{x:34,y:235},size:{x:112,y:1}}).setName("arc line"),this.compass_area=e.getSubSection($g.ARROW_RECT_FROM_BODY).setName("compass body")}recapture(e){return new $g(this.body.recapture(e))}isArcCompass(){return this._is_arc_lines.get()}}!function(e){e.finder=_a((()=>qg(this,void 0,void 0,(function*(){const t=yield e.anchor.get();return new class{find(i){const n=i.findNeedle(t)[0];if(n){const t=i.getSubSection(Cd.move(n.relativeRectangle(),e.origin_offset_from_anchor,e.UI_SIZE));return new e(t)}return null}}})))),e.anchor=_a((()=>qg(this,void 0,void 0,(function*(){return yield tg.fromURL("/alt1anchors/compassnorth.png")})))),e.origin_offset_from_anchor={x:-78,y:-20},e.UI_SIZE={x:172,y:259},e.ARROW_CENTER_OFFSET_FROM_BODY_TL={x:88,y:137},e.INNER_COMPASS_RADIUS=75,e.TOTAL_COMPASS_RADIUS=80,e.ARROW_RECT_FROM_BODY={origin:xe.sub(e.ARROW_CENTER_OFFSET_FROM_BODY_TL,{x:e.TOTAL_COMPASS_RADIUS,y:e.TOTAL_COMPASS_RADIUS}),size:{x:2*e.TOTAL_COMPASS_RADIUS+1,y:2*e.TOTAL_COMPASS_RADIUS+1}}}($g||($g={}));var Wg,Gg,Zg,Kg=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Yg=Bg.getExpectedAngle,Qg=_e.greatestCommonDivisor,Xg=Bg.ANGLE_REFERENCE_VECTOR,Jg=_e.cleanedJSON,ef=ie.italic,tf=Yc.notification,nf=ie.hbox,of=ie.vbox,sf=ve.angleDifference,rf=_e.avg,af=_p.gielinor_compass,lf=_e.async_init,cf=_e.profileAsync,uf=ie.hgrid;!function(e){e.value=function(e){return e.y/e.x},e.reduce=function(e){const t=Qg(Math.abs(e.x),Math.abs(e.y));return xe.scale(1/t,e)}}(Wg||(Wg={})),function(e){e.activeOffset=function(e){var t;return null!==(t=null==e?void 0:e.highlighted_offset)&&void 0!==t?t:null==e?void 0:e.offset}}(Gg||(Gg={}));class pf extends Ii{constructor(e,t){super(),this.tool=t;const i=(new Pa).appendTo(this);if(i.header("Selection Status"),i.named("Offset",`${xe.toString(e.offset.offset)}, (${ve.toString(Zg.shouldAngle(e.offset.offset),3)})`),e.offset.auto){const t=ve.angleDifference(e.offset.auto.desired_angle,e.offset.auto.actual_angle),n=ve.AngleRange.size(e.offset.auto.desired_range),o=t>n/10,s=`Δ=${ve.radiansToDegrees(t).toFixed(3)}° (${(t/n*100).toFixed(2)}% of ${ve.toString(ve.AngleRange.size(e.offset.auto.desired_range),3)} range)`;i.named("Auto",o?ie.span(s).css("color","red"):s),i.row(new Jc("Backlog").slim().onClick((()=>{this.tool.spot_queue.backlog(e.offset)})))}else this.tool.spot_queue.size()>0?i.named("Auto",new Jc("Resume").onClick((()=>this.tool.spot_queue.dequeue()))):i.named("Auto","");i.header("Existing Sample","left",1),e.existing_sample?i.named("Sampled",uf(ve.toString(e.existing_sample.is_angle,3),new Jc("Delete").slim().setEnabled(!!e.existing_sample).onClick((()=>this.tool.delete())))).named("Fingerprint",Ef.ReadFingerprint.toString(e.existing_sample.fingerprint)):i.row(ef("None"))}}class hf{constructor(e){this.tool=e,this.record_event=ji(),this.state={samples:[],timestamp:Date.now()},this.memory=fp.instance().variable("preferences/calibrationtool/state"),this.set_changed=ji(),this.set_loaded=ji(),this.update(),this.memory.get().then((e=>{e&&(this.state=e,this.update()),this.set_loaded.trigger(this)})),this.set_loaded.trigger(this)}date(){return new Date(this.state.timestamp)}changed(){this.state.timestamp=Date.now(),this.memory.set(this.state),this.update()}update(){this.function=new Tf(Tf.compress(this.state.samples)),this.set_changed.trigger(this.state.samples)}set(e){return Kg(this,void 0,void 0,(function*(){return!!(yield Wc.simple("Load Calibration Function","Are you sure? This will irreversibly delete your collected samples.","Cancel","Confirm").do())&&(this.state.samples=e,this.changed(),this.set_loaded.trigger(this),!0)}))}getCSV(){return _e.makeCSV(this.state.samples)({name:"Is",f:e=>e.is_angle},{name:"Should",f:e=>Zg.shouldAngle(e.position)},{name:"Delta",f:e=>ve.angleDifferenceSigned(e.is_angle,Zg.shouldAngle(e.position))})}delete(...e){const t=this.state.samples.length;for(const t of e){const e=this.state.samples.findIndex((e=>xe.eq(e.position,t)));if(e>=0){const[t]=this.state.samples.splice(e,1);this.record_event.trigger(t)}}this.state.samples.length!=t&&this.changed()}sort(){this.state.samples=se().sortBy(this.state.samples,(e=>Zg.shouldAngle(e.position)))}record(e,t){const i=this.state.samples.findIndex((t=>xe.eq(t.position,e)));i>=0&&this.state.samples.splice(i,1);const n={position:e,is_angle:t.result.raw_angle,fingerprint:t.result.fingerprint};this.state.samples.push(n),this.sort(),this.changed(),this.record_event.trigger(n)}find(e){if(!e)return null;const t=Zg.shouldAngle(e);let i=0,n=this.state.samples.length;for(;;){if(i==n)return null;const e=~~((i+n)/2),o=Zg.shouldAngle(this.state.samples[e].position);if(t==o)return this.state.samples[e];t>o?i=e+1:n=e}}size(){return this.state.samples.length}get(){return this.state.samples}}function df(e,t){let i,n=Number.MAX_VALUE;for(let o=0;o<e.length;o++){const s=t(e[o],o);null!=s&&s<n&&(i=o,n=s)}return i}class gf{constructor(e,t,i){this.spots=e,this.distance=t,this.start_position=i,this.come_from_solution=this.spots.map(((e,t)=>t)),this.spots_with_start=[...e,i],this.start_position_index=e.length,this.distance_map=this.spots_with_start.map((e=>this.spots_with_start.map((e=>{})))),this.distance_map.forEach(((e,t)=>e[t]=0)),this._init=lf((()=>Kg(this,void 0,void 0,(function*(){return yield cf((()=>Kg(this,void 0,void 0,(function*(){for(let e=0;e<this.distance_map.length;e++)for(let i=e+1;i<this.distance_map.length;i++){const n=this.spots_with_start[e],o=this.spots_with_start[i],s=n&&o?yield t.distance(n,o):0;this.distance_map[e][i]=s,this.distance_map[i][e]=s}}))),`Computing distances ${this.spots.length}`)}))))}wait(e){return Kg(this,void 0,void 0,(function*(){return this._init.wait().then((()=>e(this)))}))}_assert_init(){if(!this._init.isInitialized())throw new Error("TravellingSalesmanProblem must be awaited before it can be solved.")}getDistance(e,t){return this.distance_map[e][t]}_greedy(){if(this._assert_init(),0==this.spots.length)return[];const e=this.spots.map((()=>{}));let t=this.start_position_index;for(let i=0;i<e.length;i++){const i=df(e,((e,i)=>null==e?this.getDistance(t,i):void 0));e[i]=t,t=i}return e}greedy(){return this.come_from_solution=_e.profile((()=>this._greedy()),`Greedy Salesman ${this.spots.length}`),this}getResult(){return console.log(`Final cost ${this._evaluateComeFrom(this.come_from_solution)}`),gf.go_to_to_solution(gf.come_from_to_go_to(this.come_from_solution)).map((e=>this.spots[e]))}_evaluateComeFrom(e){return se().sum(e.map(((e,t)=>this.getDistance(e,t))))}_optimize_by_pairwise_exchange(){let e=gf.go_to_to_solution(gf.come_from_to_go_to(this.come_from_solution)),t=0;for(;t<100;){let i,n=0;for(let o=0;o<this.spots.length;o++){const s=o>0?e[o-1]:this.start_position_index,r=e[o],a=e[o+1];for(let l=o+1;l<this.spots.length;l++){const c=e[l-1],u=e[l],p=l+1<e.length?e[l+1]:void 0;let h=0,d=0;h+=this.getDistance(s,r),h+=this.getDistance(r,a),d+=this.getDistance(s,u),l==o+1?d+=this.getDistance(u,r):(h+=this.getDistance(c,u),d+=this.getDistance(u,a),d+=this.getDistance(c,r)),null!=p&&(h+=this.getDistance(u,p),d+=this.getDistance(r,p));const g=h-d;6==t&&l==o+1&&console.log(`${o} <-> ${l} : ${g}`),g>n&&(i=[o,l],n=g)}}if(!i)break;if(t++,t>100)throw new Error(`Aborting after ${t} swaps`);console.log(`Swapping ${i} for gain of ${n}`);const o=[...e];o[i[0]]=e[i[1]],o[i[1]]=e[i[0]],e=o,console.log("After swap"),console.log(e),console.log(`${e.length} Score ${this._evaluateComeFrom(gf.solution_to_come_from(e))}`)}return console.log("Old"),console.log(this.come_from_solution),this.come_from_solution=gf.solution_to_come_from(e),console.log("New"),console.log(this.come_from_solution),console.log(`Did ${t} improvements`),e}optimize_by_pairwise_exchange(){return _e.profile((()=>this._optimize_by_pairwise_exchange()),"Pairwise Optimization"),this}}!function(e){e.come_from_to_go_to=function(e){const t=new Array(e.length+1);return e.forEach(((e,i)=>t[e]=i)),t},e.solution_to_come_from=function(e){const t=[...e];return e.forEach(((i,n)=>{t[i]=0==n?e.length:e[n-1]})),t},e.go_to_to_solution=function(e){const t=[];let i=e[e.length-1];for(;null!=i;)t.push(i),i=e[i];return t};class t{comap(e){const i=this;return new class extends t{distance(t,n){return i.distance(e(t),e(n))}}}}e.StatefulDistanceFunction=t,e.PathFindingDistanceFunction=class extends t{constructor(){super(...arguments),this.states=[]}distance(e,t){return Kg(this,void 0,void 0,(function*(){let i=this.states.find((t=>Te.eq(e,t.origin)));i||this.states.push(i={origin:e,state:fr.init_djikstra(e)});const n=yield fr.find(i.state,mr.init(t));return n?fr.pathLength(n):Number.MAX_VALUE}))}},e.AStarDistanceFunction=class extends t{constructor(e,t){super(),this.map_date=e,this.max_distance=t}distance(e,t){return Kg(this,void 0,void 0,(function*(){if(Te.eq(e,t))return 0;function i(e){return xe.max_axis(xe.sub(t,e))}const n=new class{constructor(e){this.max=e,this.row_index=0,this.element_index=0,this.size=0,this.data=new Array(e+1).fill(null).map((()=>[]))}push(e){e.estimated_total<=this.max&&(this.data[e.estimated_total].push(e),this.size++)}pop(){for(;this.element_index>=this.data[this.row_index].length&&this.row_index<this.max;)this.row_index++,this.element_index=0;return this.row_index>this.max?null:(this.size--,this.data[this.row_index][this.element_index++])}}(this.max_distance),o=new nn;function s(e){e.estimated_total<=n.max&&null==o.get(e.position)&&(o.set(e.position,e.distance),n.push(e))}s({position:nn.split(e),distance:0,estimated_total:i(e)});let r=1e3;for(;r>0;){r--;const e=n.pop();if(!e)break;const o=yield this.map_date.getTile(e.position.coords);for(let n of gr.all)if(hr.free(o,n)){const o=Te.move(e.position.coords,gr.toVector(n));if(Te.equals(t,o))return e.distance+1;s({position:nn.split(o),distance:e.distance+1,estimated_total:e.distance+1+i(o)})}}return Math.min(2*this.max_distance,xe.max_axis(xe.sub(e,t)))}))}}}(gf||(gf={}));class ff{constructor(e){this.parent=e,this.queue=[],this.changed=ji(),this.parent.sample_set.record_event.on((e=>Kg(this,void 0,void 0,(function*(){var t;const i=this.remove(e.position);null!=i&&(this.dequeue(i)||((null===(t=this.filler)||void 0===t?void 0:t.repeatable)?this.fill(this.filler):this.filler=null))})))),this.parent.reference.subscribe((e=>Kg(this,void 0,void 0,(function*(){yield this.sortQueue(e),this.changed.trigger(this)}))))}backlog(e){const t=this.queue.indexOf(e);t>=0&&(this.queue.push(...this.queue.splice(t,1)),this.changed.trigger(this),this.dequeue())}dequeue(e=0){return e>=0&&e<this.queue.length&&(this.parent.setOffset(this.queue[e]),!0)}remove(e){const t=this.queue.findIndex((t=>xe.eq(e,t.offset)));if(t>=0)return this.queue.splice(t,1),this.changed.trigger(this),t}size(){return this.queue.length}clear(){this.queue.length>0&&(this.queue=[],this.changed.trigger(this)),this.filler=null}sortQueue(e){return Kg(this,arguments,void 0,(function*(e,t=void 0){if(0==this.queue.length)return;const i={topleft:{x:1950,y:4152},botright:{x:3898,y:2594},level:0},n=[];function o(t){return Kg(this,arguments,void 0,(function*(t,n=1){const s=xe.scale(n,t.offset),r=Te.move(e,s);return ze.contains(i,r)?(yield kr.get().isAccessible(r))?n:o(t,n+1):0}))}for(let e of this.queue){const t=yield o(e);0==t?n.push(e):e.highlighted_offset=xe.scale(t,e.offset)}n.forEach((e=>this.queue.splice(this.queue.indexOf(e),1)));const s=se().sortBy(this.queue,(e=>Zg.shouldAngle(e.offset))),r=this.parent.reference.value();this.queue=yield new gf(s,new gf.AStarDistanceFunction(kr.get(),64).comap((e=>Te.move(r,Gg.activeOffset(e)))),t?{offset:t}:null).wait((e=>e.greedy().optimize_by_pairwise_exchange().getResult())),this.queue.push(...se().sortBy(n,(e=>Zg.shouldAngle(e.offset))))}))}fill(e){return Kg(this,void 0,void 0,(function*(){this.clear(),this.queue=e.function(),this.queue.length>0&&(yield this.sortQueue(this.parent.reference.value(),Gg.activeOffset(this.parent.selection.value().offset)),this.filler=e,this.dequeue(),this.changed.trigger(this))}))}}class yf extends Ii{constructor(e){super(),this.queue=e,this.init(this.props=new Pa),e.changed.on((()=>this.render())),this.render()}render(){this.props.empty(),this.props.header("Offset Queue"),this.props.named("Size",uf(this.queue.size().toString(),new Jc("Clear").slim().onClick((()=>this.queue.clear())))),this.props.named("Type",this.queue.filler?this.queue.filler.name:"")}}class mf extends gc{constructor(){super({size:"fullscreen",fixed:!0,disable_close_button:!1}),this.reference_memory=new e.Variable("preferences/calibrationtool/reference",(()=>af.spots[0])),this.selection=qi(null),this.reference=qi(this.reference_memory.get()),this.sample_set=new hf(this),this.spot_queue=new ff(this),this.setOffset({offset:{x:-1,y:0}}),this.handler=Yd.instance().main_hotkey.subscribe(0,(e=>{this.commit()})),this.hidden.on((()=>{this.reader.stop(),this.handler.remove()})),this.reader=new Ef.Service(null,!0,null,!0).start(),this.sample_set.set_changed.on((()=>{this.updateCurrentPlausibility(),this.updateFunctionStatusView(),this.setOffset(this.selection.value().offset)})),this.sample_set.set_loaded.on((()=>{this.spot_queue.filler?this.spot_queue.fill(this.spot_queue.filler):this.spot_queue.clear()})),this.reader.onChange((()=>{this.updateCurrentPlausibility()})),this.reference.subscribe((e=>{this.reference_memory.set(e)})),this.selection.subscribe((e=>{this.updateSelectionView(),this.updateCurrentPlausibility()}))}updateCurrentPlausibility(){const e=new Pa;e.header("Current Read Plausibility");const t=this.reader.state();if("normal"!=(null==t?void 0:t.state))e.row("No angle detected");else{const i=this.sample_set.function.sample(t.result.raw_angle);switch(e.named("Raw Read",ve.toString(t.result.raw_angle,3)),e.named("Fingerprint",Ef.ReadFingerprint.toString(t.result.fingerprint)),e.named("Calibrated",ve.AngleRange.toString(i.result.range,3)+" ("+ve.UncertainAngle.toString(i.result,3)+")"),e.named("Sample",i.details.type),i.details.type){case"outside":e.named("Before",Tf.CompressedSample.toString(i.details.before)),e.named("Hit","-"),e.named("After",Tf.CompressedSample.toString(i.details.after));break;case"within":e.named("Before",Tf.CompressedSample.toString(i.details.before)),e.named("Hit",Tf.CompressedSample.toString(i.details.in_sample)),e.named("After",Tf.CompressedSample.toString(i.details.after))}const n=this.sample_set.function.sample(t.result.raw_angle),o=ve.UncertainAngle.contains(n.result,Zg.shouldAngle(this.selection.value().offset.offset));e.named("Plausible",uf(o?"Yes":"No",new Jc(o?"Commit (Alt+1)":"Force Commit").slim().onClick((()=>Kg(this,void 0,void 0,(function*(){(o||(yield Wc.simple("Commit Implausible Sample?","Are you sure you want to record this implausible sample?","Cancel","Confirm").do()))&&this.commit(!0)}))))))}this.current_calibrated_angle_view.empty().append(e)}updateFunctionStatusView(){const e=new Pa;e.header("Function Status");const t=this.sample_set.function.uncalibrated_ranges();ve.AngleRange.size(t[0]);const i=this.sample_set.function.minEpsilons(),n=this.sample_set.function.bad_samples();e.named("Last Change",this.sample_set.date().toLocaleString()),e.named("Samples",this.sample_set.size().toString()),e.named("Unique Angles",uf(this.sample_set.function.samples.length.toString(),new Jc("Analyze").slim().onClick((()=>{this.layer.guard.set((new wl).add((new Sa).setText("Select a tile to analyze.")).onCommit((e=>{const t=se().groupBy(af.spots,(t=>this.sample_set.function.reverse_sample(Bg.getExpectedAngle(e,t)).median)),i=Object.entries(t).filter((([e,t])=>1==t.length));console.log(Object.fromEntries(Object.entries(t).filter((([e,t])=>t.length>1)).map((([t,i])=>[t,ve.UncertainAngle.fromRange(ve.AngleRange.fromAngles(...i.map((t=>Bg.getExpectedAngle(e,t)))))])))),console.log(`Discriminates ${i.length}/${af.spots.length} spots `)})))})))),e.named("Average Epsilon",ve.toString(this.sample_set.function.averageEpsilon(),3)),e.named("Min Epsilon (Min)",`${ve.toString(Math.min(...i),3)} - ${ve.toString(Math.max(...i),3)} (${ve.toString(rf(...i),3)} avg.)`),e.named("Implausibilities",uf(n.length.toString(),new Jc("Queue All").slim().setEnabled(n.length>0).onClick((()=>{this.spot_queue.fill({name:"Implausibilities",function:()=>n.flatMap((e=>e.raw_samples)).map((e=>({offset:e.position})))})})))),e.named("Largest Gap",uf(ve.toString(ve.AngleRange.size(t[0]),3),new Jc("Queue").slim().onClick((()=>this.fillQueueWithBiggestUncalibratedRange())))),this.sample_set.function.uncalibrated_ranges(),this.function_status_view.empty().append(e)}delete(){this.sample_set.delete(this.selection.value().offset.offset),this.selection.update((e=>e.existing_sample=null))}commit(e=!1){const t=this.reader.state();if(t&&"normal"==t.state){if(!e){const e=this.sample_set.function.sample(t.result.raw_angle);if(!ve.UncertainAngle.contains(e.result,Zg.shouldAngle(this.selection.value().offset.offset)))return void tf("Implausible angle. Click `Force Commit` to commit it anyway.","error").show()}"normal"==t.state&&this.sample_set.record(this.selection.value().offset.offset,t)}else tf("No angle  detected","error").show()}setOffset(e,t=!0){if(!e.auto){const t=this.spot_queue.queue.find((t=>xe.eq(t.offset,e.offset)));t&&(t.highlighted_offset=e.highlighted_offset,e=t)}this.selection.set({existing_sample:this.sample_set.find(e.offset),offset:e}),this.layer&&t&&this.layer.getMap().fitView(ze.from(Te.move(this.reference.value(),Gg.activeOffset(e))),{maxZoom:this.layer.getMap().getZoom(),animate:!0})}fillQueueWithBiggestUncalibratedRange(){this.spot_queue.fill({name:"Largest Gap",repeatable:!0,function:()=>{const e=this.sample_set.function.uncalibrated_ranges(),t=ve.AngleRange.size(e[0]),i=e.findIndex(((e,i)=>!(ve.AngleRange.size(e)>=.8*t)));return(i>=0?e.slice(0,i):e).flatMap((e=>{const t=ve.AngleRange.size(e),i=Math.max(1,Math.round(t/(Math.PI/4)));return ve.AngleRange.split(e,i)})).map((e=>function(e){const t=ve.AngleRange.mean(e),i=ve.AngleRange.size(e),n=function(e,t,i=(e=>!1)){const n=xe.sign(t),o=Math.abs(t.y)>Math.abs(t.x),s=o?e=>xe.mul(n,xe.swap(e)):e=>xe.mul(n,e);return s(function(t,i){const n=Wg.value(t);let o={y:0,x:1},s={y:1,x:1};if(i(o))return o;if(i(s))return s;for(;;){const t=xe.add(o,s);if(i(t))return t;const r=Wg.value(t);if(t.x>e)return se().minBy([o,s],(e=>Math.abs(n-Wg.value(e))));r<n?o=t:s=t}}((o?e=>xe.swap(xe.mul(n,e)):e=>xe.mul(n,e))(t),(e=>i(s(e)))))}(1e3,{y:-Math.sin(t),x:-Math.cos(t)},(e=>sf(Zg.shouldAngle(e),t)<i/20));return{offset:n,auto:{desired_angle:t,desired_range:e,actual_angle:Zg.shouldAngle(n)}}}(e)))}})}render(){super.render(),this.title.set("Compass Calibration"),this.body.css("display","flex");const e=of().css("min-width","300px").appendTo(this.body);c().css("min-width","20px").css("max-width","20px").appendTo(this.body);const t=(new oa).css2({width:"100%"}).appendTo(this.body);setTimeout((()=>t.map.invalidateSize()),1e3),(new hc).buttons(new Jc("Export JSON").onClick((()=>{new Vu(Zg.cleanExport(this.sample_set.get())).show()})),new Jc("Export CSV").onClick((()=>{new Vu(this.sample_set.getCSV()).show()}))).appendTo(e),(new hc).buttons(new Jc("Import JSON").onClick((()=>Kg(this,void 0,void 0,(function*(){const e=(yield new Wu((e=>JSON.parse(e))).do()).imported;e&&this.sample_set.set(e).then((e=>{e&&this.fillQueueWithBiggestUncalibratedRange()}))})))),new Jc("Load NO AA").onClick((()=>{this.sample_set.set(se().cloneDeep(Ef.no_aa_samples))})),new Jc("Load MSAA").onClick((()=>{this.sample_set.set(se().cloneDeep(Ef.msaa_samples))})),new Jc("Reset").onClick((()=>{this.sample_set.set([])}))).appendTo(e),this.selection_status_view=c().appendTo(e),this.function_status_view=nf().appendTo(e),this.current_calibrated_angle_view=nf().appendTo(e),this.calibration_queue_view=new yf(this.spot_queue).appendTo(e),this.hovered_tile_reverse_sample_view=nf().appendTo(e),this.updateFunctionStatusView(),this.updateSelectionView(),this.updateCurrentPlausibility(),this.updateHoveredTileView(null),t.map.addGameLayer(this.layer=new Zg.Layer(this)),this.layer.centerOnReference()}updateSelectionView(){this.selection_status_view&&new pf(this.selection.value(),this).appendTo(this.selection_status_view.empty())}updateHoveredTileView(e){var t;const i=e?Wg.reduce(xe.sub(e,this.reference.value())):null,n=i?this.sample_set.find(i):null,o=new Pa;o.header("Hovered Tile"),o.named("Offset",i?`${xe.toString(i)}, (${ve.toString(Zg.shouldAngle(i),3)})`:"-"),o.header("Existing Sample","left",1),n?o.named("Sampled",ve.toString(n.is_angle,3)).named("Fingerprint",Ef.ReadFingerprint.toString(n.fingerprint)):o.row(ef("None")),null===(t=this.hovered_tile_reverse_sample_view)||void 0===t||t.empty().append(o)}}!function(e){var t=Ia.arrow,i=_p.gielinor_compass;e.cleanExport=function(e){return"[\n"+se().sortBy(e,(e=>xe.angle(Xg,{x:-e.position.x,y:-e.position.y}))).map((e=>Jg(e,void 0))).join(",\n")+"\n]"},e.shouldAngle=function(e){return Yg(e,{x:0,y:0})};class n extends Ji{constructor(e){super(),this.spot=e,this.active=!1,this.setInteractive()}setActive(e){return e!=this.active&&(this.active=e,this.requestRendering()),this}bounds(){return we.from(this.spot)}render_implementation(e){return Kg(this,void 0,void 0,(function*(){const t=this.active?1:.5,i=(this.active?1:.5)*(e.highlight?1.5:1);return ce.marker(xe.toLatLong(this.spot),{icon:ta(this.spot.level,i),opacity:t,interactive:!0,bubblingMouseEvents:!0}).addTo(this).getElement()}))}}e.KnownMarker=n,e.Layer=class extends Or{constructor(e){super(),this.tool=e,this.sample_set_overlay=null,this.selection_overlay=null,this.queue_view=null,this.guard=(new Gr).setDefaultLayer(this),this.add(new o(e)),this.add(new ac(!0,{teleport_policy:"target_only",transport_policy:"none"})),this.markers=i.spots.map((e=>new n(e).addTo(this))),this.tool.sample_set.set_changed.on((()=>{this.updateSampleSetOverlay()})),this.tool.spot_queue.changed.on((()=>{this.updateQueueView()})),this.tool.reference.subscribe((e=>{this.centerOnReference(),this.markers.forEach((t=>{t.setActive(Te.equals(t.spot,e))})),this.updateSelectionOverlay(),this.updateSampleSetOverlay(),this.updateQueueView()}),!0),this.tool.selection.subscribe((()=>{this.updateSelectionOverlay(),this.updateQueueView()}))}centerOnReference(){const e=this.getMap();e&&e.fitView(ze.from(this.tool.reference.value()),{maxZoom:4})}eventClick(e){e.onPost((()=>{if(e.active_entity instanceof n)this.tool.reference.set(e.active_entity.spot);else{const t=xe.sub(e.tile(),this.tool.reference.value());if(0==t.x&&0==t.y)return;const i=Qg(Math.abs(t.x),Math.abs(t.y));this.tool.setOffset({offset:xe.scale(1/i,t),highlighted_offset:t},!1)}}))}updateSampleSetOverlay(){this.sample_set_overlay&&(this.sample_set_overlay.remove(),this.sample_set_overlay=null),this.sample_set_overlay=ce.featureGroup().addTo(this),this.tool.sample_set.get().forEach(((e,t)=>{Cr(xe.add(this.tool.reference.value(),e.position)).setStyle({color:"#06ffea",fillOpacity:.2,stroke:!1}).addTo(this.sample_set_overlay)}))}updateSelectionOverlay(){this.selection_overlay&&(this.selection_overlay.remove(),this.selection_overlay=null);const e=this.tool.selection.value();if(e&&this.tool.reference.value()){this.selection_overlay=ce.featureGroup().addTo(this);for(let t=1;t<=100;t++){const i=Cr(xe.add(this.tool.reference.value(),xe.scale(t,e.offset.offset))).addTo(this.selection_overlay);e.existing_sample&&i.setStyle({color:"orange"})}}}updateQueueView(){if(this.queue_view&&(this.queue_view.remove(),this.queue_view=null),0==this.tool.spot_queue.size())return;this.queue_view=ce.featureGroup().addTo(this);const e=this.tool.selection.value();this.tool.spot_queue.parent.spot_queue.queue.forEach((i=>{xe.eq(e.offset.offset,i.offset)||Cr(Te.move(this.tool.reference.value(),Gg.activeOffset(i))).setStyle({color:"#ffff00"}).addTo(this.queue_view),t(this.tool.reference.value(),Te.move(this.tool.reference.value(),Gg.activeOffset(i)),{type:"none"}).setStyle({color:"#ffff00",weight:3}).addTo(this.queue_view)}))}};class o extends Vr{constructor(e){super({type:"gapless",position:"top-left"},c().css("padding","2px")),this.tool=e}eventHover(e){e.onPre((()=>{var t;this.content.text(`${t=e.tile(),`${t.level},${~~(t.x/64)},${~~(t.y/64)},${t.x%64},${t.y%64}`}: ${xe.toString(xe.sub(e.tile(),this.tool.reference.value()))}`),this.tool.updateHoveredTileView(e.tile())}))}}e.HoverTileDisplay=o}(Zg||(Zg={}));var _f,vf=_e.index,xf=Bg.ANGLE_REFERENCE_VECTOR,wf=ve.UncertainAngle,bf=ve.angleDifference,kf=_e.Order;!function(e){e.none=new class{apply(e){return wf.fromAngle(e)}}}(_f||(_f={}));class Tf{constructor(e){this.samples=e,this._inbetweens=ma((()=>0==this.samples.length?[ve.AngleRange.around(Math.PI/8,2*Math.PI)]:this.samples.map(((e,t)=>ve.AngleRange.between(e.is_angle,vf(this.samples,t+1).is_angle))).sort(kf.reverse(kf.comap(kf.natural_order,(e=>ve.AngleRange.size(e)))))))}uncalibrated_ranges(){return this._inbetweens.get()}minEpsilons(){return this.samples.map(((e,t)=>ve.AngleRange.size(e.is_angle)/2))}averageEpsilon(){let e=0;return this.samples.forEach(((t,i)=>{const n=vf(this.samples,i-1),o=vf(this.samples,i+1);e+=ve.AngleRange.size(t.is_angle)/(2*Math.PI)*Tf.SamplingResult.fromHit(n,t,o).result.epsilon;const s=Tf.SamplingResult.fromBetween(t,o);e+=ve.AngleRange.size(s.result.range)/(2*Math.PI)*s.result.epsilon})),e}bad_samples(){return this.samples.flatMap(((e,t)=>{const i=vf(this.samples,t+1),n=ve.angleDifferenceSigned(e.is_angle.to,i.is_angle.from);return n<0&&Math.abs(n)<Math.PI?[e,i]:[]}))}sample(e){if(0==this.samples.length)return{result:wf.fromEpsilonAngle(Math.PI,Math.PI),details:{type:"outside",before:{read_angle:Math.PI/2,is_angle:{from:0,to:Math.PI},raw_samples:[]},after:{read_angle:3*Math.PI/2,is_angle:{from:Math.PI,to:2*Math.PI},raw_samples:[]}}};e<this.samples[0].read_angle&&(e+=2*Math.PI);const t=(i,n)=>{if(i==n)return i;const o=Math.ceil((i+n)/2);return ve.isSameRadians(e,this.samples[o].read_angle)?o:e>=this.samples[o].read_angle?t(o,n):t(i,o-1)},i=t(0,this.samples.length-1),n=vf(this.samples,i);if(bf(e,n.read_angle)<ve.EQUALITY_EPSILON){const e=vf(this.samples,i-1),t=vf(this.samples,i+1);return Tf.SamplingResult.fromHit(e,n,t)}{const e=n,t=vf(this.samples,i+1);return Tf.SamplingResult.fromBetween(e,t)}}reverse_sample(e){for(let t=0;t<this.samples.length;t++){const i=this.samples[t],n=vf(this.samples,t+1);if(ve.AngleRange.contains(this.samples[t].is_angle,e))return ve.UncertainAngle.fromAngle(i.read_angle);if(ve.AngleRange.contains(ve.AngleRange.between(this.samples[t].is_angle,n.is_angle),e))return ve.UncertainAngle.fromRange(ve.AngleRange.construct(i.read_angle,n.read_angle))}}apply(e){return this.sample(e).result}}!function(e){let t,i;!function(e){e.toString=function(e){return`${ve.toString(e.read_angle,3)} -> [${ve.toString(e.is_angle.from,3)}, ${ve.toString(e.is_angle.to,3)}]`}}(t=e.CompressedSample||(e.CompressedSample={})),e.compress=function(e){const t=se().sortBy(e,(e=>e.is_angle));let i=0;const n=[];for(;i<t.length;){const e=t[i].is_angle,o=i;for(i++;i<t.length&&ve.isSameRadians(t[i].is_angle,e);)i++;const s=t.slice(o,i),r=ve.AngleRange.fromAngles(...s.map((e=>Zg.shouldAngle(e.position))));n.push({read_angle:e,is_angle:r,raw_samples:s})}return n},function(e){e.fromBetween=function(e,t){return{result:wf.fromRange(ve.AngleRange.between(e.is_angle,t.is_angle)),details:{type:"outside",before:e,after:t}}},e.fromHit=function(e,t,i){return{result:wf.fromRange(ve.AngleRange.between(e.is_angle,i.is_angle)),details:{type:"within",before:e,in_sample:t,after:i}}},e.toString=function(e){let i=wf.toString(e.result,2);"within"===e.details.type&&(i+=`${t.toString(e.details.before)}`)}}(i=e.SamplingResult||(e.SamplingResult={}))}(Tf||(Tf={}));class zf{constructor(e,t=(()=>0),i){this.keyframes=e,this.base_f=t,this.epsilon=i,this.keyframes=se().sortBy(e,(e=>e.angle))}apply(e){return wf.fromEpsilonAngle(ve.normalizeAngle(e+this.sample(e)),this.epsilon)}withBaseline(e){return this.base_f=e,this}getSampleTable(){const e=[];for(let t=0;t<=5e3;t++)e.push(this.sample(t*(2*Math.PI/5e3)));return e}getCSV(){return"Is,Should,Delta,Base-Delta,Full-Delta,X,Y\n"+this.keyframes.map((e=>{var t,i;const n=e.value,o=this.base_f(e.angle),s=n+o,r=e.value+s;return[e.angle,r,e.value,o,s].map(ve.radiansToDegrees).join(",")+`,${null===(t=e.original)||void 0===t?void 0:t.x},${null===(i=e.original)||void 0===i?void 0:i.y}`})).join("\n")}sample(e){if(0==this.keyframes.length)return 0;if(1==this.keyframes.length)return this.keyframes[0].value;let t=se().findLastIndex(this.keyframes,(t=>t.angle<e));t<0&&(t=this.keyframes.length-1);const i=(t+1)%this.keyframes.length,n=this.keyframes[t],o=this.keyframes[i],s=ve.angleDifference(e,n.angle)/ve.angleDifference(o.angle,n.angle);return(1-s)*n.value+s*o.value+this.base_f(e)}static fromCalibrationSamples(e,t=null,i){const n=e.filter((e=>null!=e.is_angle)).map((({position:e,is_angle:t})=>{let i=xe.angle(xf,{x:-e.x,y:-e.y})-t;return i<-Math.PI&&(i+=2*Math.PI),{original:e,angle:t,value:i}})),o=(()=>{switch(t){case null:return()=>0;case"cosine":const e=4,t=Math.max(...n.map((e=>e.value))),i=Math.min(...n.map((e=>e.value))),o=(t+i)/2,s=(t-i)/2,r=n.filter((e=>Math.abs(t-e.value)<s/10)).map((t=>t.angle%(2*Math.PI/e))),a=ve.circularMean(r);return t=>s*Math.cos(e*(t-a))+o}})(),s=n.map((e=>Object.assign(Object.assign({},e),{value:e.value-o(e.angle)})));return new zf(s,o,i).withBaseline(o)}}var Sf,Cf=Bg.ANGLE_REFERENCE_VECTOR,Af=xp.log;class Ef{constructor(e,t=(e=>Ef.calibration_tables[e])){this.capture=e,this.calibration_functions=t,this._angle=ma((()=>{var e,t;const i=$g.TOTAL_COMPASS_RADIUS,n=$g.TOTAL_COMPASS_RADIUS,o=this.capture.compass_area.getData(),s={x:o.width/2,y:o.height/2};function r(e,t){const[i,n,s,r]=o.getPixel(e,t);return i<5&&n<5&&s<5}if(Ef.DEBUG_COMPASS_READER&&(Ef.debug_overlay.clear(),this.capture.compass_area.debugOverlay(Ef.debug_overlay)),[{x:-15,y:-15},{x:-14,y:-14},{x:-13,y:-13},{x:-12,y:-12},{x:12,y:12},{x:11,y:11},{x:10,y:10},{x:9,y:9},{x:13,y:-16},{x:12,y:-15},{x:11,y:-14},{x:10,y:-13},{x:-15,y:10},{x:-14,y:9},{x:-13,y:8},{x:-12,y:7}].every((e=>{const t=function(e,t){const s=4*((n+t)*o.width+e+i);return o.data[s]}(e.x,e.y);return t>=70&&t<=110})))return{type:"likely_solved",fingerprint:void 0};const a=[];for(let e=0;e<o.height;e++)for(let t=0;t<o.width;t++)r(t,e)&&a.push({x:t,y:e});const l=(()=>{const e=xe.add(s,{x:-40,y:-40}),t=xe.add(s,{x:40,y:40});for(let i=e.y;i<t.y;i++)for(let n=e.x;n<t.x;n++){const e=o.getPixel(n,i)[0];if(!r(n,i)&&e<40)return!0}return!1})(),c={pixel_count:a.length,compass_size:a.length>0?we.size(we.from(...a)):void 0,antialiasing:l};if(we.size(we.from(...a)),l){if(a.length<400)return{type:"likely_closed",fingerprint:c,details:`Not enough pixels (${a.length}) sampled for the rectangle sample. [MSAA]`};if(a.length<1700)return{type:"likely_concealed",fingerprint:c,details:`Not enough pixels (${a.length}) sampled for the rectangle sample. [MSAA]`};if(a.length>2250)return{type:"likely_concealed",fingerprint:c,details:`Too many pixels (${a.length}) sampled for the rectangle sample. [MSAA]`}}else{if(a.length<400)return{type:"likely_closed",fingerprint:c,details:`Not enough pixels (${a.length}) sampled for the rectangle sample.`};if(a.length<1900)return{type:"likely_concealed",fingerprint:c,details:`Not enough pixels (${a.length}) sampled for the rectangle sample.`};if(a.length>2300)return{type:"likely_concealed",fingerprint:c,details:`Too many pixels (${a.length}) sampled for the rectangle sample.`}}const u={x:se().sumBy(a,(e=>e.x))/a.length,y:se().sumBy(a,(e=>e.y))/a.length},p=we.center(we.from(...a),!1),h=e=>xe.angle(Cf,xe.normalize({x:e.x,y:-e.y})),d=h(xe.sub(u,p)),g=a.flatMap((e=>{const t=xe.sub(e,p);let i=h(t);return Number.isNaN(i)?[]:(ve.angleDifference(i,d)>Math.PI/2&&(i=ve.normalizeAngle(i-Math.PI)),{angle:i,weight:xe.lengthSquared(t)})})),f=ve.normalizeAngle(Math.atan2(se().sum(g.map((e=>e.weight*Math.sin(e.angle)))),se().sum(g.map((e=>e.weight*Math.cos(e.angle)))))),y=l?"msaa":"off",m=(Ef.DISABLE_CALIBRATION?_f.none:null!==(t=null===(e=this.calibration_functions)||void 0===e?void 0:e.call(this,y))&&void 0!==t?t:_f.none).apply(f);return Ef.DEBUG_COMPASS_READER&&(Af().log(`Angle: ${ve.radiansToDegrees(d).toFixed(3)}° (CoM), ${ve.radiansToDegrees(f).toFixed(3)}° (rect), ${ve.radiansToDegrees(m.median).toFixed(3)}° (final)`,"Compass Reader"),Ef.debug_overlay.render()),{type:"success",fingerprint:c,angle:m,raw_angle:f}}))}getAngle(){return this._angle.get()}}!function(e){var t=_e.async_init,i=ve.degreesToRadians;let n;e.DEBUG_COMPASS_READER=!1,e.DISABLE_CALIBRATION=!1,function(e){e.toString=function(e){var t,i,n,o,s;return`${null!==(t=null==e?void 0:e.pixel_count)&&void 0!==t?t:"?"}px (${null!==(n=null===(i=null==e?void 0:e.compass_size)||void 0===i?void 0:i.x)&&void 0!==n?n:"?"} x ${null!==(s=null===(o=null==e?void 0:e.compass_size)||void 0===o?void 0:o.y)&&void 0!==s?s:"?"})`}}(n=e.ReadFingerprint||(e.ReadFingerprint={})),e.debug_overlay=new Xd,e.no_aa_samples=[{is_angle:6.265145617097614,position:{x:-1,y:0}},{is_angle:6.265145617097614,position:{x:-360,y:-1}},{is_angle:6.2676778256353165,position:{x:-180,y:-1}},{is_angle:6.271339055857952,position:{x:-120,y:-1}},{is_angle:6.274266625287525,position:{x:-90,y:-1}},{is_angle:6.274266625287525,position:{x:-72,y:-1}},{is_angle:6.275980720548974,position:{x:-60,y:-1}},{is_angle:6.27921733984846,position:{x:-360,y:-7}},{is_angle:6.27921733984846,position:{x:-45,y:-1}},{is_angle:6.282054203538143,position:{x:-40,y:-1}},{is_angle:.0022439970154280353,position:{x:-36,y:-1}},{is_angle:.004065223539956868,position:{x:-360,y:-11}},{is_angle:.004065223539956868,position:{x:-30,y:-1}},{is_angle:.006819744616321283,position:{x:-360,y:-13}},{is_angle:.009295651789210145,position:{x:-180,y:-7}},{is_angle:.009295651789210145,position:{x:-24,y:-1}},{is_angle:.01282455007079075,position:{x:-45,y:-2}},{is_angle:.016118425105771345,position:{x:-360,y:-17}},{is_angle:.01946580951940147,position:{x:-20,y:-1}},{is_angle:.01946580951940147,position:{x:-360,y:-19}},{position:{x:-109,y:-6},is_angle:.022484098122124225,fingerprint:{pixel_count:2222,compass_size:{x:152,y:44}}},{position:{x:-52,y:-3},is_angle:.022484098122124225,fingerprint:{pixel_count:2222,compass_size:{x:152,y:44}}},{position:{x:-50,y:-3},is_angle:.025336844203404436,fingerprint:{pixel_count:2218,compass_size:{x:152,y:44}}},{is_angle:.028437639900963995,position:{x:-16,y:-1}},{is_angle:.028437639900963995,position:{x:-360,y:-23}},{is_angle:.030942806451796506,position:{x:-15,y:-1}},{is_angle:.030942806451796506,position:{x:-72,y:-5}},{is_angle:.033644872220481466,position:{x:-14,y:-1}},{is_angle:.033644872220481466,position:{x:-180,y:-13}},{is_angle:.036762713312943944,position:{x:-40,y:-3}},{is_angle:.03913718463528415,position:{x:-90,y:-7}},{is_angle:.03913718463528415,position:{x:-360,y:-29}},{position:{x:-12,y:-1},is_angle:.043047285649401704,fingerprint:{pixel_count:2226,compass_size:{x:152,y:45}}},{is_angle:.04612169487808484,position:{x:-360,y:-31}},{is_angle:.04612169487808484,position:{x:-45,y:-4}},{is_angle:.049135816813804994,position:{x:-11,y:-1}},{is_angle:.049135816813804994,position:{x:-120,y:-11}},{position:{x:-32,y:-3},is_angle:.050793379510674086,fingerprint:{pixel_count:2246,compass_size:{x:152,y:45}}},{position:{x:-52,y:-5},is_angle:.050793379510674086,fingerprint:{pixel_count:2246,compass_size:{x:152,y:45}}},{position:{x:-51,y:-5},is_angle:.05418242805628509,fingerprint:{pixel_count:2236,compass_size:{x:152,y:45}}},{is_angle:.0541824280562851,position:{x:-10,y:-1}},{position:{x:-49,y:-5},is_angle:.06011184477684492,fingerprint:{pixel_count:2216,compass_size:{x:152,y:45}}},{position:{x:-48,y:-5},is_angle:.06011184477684492,fingerprint:{pixel_count:2216,compass_size:{x:152,y:45}}},{position:{x:-66,y:-7},is_angle:.06120021607192396,fingerprint:{pixel_count:2210,compass_size:{x:152,y:46}}},{position:{x:-37,y:-4},is_angle:.06120021607192396},{position:{x:-118,y:-13},is_angle:.06355978167504515,fingerprint:{pixel_count:2213,compass_size:{x:152,y:46}}},{position:{x:-71,y:-8},is_angle:.06681750650151265,fingerprint:{pixel_count:2213,compass_size:{x:152,y:46}}},{position:{x:-53,y:-6},is_angle:.06681750650151265,fingerprint:{pixel_count:2213,compass_size:{x:152,y:46}}},{position:{x:-87,y:-10},is_angle:.06681750650151265,fingerprint:{pixel_count:2213,compass_size:{x:152,y:46}}},{is_angle:.06778726432724853,position:{x:-60,y:-7}},{position:{x:-67,y:-8},is_angle:.06778726432724853,fingerprint:{pixel_count:2221,compass_size:{x:152,y:45}}},{is_angle:.07110280723909063,position:{x:-90,y:-11}},{is_angle:.07501593240701028,position:{x:-8,y:-1}},{is_angle:.07501593240701028,position:{x:-180,y:-23}},{is_angle:.07798468675029854,position:{x:-360,y:-47}},{is_angle:.08076307307006993,position:{x:-15,y:-2}},{is_angle:.08319798533779528,position:{x:-360,y:-49}},{is_angle:.08319798533779528,position:{x:-36,y:-5}},{is_angle:.08672878213846916,position:{x:-120,y:-17}},{is_angle:.08672878213846916,position:{x:-7,y:-1}},{is_angle:.08847906508342712,position:{x:-90,y:-13}},{is_angle:.08847906508342712,position:{x:-360,y:-53}},{is_angle:.09157022681688036,position:{x:-20,y:-3}},{is_angle:.09448159524726102,position:{x:-72,y:-11}},{is_angle:.09772266377127742,position:{x:-45,y:-7}},{is_angle:.09772266377127742,position:{x:-120,y:-19}},{is_angle:.10101994882859909,position:{x:-180,y:-29}},{is_angle:.10438955233671153,position:{x:-360,y:-59}},{is_angle:.10438955233671153,position:{x:-6,y:-1}},{position:{x:-59,y:-10},is_angle:.10764851509789589,fingerprint:{pixel_count:2220,compass_size:{x:152,y:46}}},{is_angle:.11043701686887243,position:{x:-180,y:-31}},{is_angle:.11360455052870606,position:{x:-40,y:-7}},{is_angle:.11360455052870606,position:{x:-45,y:-8}},{is_angle:.11620818262927717,position:{x:-72,y:-13}},{is_angle:.11805256845209953,position:{x:-60,y:-11}},{is_angle:.11805256845209953,position:{x:-360,y:-67}},{is_angle:.12106914547700287,position:{x:-90,y:-17}},{is_angle:.12583320951098895,position:{x:-120,y:-23}},{is_angle:.12583320951098895,position:{x:-36,y:-7}},{is_angle:.1281115252998761,position:{x:-360,y:-71}},{is_angle:.13167187808221006,position:{x:-5,y:-1}},{is_angle:.13246663073123396,position:{x:-360,y:-73}},{is_angle:.13246663073123396,position:{x:-180,y:-37}},{position:{x:-24,y:-5},is_angle:.1351706241494949,fingerprint:{pixel_count:2228,compass_size:{x:152,y:46}}},{is_angle:.13870557686398882,position:{x:-90,y:-19}},{is_angle:.13870557686398882,position:{x:-360,y:-77}},{is_angle:.14154224303636026,position:{x:-60,y:-13}},{is_angle:.14505537898837514,position:{x:-360,y:-79}},{is_angle:.14776564203144704,position:{x:-9,y:-2}},{is_angle:.14776564203144704,position:{x:-40,y:-9}},{is_angle:.15094577766079934,position:{x:-180,y:-41}},{is_angle:.15413483144850262,position:{x:-360,y:-83}},{is_angle:.15413483144850262,position:{x:-30,y:-7}},{position:{x:-55,y:-13},is_angle:.1569124085049969,fingerprint:{pixel_count:2225,compass_size:{x:152,y:46}}},{position:{x:-46,y:-11},is_angle:.16013398079883512,fingerprint:{pixel_count:2230,compass_size:{x:152,y:46}}},{position:{x:-62,y:-15},is_angle:.16377805045130295,fingerprint:{pixel_count:2233,compass_size:{x:152,y:46}}},{is_angle:.16377805045130295,position:{x:-45,y:-11}},{is_angle:.16511328099521388,position:{x:-360,y:-89}},{is_angle:.16727275527465815,position:{x:-4,y:-1}},{is_angle:.16727275527465815,position:{x:-360,y:-91}},{is_angle:.17177349740570297,position:{x:-90,y:-23}},{is_angle:.17428540013730048,position:{x:-120,y:-31}},{is_angle:.1772680111925611,position:{x:-180,y:-47}},{is_angle:.1772680111925611,position:{x:-72,y:-19}},{is_angle:.18017773104613977,position:{x:-15,y:-4}},{is_angle:.18489373544647117,position:{x:-360,y:-97}},{is_angle:.18489373544647117,position:{x:-180,y:-49}},{is_angle:.187826060066468,position:{x:-11,y:-3}},{is_angle:.187826060066468,position:{x:-40,y:-11}},{is_angle:.191141304471228,position:{x:-18,y:-5}},{position:{x:-25,y:-7},is_angle:.191141304471228,fingerprint:{pixel_count:2229,compass_size:{x:152,y:48}}},{position:{x:-39,y:-11},is_angle:.1944283677837606,fingerprint:{pixel_count:2230,compass_size:{x:152,y:48}}},{position:{x:-74,y:-21},is_angle:.1944283677837606,fingerprint:{pixel_count:2230,compass_size:{x:152,y:48}}},{is_angle:.1972012863913033,position:{x:-7,y:-2}},{position:{x:-73,y:-21},is_angle:.1972012863913033,fingerprint:{pixel_count:2226,compass_size:{x:152,y:48}}},{position:{x:-38,y:-11},is_angle:.19848839355975686,fingerprint:{pixel_count:2231,compass_size:{x:151,y:49}}},{position:{x:-41,y:-12},is_angle:.20334962455664224,fingerprint:{pixel_count:2224,compass_size:{x:152,y:50}}},{position:{x:-112,y:-33},is_angle:.20334962455664224,fingerprint:{pixel_count:2224,compass_size:{x:152,y:50}}},{position:{x:-27,y:-8},is_angle:.20668911845904528,fingerprint:{pixel_count:2228,compass_size:{x:152,y:50}}},{is_angle:.2066891184590453,position:{x:-10,y:-3}},{position:{x:-56,y:-17},is_angle:.21016786793468611,fingerprint:{pixel_count:2229,compass_size:{x:152,y:50}}},{position:{x:-36,y:-11},is_angle:.212573806052213,fingerprint:{pixel_count:2228,compass_size:{x:151,y:50}}},{position:{x:-13,y:-4},is_angle:.212573806052213,fingerprint:{pixel_count:2228,compass_size:{x:151,y:50}}},{position:{x:-42,y:-13},is_angle:.21797956804272026,fingerprint:{pixel_count:2229,compass_size:{x:152,y:51}}},{position:{x:-61,y:-19},is_angle:.21797956804272026,fingerprint:{pixel_count:2229,compass_size:{x:152,y:51}}},{position:{x:-16,y:-5},is_angle:.22062603135574874,fingerprint:{pixel_count:2223,compass_size:{x:152,y:51}}},{position:{x:-51,y:-16},is_angle:.22062603135574874,fingerprint:{pixel_count:2223,compass_size:{x:152,y:51}}},{position:{x:-19,y:-6},is_angle:.22302027321613363},{position:{x:-107,y:-34},is_angle:.22302027321613363,fingerprint:{pixel_count:2225,compass_size:{x:151,y:51}}},{position:{x:-25,y:-8},is_angle:.22581062110185351,fingerprint:{pixel_count:2230,compass_size:{x:151,y:51}}},{position:{x:-59,y:-19},is_angle:.22581062110185351,fingerprint:{pixel_count:2230,compass_size:{x:151,y:51}}},{position:{x:-37,y:-12},is_angle:.22996089763202637},{position:{x:-49,y:-16},is_angle:.22996089763202637,fingerprint:{pixel_count:2227,compass_size:{x:152,y:51}}},{position:{x:-70,y:-23},is_angle:.2345189680295628,fingerprint:{pixel_count:2226,compass_size:{x:152,y:52}}},{position:{x:-130,y:-43},is_angle:.2345189680295628,fingerprint:{pixel_count:2226,compass_size:{x:152,y:52}}},{is_angle:.2363527041076005,position:{x:-3,y:-1}},{position:{x:-92,y:-31},is_angle:.239748504587879,fingerprint:{pixel_count:2229,compass_size:{x:151,y:52}}},{position:{x:-50,y:-17},is_angle:.24152746179220566,fingerprint:{pixel_count:2232,compass_size:{x:151,y:53}}},{position:{x:-35,y:-12},is_angle:.24152746179220566,fingerprint:{pixel_count:2232,compass_size:{x:151,y:53}}},{position:{x:-26,y:-9},is_angle:.24576901090056094},{position:{x:-43,y:-15},is_angle:.24812108538355854,fingerprint:{pixel_count:2230,compass_size:{x:151,y:53}}},{position:{x:-37,y:-13},is_angle:.25242846497062515,fingerprint:{pixel_count:2226,compass_size:{x:151,y:54}}},{position:{x:-48,y:-17},is_angle:.25242846497062515,fingerprint:{pixel_count:2226,compass_size:{x:151,y:54}}},{is_angle:.2556846123124762,position:{x:-14,y:-5}},{position:{x:-61,y:-22},is_angle:.25874666405918384,fingerprint:{pixel_count:2228,compass_size:{x:151,y:54}}},{is_angle:.2623238879182127,position:{x:-11,y:-4}},{position:{x:-30,y:-11},is_angle:.26679687333796376,fingerprint:{pixel_count:2228,compass_size:{x:149,y:55}}},{position:{x:-46,y:-17},is_angle:.26679687333796376,fingerprint:{pixel_count:2228,compass_size:{x:149,y:55}}},{position:{x:-43,y:-16},is_angle:.26927836196335836,fingerprint:{pixel_count:2222,compass_size:{x:149,y:55}}},{position:{x:-8,y:-3},is_angle:.27277044883670054},{position:{x:-53,y:-20},is_angle:.27277044883670054,fingerprint:{pixel_count:2222,compass_size:{x:151,y:55}}},{position:{x:-50,y:-19},is_angle:.2759087180505406,fingerprint:{pixel_count:2228,compass_size:{x:151,y:55}}},{position:{x:-34,y:-13},is_angle:.2799272562666111,fingerprint:{pixel_count:2231,compass_size:{x:150,y:56}}},{is_angle:.2799272562666111,position:{x:-13,y:-5}},{position:{x:-75,y:-29},is_angle:.2831544187950874,fingerprint:{pixel_count:2225,compass_size:{x:149,y:56}}},{position:{x:-18,y:-7},is_angle:.2831544187950874,fingerprint:{pixel_count:2225,compass_size:{x:149,y:56}}},{position:{x:-87,y:-34},is_angle:.2867401383669863,fingerprint:{pixel_count:2220,compass_size:{x:150,y:56}}},{position:{x:-28,y:-11},is_angle:.2867401383669863,fingerprint:{pixel_count:2220,compass_size:{x:150,y:56}}},{position:{x:-53,y:-21},is_angle:.2882377023505113,fingerprint:{pixel_count:2223,compass_size:{x:149,y:57}}},{is_angle:.29142184789304887,position:{x:-5,y:-2}},{position:{x:-77,y:-31},is_angle:.2939802699982452,fingerprint:{pixel_count:2228,compass_size:{x:148,y:57}}},{position:{x:-42,y:-17},is_angle:.2939802699982452,fingerprint:{pixel_count:2228,compass_size:{x:148,y:57}}},{position:{x:-59,y:-24},is_angle:.29925331140859945,fingerprint:{pixel_count:2227,compass_size:{x:149,y:58}}},{position:{x:-22,y:-9},is_angle:.29925331140859945,fingerprint:{pixel_count:2227,compass_size:{x:149,y:58}}},{position:{x:-73,y:-30},is_angle:.302059883494245,fingerprint:{pixel_count:2222,compass_size:{x:149,y:58}}},{position:{x:-46,y:-19},is_angle:.302059883494245,fingerprint:{pixel_count:2222,compass_size:{x:149,y:58}}},{is_angle:.3050500243552198,position:{x:-12,y:-5}},{position:{x:-69,y:-29},is_angle:.30766930467135306,fingerprint:{pixel_count:2225,compass_size:{x:148,y:58}}},{position:{x:-45,y:-19},is_angle:.3130939009219958,fingerprint:{pixel_count:2239,compass_size:{x:149,y:59}}},{position:{x:-33,y:-14},is_angle:.3130939009219958,fingerprint:{pixel_count:2239,compass_size:{x:149,y:59}}},{position:{x:-159,y:-68},is_angle:.3160780017499869,fingerprint:{pixel_count:2226,compass_size:{x:149,y:59}}},{position:{x:-107,y:-46},is_angle:.3184860819939851,fingerprint:{pixel_count:2227,compass_size:{x:148,y:59}}},{position:{x:-44,y:-19},is_angle:.3184860819939851},{position:{x:-23,y:-10},is_angle:.32168001052045125,fingerprint:{pixel_count:2224,compass_size:{x:148,y:59}}},{position:{x:-16,y:-7},is_angle:.32491466190259105,fingerprint:{pixel_count:2226,compass_size:{x:148,y:59}}},{position:{x:-34,y:-15},is_angle:.3276708195755792,fingerprint:{pixel_count:2226,compass_size:{x:148,y:59}}},{is_angle:.32767081957557914,position:{x:-9,y:-4}},{position:{x:-219,y:-98},is_angle:.332189453606405,fingerprint:{pixel_count:2222,compass_size:{x:148,y:60}}},{position:{x:-69,y:-31},is_angle:.33371877774022124,fingerprint:{pixel_count:2222,compass_size:{x:148,y:61}}},{position:{x:-73,y:-33},is_angle:.33371877774022124,fingerprint:{pixel_count:2222,compass_size:{x:148,y:61}}},{is_angle:.3365236242389718,position:{x:-11,y:-5}},{position:{x:-35,y:-16},is_angle:.3402572234634566,fingerprint:{pixel_count:2227,compass_size:{x:148,y:61}}},{position:{x:-50,y:-23},is_angle:.3402572234634566,fingerprint:{pixel_count:2227,compass_size:{x:148,y:61}}},{position:{x:-41,y:-19},is_angle:.3446963590386535,fingerprint:{pixel_count:2227,compass_size:{x:148,y:62}}},{is_angle:.34773554996099043,position:{x:-15,y:-7}},{position:{x:-17,y:-8},is_angle:.3513707114807335,fingerprint:{pixel_count:2227,compass_size:{x:147,y:62}}},{position:{x:-55,y:-26},is_angle:.35455887667126096,fingerprint:{pixel_count:2230,compass_size:{x:148,y:62}}},{position:{x:-40,y:-19},is_angle:.35455887667126096,fingerprint:{pixel_count:2230,compass_size:{x:148,y:62}}},{position:{x:-44,y:-21},is_angle:.35947074420359737,fingerprint:{pixel_count:2226,compass_size:{x:146,y:63}}},{position:{x:-48,y:-23},is_angle:.35947074420359737,fingerprint:{pixel_count:2226,compass_size:{x:146,y:63}}},{position:{x:-29,y:-14},is_angle:.36278308965951656},{position:{x:-37,y:-18},is_angle:.3661836160958929,fingerprint:{pixel_count:2226,compass_size:{x:146,y:63}}},{position:{x:-43,y:-21},is_angle:.3693617659762989,fingerprint:{pixel_count:2236,compass_size:{x:147,y:63}}},{position:{x:-53,y:-26},is_angle:.3693617659762989,fingerprint:{pixel_count:2236,compass_size:{x:147,y:63}}},{position:{x:-67,y:-33},is_angle:.37116649687027203,fingerprint:{pixel_count:2226,compass_size:{x:146,y:63}}},{position:{x:-97,y:-48},is_angle:.37116649687027203,fingerprint:{pixel_count:2226,compass_size:{x:146,y:63}}},{position:{x:-177,y:-88},is_angle:.37294196456375894,fingerprint:{pixel_count:2219,compass_size:{x:146,y:63}}},{is_angle:.3763181628005282,position:{x:-2,y:-1}},{position:{x:-177,y:-89},is_angle:.37631816280052827,fingerprint:{pixel_count:2198,compass_size:{x:145,y:64}}},{position:{x:-97,y:-49},is_angle:.37818143791955655,fingerprint:{pixel_count:2192,compass_size:{x:145,y:64}}},{position:{x:-67,y:-34},is_angle:.3873620205833877,fingerprint:{pixel_count:2243,compass_size:{x:146,y:65}}},{position:{x:-53,y:-27},is_angle:.3873620205833877,fingerprint:{pixel_count:2243,compass_size:{x:146,y:65}}},{position:{x:-37,y:-19},is_angle:.3889363411589691,fingerprint:{pixel_count:2237,compass_size:{x:145,y:65}}},{position:{x:-29,y:-15},is_angle:.39328370349233605},{position:{x:-48,y:-25},is_angle:.39559997484893905,fingerprint:{pixel_count:2219,compass_size:{x:145,y:66}}},{position:{x:-40,y:-21},is_angle:.3960877177249984,fingerprint:{pixel_count:2226,compass_size:{x:146,y:67}}},{position:{x:-55,y:-29},is_angle:.3993614345833715,fingerprint:{pixel_count:2225,compass_size:{x:145,y:67}}},{position:{x:-17,y:-9},is_angle:.3993614345833715,fingerprint:{pixel_count:2225,compass_size:{x:145,y:67}}},{is_angle:.40203678186750436,position:{x:-15,y:-8}},{position:{x:-41,y:-22},is_angle:.4045120888279852,fingerprint:{pixel_count:2223,compass_size:{x:144,y:67}}},{position:{x:-63,y:-34},is_angle:.40807864512197595,fingerprint:{pixel_count:2220,compass_size:{x:145,y:69}}},{position:{x:-59,y:-32},is_angle:.4112886783098925,fingerprint:{pixel_count:2220,compass_size:{x:145,y:69}}},{is_angle:.4112886783098925,position:{x:-11,y:-6}},{position:{x:-51,y:-28},is_angle:.41363578595238304,fingerprint:{pixel_count:2223,compass_size:{x:144,y:69}}},{position:{x:-47,y:-26},is_angle:.4172975599877268,fingerprint:{pixel_count:2218,compass_size:{x:143,y:69}}},{position:{x:-9,y:-5},is_angle:.42222047758519343,fingerprint:{pixel_count:2220,compass_size:{x:143,y:70}}},{position:{x:-43,y:-24},is_angle:.42185058380021656,fingerprint:{pixel_count:2226,compass_size:{x:143,y:70}}},{position:{x:-91,y:-51},is_angle:.42185058380021656,fingerprint:{pixel_count:2226,compass_size:{x:143,y:70}}},{is_angle:.4250651024125138,position:{x:-16,y:-9}},{position:{x:-30,y:-17},is_angle:.4301868355446799,fingerprint:{pixel_count:2228,compass_size:{x:143,y:71}}},{position:{x:-58,y:-33},is_angle:.4301868355446799,fingerprint:{pixel_count:2228,compass_size:{x:143,y:71}}},{position:{x:-7,y:-4},is_angle:.4327308444035775,fingerprint:{pixel_count:2227,compass_size:{x:142,y:71}}},{position:{x:-33,y:-19},is_angle:.4347257179685506,fingerprint:{pixel_count:2233,compass_size:{x:143,y:72}}},{position:{x:-64,y:-37},is_angle:.4376549546708149,fingerprint:{pixel_count:2229,compass_size:{x:143,y:72}}},{position:{x:-31,y:-18},is_angle:.4376549546708149},{position:{x:-12,y:-7},is_angle:.4420703947155401,fingerprint:{pixel_count:2229,compass_size:{x:142,y:73}}},{position:{x:-29,y:-17},is_angle:.44418626650500337,fingerprint:{pixel_count:2233,compass_size:{x:142,y:73}}},{position:{x:-107,y:-63},is_angle:.44418626650500337,fingerprint:{pixel_count:2233,compass_size:{x:142,y:73}}},{position:{x:-22,y:-13},is_angle:.4463456705405159,fingerprint:{pixel_count:2234,compass_size:{x:143,y:74}}},{position:{x:-42,y:-25},is_angle:.45086902776924903,fingerprint:{pixel_count:2202,compass_size:{x:142,y:74}}},{position:{x:-77,y:-46},is_angle:.45338004013415684,fingerprint:{pixel_count:2216,compass_size:{x:142,y:74}}},{is_angle:.45338004013415684,position:{x:-5,y:-3}},{position:{x:-83,y:-50},is_angle:.45621480801109254,fingerprint:{pixel_count:2232,compass_size:{x:142,y:74}}},{position:{x:-43,y:-26},is_angle:.45621480801109254,fingerprint:{pixel_count:2232,compass_size:{x:142,y:74}}},{position:{x:-23,y:-14},is_angle:.46032597591009883,fingerprint:{pixel_count:2233,compass_size:{x:140,y:75}}},{position:{x:-18,y:-11},is_angle:.46223573179178135,fingerprint:{pixel_count:2226,compass_size:{x:141,y:76}}},{position:{x:-44,y:-27},is_angle:.4656208677858686,fingerprint:{pixel_count:2225,compass_size:{x:141,y:76}}},{position:{x:-73,y:-45},is_angle:.4656208677858686,fingerprint:{pixel_count:2225,compass_size:{x:141,y:76}}},{position:{x:-21,y:-13},is_angle:.4677082835818453},{position:{x:-69,y:-43},is_angle:.4727366638829786,fingerprint:{pixel_count:2225,compass_size:{x:140,y:77}}},{position:{x:-163,y:-102},is_angle:.4746909750476145,fingerprint:{pixel_count:2229,compass_size:{x:141,y:78}}},{position:{x:-43,y:-27},is_angle:.4746909750476145,fingerprint:{pixel_count:2229,compass_size:{x:141,y:78}}},{position:{x:-68,y:-43},is_angle:.48027332556015173,fingerprint:{pixel_count:2227,compass_size:{x:140,y:78}}},{is_angle:.4834032595559921,position:{x:-11,y:-7}},{position:{x:-61,y:-39},is_angle:.48340325955599217,fingerprint:{pixel_count:2231,compass_size:{x:140,y:78}}},{position:{x:-14,y:-9},is_angle:.48576542844577064,fingerprint:{pixel_count:2229,compass_size:{x:139,y:78}}},{position:{x:-65,y:-42},is_angle:.48946060112817064,fingerprint:{pixel_count:2225,compass_size:{x:140,y:80}}},{position:{x:-20,y:-13},is_angle:.4930306508463907},{position:{x:-26,y:-17},is_angle:.49517211751615836,fingerprint:{pixel_count:2224,compass_size:{x:139,y:80}}},{position:{x:-38,y:-25},is_angle:.4985729817508403,fingerprint:{pixel_count:2228,compass_size:{x:139,y:80}}},{position:{x:-71,y:-47},is_angle:.5030242451527991,fingerprint:{pixel_count:2231,compass_size:{x:139,y:82}}},{is_angle:.5037790629601169,position:{x:-3,y:-2}},{position:{x:-70,y:-47},is_angle:.5116019968290701,fingerprint:{pixel_count:2228,compass_size:{x:138,y:82}}},{position:{x:-37,y:-25},is_angle:.5135693475714981,fingerprint:{pixel_count:2228,compass_size:{x:137,y:82}}},{position:{x:-25,y:-17},is_angle:.5154163782007904,fingerprint:{pixel_count:2228,compass_size:{x:138,y:83}}},{position:{x:-19,y:-13},is_angle:.5211145813840162},{position:{x:-61,y:-42},is_angle:.5229430900322947,fingerprint:{pixel_count:2223,compass_size:{x:137,y:84}}},{position:{x:-13,y:-9},is_angle:.5265697242608617,fingerprint:{pixel_count:2221,compass_size:{x:137,y:84}}},{position:{x:-56,y:-39},is_angle:.5288934213772466,fingerprint:{pixel_count:2227,compass_size:{x:137,y:84}}},{is_angle:.5324886822812633,position:{x:-10,y:-7}},{position:{x:-44,y:-31},is_angle:.5346733271760864,fingerprint:{pixel_count:2222,compass_size:{x:136,y:85}}},{position:{x:-24,y:-17},is_angle:.5390438311122179,fingerprint:{pixel_count:2226,compass_size:{x:136,y:86}}},{position:{x:-94,y:-67},is_angle:.5417086671986809,fingerprint:{pixel_count:2224,compass_size:{x:135,y:86}}},{position:{x:-109,y:-78},is_angle:.5435596848308438,fingerprint:{pixel_count:2234,compass_size:{x:136,y:87}}},{position:{x:-39,y:-28},is_angle:.5435596848308438},{position:{x:-61,y:-44},is_angle:.5460230309711794,fingerprint:{pixel_count:2228,compass_size:{x:135,y:87}}},{position:{x:-40,y:-29},is_angle:.5487285087930673,fingerprint:{pixel_count:2228,compass_size:{x:135,y:87}}},{position:{x:-48,y:-35},is_angle:.5524151771196334,fingerprint:{pixel_count:2231,compass_size:{x:135,y:87}}},{is_angle:.554181074218857,position:{x:-15,y:-11}},{position:{x:-61,y:-45},is_angle:.5625124619650247,fingerprint:{pixel_count:2226,compass_size:{x:134,y:89}}},{position:{x:-31,y:-23},is_angle:.5638838544936704,fingerprint:{pixel_count:2231,compass_size:{x:134,y:89}}},{position:{x:-59,y:-44},is_angle:.5683209446903771,fingerprint:{pixel_count:2229,compass_size:{x:134,y:90}}},{is_angle:.5704786437105447,position:{x:-4,y:-3}},{position:{x:-61,y:-46},is_angle:.5744050986801739,fingerprint:{pixel_count:2228,compass_size:{x:133,y:91}}},{position:{x:-33,y:-25},is_angle:.5769021581326015,fingerprint:{pixel_count:2225,compass_size:{x:133,y:91}}},{position:{x:-46,y:-35},is_angle:.5769021581326015,fingerprint:{pixel_count:2225,compass_size:{x:133,y:91}}},{position:{x:-17,y:-13},is_angle:.5797918419061893},{position:{x:-56,y:-43},is_angle:.5822344231405645,fingerprint:{pixel_count:2233,compass_size:{x:132,y:91}}},{position:{x:-35,y:-27},is_angle:.5853897906267634,fingerprint:{pixel_count:2229,compass_size:{x:132,y:91}}},{position:{x:-71,y:-55},is_angle:.5878223645065217,fingerprint:{pixel_count:2222,compass_size:{x:132,y:93}}},{is_angle:.5908316379379732,position:{x:-9,y:-7}},{position:{x:-23,y:-18},is_angle:.5944849472835372,fingerprint:{pixel_count:2231,compass_size:{x:132,y:93}}},{position:{x:-47,y:-37},is_angle:.5972701897487085,fingerprint:{pixel_count:2222,compass_size:{x:132,y:93}}},{position:{x:-24,y:-19},is_angle:.599325148305547,fingerprint:{pixel_count:2224,compass_size:{x:131,y:93}}},{position:{x:-49,y:-39},is_angle:.6023121543060563},{position:{x:-169,y:-135},is_angle:.6071193084149935,fingerprint:{pixel_count:2226,compass_size:{x:130,y:95}}},{position:{x:-86,y:-69},is_angle:.6103134488567588,fingerprint:{pixel_count:2228,compass_size:{x:130,y:95}}},{position:{x:-26,y:-21},is_angle:.6126794693916078,fingerprint:{pixel_count:2230,compass_size:{x:130,y:95}}},{position:{x:-16,y:-13},is_angle:.6170460098574162,fingerprint:{pixel_count:2213,compass_size:{x:130,y:96}}},{position:{x:-65,y:-53},is_angle:.6170460098574162,fingerprint:{pixel_count:2213,compass_size:{x:130,y:96}}},{is_angle:.6201911589294585,position:{x:-11,y:-9}},{position:{x:-45,y:-37},is_angle:.623996551473072,fingerprint:{pixel_count:2233,compass_size:{x:128,y:96}}},{position:{x:-23,y:-19},is_angle:.6275514931576667,fingerprint:{pixel_count:2230,compass_size:{x:129,y:97}}},{position:{x:-47,y:-39},is_angle:.6304249987792545,fingerprint:{pixel_count:2227,compass_size:{x:129,y:97}}},{is_angle:.6309909163691,position:{x:-6,y:-5}},{position:{x:-37,y:-31},is_angle:.6361077438411185,fingerprint:{pixel_count:2233,compass_size:{x:128,y:98}}},{position:{x:-19,y:-16},is_angle:.6394151172071606,fingerprint:{pixel_count:2231,compass_size:{x:128,y:98}}},{position:{x:-13,y:-11},is_angle:.6404945835298737,fingerprint:{pixel_count:2231,compass_size:{x:127,y:98}}},{position:{x:-20,y:-17},is_angle:.6463062349343984},{position:{x:-48,y:-41},is_angle:.6473568244873842,fingerprint:{pixel_count:2228,compass_size:{x:127,y:100}}},{position:{x:-78,y:-67},is_angle:.6562834347249253,fingerprint:{pixel_count:2226,compass_size:{x:126,y:101}}},{position:{x:-51,y:-44},is_angle:.6562834347249253,fingerprint:{pixel_count:2226,compass_size:{x:126,y:101}}},{is_angle:.6596433939031285,position:{x:-15,y:-13}},{position:{x:-47,y:-41},is_angle:.6638896145336367,fingerprint:{pixel_count:2223,compass_size:{x:126,y:102}}},{position:{x:-145,y:-127},is_angle:.665784363077124,fingerprint:{pixel_count:2226,compass_size:{x:125,y:102}}},{position:{x:-33,y:-29},is_angle:.6689332421217901,fingerprint:{pixel_count:2229,compass_size:{x:125,y:102}}},{position:{x:-43,y:-38},is_angle:.6719731339595861,fingerprint:{pixel_count:2223,compass_size:{x:125,y:102}}},{position:{x:-9,y:-8},is_angle:.6749792092981168},{position:{x:-47,y:-42},is_angle:.6775710297786227,fingerprint:{pixel_count:2221,compass_size:{x:125,y:104}}},{position:{x:-49,y:-44},is_angle:.6844536448075573,fingerprint:{pixel_count:2228,compass_size:{x:123,y:104}}},{position:{x:-31,y:-28},is_angle:.687066940678807,fingerprint:{pixel_count:2227,compass_size:{x:123,y:104}}},{is_angle:.6906559476524211,position:{x:-11,y:-10}},{position:{x:-23,y:-21},is_angle:.6937600341201171,fingerprint:{pixel_count:2223,compass_size:{x:123,y:106}}},{position:{x:-12,y:-11},is_angle:.6963038527481578,fingerprint:{pixel_count:2225,compass_size:{x:123,y:106}}},{position:{x:-25,y:-23},is_angle:.6985446215318716,fingerprint:{pixel_count:2231,compass_size:{x:122,y:106}}},{position:{x:-13,y:-12},is_angle:.7016607469957681,fingerprint:{pixel_count:2232,compass_size:{x:122,y:106}}},{position:{x:-41,y:-38},is_angle:.704196902673244,fingerprint:{pixel_count:2223,compass_size:{x:122,y:106}}},{position:{x:-43,y:-40},is_angle:.7073676407868709,fingerprint:{pixel_count:2221,compass_size:{x:122,y:106}}},{position:{x:-76,y:-71},is_angle:.7111904073388888,fingerprint:{pixel_count:2220,compass_size:{x:122,y:108}}},{is_angle:.7154602733107464,position:{x:-16,y:-15}},{position:{x:-17,y:-16},is_angle:.7171041157716658,fingerprint:{pixel_count:2227,compass_size:{x:120,y:108}}},{position:{x:-18,y:-17},is_angle:.7171041157716658,fingerprint:{pixel_count:2227,compass_size:{x:120,y:108}}},{position:{x:-39,y:-37},is_angle:.7201691818769145,fingerprint:{pixel_count:2232,compass_size:{x:120,y:108}}},{position:{x:-21,y:-20},is_angle:.7229377963170137,fingerprint:{pixel_count:2227,compass_size:{x:120,y:108}}},{position:{x:-23,y:-22},is_angle:.7247627792134415,fingerprint:{pixel_count:2231,compass_size:{x:120,y:109}}},{position:{x:-24,y:-23},is_angle:.7277325600460902,fingerprint:{pixel_count:2231,compass_size:{x:120,y:109}}},{position:{x:-53,y:-51},is_angle:.7335853509650809,fingerprint:{pixel_count:2226,compass_size:{x:119,y:110}}},{position:{x:-29,y:-28},is_angle:.7358165075231693},{position:{x:-65,y:-63},is_angle:.738893770181594,fingerprint:{pixel_count:2221,compass_size:{x:119,y:111}}},{position:{x:-37,y:-36},is_angle:.7418147397820395,fingerprint:{pixel_count:2223,compass_size:{x:118,y:110}}},{position:{x:-43,y:-42},is_angle:.7432601010187212,fingerprint:{pixel_count:2221,compass_size:{x:118,y:111}}},{position:{x:-53,y:-52},is_angle:.7460756406592829},{position:{x:-67,y:-66},is_angle:.7493636715866335,fingerprint:{pixel_count:2226,compass_size:{x:117,y:112}}},{position:{x:-96,y:-95},is_angle:.7545378443114411,fingerprint:{pixel_count:2226,compass_size:{x:116,y:112}}},{position:{x:-175,y:-174},is_angle:.757351730501433,fingerprint:{pixel_count:2224,compass_size:{x:116,y:112}}},{is_angle:.7613056437191439,position:{y:-1,x:-1}},{position:{x:-174,y:-175},is_angle:.7638511122005881,fingerprint:{pixel_count:2232,compass_size:{x:116,y:113}}},{position:{x:-95,y:-96},is_angle:.7663447899774094,fingerprint:{pixel_count:2218,compass_size:{x:115,y:113}}},{position:{x:-66,y:-67},is_angle:.7692118750167849,fingerprint:{pixel_count:2220,compass_size:{x:115,y:113}}},{position:{x:-52,y:-53},is_angle:.7722656595619228},{position:{x:-42,y:-43},is_angle:.7788686202468537,fingerprint:{pixel_count:2225,compass_size:{x:115,y:115}}},{position:{x:-36,y:-37},is_angle:.7835355456266317,fingerprint:{pixel_count:2230,compass_size:{x:114,y:115}}},{position:{x:-63,y:-65},is_angle:.7844621706597427,fingerprint:{pixel_count:2227,compass_size:{x:113,y:115}}},{position:{x:-28,y:-29},is_angle:.7844621706597427},{position:{x:-51,y:-53},is_angle:.7876699367192502,fingerprint:{pixel_count:2224,compass_size:{x:113,y:115}}},{position:{x:-23,y:-24},is_angle:.7907353865737619,fingerprint:{pixel_count:2225,compass_size:{x:113,y:115}}},{position:{x:-20,y:-21},is_angle:.7971565450402659,fingerprint:{pixel_count:2223,compass_size:{x:113,y:117}}},{position:{x:-37,y:-39},is_angle:.8003540997828382,fingerprint:{pixel_count:2222,compass_size:{x:111,y:117}}},{position:{x:-17,y:-18},is_angle:.8036452559100599,fingerprint:{pixel_count:2223,compass_size:{x:111,y:117}}},{position:{x:-16,y:-17},is_angle:.8060487040684606,fingerprint:{pixel_count:2222,compass_size:{x:111,y:117}}},{is_angle:.8093125653504399,position:{x:-15,y:-16}},{position:{x:-71,y:-76},is_angle:.8093125653504398,fingerprint:{pixel_count:2227,compass_size:{x:111,y:117}}},{position:{x:-40,y:-43},is_angle:.8110004485243356,fingerprint:{pixel_count:2223,compass_size:{x:111,y:118}}},{position:{x:-38,y:-41},is_angle:.8142949898142147,fingerprint:{pixel_count:2227,compass_size:{x:111,y:118}}},{position:{x:-12,y:-13},is_angle:.8188892518617731,fingerprint:{pixel_count:2223,compass_size:{x:109,y:119}}},{position:{x:-23,y:-25},is_angle:.8219558092087976,fingerprint:{pixel_count:2233,compass_size:{x:109,y:119}}},{position:{x:-11,y:-12},is_angle:.8251124575205888,fingerprint:{pixel_count:2230,compass_size:{x:109,y:119}}},{position:{x:-21,y:-23},is_angle:.8266756245203478,fingerprint:{pixel_count:2231,compass_size:{x:109,y:120}}},{is_angle:.8290157723892609,position:{x:-10,y:-11}},{is_angle:.8290157723892609,position:{x:-109,y:-120}},{is_angle:.832461331673634,position:{x:-163,y:-180}},{is_angle:.8360836490836693,position:{x:-65,y:-72}},{is_angle:.8360836490836693,position:{x:-9,y:-10}},{is_angle:.8407504016179639,position:{x:-323,y:-360}},{position:{x:-33,y:-37},is_angle:.8434172958964171,fingerprint:{pixel_count:2216,compass_size:{x:107,y:121}}},{is_angle:.8495762168607099,position:{x:-319,y:-360}},{is_angle:.850311448980111,position:{x:-317,y:-360}},{position:{x:-57,y:-65},is_angle:.8528977724129718,fingerprint:{pixel_count:2227,compass_size:{x:106,y:122}}},{position:{x:-55,y:-63},is_angle:.8554021041782519,fingerprint:{pixel_count:2230,compass_size:{x:106,y:122}}},{position:{x:-20,y:-23},is_angle:.8571000040191498,fingerprint:{pixel_count:2226,compass_size:{x:105,y:122}}},{is_angle:.8609126936423985,position:{x:-13,y:-15}},{position:{x:-19,y:-22},is_angle:.8660002784617722,fingerprint:{pixel_count:2229,compass_size:{x:104,y:123}}},{position:{x:-43,y:-50},is_angle:.8660002784617722,fingerprint:{pixel_count:2229,compass_size:{x:104,y:123}}},{position:{x:-113,y:-132},is_angle:.8681911371871754,fingerprint:{pixel_count:2229,compass_size:{x:104,y:124}}},{is_angle:.8713534967013742,position:{x:-307,y:-360}},{is_angle:.8738847263846599,position:{x:-17,y:-20}},{is_angle:.8753660430045089,position:{x:-61,y:-72}},{is_angle:.8753660430045089,position:{x:-38,y:-45}},{is_angle:.8784353843309353,position:{x:-101,y:-120}},{is_angle:.8820363259197562,position:{x:-151,y:-180}},{is_angle:.8860577030302463,position:{x:-301,y:-360}},{is_angle:.8860577030302463,position:{x:-5,y:-6}},{is_angle:.8894328747167858,position:{x:-299,y:-360}},{is_angle:.8905781998052128,position:{x:-149,y:-180}},{position:{x:-51,y:-62},is_angle:.8938366345940093,fingerprint:{pixel_count:2230,compass_size:{x:101,y:126}}},{is_angle:.8969803921605662,position:{x:-9,y:-11}},{is_angle:.8997085150688457,position:{x:-49,y:-60}},{is_angle:.8997085150688457,position:{x:-293,y:-360}},{is_angle:.9052424929048555,position:{x:-73,y:-90}},{is_angle:.9071263441264585,position:{x:-97,y:-120}},{is_angle:.9071263441264585,position:{x:-29,y:-36}},{is_angle:.9089119317562376,position:{x:-289,y:-360}},{is_angle:.9118134503051658,position:{x:-4,y:-5}},{is_angle:.9159444322682578,position:{x:-287,y:-360}},{is_angle:.9159444322682578,position:{x:-143,y:-180}},{is_angle:.9168530968725929,position:{x:-19,y:-24}},{is_angle:.9209900055550329,position:{x:-71,y:-90}},{is_angle:.9209900055550329,position:{x:-283,y:-360}},{is_angle:.9254228608811931,position:{x:-47,y:-60}},{is_angle:.9276823456489288,position:{x:-281,y:-360}},{is_angle:.9312165351953289,position:{x:-7,y:-9}},{is_angle:.9312165351953289,position:{x:-31,y:-40}},{is_angle:.93455032429797,position:{x:-139,y:-180}},{is_angle:.9357944067989231,position:{x:-277,y:-360}},{is_angle:.9357944067989231,position:{x:-23,y:-30}},{is_angle:.9390440410495371,position:{x:-55,y:-72}},{is_angle:.9433568031821918,position:{x:-137,y:-180}},{is_angle:.9433568031821918,position:{x:-91,y:-120}},{is_angle:.9468125075533242,position:{x:-34,y:-45}},{position:{x:-64,y:-85},is_angle:.9493698134543757,fingerprint:{pixel_count:2227,compass_size:{x:95,y:131}}},{is_angle:.9508939008246823,position:{x:-3,y:-4}},{is_angle:.9508939008246823,position:{x:-269,y:-360}},{is_angle:.9535510493888788,position:{x:-67,y:-90}},{is_angle:.9571686543957489,position:{x:-89,y:-120}},{is_angle:.9571686543957489,position:{x:-133,y:-180}},{is_angle:.9621928798368122,position:{x:-53,y:-72}},{is_angle:.9651415995914091,position:{x:-11,y:-15}},{position:{x:-46,y:-63},is_angle:.9671735429727523,fingerprint:{pixel_count:2234,compass_size:{x:92,y:132}}},{position:{x:-183,y:-251},is_angle:.9671735429727523,fingerprint:{pixel_count:2234,compass_size:{x:92,y:132}}},{position:{x:-91,y:-125},is_angle:.9671735429727523,fingerprint:{pixel_count:2234,compass_size:{x:92,y:132}}},{position:{x:-8,y:-11},is_angle:.9671735429727523,fingerprint:{pixel_count:2234,compass_size:{x:92,y:132}}},{position:{x:-61,y:-84},is_angle:.9696636567838001,fingerprint:{pixel_count:2231,compass_size:{x:92,y:133}}},{position:{x:-182,y:-251},is_angle:.9696636567838001,fingerprint:{pixel_count:2231,compass_size:{x:92,y:133}}},{position:{x:-181,y:-250},is_angle:.9696636567838001,fingerprint:{pixel_count:2231,compass_size:{x:92,y:133}}},{is_angle:.9750105150537633,position:{x:-13,y:-18}},{is_angle:.9750105150537633,position:{x:-259,y:-360}},{is_angle:.9751889240320787,position:{x:-43,y:-60}},{is_angle:.9771486997038544,position:{x:-257,y:-360}},{is_angle:.9823465465119122,position:{x:-32,y:-45}},{is_angle:.9823465465119122,position:{x:-17,y:-24}},{is_angle:.9845381332245958,position:{x:-127,y:-180}},{is_angle:.9870124663682699,position:{x:-253,y:-360}},{is_angle:.9870124663682699,position:{x:-7,y:-10}},{is_angle:.9920194291319026,position:{x:-251,y:-360}},{is_angle:.9946440743048506,position:{x:-25,y:-36}},{is_angle:.9979463043477849,position:{x:-83,y:-120}},{is_angle:.9979463043477849,position:{x:-31,y:-45}},{is_angle:1.0002369714804467,position:{x:-247,y:-360}},{is_angle:1.0024350626420424,position:{x:-41,y:-60}},{position:{x:-36,y:-53},is_angle:1.0058841298952905,fingerprint:{pixel_count:2233,compass_size:{x:88,y:136}}},{position:{x:-25,y:-37},is_angle:1.0069964975779218,fingerprint:{pixel_count:2229,compass_size:{x:87,y:135}}},{position:{x:-47,y:-70},is_angle:1.0134619808364975,fingerprint:{pixel_count:2227,compass_size:{x:86,y:136}}},{is_angle:1.0159839457334732,position:{x:-2,y:-3}},{is_angle:1.019479970211002,position:{x:-239,y:-360}},{is_angle:1.019479970211002,position:{x:-119,y:-180}},{position:{x:-27,y:-41},is_angle:1.0201196669801065,fingerprint:{pixel_count:2226,compass_size:{x:85,y:135}}},{is_angle:1.0219940008481512,position:{x:-59,y:-90}},{is_angle:1.0219940008481512,position:{x:-47,y:-72}},{is_angle:1.0256581404520175,position:{x:-13,y:-20}},{is_angle:1.0308516680366995,position:{x:-233,y:-360}},{position:{x:-29,y:-45},is_angle:1.033816114076185,fingerprint:{pixel_count:2226,compass_size:{x:84,y:138}}},{is_angle:1.033816114076185,position:{x:-77,y:-120}},{position:{x:-23,y:-36},is_angle:1.0353189728167849,fingerprint:{pixel_count:2229,compass_size:{x:83,y:137}}},{is_angle:1.0386023330269272,position:{x:-7,y:-11}},{position:{x:-43,y:-68},is_angle:1.042122367694778,fingerprint:{pixel_count:2225,compass_size:{x:83,y:139}}},{is_angle:1.0441573042856742,position:{x:-113,y:-180}},{is_angle:1.0471358532475084,position:{x:-5,y:-8}},{is_angle:1.0471358532475084,position:{x:-28,y:-45}},{is_angle:1.0497931259479971,position:{x:-223,y:-360}},{is_angle:1.0537279857468809,position:{x:-37,y:-60}},{is_angle:1.0537279857468809,position:{x:-221,y:-360}},{is_angle:1.0571256020721438,position:{x:-11,y:-18}},{is_angle:1.0620325089011604,position:{x:-73,y:-120}},{is_angle:1.063534098922396,position:{x:-109,y:-180}},{is_angle:1.063534098922396,position:{x:-217,y:-360}},{is_angle:1.0636271599023481,position:{x:-3,y:-5}},{is_angle:1.0686843430887345,position:{x:-43,y:-72}},{is_angle:1.0686843430887345,position:{x:-107,y:-180}},{is_angle:1.071469826821332,position:{x:-71,y:-120}},{is_angle:1.0732241282458583,position:{x:-53,y:-90}},{is_angle:1.0778373330737208,position:{x:-211,y:-360}},{is_angle:1.0778373330737208,position:{x:-7,y:-12}},{is_angle:1.081963542655705,position:{x:-209,y:-360}},{is_angle:1.0853029374286536,position:{x:-26,y:-45}},{position:{x:-23,y:-40},is_angle:1.0853029374286536,fingerprint:{pixel_count:2230,compass_size:{x:77,y:141}}},{is_angle:1.0873602107014542,position:{x:-103,y:-180}},{is_angle:1.0884698471861185,position:{x:-41,y:-72}},{is_angle:1.0919083318429164,position:{x:-17,y:-30}},{is_angle:1.0919083318429164,position:{x:-203,y:-360}},{is_angle:1.0949427606252762,position:{x:-9,y:-16}},{position:{x:-19,y:-34},is_angle:1.1004353486623066,fingerprint:{pixel_count:2224,compass_size:{x:75,y:142}}},{is_angle:1.1004353486623066,position:{x:-5,y:-9}},{position:{x:-21,y:-38},is_angle:1.101424658426017,fingerprint:{pixel_count:2228,compass_size:{x:74,y:142}}},{is_angle:1.1038855526170444,position:{x:-11,y:-20}},{position:{x:-23,y:-42},is_angle:1.1038855526170444,fingerprint:{pixel_count:2227,compass_size:{x:74,y:142}}},{is_angle:1.107269638161383,position:{x:-6,y:-11}},{is_angle:1.107269638161383,position:{x:-49,y:-90}},{position:{x:-13,y:-24},is_angle:1.1100918884487336,fingerprint:{pixel_count:2226,compass_size:{x:74,y:142}}},{is_angle:1.1112304030447606,position:{x:-97,y:-180}},{is_angle:1.1112304030447606,position:{x:-193,y:-360}},{is_angle:1.1167728222946613,position:{x:-8,y:-15}},{is_angle:1.119914526383812,position:{x:-191,y:-360}},{is_angle:1.119914526383812,position:{x:-19,y:-36}},{position:{x:-21,y:-40},is_angle:1.1229684803224698,fingerprint:{pixel_count:2228,compass_size:{x:72,y:144}}},{is_angle:1.1240004283522553,position:{x:-47,y:-90}},{is_angle:1.1297612700669761,position:{x:-187,y:-360}},{is_angle:1.1297612700669761,position:{x:-31,y:-60}},{is_angle:1.1326171452850358,position:{x:-37,y:-72}},{is_angle:1.1356418538011073,position:{x:-23,y:-45}},{is_angle:1.1356418538011073,position:{x:-61,y:-120}},{position:{x:-56,y:-111},is_angle:1.1395316406825675,fingerprint:{pixel_count:2233,compass_size:{x:70,y:144}}},{position:{x:-102,y:-203},is_angle:1.1389876231962175,fingerprint:{pixel_count:2221,compass_size:{x:69,y:144}}},{is_angle:1.14139686206836,position:{x:-1,y:-2}},{position:{x:-82,y:-165},is_angle:1.14139686206836,fingerprint:{pixel_count:2219,compass_size:{x:69,y:144}}},{is_angle:1.1458344193981562,position:{x:-89,y:-180}},{is_angle:1.151946224519395,position:{x:-59,y:-120}},{is_angle:1.151946224519395,position:{x:-22,y:-45}},{is_angle:1.152894297965293,position:{x:-35,y:-72}},{is_angle:1.1549217708082518,position:{x:-29,y:-60}},{is_angle:1.1605164967050143,position:{x:-173,y:-360}},{is_angle:1.1605164967050143,position:{x:-43,y:-90}},{position:{x:-19,y:-40},is_angle:1.1631976502661527,fingerprint:{pixel_count:2230,compass_size:{x:66,y:146}}},{is_angle:1.1642015632718854,position:{x:-17,y:-36}},{position:{x:-23,y:-49},is_angle:1.1642015632718854,fingerprint:{pixel_count:2228,compass_size:{x:65,y:145}}},{is_angle:1.1668716343826298,position:{x:-7,y:-15}},{position:{x:-32,y:-69},is_angle:1.1701520368399638,fingerprint:{pixel_count:2239,compass_size:{x:65,y:146}}},{is_angle:1.1737019291571367,position:{x:-83,y:-180}},{position:{x:-27,y:-59},is_angle:1.1737019291571364,fingerprint:{pixel_count:2232,compass_size:{x:65,y:146}}},{is_angle:1.1787719275942863,position:{x:-5,y:-11}},{is_angle:1.1793738069689346,position:{x:-163,y:-360}},{is_angle:1.1793738069689346,position:{x:-9,y:-20}},{is_angle:1.1826191185425923,position:{x:-161,y:-360}},{is_angle:1.1857451462969117,position:{x:-4,y:-9}},{is_angle:1.1857451462969117,position:{x:-53,y:-120}},{is_angle:1.188818610641417,position:{x:-79,y:-180}},{is_angle:1.1894308528054418,position:{x:-157,y:-360}},{is_angle:1.1949216607035633,position:{x:-13,y:-30}},{is_angle:1.1949216607035633,position:{x:-31,y:-72}},{is_angle:1.197912281602455,position:{x:-77,y:-180}},{is_angle:1.2012647365935543,position:{x:-17,y:-40}},{position:{x:-8,y:-19},is_angle:1.2016893422757207,fingerprint:{pixel_count:2226,compass_size:{x:60,y:148}}},{position:{x:-31,y:-74},is_angle:1.2016893422757207,fingerprint:{pixel_count:2226,compass_size:{x:60,y:148}}},{is_angle:1.2061370881474176,position:{x:-5,y:-12}},{is_angle:1.2089280950084182,position:{x:-149,y:-360}},{is_angle:1.2089280950084182,position:{x:-37,y:-90}},{is_angle:1.2141740989163392,position:{x:-49,y:-120}},{is_angle:1.2190297967514991,position:{x:-73,y:-180}},{is_angle:1.2190297967514991,position:{x:-29,y:-72}},{is_angle:1.2206580205026603,position:{x:-2,y:-5}},{is_angle:1.222829511900847,position:{x:-143,y:-360}},{is_angle:1.2273324438140407,position:{x:-71,y:-180}},{is_angle:1.2273324438140407,position:{x:-47,y:-120}},{is_angle:1.2294273880622,position:{x:-7,y:-18}},{is_angle:1.2325229314133157,position:{x:-139,y:-360}},{is_angle:1.2325229314133157,position:{x:-5,y:-13}},{is_angle:1.2325229314133157,position:{x:-23,y:-60}},{is_angle:1.2360444062799498,position:{x:-137,y:-360}},{is_angle:1.2414312214008505,position:{x:-17,y:-45}},{is_angle:1.2444481983892524,position:{x:-3,y:-8}},{is_angle:1.2444481983892524,position:{x:-67,y:-180}},{is_angle:1.2476952515213902,position:{x:-133,y:-360}},{is_angle:1.2504209832785942,position:{x:-11,y:-30}},{is_angle:1.2504209832785942,position:{x:-131,y:-360}},{is_angle:1.2504209832785942,position:{x:-4,y:-11}},{position:{x:-22,y:-61},is_angle:1.2536099862283792,fingerprint:{pixel_count:2225,compass_size:{x:56,y:149}}},{is_angle:1.2568711959529657,position:{x:-5,y:-14}},{position:{x:-28,y:-79},is_angle:1.2621804839993511,fingerprint:{pixel_count:2225,compass_size:{x:55,y:149}}},{position:{x:-19,y:-54},is_angle:1.2621804839993511,fingerprint:{pixel_count:2225,compass_size:{x:55,y:149}}},{position:{x:-7,y:-20},is_angle:1.26512889086489,fingerprint:{pixel_count:2223,compass_size:{x:55,y:150}}},{is_angle:1.2684770412963675,position:{x:-25,y:-72}},{is_angle:1.2684770412963675,position:{x:-31,y:-90}},{is_angle:1.271302803725886,position:{x:-41,y:-120}},{position:{x:-18,y:-53},is_angle:1.2749552930789272,fingerprint:{pixel_count:2228,compass_size:{x:55,y:150}}},{position:{x:-25,y:-74},is_angle:1.2749552930789272,fingerprint:{pixel_count:2228,compass_size:{x:55,y:150}}},{position:{x:-46,y:-137},is_angle:1.2749552930789272,fingerprint:{pixel_count:2228,compass_size:{x:55,y:150}}},{is_angle:1.2801392661182247,position:{x:-1,y:-3}},{position:{x:-43,y:-130},is_angle:1.2828750895337278,fingerprint:{pixel_count:2226,compass_size:{x:54,y:151}}},{position:{x:-23,y:-70},is_angle:1.2828750895337278,fingerprint:{pixel_count:2226,compass_size:{x:54,y:151}}},{position:{x:-16,y:-49},is_angle:1.2860743073557446,fingerprint:{pixel_count:2232,compass_size:{x:54,y:151}}},{position:{x:-12,y:-37},is_angle:1.2884868398420601},{position:{x:-19,y:-59},is_angle:1.2884868398420601,fingerprint:{pixel_count:2228,compass_size:{x:54,y:150}}},{position:{x:-8,y:-25},is_angle:1.2937189446458544,fingerprint:{pixel_count:2226,compass_size:{x:53,y:151}}},{position:{x:-34,y:-107},is_angle:1.2937189446458544,fingerprint:{pixel_count:2226,compass_size:{x:53,y:151}}},{position:{x:-6,y:-19},is_angle:1.2969584881102407},{position:{x:-16,y:-51},is_angle:1.2969584881102407,fingerprint:{pixel_count:2225,compass_size:{x:53,y:151}}},{position:{x:-19,y:-61},is_angle:1.2999242324478026,fingerprint:{pixel_count:2229,compass_size:{x:53,y:151}}},{position:{x:-13,y:-42},is_angle:1.2999242324478026,fingerprint:{pixel_count:2229,compass_size:{x:53,y:151}}},{position:{x:-4,y:-13},is_angle:1.3028094553973801,fingerprint:{pixel_count:2223,compass_size:{x:53,y:150}}},{position:{x:-11,y:-36},is_angle:1.3028094553973801,fingerprint:{pixel_count:2223,compass_size:{x:53,y:150}}},{position:{x:-17,y:-56},is_angle:1.3063455153111156,fingerprint:{pixel_count:2220,compass_size:{x:53,y:151}}},{is_angle:1.3088610650094514,position:{x:-3,y:-10}},{position:{x:-17,y:-57},is_angle:1.3088610650094514,fingerprint:{pixel_count:2230,compass_size:{x:53,y:151}}},{position:{x:-8,y:-27},is_angle:1.3135559037647693,fingerprint:{pixel_count:2225,compass_size:{x:52,y:152}}},{position:{x:-33,y:-112},is_angle:1.3135559037647693,fingerprint:{pixel_count:2225,compass_size:{x:52,y:152}}},{position:{x:-12,y:-41},is_angle:1.3165129723753712,fingerprint:{pixel_count:2221,compass_size:{x:52,y:151}}},{position:{x:-11,y:-38},is_angle:1.3165129723753712,fingerprint:{pixel_count:2221,compass_size:{x:52,y:151}}},{position:{x:-21,y:-73},is_angle:1.3203507617319166,fingerprint:{pixel_count:2222,compass_size:{x:52,y:151}}},{is_angle:1.3203507617319166,position:{x:-2,y:-7}},{position:{x:-13,y:-46},is_angle:1.3234421964921403,fingerprint:{pixel_count:2226,compass_size:{x:52,y:151}}},{position:{x:-12,y:-43},is_angle:1.327733855015365,fingerprint:{pixel_count:2223,compass_size:{x:51,y:152}}},{position:{x:-8,y:-29},is_angle:1.330867441979403,fingerprint:{pixel_count:2226,compass_size:{x:51,y:151}}},{is_angle:1.3339472594276074,position:{x:-3,y:-11}},{position:{x:-7,y:-26},is_angle:1.3356549207128081,fingerprint:{pixel_count:2224,compass_size:{x:50,y:152}}},{position:{x:-23,y:-86},is_angle:1.3356549207128081,fingerprint:{pixel_count:2224,compass_size:{x:50,y:152}}},{position:{x:-13,y:-49},is_angle:1.3389508847334173,fingerprint:{pixel_count:2224,compass_size:{x:50,y:152}}},{position:{x:-11,y:-42},is_angle:1.3419032624489853,fingerprint:{pixel_count:2226,compass_size:{x:50,y:151}}},{is_angle:1.3419032624489853,position:{x:-31,y:-120}},{position:{x:-10,y:-39},is_angle:1.3461990236144121,fingerprint:{pixel_count:2225,compass_size:{x:49,y:151}}},{position:{x:-14,y:-55},is_angle:1.3461990236144121,fingerprint:{pixel_count:2225,compass_size:{x:49,y:151}}},{position:{x:-26,y:-103},is_angle:1.3492405823384066,fingerprint:{pixel_count:2225,compass_size:{x:49,y:152}}},{is_angle:1.3524213760583823,position:{x:-1,y:-4}},{position:{x:-19,y:-77},is_angle:1.3524213760583823,fingerprint:{pixel_count:2224,compass_size:{x:49,y:152}}},{position:{x:-10,y:-41},is_angle:1.356861572956513,fingerprint:{pixel_count:2223,compass_size:{x:49,y:152}}},{position:{x:-13,y:-54},is_angle:1.3601123650156552,fingerprint:{pixel_count:2225,compass_size:{x:48,y:153}}},{position:{x:-5,y:-21},is_angle:1.3633235111935544},{position:{x:-25,y:-106},is_angle:1.3633235111935544,fingerprint:{pixel_count:2220,compass_size:{x:48,y:153}}},{position:{x:-7,y:-30},is_angle:1.366428879329574,fingerprint:{pixel_count:2222,compass_size:{x:48,y:153}}},{position:{x:-3,y:-13},is_angle:1.366428879329574,fingerprint:{pixel_count:2222,compass_size:{x:48,y:153}}},{is_angle:1.3698039307456003,position:{x:-41,y:-180}},{is_angle:1.3739079244844206,position:{x:-9,y:-40}},{is_angle:1.3767970384665582,position:{x:-2,y:-9}},{position:{x:-9,y:-41},is_angle:1.3767970384665582,fingerprint:{pixel_count:2231,compass_size:{x:47,y:153}}},{position:{x:-8,y:-37},is_angle:1.379550772699225,fingerprint:{pixel_count:2229,compass_size:{x:47,y:153}}},{position:{x:-13,y:-61},is_angle:1.3830302920994964,fingerprint:{pixel_count:2228,compass_size:{x:47,y:153}}},{position:{x:-4,y:-19},is_angle:1.385993602769604},{position:{x:-16,y:-77},is_angle:1.385993602769604,fingerprint:{pixel_count:2227,compass_size:{x:47,y:153}}},{position:{x:-23,y:-111},is_angle:1.385993602769604,fingerprint:{pixel_count:2227,compass_size:{x:47,y:153}}},{position:{x:-92,y:-445},is_angle:1.388843673442277,fingerprint:{pixel_count:2221,compass_size:{x:47,y:153}}},{position:{x:-8,y:-39},is_angle:1.388843673442277,fingerprint:{pixel_count:2221,compass_size:{x:47,y:153}}},{position:{x:-91,y:-445},is_angle:1.388843673442277,fingerprint:{pixel_count:2221,compass_size:{x:47,y:153}}},{position:{x:-18,y:-89},is_angle:1.3935162189968953,fingerprint:{pixel_count:2215,compass_size:{x:46,y:153}}},{position:{x:-45,y:-223},is_angle:1.3935162189968953,fingerprint:{pixel_count:2215,compass_size:{x:46,y:153}}},{is_angle:1.3935162189968953,position:{x:-1,y:-5}},{position:{x:-88,y:-445},is_angle:1.3968645144605032,fingerprint:{pixel_count:2216,compass_size:{x:46,y:153}}},{position:{x:-15,y:-76},is_angle:1.3968645144605032,fingerprint:{pixel_count:2216,compass_size:{x:46,y:153}}},{position:{x:-8,y:-41},is_angle:1.4008009317617796,fingerprint:{pixel_count:2240,compass_size:{x:46,y:153}}},{position:{x:-11,y:-57},is_angle:1.4008009317617796,fingerprint:{pixel_count:2240,compass_size:{x:46,y:153}}},{position:{x:-4,y:-21},is_angle:1.4037489761586897},{position:{x:-13,y:-69},is_angle:1.4037489761586897,fingerprint:{pixel_count:2246,compass_size:{x:46,y:153}}},{position:{x:-8,y:-43},is_angle:1.407433343725517,fingerprint:{pixel_count:2233,compass_size:{x:45,y:153}}},{position:{x:-16,y:-87},is_angle:1.407433343725517,fingerprint:{pixel_count:2233,compass_size:{x:45,y:153}}},{position:{x:-2,y:-11},is_angle:1.4106372927593362},{position:{x:-16,y:-89},is_angle:1.4129236537050773,fingerprint:{pixel_count:2216,compass_size:{x:45,y:153}}},{position:{x:-8,y:-45},is_angle:1.4129236537050773,fingerprint:{pixel_count:2216,compass_size:{x:45,y:153}}},{position:{x:-4,y:-23},is_angle:1.4165531642354472,fingerprint:{pixel_count:2238,compass_size:{x:44,y:153}}},{position:{x:-8,y:-47},is_angle:1.4192017564260226,fingerprint:{pixel_count:2232,compass_size:{x:44,y:153}}},{position:{x:-15,y:-89},is_angle:1.4192017564260226,fingerprint:{pixel_count:2232,compass_size:{x:44,y:153}}},{is_angle:1.423167203576703,position:{x:-1,y:-6}},{position:{x:-15,y:-91},is_angle:1.423167203576703,fingerprint:{pixel_count:2224,compass_size:{x:43,y:153}}},{position:{x:-8,y:-49},is_angle:1.4260278855569632,fingerprint:{pixel_count:2227,compass_size:{x:43,y:153}}},{position:{x:-4,y:-25},is_angle:1.4294041762246086,fingerprint:{pixel_count:2220,compass_size:{x:43,y:153}}},{position:{x:-8,y:-51},is_angle:1.4294041762246086,fingerprint:{pixel_count:2220,compass_size:{x:43,y:153}}},{position:{x:-31,y:-200},is_angle:1.4330213655149087,fingerprint:{pixel_count:2225,compass_size:{x:43,y:153}}},{position:{x:-2,y:-13},is_angle:1.4330213655149087},{position:{x:-8,y:-53},is_angle:1.43617171174206,fingerprint:{pixel_count:2233,compass_size:{x:43,y:153}}},{position:{x:-3,y:-20},is_angle:1.43617171174206,fingerprint:{pixel_count:2233,compass_size:{x:43,y:153}}},{position:{x:-10,y:-67},is_angle:1.43617171174206,fingerprint:{pixel_count:2233,compass_size:{x:43,y:153}}},{position:{x:-4,y:-27},is_angle:1.4411629343141976,fingerprint:{pixel_count:2232,compass_size:{x:42,y:153}}},{position:{x:-29,y:-200},is_angle:1.4411629343141976,fingerprint:{pixel_count:2232,compass_size:{x:42,y:153}}},{position:{x:-29,y:-201},is_angle:1.4434602646675634,fingerprint:{pixel_count:2223,compass_size:{x:42,y:153}}},{is_angle:1.4434602646675634,position:{x:-1,y:-7}},{position:{x:-28,y:-201},is_angle:1.4461217305269698,fingerprint:{pixel_count:2218,compass_size:{x:42,y:153}}},{position:{x:-4,y:-29},is_angle:1.4461217305269698,fingerprint:{pixel_count:2218,compass_size:{x:42,y:153}}},{position:{x:-9,y:-67},is_angle:1.449748361826381,fingerprint:{pixel_count:2222,compass_size:{x:42,y:153}}},{position:{x:-2,y:-15},is_angle:1.449748361826381},{position:{x:-8,y:-61},is_angle:1.4531000029456556,fingerprint:{pixel_count:2227,compass_size:{x:42,y:153}}},{position:{x:-4,y:-31},is_angle:1.4531000029456556,fingerprint:{pixel_count:2227,compass_size:{x:42,y:153}}},{is_angle:1.4598612277116998,position:{x:-1,y:-8}},{position:{x:-5,y:-41},is_angle:1.4598612277116998,fingerprint:{pixel_count:2230,compass_size:{x:42,y:153}}},{position:{x:-5,y:-42},is_angle:1.4624513699174861,fingerprint:{pixel_count:2229,compass_size:{x:42,y:153}}},{position:{x:-5,y:-43},is_angle:1.4654490128608173,fingerprint:{pixel_count:2225,compass_size:{x:42,y:153}}},{position:{x:-5,y:-44},is_angle:1.4654490128608173},{position:{x:-12,y:-109},is_angle:1.4683403206460444,fingerprint:{pixel_count:2221,compass_size:{x:42,y:153}}},{position:{x:-3,y:-28},is_angle:1.4712261438486787,fingerprint:{pixel_count:2217,compass_size:{x:42,y:153}}},{position:{x:-2,y:-19},is_angle:1.4742904756141317,fingerprint:{pixel_count:2219,compass_size:{x:42,y:153}}},{position:{x:-3,y:-29},is_angle:1.4742904756141317,fingerprint:{pixel_count:2219,compass_size:{x:42,y:153}}},{is_angle:1.478622403750558,position:{x:-1,y:-10}},{position:{x:-4,y:-41},is_angle:1.4816864079289012,fingerprint:{pixel_count:2230,compass_size:{x:42,y:153}}},{position:{x:-2,y:-21},is_angle:1.4816864079289012,fingerprint:{pixel_count:2230,compass_size:{x:42,y:153}}},{position:{x:-4,y:-43},is_angle:1.4833895849472354,fingerprint:{pixel_count:2239,compass_size:{x:42,y:153}}},{is_angle:1.4833895849472354,position:{x:-1,y:-11}},{position:{x:-3,y:-34},is_angle:1.48639005414038,fingerprint:{pixel_count:2217,compass_size:{x:42,y:153}}},{position:{x:-3,y:-35},is_angle:1.4897008735920394,fingerprint:{pixel_count:2230,compass_size:{x:43,y:153}}},{position:{x:-5,y:-61},is_angle:1.4912430282815758,fingerprint:{pixel_count:2222,compass_size:{x:43,y:153}}},{position:{x:-3,y:-37},is_angle:1.4912430282815758},{position:{x:-5,y:-63},is_angle:1.4912430282815758,fingerprint:{pixel_count:2222,compass_size:{x:43,y:153}}},{position:{x:-9,y:-116},is_angle:1.4941133080618298,fingerprint:{pixel_count:2221,compass_size:{x:43,y:153}}},{position:{x:-4,y:-53},is_angle:1.4941133080618298,fingerprint:{pixel_count:2221,compass_size:{x:43,y:153}}},{position:{x:-7,y:-97},is_angle:1.4978023852608178,fingerprint:{pixel_count:2226,compass_size:{x:43,y:153}}},{is_angle:1.4978023852608178,position:{x:-1,y:-14}},{position:{x:-2,y:-29},is_angle:1.5005664151239895,fingerprint:{pixel_count:2231,compass_size:{x:43,y:153}}},{position:{x:-1,y:-15},is_angle:1.5005664151239895,fingerprint:{pixel_count:2231,compass_size:{x:43,y:153}}},{position:{x:-2,y:-31},is_angle:1.5039711467350685,fingerprint:{pixel_count:2234,compass_size:{x:43,y:153}}},{is_angle:1.507354498855019,position:{x:-1,y:-16}},{position:{x:-3,y:-50},is_angle:1.507354498855019,fingerprint:{pixel_count:2230,compass_size:{x:43,y:153}}},{position:{x:-2,y:-35},is_angle:1.5088307549711961,fingerprint:{pixel_count:2225,compass_size:{x:44,y:153}}},{position:{x:-4,y:-73},is_angle:1.5120593117473606,fingerprint:{pixel_count:2227,compass_size:{x:44,y:153}}},{position:{x:-1,y:-19},is_angle:1.5120593117473606},{position:{x:-3,y:-61},is_angle:1.5148053923186409,fingerprint:{pixel_count:2236,compass_size:{x:44,y:153}}},{position:{x:-1,y:-21},is_angle:1.5148053923186409,fingerprint:{pixel_count:2236,compass_size:{x:44,y:153}}},{position:{x:-5,y:-106},is_angle:1.5148053923186409,fingerprint:{pixel_count:2236,compass_size:{x:44,y:153}}},{position:{x:-30,y:-637},is_angle:1.5148053923186409,fingerprint:{pixel_count:2236,compass_size:{x:44,y:153}}},{position:{x:-3,y:-64},is_angle:1.5169930195858023,fingerprint:{pixel_count:2223,compass_size:{x:43,y:153}}},{position:{x:-29,y:-635},is_angle:1.5169930195858023,fingerprint:{pixel_count:2223,compass_size:{x:43,y:153}}},{position:{x:-29,y:-636},is_angle:1.5169930195858023,fingerprint:{pixel_count:2223,compass_size:{x:43,y:153}}},{position:{x:-14,y:-317},is_angle:1.5169930195858023,fingerprint:{pixel_count:2223,compass_size:{x:43,y:153}}},{position:{x:-1,y:-24},is_angle:1.5201072220268261},{position:{x:-2,y:-51},is_angle:1.5201072220268261,fingerprint:{pixel_count:2228,compass_size:{x:43,y:153}}},{position:{x:-2,y:-55},is_angle:1.523562704505574,fingerprint:{pixel_count:2230,compass_size:{x:43,y:153}}},{position:{x:-1,y:-29},is_angle:1.5259210031686887,fingerprint:{pixel_count:2224,compass_size:{x:43,y:153}}},{position:{x:-1,y:-31},is_angle:1.5259210031686887,fingerprint:{pixel_count:2224,compass_size:{x:43,y:153}}},{position:{x:-1,y:-32},is_angle:1.5295170121913857},{position:{x:-1,y:-35},is_angle:1.5295170121913857,fingerprint:{pixel_count:2226,compass_size:{x:43,y:153}}},{position:{x:-1,y:-39},is_angle:1.5324795867429588,fingerprint:{pixel_count:2224,compass_size:{x:43,y:153}}},{position:{x:-5,y:-218},is_angle:1.5356994712207868,fingerprint:{pixel_count:2221,compass_size:{x:43,y:153}}},{position:{x:-3,y:-131},is_angle:1.5356994712207868,fingerprint:{pixel_count:2221,compass_size:{x:43,y:153}}},{is_angle:1.53814814553406,position:{x:-7,y:-360}},{is_angle:1.53814814553406,position:{x:-1,y:-60}},{is_angle:1.541289325312317,position:{x:-1,y:-72}},{is_angle:1.5446730192289082,position:{x:-1,y:-90}},{is_angle:1.5446730192289082,position:{x:-1,y:-120}},{is_angle:1.5475795300848079,position:{x:-1,y:-180}},{is_angle:1.5499902772722416,position:{x:-1,y:-360}},{is_angle:1.5499902772722416,position:{x:0,y:-1}},{is_angle:1.5551361099073944,position:{x:1,y:-360}},{is_angle:1.558782339529292,position:{x:1,y:-180}},{is_angle:1.5616735586431643,position:{x:1,y:-120}},{is_angle:1.5616735586431643,position:{x:1,y:-90}},{is_angle:1.5635583427365287,position:{x:1,y:-72}},{is_angle:1.5667540669855418,position:{x:1,y:-60}},{is_angle:1.5667540669855418,position:{x:7,y:-360}},{is_angle:1.5695858340060358,position:{x:1,y:-45}},{is_angle:1.5729385151621473,position:{x:1,y:-40}},{position:{x:1,y:-36},is_angle:1.5748855801448731,fingerprint:{pixel_count:2219,compass_size:{x:44,y:153}}},{is_angle:1.5748855801448731,position:{x:11,y:-360}},{is_angle:1.5777021727920386,position:{x:1,y:-30}},{is_angle:1.5801772358123658,position:{x:13,y:-360}},{position:{x:3,y:-79},is_angle:1.5801772358123658,fingerprint:{pixel_count:2217,compass_size:{x:44,y:153}}},{position:{x:1,y:-25},is_angle:1.5836887166359446,fingerprint:{pixel_count:2221,compass_size:{x:44,y:153}}},{position:{x:3,y:-71},is_angle:1.5836887166359446,fingerprint:{pixel_count:2221,compass_size:{x:44,y:153}}},{is_angle:1.5869806888274303,position:{x:2,y:-45}},{is_angle:1.5903637045742376,position:{x:17,y:-360}},{is_angle:1.5903637045742376,position:{x:1,y:-20}},{is_angle:1.5933694080452223,position:{x:19,y:-360}},{position:{x:1,y:-18},is_angle:1.596209426418219,fingerprint:{pixel_count:2219,compass_size:{x:44,y:153}}},{is_angle:1.5962094264182192,position:{x:7,y:-120}},{is_angle:1.5993102729311932,position:{x:11,y:-180}},{is_angle:1.5993102729311932,position:{x:1,y:-16}},{is_angle:1.6018842621606941,position:{x:23,y:-360}},{is_angle:1.6045714994277156,position:{x:1,y:-15}},{is_angle:1.6045714994277156,position:{x:5,y:-72}},{is_angle:1.60767429466443,position:{x:1,y:-14}},{is_angle:1.60767429466443,position:{x:13,y:-180}},{is_angle:1.6100481069619708,position:{x:3,y:-40}},{is_angle:1.6100481069619708,position:{x:7,y:-90}},{is_angle:1.6139854043415331,position:{x:29,y:-360}},{is_angle:1.617053536364986,position:{x:1,y:-12}},{is_angle:1.620044183083767,position:{x:31,y:-360}},{is_angle:1.620044183083767,position:{x:4,y:-45}},{is_angle:1.6216943941432982,position:{x:1,y:-11}},{is_angle:1.6216943941432982,position:{x:11,y:-120}},{is_angle:1.6251295764991185,position:{x:17,y:-180}},{is_angle:1.6251295764991185,position:{x:7,y:-72}},{is_angle:1.631072186681546,position:{x:1,y:-10}},{is_angle:1.6323047760945033,position:{x:37,y:-360}},{is_angle:1.6323047760945033,position:{x:19,y:-180}},{is_angle:1.6346508188179485,position:{x:13,y:-120}},{is_angle:1.637907253140693,position:{x:1,y:-9}},{is_angle:1.638947483065362,position:{x:41,y:-360}},{is_angle:1.638947483065362,position:{x:7,y:-60}},{is_angle:1.6422736092872117,position:{x:43,y:-360}},{is_angle:1.6461981962193541,position:{x:11,y:-90}},{is_angle:1.6461981962193541,position:{x:1,y:-8}},{position:{x:8,y:-63},is_angle:1.649186186067709,fingerprint:{pixel_count:2213,compass_size:{x:45,y:153}}},{position:{x:4,y:-31},is_angle:1.6519495250892862,fingerprint:{pixel_count:2214,compass_size:{x:45,y:153}}},{position:{x:8,y:-61},is_angle:1.6519495250892862,fingerprint:{pixel_count:2214,compass_size:{x:45,y:153}}},{is_angle:1.6543777738729888,position:{x:2,y:-15}},{is_angle:1.6543777738729888,position:{x:49,y:-360}},{is_angle:1.6579059860240213,position:{x:5,y:-36}},{is_angle:1.659749614415289,position:{x:17,y:-120}},{is_angle:1.659749614415289,position:{x:1,y:-7}},{is_angle:1.659749614415289,position:{x:13,y:-90}},{is_angle:1.662889400401534,position:{x:53,y:-360}},{is_angle:1.665759111857644,position:{x:3,y:-20}},{is_angle:1.6689925194391089,position:{x:11,y:-72}},{is_angle:1.6689925194391089,position:{x:7,y:-45}},{is_angle:1.6723035546148846,position:{x:19,y:-120}},{is_angle:1.6756761315544977,position:{x:29,y:-180}},{is_angle:1.6756761315544977,position:{x:59,y:-360}},{is_angle:1.6789382852846197,position:{x:1,y:-6}},{is_angle:1.6817173686291014,position:{x:61,y:-360}},{position:{x:5,y:-29},is_angle:1.6848850095169021,fingerprint:{pixel_count:2223,compass_size:{x:46,y:153}}},{is_angle:1.6848850095169021,position:{x:7,y:-40}},{is_angle:1.6875202590865053,position:{x:8,y:-45}},{is_angle:1.6893782307877656,position:{x:13,y:-72}},{is_angle:1.6893782307877656,position:{x:11,y:-60}},{is_angle:1.6923859598768045,position:{x:67,y:-360}},{is_angle:1.6971233106788646,position:{x:17,y:-90}},{is_angle:1.6994301411459565,position:{x:23,y:-120}},{is_angle:1.6994301411459565,position:{x:7,y:-36}},{is_angle:1.7029847047718205,position:{x:71,y:-360}},{is_angle:1.703927219169426,position:{x:1,y:-5}},{is_angle:1.703927219169426,position:{x:73,y:-360}},{is_angle:1.7066593157666878,position:{x:37,y:-180}},{is_angle:1.7102094667366279,position:{x:5,y:-24}},{is_angle:1.713047478337147,position:{x:19,y:-90}},{position:{x:25,y:-117},is_angle:1.713047478337147,fingerprint:{pixel_count:2224,compass_size:{x:46,y:153}}},{is_angle:1.7165134733835912,position:{x:13,y:-60}},{is_angle:1.7192597810888808,position:{x:79,y:-360}},{is_angle:1.7192597810888808,position:{x:2,y:-9}},{is_angle:1.721742104455696,position:{x:9,y:-40}},{is_angle:1.7256438472431122,position:{x:41,y:-180}},{is_angle:1.7256438472431122,position:{x:83,y:-360}},{position:{x:7,y:-30},is_angle:1.7284327160005541,fingerprint:{pixel_count:2226,compass_size:{x:46,y:153}}},{is_angle:1.7309303075937317,position:{x:17,y:-72}},{is_angle:1.7345743772461997,position:{x:43,y:-180}},{is_angle:1.7345743772461997,position:{x:29,y:-120}},{is_angle:1.7366667589327935,position:{x:11,y:-45}},{is_angle:1.738896938853334,position:{x:89,y:-360}},{is_angle:1.738896938853334,position:{x:1,y:-4}},{is_angle:1.7425698242005996,position:{x:91,y:-360}},{is_angle:1.7450817269321968,position:{x:23,y:-90}},{is_angle:1.7488120100724627,position:{x:31,y:-120}},{position:{x:19,y:-73},is_angle:1.7488120100724625,fingerprint:{pixel_count:2224,compass_size:{x:47,y:153}}},{position:{x:16,y:-61},is_angle:1.750974057841036,fingerprint:{pixel_count:2225,compass_size:{x:47,y:152}}},{position:{x:23,y:-87},is_angle:1.750974057841036,fingerprint:{pixel_count:2225,compass_size:{x:47,y:152}}},{is_angle:1.755690062241368,position:{x:4,y:-15}},{is_angle:1.755690062241368,position:{x:97,y:-360}},{is_angle:1.7586223868613646,position:{x:49,y:-180}},{is_angle:1.7586223868613646,position:{x:3,y:-11}},{is_angle:1.7626479096648378,position:{x:11,y:-40}},{is_angle:1.7652246945786574,position:{x:5,y:-18}},{is_angle:1.7652246945786574,position:{x:101,y:-360}},{is_angle:1.7679976131861999,position:{x:17,y:-60}},{is_angle:1.7692847203546536,position:{x:2,y:-7}},{is_angle:1.7692847203546536,position:{x:103,y:-360}},{is_angle:1.7692847203546536,position:{x:13,y:-45}},{is_angle:1.774145951351539,position:{x:7,y:-24}},{is_angle:1.7774854452539421,position:{x:53,y:-180}},{is_angle:1.780964194729583,position:{x:107,y:-360}},{is_angle:1.780964194729583,position:{x:3,y:-10}},{is_angle:1.7833701328471094,position:{x:109,y:-360}},{is_angle:1.788775894837617,position:{x:11,y:-36}},{is_angle:1.788775894837617,position:{x:37,y:-120}},{is_angle:1.7914223581506457,position:{x:14,y:-45}},{is_angle:1.7938166000110307,position:{x:113,y:-360}},{is_angle:1.7966069478967506,position:{x:19,y:-60}},{is_angle:1.7966069478967506,position:{x:23,y:-72}},{position:{x:19,y:-59},is_angle:1.800757224426923,fingerprint:{pixel_count:2227,compass_size:{x:51,y:152}}},{is_angle:1.80531529482446,position:{x:13,y:-40}},{is_angle:1.80531529482446,position:{x:59,y:-180}},{is_angle:1.807149030902497,position:{x:119,y:-360}},{is_angle:1.8105448313827754,position:{x:1,y:-3}},{is_angle:1.8105448313827754,position:{x:121,y:-360}},{is_angle:1.8123237885871026,position:{x:61,y:-180}},{is_angle:1.8165653376954578,position:{x:41,y:-120}},{position:{x:11,y:-32},is_angle:1.8165653376954578,fingerprint:{pixel_count:2219,compass_size:{x:53,y:151}}},{position:{x:9,y:-26},is_angle:1.8189174121784555,fingerprint:{pixel_count:2230,compass_size:{x:53,y:151}}},{position:{x:39,y:-112},is_angle:1.823224791765522,fingerprint:{pixel_count:2226,compass_size:{x:54,y:151}}},{position:{x:7,y:-20},is_angle:1.823224791765522,fingerprint:{pixel_count:2226,compass_size:{x:54,y:151}}},{position:{x:19,y:-54},is_angle:1.8264809391073729,fingerprint:{pixel_count:2229,compass_size:{x:54,y:151}}},{position:{x:23,y:-65},is_angle:1.8264809391073729,fingerprint:{pixel_count:2229,compass_size:{x:54,y:151}}},{is_angle:1.8295429908540803,position:{x:5,y:-14}},{position:{x:22,y:-61},is_angle:1.8331202147131094,fingerprint:{pixel_count:2230,compass_size:{x:54,y:151}}},{is_angle:1.83759320013286,position:{x:4,y:-11}},{position:{x:11,y:-30},is_angle:1.83759320013286,fingerprint:{pixel_count:2228,compass_size:{x:55,y:149}}},{position:{x:17,y:-46},is_angle:1.8400746887582549,fingerprint:{pixel_count:2222,compass_size:{x:55,y:149}}},{position:{x:16,y:-43},is_angle:1.843566775631597,fingerprint:{pixel_count:2222,compass_size:{x:55,y:151}}},{position:{x:3,y:-8},is_angle:1.843566775631597,fingerprint:{pixel_count:2222}},{position:{x:20,y:-53},is_angle:1.846705044845437,fingerprint:{pixel_count:2228,compass_size:{x:55,y:151}}},{position:{x:19,y:-50},is_angle:1.8506539518193246,fingerprint:{pixel_count:2230,compass_size:{x:56,y:150}}},{position:{x:13,y:-34},is_angle:1.8506539518193246,fingerprint:{pixel_count:2230,compass_size:{x:56,y:150}}},{is_angle:1.8539507455899842,position:{x:5,y:-13}},{position:{x:29,y:-75},is_angle:1.8539507455899842,fingerprint:{pixel_count:2225,compass_size:{x:56,y:149}}},{is_angle:1.857536465161883,position:{x:7,y:-18}},{is_angle:1.8590340291454075,position:{x:47,y:-120}},{is_angle:1.8590340291454075,position:{x:71,y:-180}},{is_angle:1.8622181746879456,position:{x:143,y:-360}},{is_angle:1.8647765967931416,position:{x:2,y:-5}},{is_angle:1.8700496382034963,position:{x:29,y:-72}},{is_angle:1.8700496382034963,position:{x:73,y:-180}},{is_angle:1.8728562102891424,position:{x:49,y:-120}},{is_angle:1.8758463511501173,position:{x:37,y:-90}},{is_angle:1.8758463511501173,position:{x:149,y:-360}},{is_angle:1.8784656314662498,position:{x:5,y:-12}},{is_angle:1.8838902277168923,position:{x:151,y:-360}},{is_angle:1.8868743285448835,position:{x:19,y:-45}},{is_angle:1.8868743285448835,position:{x:17,y:-40}},{is_angle:1.889282408788882,position:{x:77,y:-180}},{is_angle:1.892476337315348,position:{x:31,y:-72}},{is_angle:1.892476337315348,position:{x:13,y:-30}},{is_angle:1.8957109886974874,position:{x:157,y:-360}},{is_angle:1.8984671463704754,position:{x:79,y:-180}},{is_angle:1.9029857804013013,position:{x:53,y:-120}},{is_angle:1.9029857804013013,position:{x:4,y:-9}},{is_angle:1.9045151045351179,position:{x:161,y:-360}},{is_angle:1.9073199510338685,position:{x:9,y:-20}},{is_angle:1.9073199510338685,position:{x:163,y:-360}},{is_angle:1.9110535502583526,position:{x:5,y:-11}},{is_angle:1.9110535502583526,position:{x:41,y:-90}},{is_angle:1.9154926858335501,position:{x:11,y:-24}},{is_angle:1.9154926858335501,position:{x:83,y:-180}},{is_angle:1.9185318767558877,position:{x:167,y:-360}},{is_angle:1.9221670382756308,position:{x:7,y:-15}},{is_angle:1.9253552034661583,position:{x:169,y:-360}},{is_angle:1.9253552034661583,position:{x:17,y:-36}},{is_angle:1.9302670709984937,position:{x:19,y:-40}},{is_angle:1.933579416454413,position:{x:43,y:-90}},{is_angle:1.933579416454413,position:{x:173,y:-360}},{position:{x:14,y:-29},is_angle:1.936979942890789,fingerprint:{pixel_count:2226,compass_size:{x:63,y:146}}},{position:{x:16,y:-33},is_angle:1.9401580927711959,fingerprint:{pixel_count:2236,compass_size:{x:63,y:147}}},{position:{x:19,y:-39},is_angle:1.9401580927711959,fingerprint:{pixel_count:2236,compass_size:{x:63,y:147}}},{position:{x:23,y:-47},is_angle:1.941962823665168,fingerprint:{pixel_count:2226}},{position:{x:30,y:-61},is_angle:1.941962823665168,fingerprint:{pixel_count:2226,compass_size:{x:63,y:146}}},{position:{x:43,y:-87},is_angle:1.943738291358655,fingerprint:{pixel_count:2219,compass_size:{x:63,y:146}}},{position:{x:79,y:-159},is_angle:1.9471144895954255,fingerprint:{pixel_count:2198,compass_size:{x:64,y:145}}},{is_angle:1.9471144895954258,position:{x:1,y:-2}},{position:{x:49,y:-97},is_angle:1.9581583473782846,fingerprint:{pixel_count:2243,compass_size:{x:65,y:146}}},{position:{x:34,y:-67},is_angle:1.9581583473782846,fingerprint:{pixel_count:2243,compass_size:{x:65,y:146}}},{position:{x:27,y:-53},is_angle:1.959732667953867,fingerprint:{pixel_count:2237,compass_size:{x:65,y:145}}},{position:{x:19,y:-37},is_angle:1.9640800302872325,fingerprint:{pixel_count:2230,compass_size:{x:66,y:145}}},{position:{x:15,y:-29},is_angle:1.9663963016438355},{position:{x:25,y:-48},is_angle:1.966884044519895,fingerprint:{pixel_count:2226,compass_size:{x:67,y:146}}},{position:{x:21,y:-40},is_angle:1.9701577613782681,fingerprint:{pixel_count:2225,compass_size:{x:67,y:145}}},{position:{x:29,y:-55},is_angle:1.9701577613782681,fingerprint:{pixel_count:2225,compass_size:{x:67,y:145}}},{position:{x:9,y:-17},is_angle:1.9728331086624011,fingerprint:{pixel_count:2224,compass_size:{x:67,y:145}}},{is_angle:1.9753084156228822,position:{x:8,y:-15}},{position:{x:22,y:-41},is_angle:1.9788749719168726,fingerprint:{pixel_count:2220,compass_size:{x:69,y:145}}},{position:{x:34,y:-63},is_angle:1.9820850051047894,fingerprint:{pixel_count:2220,compass_size:{x:69,y:145}}},{position:{x:32,y:-59},is_angle:1.9820850051047894,fingerprint:{pixel_count:2220,compass_size:{x:69,y:145}}},{is_angle:1.9844321127472808,position:{x:6,y:-11}},{position:{x:28,y:-51},is_angle:1.9880938867826232,fingerprint:{pixel_count:2218,compass_size:{x:69,y:143}}},{position:{x:26,y:-47},is_angle:1.9930168043800902,fingerprint:{pixel_count:2220,compass_size:{x:70,y:143}}},{position:{x:24,y:-43},is_angle:1.9926469105951132,fingerprint:{pixel_count:2226,compass_size:{x:70,y:143}}},{position:{x:51,y:-91},is_angle:1.9958614292074102,fingerprint:{pixel_count:2229,compass_size:{x:70,y:143}}},{is_angle:1.9958614292074104,position:{x:9,y:-16}},{position:{x:17,y:-30},is_angle:2.0009831623395766,fingerprint:{pixel_count:2228,compass_size:{x:71,y:143}}},{position:{x:33,y:-58},is_angle:2.0035271711984746,fingerprint:{pixel_count:2227,compass_size:{x:71,y:142}}},{position:{x:4,y:-7},is_angle:2.005522044763447,fingerprint:{pixel_count:2233,compass_size:{x:72,y:143}}},{position:{x:19,y:-33},is_angle:2.0084512814657116,fingerprint:{pixel_count:2229,compass_size:{x:72,y:143}}},{position:{x:37,y:-64},is_angle:2.0084512814657116,fingerprint:{pixel_count:2229,compass_size:{x:72,y:143}}},{position:{x:18,y:-31},is_angle:2.012866721510436},{position:{x:7,y:-12},is_angle:2.0149825932998997,fingerprint:{pixel_count:2233,compass_size:{x:73,y:142}}},{position:{x:17,y:-29},is_angle:2.0149825932998997,fingerprint:{pixel_count:2233,compass_size:{x:73,y:142}}},{position:{x:63,y:-107},is_angle:2.017141997335413,fingerprint:{pixel_count:2234,compass_size:{x:74,y:143}}},{position:{x:13,y:-22},is_angle:2.0216653545641456,fingerprint:{pixel_count:2202,compass_size:{x:74,y:142}}},{position:{x:25,y:-42},is_angle:2.024176366929053,fingerprint:{pixel_count:2216,compass_size:{x:74,y:142}}},{position:{x:46,y:-77},is_angle:2.024176366929053,fingerprint:{pixel_count:2216,compass_size:{x:74,y:142}}},{is_angle:2.0270111348059885,position:{x:3,y:-5}},{position:{x:50,y:-83},is_angle:2.031122302704995,fingerprint:{pixel_count:2233,compass_size:{x:75,y:140}}},{position:{x:26,y:-43},is_angle:2.031122302704995,fingerprint:{pixel_count:2233,compass_size:{x:75,y:140}}},{position:{x:14,y:-23},is_angle:2.0330320585866786,fingerprint:{pixel_count:2226,compass_size:{x:76,y:141}}},{position:{x:11,y:-18},is_angle:2.036417194580766,fingerprint:{pixel_count:2225,compass_size:{x:76,y:141}}},{position:{x:27,y:-44},is_angle:2.036417194580766,fingerprint:{pixel_count:2225,compass_size:{x:76,y:141}}},{position:{x:45,y:-73},is_angle:2.0385046103767417,fingerprint:{pixel_count:2223,compass_size:{x:76,y:140}}},{position:{x:13,y:-21},is_angle:2.0435329906778747},{position:{x:43,y:-69},is_angle:2.0454873018425115,fingerprint:{pixel_count:2229,compass_size:{x:78,y:141}}},{position:{x:102,y:-163},is_angle:2.048047562637008,fingerprint:{pixel_count:2231,compass_size:{x:78,y:140}}},{position:{x:27,y:-43},is_angle:2.048047562637008,fingerprint:{pixel_count:2231,compass_size:{x:78,y:140}}},{position:{x:43,y:-68},is_angle:2.0510696523550482,fingerprint:{pixel_count:2227,compass_size:{x:78,y:140}}},{is_angle:2.0541995863508884,position:{x:7,y:-11}},{position:{x:39,y:-61},is_angle:2.0565617552406676,fingerprint:{pixel_count:2229,compass_size:{x:78,y:139}}},{position:{x:9,y:-14},is_angle:2.060256927923067,fingerprint:{pixel_count:2225,compass_size:{x:80,y:140}}},{position:{x:42,y:-65},is_angle:2.063826977641287,fingerprint:{pixel_count:2229,compass_size:{x:80,y:140}}},{position:{x:13,y:-20},is_angle:2.0659684443110553},{position:{x:17,y:-26},is_angle:2.0693693085457374,fingerprint:{pixel_count:2228,compass_size:{x:80,y:139}}},{position:{x:25,y:-38},is_angle:2.073820571947696,fingerprint:{pixel_count:2231,compass_size:{x:82,y:139}}},{position:{x:47,y:-71},is_angle:2.0745753897550134,fingerprint:{pixel_count:2229,compass_size:{x:81,y:138}}},{is_angle:2.079430622866072,position:{x:2,y:-3}},{position:{x:47,y:-70},is_angle:2.082398323623967,fingerprint:{pixel_count:2228,compass_size:{x:82,y:138}}},{position:{x:25,y:-37},is_angle:2.084365674366395,fingerprint:{pixel_count:2228,compass_size:{x:82,y:137}}},{position:{x:17,y:-25},is_angle:2.0862127049956873,fingerprint:{pixel_count:2228,compass_size:{x:83,y:138}}},{position:{x:13,y:-19},is_angle:2.0937394168271917},{position:{x:42,y:-61},is_angle:2.097366051055759,fingerprint:{pixel_count:2221,compass_size:{x:84,y:137}}},{position:{x:9,y:-13},is_angle:2.0996897481721435,fingerprint:{pixel_count:2227,compass_size:{x:84,y:137}}},{position:{x:39,y:-56},is_angle:2.10328500907616,fingerprint:{pixel_count:2218,compass_size:{x:85,y:136}}},{is_angle:2.105469653970983,position:{x:7,y:-10}},{position:{x:31,y:-44},is_angle:2.109840157907115,fingerprint:{pixel_count:2226,compass_size:{x:86,y:136}}},{position:{x:17,y:-24},is_angle:2.1125049939935776,fingerprint:{pixel_count:2224,compass_size:{x:86,y:135}}},{position:{x:67,y:-94},is_angle:2.1143560116257403,fingerprint:{pixel_count:2234,compass_size:{x:87,y:136}}},{position:{x:78,y:-109},is_angle:2.1168193577660768,fingerprint:{pixel_count:2228,compass_size:{x:87,y:135}}},{position:{x:28,y:-39},is_angle:2.1168193577660768},{position:{x:44,y:-61},is_angle:2.119524835587965,fingerprint:{pixel_count:2228,compass_size:{x:87,y:135}}},{position:{x:29,y:-40},is_angle:2.1232115039145305,fingerprint:{pixel_count:2231,compass_size:{x:87,y:135}}},{position:{x:35,y:-48},is_angle:2.124977401013754,fingerprint:{pixel_count:2230,compass_size:{x:87,y:134}}},{is_angle:2.129072600161114,position:{x:11,y:-15}},{position:{x:45,y:-61},is_angle:2.1333087887599205,fingerprint:{pixel_count:2226,compass_size:{x:89,y:134}}},{position:{x:23,y:-31},is_angle:2.134680181288567,fingerprint:{pixel_count:2231,compass_size:{x:89,y:134}}},{position:{x:44,y:-59},is_angle:2.139117271485273,fingerprint:{pixel_count:2229,compass_size:{x:90,y:134}}},{is_angle:2.1412749705054415,position:{x:3,y:-4}},{position:{x:141,y:-187},is_angle:2.145201425475071,fingerprint:{pixel_count:2228}},{position:{x:28,y:-37},is_angle:2.1476984849274983,fingerprint:{pixel_count:2225,compass_size:{x:91,y:133}}},{position:{x:41,y:-54},is_angle:2.150588168701086,fingerprint:{pixel_count:2223,compass_size:{x:91,y:133}}},{position:{x:16,y:-21},is_angle:2.150588168701086,fingerprint:{pixel_count:2223,compass_size:{x:91,y:133}}},{position:{x:13,y:-17},is_angle:2.153030749935461,fingerprint:{pixel_count:2233}},{position:{x:43,y:-56},is_angle:2.1561861174216603,fingerprint:{pixel_count:2229,compass_size:{x:91,y:132}}},{position:{x:27,y:-35},is_angle:2.1586186913014185,fingerprint:{pixel_count:2222,compass_size:{x:93,y:132}}},{position:{x:55,y:-71},is_angle:2.1616279647328698,fingerprint:{pixel_count:2222,compass_size:{x:93,y:132}}},{is_angle:2.1616279647328698,position:{x:7,y:-9}},{position:{x:18,y:-23},is_angle:2.168066516543605,fingerprint:{pixel_count:2222,compass_size:{x:93,y:132}}},{position:{x:37,y:-47},is_angle:2.1701214751004434,fingerprint:{pixel_count:2224,compass_size:{x:93,y:131}}},{position:{x:19,y:-24},is_angle:2.1731084811009524,fingerprint:{pixel_count:2233,compass_size:{x:94,y:132}}},{position:{x:39,y:-49},is_angle:2.17791563520989},{position:{x:135,y:-169},is_angle:2.181109775651655,fingerprint:{pixel_count:2228,compass_size:{x:95,y:130}}},{position:{x:69,y:-86},is_angle:2.1834757961865043,fingerprint:{pixel_count:2230,compass_size:{x:95,y:130}}},{position:{x:21,y:-26},is_angle:2.187129415386245,fingerprint:{pixel_count:2222,compass_size:{x:95,y:130}}},{position:{x:13,y:-16},is_angle:2.1878423366523125,fingerprint:{pixel_count:2213,compass_size:{x:96,y:130}}},{position:{x:53,y:-65},is_angle:2.1909874857243548,fingerprint:{pixel_count:2220,compass_size:{x:96,y:130}}},{is_angle:2.194792878267968,position:{x:9,y:-11}},{position:{x:37,y:-45},is_angle:2.1983478199525637,fingerprint:{pixel_count:2230,compass_size:{x:97,y:129}}},{position:{x:19,y:-23},is_angle:2.201221325574151,fingerprint:{pixel_count:2227,compass_size:{x:97,y:129}}},{position:{x:39,y:-47},is_angle:2.2017872431639964,fingerprint:{pixel_count:2221,compass_size:{x:98,y:129}}},{is_angle:2.206904070636015,position:{x:5,y:-6}},{position:{x:26,y:-31},is_angle:2.210211444002057,fingerprint:{pixel_count:2231,compass_size:{x:98,y:128}}},{position:{x:69,y:-82},is_angle:2.21129091032477,fingerprint:{pixel_count:2231,compass_size:{x:98,y:127}}},{position:{x:38,y:-45},is_angle:2.2171025617292948,fingerprint:{pixel_count:2227}},{position:{x:17,y:-20},is_angle:2.21815315128228,fingerprint:{pixel_count:2228}},{position:{x:77,y:-90},is_angle:2.2209654604745395,fingerprint:{pixel_count:2226}},{position:{x:31,y:-36},is_angle:2.2304397206980253,fingerprint:{pixel_count:2227,compass_size:{x:101,y:126}}},{is_angle:2.231876163757139,position:{x:13,y:-15}},{position:{x:41,y:-47},is_angle:2.23658068987202,fingerprint:{pixel_count:2226,compass_size:{x:102,y:125}}},{position:{x:127,y:-145},is_angle:2.239729568916686,fingerprint:{pixel_count:2229,compass_size:{x:102,y:125}}},{position:{x:29,y:-33},is_angle:2.239729568916686,fingerprint:{pixel_count:2229,compass_size:{x:102,y:125}}},{position:{x:83,y:-94},is_angle:2.2427694607544817,fingerprint:{pixel_count:2223,compass_size:{x:102,y:125}}},{position:{x:38,y:-43},is_angle:2.2457755360930136,fingerprint:{pixel_count:2224,compass_size:{x:103,y:124}}},{position:{x:8,y:-9},is_angle:2.2483673565735183},{position:{x:42,y:-47},is_angle:2.2520848275927476,fingerprint:{pixel_count:2231,compass_size:{x:104,y:125}}},{position:{x:44,y:-49},is_angle:2.255249971602453,fingerprint:{pixel_count:2228,compass_size:{x:104,y:123}}},{position:{x:28,y:-31},is_angle:2.2614522744473167,fingerprint:{pixel_count:2220,compass_size:{x:104,y:123}}},{is_angle:2.2645563609150132,position:{x:10,y:-11}},{position:{x:21,y:-23},is_angle:2.2671001795430534,fingerprint:{pixel_count:2225,compass_size:{x:106,y:123}}},{position:{x:11,y:-12},is_angle:2.2693409483267684,fingerprint:{pixel_count:2231,compass_size:{x:106,y:122}}},{position:{x:23,y:-25},is_angle:2.272457073790665,fingerprint:{pixel_count:2232,compass_size:{x:106,y:122}}},{position:{x:12,y:-13},is_angle:2.274993229468141,fingerprint:{pixel_count:2223,compass_size:{x:106,y:122}}},{position:{x:38,y:-41},is_angle:2.2781639675817678,fingerprint:{pixel_count:2221,compass_size:{x:106,y:122}}},{position:{x:40,y:-43},is_angle:2.2819867341337856,fingerprint:{pixel_count:2220,compass_size:{x:108,y:122}}},{position:{x:71,y:-76},is_angle:2.286256600105642,fingerprint:{pixel_count:2233,compass_size:{x:108,y:121}}},{is_angle:2.286256600105642,position:{x:15,y:-16}},{position:{x:16,y:-17},is_angle:2.2879004425665626,fingerprint:{pixel_count:2227,compass_size:{x:108,y:120}}},{position:{x:17,y:-18},is_angle:2.2909655086718113,fingerprint:{pixel_count:2232,compass_size:{x:108,y:120}}},{position:{x:37,y:-39},is_angle:2.2937341231119106,fingerprint:{pixel_count:2227,compass_size:{x:108,y:120}}},{position:{x:20,y:-21},is_angle:2.2955591060083376,fingerprint:{pixel_count:2231,compass_size:{x:109,y:120}}},{position:{x:23,y:-24},is_angle:2.304381677759977,fingerprint:{pixel_count:2226,compass_size:{x:110,y:119}}},{position:{x:51,y:-53},is_angle:2.3066128343180665,fingerprint:{pixel_count:2229,compass_size:{x:110,y:118}}},{position:{x:28,y:-29},is_angle:2.3096900969764897},{position:{x:63,y:-65},is_angle:2.3096900969764897,fingerprint:{pixel_count:2221,compass_size:{x:111,y:119}}},{position:{x:36,y:-37},is_angle:2.3126110665769364,fingerprint:{pixel_count:2223,compass_size:{x:110,y:118}}},{position:{x:42,y:-43},is_angle:2.3140564278136173,fingerprint:{pixel_count:2221,compass_size:{x:111,y:118}}},{position:{x:52,y:-53},is_angle:2.32015999838153,fingerprint:{pixel_count:2226}},{position:{x:66,y:-67},is_angle:2.325334171106338,fingerprint:{pixel_count:2226,compass_size:{x:112,y:116}}},{position:{x:95,y:-96},is_angle:2.32814805729633,fingerprint:{pixel_count:2224,compass_size:{x:112,y:116}}},{position:{x:174,y:-175},is_angle:2.32943195980916,fingerprint:{pixel_count:2224,compass_size:{x:112,y:117}}},{is_angle:2.3321019705140404,position:{x:1,y:-1}},{position:{x:175,y:-174},is_angle:2.3371411167723046,fingerprint:{pixel_count:2218,compass_size:{x:113,y:115}}},{position:{x:96,y:-95},is_angle:2.3400082018116803,fingerprint:{pixel_count:2220,compass_size:{x:113,y:115}}},{position:{x:67,y:-66},is_angle:2.343061986356818,fingerprint:{pixel_count:2215,compass_size:{x:113,y:115}}},{position:{x:53,y:-52},is_angle:2.3450135879103735,fingerprint:{pixel_count:2216}},{position:{x:43,y:-42},is_angle:2.349664947041749,fingerprint:{pixel_count:2225,compass_size:{x:115,y:115}}},{position:{x:37,y:-36},is_angle:2.354331872421528,fingerprint:{pixel_count:2230,compass_size:{x:115,y:114}}},{position:{x:65,y:-63},is_angle:2.355258497454638,fingerprint:{pixel_count:2227,compass_size:{x:115,y:113}}},{position:{x:29,y:-28},is_angle:2.3584662635141456},{position:{x:53,y:-51},is_angle:2.3615317133686577,fingerprint:{pixel_count:2225,compass_size:{x:115,y:113}}},{position:{x:24,y:-23},is_angle:2.363201449038431,fingerprint:{pixel_count:2225,compass_size:{x:116,y:113}}},{position:{x:21,y:-20},is_angle:2.371150426577734,fingerprint:{pixel_count:2222,compass_size:{x:117,y:111}}},{position:{x:39,y:-37},is_angle:2.3744415827049554,fingerprint:{pixel_count:2223,compass_size:{x:117,y:111}}},{position:{x:18,y:-17},is_angle:2.3768450308633566,fingerprint:{pixel_count:2222,compass_size:{x:117,y:111}}},{position:{x:17,y:-16},is_angle:2.3768450308633566,fingerprint:{pixel_count:2222,compass_size:{x:117,y:111}}},{is_angle:2.3801088921453357,position:{x:16,y:-15}},{position:{x:76,y:-71},is_angle:2.3817967753192315,fingerprint:{pixel_count:2223,compass_size:{x:118,y:111}}},{position:{x:43,y:-40},is_angle:2.3850913166091106,fingerprint:{pixel_count:2227,compass_size:{x:118,y:111}}},{position:{x:41,y:-38},is_angle:2.3896855786566684,fingerprint:{pixel_count:2223,compass_size:{x:119,y:109}}},{position:{x:13,y:-12},is_angle:2.392752136003693,fingerprint:{pixel_count:2233,compass_size:{x:119,y:109}}},{position:{x:161,y:-148},is_angle:2.395908784315484,fingerprint:{pixel_count:2230,compass_size:{x:119,y:109}}},{position:{x:12,y:-11},is_angle:2.397471951315244,fingerprint:{pixel_count:2231,compass_size:{x:120,y:109}}},{position:{x:23,y:-21},is_angle:2.399812099184157,fingerprint:{pixel_count:2224,compass_size:{x:120,y:109}}},{is_angle:2.403257658468531,position:{x:11,y:-10}},{position:{x:31,y:-28},is_angle:2.4068799758785655,fingerprint:{pixel_count:2219,compass_size:{x:121,y:108}}},{position:{x:49,y:-44},is_angle:2.4115467284128593,fingerprint:{pixel_count:2214,compass_size:{x:121,y:107}}},{position:{x:47,y:-42},is_angle:2.4131623199403105,fingerprint:{pixel_count:2226,compass_size:{x:122,y:108}}},{position:{x:9,y:-8},is_angle:2.420372543655606},{position:{x:43,y:-38},is_angle:2.421107775775008,fingerprint:{pixel_count:2219,compass_size:{x:122,y:106}}},{position:{x:33,y:-29},is_angle:2.4236940992078684,fingerprint:{pixel_count:2227,compass_size:{x:122,y:106}}},{position:{x:145,y:-127},is_angle:2.4261984309731486,fingerprint:{pixel_count:2230,compass_size:{x:122,y:106}}},{position:{x:47,y:-41},is_angle:2.427896330814046,fingerprint:{pixel_count:2226,compass_size:{x:122,y:105}}},{is_angle:2.4367966052566676,position:{x:15,y:-13}},{position:{x:29,y:-25},is_angle:2.438987463982072,fingerprint:{pixel_count:2229,compass_size:{x:124,y:104}}},{position:{x:7,y:-6},is_angle:2.442149823496271,fingerprint:{pixel_count:2228,compass_size:{x:124,y:104}}},{position:{x:27,y:-23},is_angle:2.444681053179557,fingerprint:{pixel_count:2226,compass_size:{x:124,y:104}}},{is_angle:2.4461623697994055,position:{x:72,y:-61}},{is_angle:2.449231711125832,position:{x:45,y:-38}},{is_angle:2.4528326527146525,position:{x:120,y:-101}},{is_angle:2.456854029825143,position:{x:180,y:-151}},{is_angle:2.456854029825143,position:{x:360,y:-301}},{is_angle:2.4602292015116833,position:{x:6,y:-5}},{is_angle:2.46137452660011,position:{x:360,y:-299}},{is_angle:2.46137452660011,position:{x:180,y:-149}},{is_angle:2.464632961388906,position:{x:40,y:-33}},{is_angle:2.4677767189554634,position:{x:45,y:-37}},{is_angle:2.4705048418637423,position:{x:72,y:-59}},{is_angle:2.4705048418637423,position:{x:11,y:-9}},{is_angle:2.4705048418637423,position:{x:60,y:-49}},{is_angle:2.4760388196997525,position:{x:360,y:-293}},{is_angle:2.4779226709213553,position:{x:90,y:-73}},{is_angle:2.4779226709213553,position:{x:120,y:-97}},{is_angle:2.479708258551133,position:{x:36,y:-29}},{is_angle:2.4826097771000613,position:{x:360,y:-289}},{is_angle:2.4867407590631556,position:{x:5,y:-4}},{is_angle:2.4867407590631556,position:{x:360,y:-287}},{is_angle:2.487649423667489,position:{x:180,y:-143}},{is_angle:2.4917863323499296,position:{x:24,y:-19}},{is_angle:2.4917863323499296,position:{x:90,y:-71}},{is_angle:2.4962191876760897,position:{x:360,y:-283}},{is_angle:2.4984786724438255,position:{x:60,y:-47}},{is_angle:2.502012861990226,position:{x:360,y:-281}},{is_angle:2.502012861990226,position:{x:9,y:-7}},{is_angle:2.5053466510928657,position:{x:40,y:-31}},{is_angle:2.5065907335938187,position:{x:180,y:-139}},{is_angle:2.5065907335938187,position:{x:360,y:-277}},{is_angle:2.5098403678444323,position:{x:30,y:-23}},{is_angle:2.514153129977088,position:{x:72,y:-55}},{is_angle:2.517608834348222,position:{x:180,y:-137}},{is_angle:2.517608834348222,position:{x:120,y:-91}},{is_angle:2.520166140249273,position:{x:45,y:-34}},{position:{x:85,y:-64},is_angle:2.5216902276195783,fingerprint:{pixel_count:2236,compass_size:{x:131,y:94}}},{is_angle:2.5216902276195783,position:{x:4,y:-3}},{position:{x:59,y:-44},is_angle:2.524347376183775,fingerprint:{pixel_count:2227,compass_size:{x:131,y:94}}},{position:{x:31,y:-23},is_angle:2.527964981190645,fingerprint:{pixel_count:2230,compass_size:{x:131,y:94}}},{position:{x:61,y:-45},is_angle:2.5329892066317097,fingerprint:{pixel_count:2228,compass_size:{x:131,y:93}}},{is_angle:2.5379698697676485,position:{x:15,y:-11}},{position:{x:48,y:-35},is_angle:2.540459983578696,fingerprint:{pixel_count:2231,compass_size:{x:133,y:92}}},{position:{x:40,y:-29},is_angle:2.545806841848661,fingerprint:{pixel_count:2231,compass_size:{x:133,y:91}}},{position:{x:61,y:-44},is_angle:2.5459852508269742,fingerprint:{pixel_count:2234,compass_size:{x:133,y:92}}},{position:{x:39,y:-28},is_angle:2.547945026498751},{position:{x:109,y:-78},is_angle:2.547945026498751,fingerprint:{pixel_count:2223,compass_size:{x:133,y:91}}},{position:{x:94,y:-67},is_angle:2.5531428733068084,fingerprint:{pixel_count:2229,compass_size:{x:134,y:90}}},{position:{x:24,y:-17},is_angle:2.5553344600194916,fingerprint:{pixel_count:2227,compass_size:{x:133,y:90}}},{position:{x:44,y:-31},is_angle:2.557808793163166,fingerprint:{pixel_count:2230,compass_size:{x:134,y:90}}},{is_angle:2.562815755926799,position:{x:10,y:-7}},{position:{x:23,y:-16},is_angle:2.5654404010997465,fingerprint:{pixel_count:2222,compass_size:{x:134,y:88}}},{is_angle:2.5687426311426806,position:{x:120,y:-83}},{is_angle:2.5710332982753425,position:{x:45,y:-31}},{is_angle:2.573231389436938,position:{x:360,y:-247}},{is_angle:2.573231389436938,position:{x:60,y:-41}},{is_angle:2.576680456690187,position:{x:72,y:-49}},{is_angle:2.577792824372818,position:{x:90,y:-61}},{is_angle:2.584258307631394,position:{x:40,y:-27}},{position:{x:58,y:-39},is_angle:2.584258307631394,fingerprint:{pixel_count:2227,compass_size:{x:136,y:86}}},{is_angle:2.586780272528369,position:{x:360,y:-241}},{is_angle:2.5902762970058975,position:{x:3,y:-2}},{is_angle:2.5902762970058975,position:{x:360,y:-239}},{is_angle:2.5909159937750035,position:{x:180,y:-119}},{is_angle:2.5927903276430486,position:{x:120,y:-79}},{is_angle:2.596454467246915,position:{x:90,y:-59}},{is_angle:2.596454467246915,position:{x:72,y:-47}},{is_angle:2.601647994831596,position:{x:20,y:-13}},{is_angle:2.6046124408710827,position:{x:360,y:-233}},{is_angle:2.6046124408710827,position:{x:45,y:-29}},{is_angle:2.606115299611682,position:{x:120,y:-77}},{is_angle:2.6093986598218244,position:{x:36,y:-23}},{is_angle:2.6093986598218244,position:{x:11,y:-7}},{is_angle:2.6093986598218244,position:{x:360,y:-229}},{is_angle:2.6129186944896743,position:{x:30,y:-19}},{is_angle:2.614953631080571,position:{x:360,y:-227}},{is_angle:2.6179321800424047,position:{x:180,y:-113}},{is_angle:2.6179321800424047,position:{x:8,y:-5}},{is_angle:2.6205894527428937,position:{x:45,y:-28}},{is_angle:2.6245243125417774,position:{x:360,y:-223}},{is_angle:2.6245243125417774,position:{x:60,y:-37}},{is_angle:2.627921928867041,position:{x:360,y:-221}},{is_angle:2.632828835696058,position:{x:18,y:-11}},{is_angle:2.634330425717293,position:{x:120,y:-73}},{position:{x:48,y:-29},is_angle:2.6344234866972447,fingerprint:{pixel_count:2227,compass_size:{x:139,y:80}}},{is_angle:2.639480669883631,position:{x:5,y:-3}},{is_angle:2.639480669883631,position:{x:72,y:-43}},{is_angle:2.6422661536162284,position:{x:180,y:-107}},{is_angle:2.6440204550407556,position:{x:120,y:-71}},{is_angle:2.648633659868617,position:{x:90,y:-53}},{is_angle:2.648633659868617,position:{x:360,y:-211}},{is_angle:2.6527598694506014,position:{x:12,y:-7}},{is_angle:2.65609926422355,position:{x:360,y:-209}},{is_angle:2.65609926422355,position:{x:45,y:-26}},{is_angle:2.6581565374963505,position:{x:40,y:-23}},{position:{x:7,y:-4},is_angle:2.6592661739810155,fingerprint:{pixel_count:2221,compass_size:{x:141,y:76}}},{position:{x:44,y:-25},is_angle:2.662704658637813,fingerprint:{pixel_count:2217,compass_size:{x:141,y:76}}},{position:{x:23,y:-13},is_angle:2.665739087420173,fingerprint:{pixel_count:2220,compass_size:{x:142,y:76}}},{is_angle:2.665739087420173,position:{x:16,y:-9}},{is_angle:2.671231675457203,position:{x:120,y:-67}},{is_angle:2.672220985220914,position:{x:9,y:-5}},{is_angle:2.674681879411941,position:{x:360,y:-199}},{position:{x:20,y:-11},is_angle:2.6780659649562795,fingerprint:{pixel_count:2223,compass_size:{x:142,y:74}}},{is_angle:2.678065964956279,position:{x:360,y:-197}},{is_angle:2.68088821524363,position:{x:11,y:-6}},{is_angle:2.68088821524363,position:{x:90,y:-49}},{is_angle:2.6820267298396576,position:{x:24,y:-13}},{is_angle:2.6820267298396576,position:{x:180,y:-97}},{is_angle:2.6875691490895584,position:{x:360,y:-193}},{is_angle:2.6907108531787083,position:{x:15,y:-8}},{is_angle:2.6937648071173657,position:{x:360,y:-191}},{position:{x:36,y:-19},is_angle:2.6937648071173657,fingerprint:{pixel_count:2228,compass_size:{x:144,y:72}}},{position:{x:40,y:-21},is_angle:2.6947967551471517,fingerprint:{pixel_count:2227,compass_size:{x:143,y:71}}},{position:{x:67,y:-35},is_angle:2.7005575968618727,fingerprint:{pixel_count:2229,compass_size:{x:143,y:70}}},{is_angle:2.7005575968618722,position:{x:360,y:-187}},{is_angle:2.703413472079932,position:{x:60,y:-31}},{is_angle:2.7064381805960034,position:{x:72,y:-37}},{is_angle:2.7064381805960034,position:{x:45,y:-23}},{position:{x:69,y:-35},is_angle:2.7103279674774634,fingerprint:{pixel_count:2233,compass_size:{x:144,y:70}}},{position:{x:97,y:-49},is_angle:2.7097839499911145,fingerprint:{pixel_count:2221,compass_size:{x:144,y:69}}},{is_angle:2.7121931888632567,position:{x:360,y:-181}},{is_angle:2.7121931888632567,position:{x:2,y:-1}},{is_angle:2.716630746193052,position:{x:360,y:-179}},{is_angle:2.722742551314292,position:{x:180,y:-89}},{is_angle:2.722742551314292,position:{x:120,y:-59}},{is_angle:2.723690624760189,position:{x:45,y:-22}},{is_angle:2.7257180976031483,position:{x:72,y:-35}},{is_angle:2.7313128234999104,position:{x:60,y:-29}},{is_angle:2.7313128234999104,position:{x:360,y:-173}},{is_angle:2.733993977061049,position:{x:90,y:-43}},{is_angle:2.7349978900667815,position:{x:40,y:-19}},{is_angle:2.7349978900667815,position:{x:36,y:-17}},{is_angle:2.737667961177526,position:{x:360,y:-169}},{is_angle:2.7409483636348604,position:{x:15,y:-7}},{is_angle:2.744498255952033,position:{x:360,y:-167}},{is_angle:2.744498255952033,position:{x:180,y:-83}},{is_angle:2.749568254389183,position:{x:24,y:-11}},{is_angle:2.750170133763831,position:{x:90,y:-41}},{is_angle:2.750170133763831,position:{x:11,y:-5}},{is_angle:2.750170133763831,position:{x:360,y:-163}},{is_angle:2.753415445337489,position:{x:20,y:-9}},{is_angle:2.756541473091808,position:{x:360,y:-161}},{is_angle:2.759614937436313,position:{x:9,y:-4}},{is_angle:2.759614937436313,position:{x:120,y:-53}},{is_angle:2.7602271796003377,position:{x:180,y:-79}},{is_angle:2.7657179874984594,position:{x:360,y:-157}},{is_angle:2.7657179874984594,position:{x:30,y:-13}},{is_angle:2.7687086083973513,position:{x:72,y:-31}},{is_angle:2.7720610633884504,position:{x:180,y:-77}},{is_angle:2.7724856690706177,position:{x:40,y:-17}},{is_angle:2.7724856690706177,position:{x:45,y:-19}},{position:{x:31,y:-13},is_angle:2.776933414942314,fingerprint:{pixel_count:2231,compass_size:{x:148,y:59}}},{is_angle:2.779724421803315,position:{x:12,y:-5}},{is_angle:2.779724421803315,position:{x:360,y:-149}},{is_angle:2.7849704257112355,position:{x:90,y:-37}},{is_angle:2.789826123546396,position:{x:120,y:-49}},{is_angle:2.789826123546396,position:{x:180,y:-73}},{is_angle:2.791454347297556,position:{x:72,y:-29}},{is_angle:2.7936258386957435,position:{x:5,y:-2}},{is_angle:2.798128770608937,position:{x:360,y:-143}},{is_angle:2.798128770608937,position:{x:180,y:-71}},{is_angle:2.8002237148570965,position:{x:120,y:-47}},{is_angle:2.803319258208212,position:{x:18,y:-7}},{is_angle:2.803319258208212,position:{x:360,y:-139}},{is_angle:2.8068407330748464,position:{x:13,y:-5}},{is_angle:2.8068407330748464,position:{x:60,y:-23}},{is_angle:2.8122275481957475,position:{x:360,y:-137}},{is_angle:2.815244525184148,position:{x:45,y:-17}},{is_angle:2.815244525184148,position:{x:8,y:-3}},{is_angle:2.8184915783162867,position:{x:180,y:-67}},{is_angle:2.8212173100734907,position:{x:360,y:-133}},{is_angle:2.8212173100734907,position:{x:30,y:-11}},{is_angle:2.824406313023276,position:{x:360,y:-131}},{is_angle:2.824406313023276,position:{x:11,y:-4}},{is_angle:2.8276675227478623,position:{x:36,y:-13}},{is_angle:2.8329768107942477,position:{x:120,y:-43}},{is_angle:2.8329768107942477,position:{x:14,y:-5}},{is_angle:2.8329768107942477,position:{x:45,y:-16}},{is_angle:2.835925217659786,position:{x:360,y:-127}},{is_angle:2.839273368091264,position:{x:20,y:-7}},{is_angle:2.839273368091264,position:{x:72,y:-25}},{is_angle:2.842099130520783,position:{x:90,y:-31}},{is_angle:2.8457516198738246,position:{x:120,y:-41}},{position:{x:59,y:-20},is_angle:2.8509355929131215,fingerprint:{pixel_count:2227,compass_size:{x:150,y:54}}},{is_angle:2.8509355929131215,position:{x:360,y:-121}},{is_angle:2.8536714163286243,position:{x:3,y:-1}},{is_angle:2.856870634150641,position:{x:360,y:-119}},{is_angle:2.856870634150641,position:{x:180,y:-59}},{position:{x:43,y:-14},is_angle:2.859219596138845,fingerprint:{pixel_count:2227,compass_size:{x:150,y:54}}},{position:{x:34,y:-11},is_angle:2.859219596138845,fingerprint:{pixel_count:2227,compass_size:{x:150,y:54}}},{position:{x:28,y:-9},is_angle:2.8645152714407507,fingerprint:{pixel_count:2226,compass_size:{x:151,y:53}}},{is_angle:2.867754814905137,position:{x:72,y:-23}},{position:{x:41,y:-13},is_angle:2.867754814905137,fingerprint:{pixel_count:2225,compass_size:{x:151,y:53}}},{position:{x:73,y:-23},is_angle:2.870720559242699,fingerprint:{pixel_count:2229,compass_size:{x:151,y:53}}},{position:{x:83,y:-26},is_angle:2.870720559242699,fingerprint:{pixel_count:2229,compass_size:{x:151,y:53}}},{is_angle:2.873605782192277,position:{x:45,y:-14}},{is_angle:2.873605782192277,position:{x:120,y:-37}},{is_angle:2.877141842106013,position:{x:36,y:-11}},{position:{x:33,y:-10},is_angle:2.8796573918043475,fingerprint:{pixel_count:2230,compass_size:{x:151,y:53}}},{is_angle:2.884352230559666,position:{x:10,y:-3}},{position:{x:37,y:-11},is_angle:2.884352230559666,fingerprint:{pixel_count:2225,compass_size:{x:152,y:52}}},{position:{x:17,y:-5},is_angle:2.8873092991702682,fingerprint:{pixel_count:2221,compass_size:{x:151,y:52}}},{position:{x:24,y:-7},is_angle:2.8911470885268136,fingerprint:{pixel_count:2222,compass_size:{x:151,y:52}}},{is_angle:2.8911470885268136,position:{x:45,y:-13}},{is_angle:2.8942385232870365,position:{x:360,y:-103}},{is_angle:2.8942385232870365,position:{x:7,y:-2}},{is_angle:2.898530181810262,position:{x:60,y:-17}},{is_angle:2.898530181810262,position:{x:360,y:-101}},{is_angle:2.9016637687743003,position:{x:18,y:-5}},{is_angle:2.904743586222504,position:{x:40,y:-11}},{is_angle:2.904743586222504,position:{x:11,y:-3}},{is_angle:2.906451247507705,position:{x:180,y:-49}},{is_angle:2.906451247507705,position:{x:360,y:-97}},{is_angle:2.9097472115283143,position:{x:15,y:-4}},{is_angle:2.9126995892438816,position:{x:72,y:-19}},{is_angle:2.9126995892438816,position:{x:180,y:-47}},{is_angle:2.916995350409309,position:{x:120,y:-31}},{is_angle:2.920036909133303,position:{x:90,y:-23}},{position:{x:83,y:-21},is_angle:2.923217702853279,fingerprint:{pixel_count:2224,compass_size:{x:152,y:49}}},{is_angle:2.9232177028532793,position:{x:4,y:-1}},{is_angle:2.9276578997514098,position:{x:360,y:-89}},{is_angle:2.9309086918105525,position:{x:45,y:-11}},{is_angle:2.9309086918105525,position:{x:120,y:-29}},{is_angle:2.9341198379884514,position:{x:180,y:-43}},{position:{x:38,y:-9},is_angle:2.937225206124471,fingerprint:{pixel_count:2222,compass_size:{x:153,y:48}}},{position:{x:64,y:-15},is_angle:2.937225206124471,fingerprint:{pixel_count:2222,compass_size:{x:153,y:48}}},{position:{x:43,y:-10},is_angle:2.9406002575404964,fingerprint:{pixel_count:2234,compass_size:{x:152,y:48}}},{is_angle:2.940600257540496,position:{x:360,y:-83}},{position:{x:79,y:-18},is_angle:2.944704251279317,fingerprint:{pixel_count:2240,compass_size:{x:153,y:47}}},{is_angle:2.9475933652614548,position:{x:40,y:-9}},{is_angle:2.9475933652614548,position:{x:9,y:-2}},{is_angle:2.9503470994941217,position:{x:360,y:-79}},{position:{x:23,y:-5},is_angle:2.953826618894393,fingerprint:{pixel_count:2228,compass_size:{x:153,y:47}}},{position:{x:51,y:-11},is_angle:2.953826618894393,fingerprint:{pixel_count:2228,compass_size:{x:153,y:47}}},{position:{x:131,y:-28},is_angle:2.9567899295645006,fingerprint:{pixel_count:2227,compass_size:{x:153,y:47}}},{position:{x:33,y:-7},is_angle:2.9567899295645006,fingerprint:{pixel_count:2227,compass_size:{x:153,y:47}}},{position:{x:67,y:-14},is_angle:2.9596400002371737,fingerprint:{pixel_count:2221,compass_size:{x:153,y:47}}},{is_angle:2.964312545791792,position:{x:180,y:-37}},{is_angle:2.964312545791792,position:{x:360,y:-73}},{is_angle:2.9676608412553995,position:{x:5,y:-1}},{is_angle:2.971597258556676,position:{x:360,y:-71}},{is_angle:2.974545302953586,position:{x:36,y:-7}},{position:{x:26,y:-5},is_angle:2.974545302953586,fingerprint:{pixel_count:2246,compass_size:{x:153,y:46}}},{position:{x:21,y:-4},is_angle:2.9782296705204137,fingerprint:{pixel_count:2233,compass_size:{x:153,y:45}}},{position:{x:69,y:-13},is_angle:2.9782296705204137,fingerprint:{pixel_count:2233,compass_size:{x:153,y:45}}},{is_angle:2.981433619554233,position:{x:360,y:-67}},{is_angle:2.981433619554233,position:{x:60,y:-11}},{is_angle:2.983719980499974,position:{x:72,y:-13}},{is_angle:2.9873494910303435,position:{x:45,y:-8}},{position:{x:40,y:-7},is_angle:2.9873494910303435,fingerprint:{pixel_count:2238,compass_size:{x:153,y:44}}},{position:{x:29,y:-5},is_angle:2.989998083220919,fingerprint:{pixel_count:2232,compass_size:{x:153,y:44}}},{position:{x:53,y:-9},is_angle:2.9939635303715995,fingerprint:{pixel_count:2224,compass_size:{x:153,y:43}}},{is_angle:2.99682421235186,position:{x:6,y:-1}},{position:{x:73,y:-12},is_angle:2.99682421235186,fingerprint:{pixel_count:2227,compass_size:{x:153,y:43}}},{position:{x:37,y:-6},is_angle:3.000200503019505,fingerprint:{pixel_count:2220,compass_size:{x:153,y:43}}},{position:{x:25,y:-4},is_angle:3.000200503019505,fingerprint:{pixel_count:2220,compass_size:{x:153,y:43}}},{position:{x:19,y:-3},is_angle:3.003817692309805,fingerprint:{pixel_count:2225}},{position:{x:58,y:-9},is_angle:3.006968038536957,fingerprint:{pixel_count:2233,compass_size:{x:153,y:43}}},{position:{x:46,y:-7},is_angle:3.006968038536957,fingerprint:{pixel_count:2233,compass_size:{x:153,y:43}}},{position:{x:107,y:-16},is_angle:3.0119592611090944,fingerprint:{pixel_count:2232,compass_size:{x:153,y:42}}},{is_angle:3.01425659146246,position:{x:360,y:-53}},{is_angle:3.01425659146246,position:{x:90,y:-13}},{is_angle:3.0169180573218664,position:{x:7,y:-1}},{is_angle:3.0169180573218664,position:{x:120,y:-17}},{is_angle:3.020544688621277,position:{x:36,y:-5}},{is_angle:3.020544688621277,position:{x:360,y:-49}},{is_angle:3.0238963297405523,position:{x:15,y:-2}},{is_angle:3.02748722780573,position:{x:360,y:-47}},{is_angle:3.030657554506597,position:{x:180,y:-23}},{is_angle:3.030657554506597,position:{x:8,y:-1}},{is_angle:3.0332476967123827,position:{x:90,y:-11}},{is_angle:3.036245339655714,position:{x:360,y:-43}},{is_angle:3.036245339655714,position:{x:60,y:-7}},{is_angle:3.039136647440941,position:{x:360,y:-41}},{is_angle:3.042022470643575,position:{x:9,y:-1}},{is_angle:3.045086802409029,position:{x:120,y:-13}},{is_angle:3.045086802409029,position:{x:180,y:-19}},{is_angle:3.0494187305454545,position:{x:360,y:-37}},{is_angle:3.052482734723798,position:{x:10,y:-1}},{is_angle:3.052482734723798,position:{x:72,y:-7}},{is_angle:3.054185911742132,position:{x:180,y:-17}},{is_angle:3.0571863809352773,position:{x:120,y:-11}},{is_angle:3.0571863809352773,position:{x:11,y:-1}},{is_angle:3.0604972003869357,position:{x:45,y:-4}},{is_angle:3.0604972003869357,position:{x:360,y:-31}},{is_angle:3.0620393550764726,position:{x:12,y:-1}},{is_angle:3.064909634856726,position:{x:360,y:-29}},{is_angle:3.064909634856726,position:{x:90,y:-7}},{is_angle:3.068598712055714,position:{x:40,y:-3}},{is_angle:3.071362741918886,position:{x:180,y:-13}},{is_angle:3.071362741918886,position:{x:14,y:-1}},{is_angle:3.074767473529965,position:{x:72,y:-5}},{is_angle:3.074767473529965,position:{x:15,y:-1}},{is_angle:3.0781508256499155,position:{x:360,y:-23}},{is_angle:3.0781508256499155,position:{x:16,y:-1}},{is_angle:3.079627081766093,position:{x:180,y:-11}},{is_angle:3.079627081766093,position:{x:120,y:-7}},{is_angle:3.0828556385422567,position:{x:18,y:-1}},{is_angle:3.0856017191135376,position:{x:360,y:-19}},{is_angle:3.0856017191135376,position:{x:20,y:-1}},{is_angle:3.087789346380699,position:{x:360,y:-17}},{is_angle:3.0909035488217222,position:{x:45,y:-2}},{is_angle:3.094359031300471,position:{x:24,y:-1}},{is_angle:3.094359031300471,position:{x:180,y:-7}},{is_angle:3.0967173299635853,position:{x:360,y:-13}},{is_angle:3.1003133389862825,position:{x:30,y:-1}},{is_angle:3.1003133389862825,position:{x:360,y:-11}},{is_angle:3.103275913537855,position:{x:36,y:-1}},{is_angle:3.106495798015683,position:{x:40,y:-1}},{is_angle:3.1089444723289565,position:{x:45,y:-1}},{is_angle:3.1089444723289565,position:{x:360,y:-7}},{is_angle:3.1120856521072136,position:{x:60,y:-1}},{is_angle:3.1154693460238043,position:{x:72,y:-1}},{is_angle:3.1154693460238043,position:{x:90,y:-1}},{is_angle:3.1183758568797044,position:{x:120,y:-1}},{is_angle:3.1207866040671384,position:{x:180,y:-1}},{is_angle:3.1233969365014036,position:{x:360,y:-1}},{is_angle:3.1233969365014036,position:{x:1,y:0}},{is_angle:3.125932436702291,position:{x:360,y:1}},{is_angle:3.1295786663241882,position:{x:180,y:1}},{is_angle:3.1295786663241882,position:{x:120,y:1}},{is_angle:3.1324698854380606,position:{x:90,y:1}},{is_angle:3.1343546695314255,position:{x:72,y:1}},{is_angle:3.1343546695314255,position:{x:60,y:1}},{is_angle:3.137550393780439,position:{x:360,y:7}},{is_angle:3.1403821608009324,position:{x:45,y:1}},{is_angle:3.143734841957043,position:{x:40,y:1}},{is_angle:3.143734841957043,position:{x:36,y:1}},{is_angle:3.1456819069397692,position:{x:360,y:11}},{is_angle:3.1484984995869345,position:{x:30,y:1}},{is_angle:3.1484984995869345,position:{x:360,y:13}},{is_angle:3.1509735626072626,position:{x:180,y:7}},{is_angle:3.154485043430841,position:{x:24,y:1}},{is_angle:3.1577770156223264,position:{x:45,y:2}},{is_angle:3.1577770156223264,position:{x:360,y:17}},{is_angle:3.1611600313691337,position:{x:20,y:1}},{position:{x:19,y:1},is_angle:3.1641657348401186,fingerprint:{pixel_count:2224,compass_size:{x:153,y:44}}},{is_angle:3.1641657348401186,position:{x:18,y:1}},{is_angle:3.1670057532131155,position:{x:120,y:7}},{is_angle:3.170106599726089,position:{x:180,y:11}},{is_angle:3.170106599726089,position:{x:16,y:1}},{is_angle:3.1726805889555902,position:{x:360,y:23}},{is_angle:3.1726805889555902,position:{x:15,y:1}},{is_angle:3.175367826222612,position:{x:72,y:5}},{is_angle:3.1784706214593266,position:{x:14,y:1}},{is_angle:3.1784706214593266,position:{x:180,y:13}},{is_angle:3.1784706214593266,position:{x:40,y:3}},{is_angle:3.180844433756867,position:{x:90,y:7}},{is_angle:3.1847817311364293,position:{x:360,y:29}},{is_angle:3.187849863159882,position:{x:12,y:1}},{is_angle:3.187849863159882,position:{x:360,y:31}},{is_angle:3.190840509878664,position:{x:45,y:4}},{is_angle:3.190840509878664,position:{x:11,y:1}},{is_angle:3.1924907209381943,position:{x:120,y:11}},{is_angle:3.1924907209381943,position:{x:180,y:17}},{is_angle:3.1959259032940137,position:{x:72,y:7}},{is_angle:3.201868513476443,position:{x:10,y:1}},{is_angle:3.203101102889399,position:{x:360,y:37}},{is_angle:3.203101102889399,position:{x:180,y:19}},{position:{x:37,y:4},is_angle:3.2054471456128444,fingerprint:{pixel_count:2214,compass_size:{x:153,y:46}}},{is_angle:3.2087035799355887,position:{x:9,y:1}},{is_angle:3.2087035799355887,position:{x:360,y:41}},{is_angle:3.2097438098602584,position:{x:60,y:7}},{is_angle:3.213069936082108,position:{x:360,y:43}},{is_angle:3.2169945230142503,position:{x:90,y:11}},{is_angle:3.2169945230142503,position:{x:8,y:1}},{is_angle:3.219982512862605,position:{x:180,y:23}},{is_angle:3.222745851884182,position:{x:360,y:47}},{is_angle:3.222745851884182,position:{x:15,y:2}},{is_angle:3.2251741006678847,position:{x:360,y:49}},{is_angle:3.228702312818917,position:{x:36,y:5}},{is_angle:3.228702312818917,position:{x:120,y:17}},{is_angle:3.2305459412101842,position:{x:7,y:1}},{is_angle:3.2305459412101842,position:{x:90,y:13}},{is_angle:3.2336857271964297,position:{x:360,y:53}},{is_angle:3.2365554386525397,position:{x:20,y:3}},{is_angle:3.2365554386525397,position:{x:72,y:11}},{is_angle:3.2397888462340045,position:{x:45,y:7}},{is_angle:3.2430998814097802,position:{x:120,y:19}},{position:{x:31,y:5},is_angle:3.246472458349394,fingerprint:{pixel_count:2217,compass_size:{x:153,y:46}}},{is_angle:3.2464724583493934,position:{x:360,y:59}},{is_angle:3.249734612079516,position:{x:6,y:1}},{is_angle:3.252513695423997,position:{x:360,y:61}},{is_angle:3.252513695423997,position:{x:180,y:31}},{is_angle:3.255681336311799,position:{x:40,y:7}},{is_angle:3.2583165858814014,position:{x:45,y:8}},{is_angle:3.2583165858814014,position:{x:72,y:13}},{is_angle:3.260174557582662,position:{x:60,y:11}},{is_angle:3.2631822866717006,position:{x:360,y:67}},{is_angle:3.2679196374737605,position:{x:90,y:17}},{is_angle:3.2679196374737605,position:{x:120,y:23}},{is_angle:3.270226467940852,position:{x:36,y:7}},{is_angle:3.273781031566717,position:{x:360,y:71}},{is_angle:3.273781031566717,position:{x:5,y:1}},{is_angle:3.2747235459643216,position:{x:360,y:73}},{is_angle:3.277455642561584,position:{x:180,y:37}},{is_angle:3.281005793531524,position:{x:24,y:5}},{position:{x:71,y:15},is_angle:3.281005793531524,fingerprint:{pixel_count:2229,compass_size:{x:153,y:46}}},{is_angle:3.2838438051320433,position:{x:360,y:77}},{is_angle:3.2873098001784875,position:{x:60,y:13}},{is_angle:3.2873098001784875,position:{x:360,y:79}},{is_angle:3.2900561078837773,position:{x:9,y:2}},{is_angle:3.292538431250592,position:{x:40,y:9}},{is_angle:3.296440174038009,position:{x:180,y:41}},{is_angle:3.296440174038009,position:{x:360,y:83}},{is_angle:3.29922904279545,position:{x:30,y:7}},{is_angle:3.301726634388628,position:{x:72,y:17}},{is_angle:3.301726634388628,position:{x:180,y:43}},{is_angle:3.305370704041096,position:{x:120,y:29}},{is_angle:3.3074630857276897,position:{x:45,y:11}},{is_angle:3.30969326564823,position:{x:360,y:89}},{is_angle:3.30969326564823,position:{x:4,y:1}},{is_angle:3.313366150995496,position:{x:360,y:91}},{is_angle:3.3158780537270935,position:{x:90,y:23}},{is_angle:3.3158780537270935,position:{x:120,y:31}},{is_angle:3.3196083368673586,position:{x:180,y:47}},{is_angle:3.3217703846359323,position:{x:72,y:19}},{is_angle:3.3217703846359323,position:{x:15,y:4}},{is_angle:3.326486389036264,position:{x:360,y:97}},{is_angle:3.3294187136562603,position:{x:180,y:49}},{is_angle:3.3294187136562603,position:{x:11,y:3}},{is_angle:3.3334442364597336,position:{x:40,y:11}},{is_angle:3.3334442364597336,position:{x:18,y:5}},{is_angle:3.3360210213735533,position:{x:360,y:101}},{is_angle:3.338793939981096,position:{x:60,y:17}},{is_angle:3.338793939981096,position:{x:7,y:2}},{is_angle:3.338793939981096,position:{x:360,y:103}},{is_angle:3.3400810471495497,position:{x:45,y:13}},{is_angle:3.344942278146435,position:{x:24,y:7}},{is_angle:3.348281772048838,position:{x:180,y:53}},{is_angle:3.348281772048838,position:{x:360,y:107}},{is_angle:3.3517605215244792,position:{x:10,y:3}},{is_angle:3.3541664596420055,position:{x:360,y:109}},{is_angle:3.3541664596420055,position:{x:36,y:11}},{is_angle:3.3595722216325132,position:{x:120,y:37}},{is_angle:3.3622186849455415,position:{x:45,y:14}},{is_angle:3.3646129268059264,position:{x:360,y:113}},{is_angle:3.3646129268059264,position:{x:60,y:19}},{is_angle:3.3674032746916467,position:{x:72,y:23}},{is_angle:3.3715535512218193,position:{x:90,y:29}},{is_angle:3.3715535512218193,position:{x:40,y:13}},{is_angle:3.376111621619356,position:{x:180,y:59}},{is_angle:3.377945357697393,position:{x:360,y:119}},{is_angle:3.381341158177672,position:{x:3,y:1}},{is_angle:3.381341158177672,position:{x:360,y:121}},{is_angle:3.383120115381998,position:{x:180,y:61}},{is_angle:3.387361664490354,position:{x:120,y:41}},{is_angle:3.387361664490354,position:{x:90,y:31}},{is_angle:3.3897137389733514,position:{x:72,y:25}},{is_angle:3.394021118560418,position:{x:20,y:7}},{is_angle:3.394021118560418,position:{x:360,y:127}},{is_angle:3.3972772659022694,position:{x:45,y:16}},{is_angle:3.400339317648977,position:{x:14,y:5}},{is_angle:3.400339317648977,position:{x:120,y:43}},{is_angle:3.4039165415080053,position:{x:36,y:13}},{is_angle:3.4039165415080053,position:{x:11,y:4}},{is_angle:3.4039165415080053,position:{x:360,y:131}},{is_angle:3.4083895269277558,position:{x:30,y:11}},{is_angle:3.410871015553151,position:{x:360,y:133}},{is_angle:3.410871015553151,position:{x:180,y:67}},{is_angle:3.4143631024264933,position:{x:8,y:3}},{is_angle:3.4175013716403333,position:{x:45,y:17}},{is_angle:3.4214502786142207,position:{x:360,y:137}},{is_angle:3.4214502786142207,position:{x:60,y:23}},{is_angle:3.4247470723848803,position:{x:13,y:5}},{is_angle:3.4247470723848803,position:{x:360,y:139}},{is_angle:3.4283327919567794,position:{x:18,y:7}},{is_angle:3.4283327919567794,position:{x:120,y:47}},{is_angle:3.4298303559403043,position:{x:180,y:71}},{is_angle:3.433014501482842,position:{x:360,y:143}},{is_angle:3.4355729235880377,position:{x:5,y:2}},{is_angle:3.4355729235880377,position:{x:72,y:29}},{is_angle:3.4408459649983927,position:{x:180,y:73}},{is_angle:3.4436525370840374,position:{x:120,y:49}},{is_angle:3.4436525370840374,position:{x:90,y:37}},{is_angle:3.4466426779450132,position:{x:360,y:149}},{is_angle:3.4492619582611455,position:{x:12,y:5}},{is_angle:3.4546865545117895,position:{x:360,y:151}},{is_angle:3.4546865545117895,position:{x:45,y:19}},{is_angle:3.4576706553397805,position:{x:40,y:17}},{is_angle:3.4600787355837777,position:{x:180,y:77}},{is_angle:3.4600787355837777,position:{x:72,y:31}},{is_angle:3.4632726641102436,position:{x:30,y:13}},{is_angle:3.466507315492384,position:{x:360,y:157}},{is_angle:3.4692634731653715,position:{x:180,y:79}},{is_angle:3.4692634731653715,position:{x:120,y:53}},{is_angle:3.4737821071961976,position:{x:9,y:4}},{is_angle:3.4753114313300135,position:{x:360,y:161}},{is_angle:3.4753114313300135,position:{x:20,y:9}},{is_angle:3.4781162778287653,position:{x:360,y:163}},{is_angle:3.4818498770532487,position:{x:11,y:5}},{is_angle:3.4818498770532487,position:{x:90,y:41}},{is_angle:3.486289012628446,position:{x:24,y:11}},{is_angle:3.486289012628446,position:{x:180,y:83}},{is_angle:3.4893282035507847,position:{x:360,y:167}},{is_angle:3.4929633650705276,position:{x:15,y:7}},{is_angle:3.4929633650705276,position:{x:360,y:169}},{is_angle:3.4961515302610535,position:{x:36,y:17}},{is_angle:3.5010633977933905,position:{x:40,y:19}},{is_angle:3.5010633977933905,position:{x:90,y:43}},{is_angle:3.504375743249309,position:{x:360,y:173}},{is_angle:3.5077762696856856,position:{x:60,y:29}},{is_angle:3.510954419566093,position:{x:72,y:35}},{is_angle:3.510954419566093,position:{x:45,y:22}},{is_angle:3.512759150460065,position:{x:120,y:59}},{is_angle:3.514534618153552,position:{x:180,y:89}},{is_angle:3.514534618153552,position:{x:360,y:179}},{is_angle:3.5179108163903217,position:{x:2,y:1}},{is_angle:3.51977409150935,position:{x:360,y:181}},{is_angle:3.5289546741731797,position:{x:180,y:91}},{is_angle:3.5289546741731797,position:{x:120,y:61}},{is_angle:3.5305289947487632,position:{x:45,y:23}},{is_angle:3.5348763570821293,position:{x:72,y:37}},{is_angle:3.5348763570821293,position:{x:60,y:31}},{is_angle:3.5371926284387314,position:{x:360,y:187}},{is_angle:3.53768037131479,position:{x:90,y:47}},{is_angle:3.5409540881731654,position:{x:40,y:21}},{is_angle:3.5409540881731654,position:{x:36,y:19}},{is_angle:3.543629435457298,position:{x:360,y:191}},{is_angle:3.546104742417778,position:{x:15,y:8}},{is_angle:3.546104742417778,position:{x:360,y:193}},{is_angle:3.5496712987117696,position:{x:180,y:97}},{is_angle:3.5528813318996857,position:{x:24,y:13}},{is_angle:3.555228439542176,position:{x:90,y:49}},{is_angle:3.555228439542176,position:{x:11,y:6}},{position:{x:51,y:28},is_angle:3.55889021357752,fingerprint:{pixel_count:2218,compass_size:{x:143,y:69}}},{position:{x:38,y:21},is_angle:3.563813131174987,fingerprint:{pixel_count:2220,compass_size:{x:143,y:70}}},{position:{x:70,y:39},is_angle:3.5634432373900093,fingerprint:{pixel_count:2226,compass_size:{x:143,y:70}}},{is_angle:3.5666577560023063,position:{x:180,y:101}},{is_angle:3.5666577560023063,position:{x:16,y:9}},{is_angle:3.5717794891344736,position:{x:360,y:203}},{is_angle:3.5717794891344736,position:{x:30,y:17}},{is_angle:3.5743234979933702,position:{x:72,y:41}},{is_angle:3.5763183715583438,position:{x:180,y:103}},{is_angle:3.5763183715583438,position:{x:40,y:23}},{is_angle:3.5792476082606077,position:{x:45,y:26}},{is_angle:3.583663048305333,position:{x:360,y:209}},{is_angle:3.583663048305333,position:{x:12,y:7}},{position:{x:63,y:37},is_angle:3.587938324130309,fingerprint:{pixel_count:2234,compass_size:{x:143,y:74}}},{is_angle:3.5924616813590418,position:{x:120,y:71}},{is_angle:3.5924616813590418,position:{x:180,y:107}},{is_angle:3.5949726937239492,position:{x:72,y:43}},{is_angle:3.5978074616008846,position:{x:5,y:3}},{is_angle:3.5978074616008846,position:{x:360,y:217}},{is_angle:3.6019186294998917,position:{x:180,y:109}},{is_angle:3.6038283853815742,position:{x:120,y:73}},{is_angle:3.6072135213756624,position:{x:18,y:11}},{is_angle:3.6072135213756624,position:{x:360,y:221}},{is_angle:3.609300937171638,position:{x:60,y:37}},{is_angle:3.6143293174727726,position:{x:360,y:223}},{is_angle:3.6143293174727726,position:{x:45,y:28}},{is_angle:3.6162836286374085,position:{x:8,y:5}},{is_angle:3.6188438894319037,position:{x:180,y:113}},{is_angle:3.6218659791499452,position:{x:360,y:227}},{is_angle:3.6218659791499452,position:{x:30,y:19}},{is_angle:3.624995913145785,position:{x:360,y:229}},{is_angle:3.624995913145785,position:{x:11,y:7}},{is_angle:3.6273580820355638,position:{x:36,y:23}},{is_angle:3.6273580820355638,position:{x:120,y:77}},{is_angle:3.6310532547179633,position:{x:45,y:29}},{is_angle:3.634623304436183,position:{x:360,y:233}},{is_angle:3.636764771105952,position:{x:20,y:13}},{is_angle:3.636764771105952,position:{x:72,y:47}},{is_angle:3.640165635340634,position:{x:90,y:59}},{is_angle:3.644616898742592,position:{x:120,y:79}},{is_angle:3.644616898742592,position:{x:180,y:119}},{is_angle:3.6453717165499113,position:{x:360,y:239}},{is_angle:3.650226949660968,position:{x:3,y:2}},{position:{x:85,y:57},is_angle:3.6531946504188637,fingerprint:{pixel_count:2228,compass_size:{x:138,y:82}}},{position:{x:46,y:31},is_angle:3.6551620011612918,fingerprint:{pixel_count:2228,compass_size:{x:137,y:82}}},{position:{x:31,y:21},is_angle:3.657009031790585,fingerprint:{pixel_count:2228,compass_size:{x:138,y:83}}},{is_angle:3.657009031790585,position:{x:72,y:49}},{is_angle:3.6627072349738086,position:{x:60,y:41}},{is_angle:3.664535743622088,position:{x:360,y:247}},{is_angle:3.668162377850655,position:{x:45,y:31}},{is_angle:3.668162377850655,position:{x:120,y:83}},{is_angle:3.670486074967039,position:{x:36,y:25}},{is_angle:3.674081335871058,position:{x:360,y:251}},{is_angle:3.674081335871058,position:{x:10,y:7}},{is_angle:3.67626598076588,position:{x:360,y:253}},{is_angle:3.68063648470201,position:{x:180,y:127}},{is_angle:3.68063648470201,position:{x:24,y:17}},{is_angle:3.6833013207884733,position:{x:45,y:32}},{is_angle:3.6851523384206373,position:{x:360,y:257}},{is_angle:3.687615684560972,position:{x:60,y:43}},{is_angle:3.687615684560972,position:{x:360,y:259}},{is_angle:3.69032116238286,position:{x:18,y:13}},{is_angle:3.6940078307094257,position:{x:40,y:29}},{is_angle:3.6940078307094257,position:{x:180,y:131}},{is_angle:3.6957737278086498,position:{x:360,y:263}},{is_angle:3.6998689269560097,position:{x:15,y:11}},{is_angle:3.704105115554818,position:{x:72,y:53}},{is_angle:3.704105115554818,position:{x:180,y:133}},{is_angle:3.705476508083464,position:{x:120,y:89}},{is_angle:3.7099135982801683,position:{x:90,y:67}},{is_angle:3.7099135982801683,position:{x:360,y:269}},{is_angle:3.7120712973003376,position:{x:4,y:3}},{is_angle:3.7159977522699665,position:{x:360,y:271}},{is_angle:3.7184948117223944,position:{x:45,y:34}},{is_angle:3.7184948117223944,position:{x:120,y:91}},{is_angle:3.721384495495982,position:{x:180,y:137}},{is_angle:3.7238270767303576,position:{x:72,y:55}},{is_angle:3.7238270767303576,position:{x:30,y:23}},{is_angle:3.7269824442165564,position:{x:360,y:277}},{is_angle:3.729415018096315,position:{x:180,y:139}},{is_angle:3.732424291527767,position:{x:40,y:31}},{is_angle:3.732424291527767,position:{x:9,y:7}},{is_angle:3.7360776008733305,position:{x:360,y:281}},{is_angle:3.738862843338502,position:{x:60,y:47}},{is_angle:3.738862843338502,position:{x:360,y:283}},{is_angle:3.7409178018953395,position:{x:90,y:71}},{is_angle:3.7439048078958472,position:{x:24,y:19}},{is_angle:3.7487119620047875,position:{x:180,y:143}},{is_angle:3.7487119620047875,position:{x:360,y:287}},{is_angle:3.751906102446552,position:{x:5,y:4}},{is_angle:3.754272122981402,position:{x:360,y:289}},{is_angle:3.754272122981402,position:{x:36,y:29}},{is_angle:3.7579257421811416,position:{x:120,y:97}},{is_angle:3.7586386634472078,position:{x:90,y:73}},{is_angle:3.7586386634472078,position:{x:360,y:293}},{is_angle:3.7617838125192495,position:{x:60,y:49}},{is_angle:3.7655892050628634,position:{x:11,y:9}},{is_angle:3.7655892050628634,position:{x:72,y:59}},{is_angle:3.7691441467474602,position:{x:45,y:37}},{is_angle:3.7691441467474602,position:{x:40,y:33}},{is_angle:3.772017652369047,position:{x:180,y:149}},{is_angle:3.772583569958891,position:{x:360,y:299}},{is_angle:3.772583569958891,position:{x:6,y:5}},{is_angle:3.7777003974309102,position:{x:360,y:301}},{is_angle:3.7810077707969527,position:{x:180,y:151}},{is_angle:3.7820872371196654,position:{x:120,y:101}},{is_angle:3.7820872371196654,position:{x:45,y:38}},{is_angle:3.7878988885241904,position:{x:72,y:61}},{is_angle:3.788949478077176,position:{x:20,y:17}},{is_angle:3.791761787269435,position:{x:360,y:307}},{is_angle:3.791761787269435,position:{x:90,y:77}},{is_angle:3.7978760883147173,position:{x:120,y:103}},{is_angle:3.8012360474929214,position:{x:36,y:31}},{is_angle:3.8012360474929214,position:{x:360,y:311}},{is_angle:3.8026724905520353,position:{x:15,y:13}},{position:{x:31,y:27},is_angle:3.8054822681234293,fingerprint:{pixel_count:2223,compass_size:{x:126,y:102}}},{is_angle:3.8073770166669156,position:{x:8,y:7}},{is_angle:3.813565787549377,position:{x:360,y:317}},{is_angle:3.813565787549377,position:{x:60,y:53}},{is_angle:3.8165718628879093,position:{x:360,y:319}},{is_angle:3.8191636833684144,position:{x:9,y:8}},{is_angle:3.8191636833684144,position:{x:120,y:107}},{is_angle:3.8228811543876438,position:{x:180,y:161}},{is_angle:3.828659594268599,position:{x:10,y:9}},{is_angle:3.828659594268599,position:{x:72,y:65}},{is_angle:3.8322486012422137,position:{x:180,y:163}},{is_angle:3.8353526877099093,position:{x:120,y:109}},{is_angle:3.8353526877099093,position:{x:11,y:10}},{is_angle:3.8353526877099093,position:{x:45,y:41}},{is_angle:3.8378965063379495,position:{x:360,y:329}},{is_angle:3.8401372751216645,position:{x:12,y:11}},{is_angle:3.8432534005855614,position:{x:360,y:331}},{is_angle:3.8432534005855614,position:{x:90,y:83}},{is_angle:3.845789556263037,position:{x:40,y:37}},{is_angle:3.848960294376664,position:{x:180,y:167}},{is_angle:3.848960294376664,position:{x:72,y:67}},{is_angle:3.852783060928682,position:{x:15,y:14}},{is_angle:3.857052926900539,position:{x:360,y:337}},{is_angle:3.857052926900539,position:{x:16,y:15}},{is_angle:3.857052926900539,position:{x:180,y:169}},{is_angle:3.8586967693614582,position:{x:120,y:113}},{is_angle:3.8617618354667074,position:{x:18,y:17}},{is_angle:3.864530449906806,position:{x:360,y:341}},{is_angle:3.864530449906806,position:{x:20,y:19}},{is_angle:3.8663554328032337,position:{x:360,y:343}},{is_angle:3.8693252136358827,position:{x:45,y:43}},{is_angle:3.8693252136358827,position:{x:24,y:23}},{is_angle:3.875178004554874,position:{x:180,y:173}},{is_angle:3.8774091611129617,position:{x:360,y:347}},{is_angle:3.880486423771386,position:{x:30,y:29}},{is_angle:3.880486423771386,position:{x:360,y:349}},{is_angle:3.883407393371831,position:{x:36,y:35}},{is_angle:3.884852754608514,position:{x:40,y:39}},{is_angle:3.884852754608514,position:{x:45,y:44}},{is_angle:3.887668294249075,position:{x:360,y:353}},{is_angle:3.8909563251764263,position:{x:60,y:59}},{is_angle:3.896130497901233,position:{x:72,y:71}},{is_angle:3.896130497901233,position:{x:90,y:89}},{is_angle:3.8989443840912252,position:{x:120,y:119}},{is_angle:3.900228286604056,position:{x:180,y:179}},{is_angle:3.900228286604056,position:{x:360,y:359}},{is_angle:3.9028982973089366,position:{y:1,x:1}},{is_angle:3.9054437657903804,position:{x:359,y:360}},{is_angle:3.907937443567202,position:{x:179,y:180}},{is_angle:3.907937443567202,position:{x:119,y:120}},{is_angle:3.9108045286065773,position:{x:89,y:90}},{is_angle:3.913858313151715,position:{x:71,y:72}},{is_angle:3.913858313151715,position:{x:59,y:60}},{is_angle:3.9158099147052696,position:{x:353,y:360}},{is_angle:3.920461273836646,position:{x:44,y:45}},{is_angle:3.9251281992164246,position:{x:39,y:40}},{is_angle:3.9251281992164246,position:{x:35,y:36}},{is_angle:3.9260548242495346,position:{x:349,y:360}},{is_angle:3.9292625903090426,position:{x:29,y:30}},{is_angle:3.9292625903090426,position:{x:347,y:360}},{is_angle:3.932328040163555,position:{x:173,y:180}},{is_angle:3.933997775833327,position:{x:23,y:24}},{is_angle:3.9387491986300587,position:{x:43,y:45}},{is_angle:3.9387491986300587,position:{x:343,y:360}},{is_angle:3.941946753372632,position:{x:19,y:20}},{is_angle:3.9452379094998533,position:{x:341,y:360}},{is_angle:3.9452379094998533,position:{x:17,y:18}},{is_angle:3.9476413576582545,position:{x:113,y:120}},{is_angle:3.950905218940234,position:{x:169,y:180}},{is_angle:3.950905218940234,position:{x:15,y:16}},{is_angle:3.950905218940234,position:{x:337,y:360}},{is_angle:3.9525931021141276,position:{x:14,y:15}},{is_angle:3.955887643404007,position:{x:67,y:72}},{is_angle:3.9604819054515668,position:{x:167,y:180}},{is_angle:3.9604819054515668,position:{x:37,y:40}},{is_angle:3.9635484627985917,position:{x:83,y:90}},{is_angle:3.966705111110382,position:{x:331,y:360}},{is_angle:3.966705111110382,position:{x:11,y:12}},{is_angle:3.96826827811014,position:{x:329,y:360}},{is_angle:3.9706084259790533,position:{x:41,y:45}},{is_angle:3.9706084259790533,position:{x:10,y:11}},{is_angle:3.974053985263427,position:{x:109,y:120}},{is_angle:3.974053985263427,position:{x:163,y:180}},{is_angle:3.9776763026734625,position:{x:65,y:72}},{is_angle:3.982343055207757,position:{x:9,y:10}},{is_angle:3.982343055207757,position:{x:323,y:360}},{position:{x:25,y:28},is_angle:3.983958646735207,fingerprint:{pixel_count:2226,compass_size:{x:108,y:122}}},{is_angle:3.991168870450502,position:{x:8,y:9}},{is_angle:3.991168870450502,position:{x:319,y:360}},{is_angle:3.9919041025699045,position:{x:53,y:60}},{is_angle:3.9944904260027645,position:{x:317,y:360}},{is_angle:3.9944904260027645,position:{x:79,y:90}},{is_angle:3.996994757768045,position:{x:7,y:8}},{is_angle:3.998692657608942,position:{x:157,y:180}},{is_angle:4.002505347232191,position:{x:313,y:360}},{is_angle:4.002505347232191,position:{x:13,y:15}},{is_angle:4.0075929320515655,position:{x:311,y:360}},{is_angle:4.009783790776968,position:{x:31,y:36}},{is_angle:4.009783790776968,position:{x:103,y:120}},{is_angle:4.012946150291167,position:{x:77,y:90}},{is_angle:4.0154773799744525,position:{x:307,y:360}},{is_angle:4.016958696594301,position:{x:17,y:20}},{is_angle:4.016958696594301,position:{x:61,y:72}},{is_angle:4.020028037920727,position:{x:38,y:45}},{is_angle:4.0236289795095495,position:{x:101,y:120}},{is_angle:4.0236289795095495,position:{x:151,y:180}},{is_angle:4.02765035662004,position:{x:301,y:360}},{is_angle:4.031025528306579,position:{x:5,y:6}},{is_angle:4.032170853395005,position:{x:299,y:360}},{is_angle:4.032170853395005,position:{x:149,y:180}},{position:{x:33,y:40},is_angle:4.035429288183801,fingerprint:{pixel_count:2230,compass_size:{x:101,y:126}}},{is_angle:4.038573045750358,position:{x:37,y:45}},{is_angle:4.038573045750358,position:{x:59,y:72}},{is_angle:4.041301168658637,position:{x:9,y:11}},{is_angle:4.041301168658637,position:{x:49,y:60}},{is_angle:4.046835146494648,position:{x:293,y:360}},{is_angle:4.046835146494648,position:{x:73,y:90}},{is_angle:4.04871899771625,position:{x:97,y:120}},{is_angle:4.050504585346031,position:{x:29,y:36}},{is_angle:4.053406103894959,position:{x:289,y:360}},{is_angle:4.053406103894959,position:{x:4,y:5}},{is_angle:4.0575370858580495,position:{x:287,y:360}},{is_angle:4.058445750462387,position:{x:143,y:180}},{is_angle:4.058445750462387,position:{x:19,y:24}},{is_angle:4.062582659144827,position:{x:71,y:90}},{is_angle:4.0670155144709845,position:{x:283,y:360}},{is_angle:4.069274999238722,position:{x:47,y:60}},{is_angle:4.069274999238722,position:{x:281,y:360}},{is_angle:4.072809188785122,position:{x:7,y:9}},{is_angle:4.076142977887762,position:{x:31,y:40}},{is_angle:4.076142977887762,position:{x:139,y:180}},{is_angle:4.077387060388717,position:{x:277,y:360}},{is_angle:4.080636694639331,position:{x:23,y:30}},{is_angle:4.084949456771984,position:{x:55,y:72}},{is_angle:4.084949456771984,position:{x:137,y:180}},{is_angle:4.088405161143118,position:{x:91,y:120}},{is_angle:4.09096246704417,position:{x:34,y:45}},{is_angle:4.09096246704417,position:{x:271,y:360}},{is_angle:4.092486554414475,position:{x:3,y:4}},{is_angle:4.095143702978672,position:{x:269,y:360}},{is_angle:4.0987613079855425,position:{x:67,y:90}},{is_angle:4.0987613079855425,position:{x:89,y:120}},{is_angle:4.103785533426605,position:{x:133,y:180}},{is_angle:4.1067342531812026,position:{x:53,y:72}},{is_angle:4.1067342531812026,position:{x:11,y:15}},{is_angle:4.108766196562547,position:{x:263,y:360}},{is_angle:4.1112563103735935,position:{x:131,y:180}},{is_angle:4.1112563103735935,position:{x:29,y:40}},{is_angle:4.1166031686435565,position:{x:13,y:18}},{position:{x:41,y:57},is_angle:4.116781577621872,fingerprint:{pixel_count:2234,compass_size:{x:92,y:133}}},{is_angle:4.118741353293647,position:{x:43,y:60}},{is_angle:4.118741353293647,position:{x:257,y:360}},{is_angle:4.123939200101706,position:{x:32,y:45}},{is_angle:4.1261307868143895,position:{x:17,y:24}},{is_angle:4.1261307868143895,position:{x:127,y:180}},{is_angle:4.128605119958063,position:{x:253,y:360}},{is_angle:4.133612082721696,position:{x:7,y:10}},{is_angle:4.136236727894644,position:{x:251,y:360}},{is_angle:4.136236727894644,position:{x:25,y:36}},{is_angle:4.139538957937578,position:{x:83,y:120}},{is_angle:4.1418296250702396,position:{x:31,y:45}},{is_angle:4.1418296250702396,position:{x:247,y:360}},{is_angle:4.144027716231836,position:{x:41,y:60}},{is_angle:4.147476783485084,position:{x:49,y:72}},{is_angle:4.148589151167714,position:{x:61,y:90}},{is_angle:4.148589151167714,position:{x:27,y:40}},{is_angle:4.155054634426291,position:{x:121,y:180}},{is_angle:4.157576599323266,position:{x:241,y:360}},{is_angle:4.157576599323266,position:{x:2,y:3}},{is_angle:4.161072623800795,position:{x:239,y:360}},{is_angle:4.161712320569899,position:{x:119,y:180}},{is_angle:4.163586654437944,position:{x:79,y:120}},{is_angle:4.163586654437944,position:{x:59,y:90}},{is_angle:4.16725079404181,position:{x:47,y:72}},{is_angle:4.172444321626493,position:{x:13,y:20}},{is_angle:4.172444321626493,position:{x:233,y:360}},{is_angle:4.175408767665978,position:{x:29,y:45}},{is_angle:4.176911626406578,position:{x:77,y:120}},{is_angle:4.18019498661672,position:{x:23,y:36}},{is_angle:4.18019498661672,position:{x:7,y:11}},{is_angle:4.18019498661672,position:{x:229,y:360}},{is_angle:4.183715021284571,position:{x:19,y:30}},{is_angle:4.185749957875467,position:{x:227,y:360}},{is_angle:4.185749957875467,position:{x:113,y:180}},{is_angle:4.188728506837301,position:{x:5,y:8}},{is_angle:4.19138577953779,position:{x:28,y:45}},{is_angle:4.195320639336673,position:{x:223,y:360}},{is_angle:4.195320639336673,position:{x:37,y:60}},{is_angle:4.1987182556619365,position:{x:221,y:360}},{is_angle:4.203625162490954,position:{x:11,y:18}},{is_angle:4.203625162490954,position:{x:73,y:120}},{is_angle:4.2051267525121885,position:{x:109,y:180}},{is_angle:4.205219813492141,position:{x:217,y:360}},{is_angle:4.205219813492141,position:{x:3,y:5}},{is_angle:4.210276996678528,position:{x:43,y:72}},{is_angle:4.213062480411125,position:{x:107,y:180}},{is_angle:4.214816781835651,position:{x:71,y:120}},{is_angle:4.214816781835651,position:{x:53,y:90}},{is_angle:4.219429986663513,position:{x:211,y:360}},{is_angle:4.2235561962454975,position:{x:7,y:12}},{is_angle:4.2235561962454975,position:{x:209,y:360}},{is_angle:4.226895591018446,position:{x:26,y:45}},{is_angle:4.228952864291246,position:{x:23,y:40}},{is_angle:4.230062500775912,position:{x:103,y:180}},{is_angle:4.230062500775912,position:{x:41,y:72}},{is_angle:4.233500985432709,position:{x:17,y:30}},{is_angle:4.236535414215069,position:{x:203,y:360}},{is_angle:4.236535414215069,position:{x:9,y:16}},{is_angle:4.236535414215069,position:{x:101,y:180}},{is_angle:4.242028002252099,position:{x:67,y:120}},{is_angle:4.24301731201581,position:{x:5,y:9}},{is_angle:4.245478206206838,position:{x:199,y:360}},{is_angle:4.245478206206838,position:{x:11,y:20}},{is_angle:4.248862291751176,position:{x:197,y:360}},{is_angle:4.248862291751176,position:{x:6,y:11}},{is_angle:4.251684542038527,position:{x:49,y:90}},{is_angle:4.251684542038527,position:{x:13,y:24}},{is_angle:4.252823056634553,position:{x:97,y:180}},{is_angle:4.258365475884454,position:{x:193,y:360}},{is_angle:4.261507179973604,position:{x:8,y:15}},{is_angle:4.261507179973604,position:{x:191,y:360}},{is_angle:4.264561133912263,position:{x:19,y:36}},{is_angle:4.265593081942048,position:{x:21,y:40}},{is_angle:4.265593081942048,position:{x:47,y:90}},{is_angle:4.271353923656769,position:{x:187,y:360}},{position:{x:15,y:29},is_angle:4.274209798874829,fingerprint:{pixel_count:2223,compass_size:{x:70,y:144}}},{position:{x:17,y:33},is_angle:4.274209798874829,fingerprint:{pixel_count:2223,compass_size:{x:70,y:144}}},{position:{x:20,y:39},is_angle:4.277234507390901,fingerprint:{pixel_count:2225,compass_size:{x:70,y:144}}},{position:{x:24,y:47},is_angle:4.277234507390901,fingerprint:{pixel_count:2225,compass_size:{x:70,y:144}}},{position:{x:31,y:61},is_angle:4.281124294272361,fingerprint:{pixel_count:2233,compass_size:{x:70,y:144}}},{position:{x:44,y:87},is_angle:4.280580276786011,fingerprint:{pixel_count:2221,compass_size:{x:69,y:144}}},{position:{x:80,y:159},is_angle:4.280580276786011,fingerprint:{pixel_count:2221,compass_size:{x:69,y:144}}},{is_angle:4.282989515658152,position:{x:1,y:2}},{position:{x:95,y:191},is_angle:4.287427072987949,fingerprint:{pixel_count:2206,compass_size:{x:68,y:144}}},{position:{x:52,y:105},is_angle:4.287427072987949,fingerprint:{pixel_count:2206,compass_size:{x:68,y:144}}},{position:{x:28,y:57},is_angle:4.293538878109188,fingerprint:{pixel_count:2237,compass_size:{x:68,y:145}}},{position:{x:19,y:39},is_angle:4.2944869515550845,fingerprint:{pixel_count:2231,compass_size:{x:67,y:144}}},{position:{x:15,y:31},is_angle:4.296514424398044},{position:{x:12,y:25},is_angle:4.3021091502948074,fingerprint:{pixel_count:2224,compass_size:{x:66,y:146}}},{position:{x:10,y:21},is_angle:4.304790303855945,fingerprint:{pixel_count:2230,compass_size:{x:66,y:146}}},{position:{x:26,y:55},is_angle:4.305794216861678,fingerprint:{pixel_count:2228,compass_size:{x:65,y:145}}},{is_angle:4.308464287972422,position:{x:169,y:360}},{is_angle:4.311744690429756,position:{x:7,y:15}},{is_angle:4.311744690429756,position:{x:167,y:360}},{is_angle:4.31529458274693,position:{x:83,y:180}},{is_angle:4.320364581184079,position:{x:11,y:24}},{is_angle:4.320364581184079,position:{x:41,y:90}},{is_angle:4.320966460558727,position:{x:5,y:11}},{is_angle:4.320966460558727,position:{x:163,y:360}},{is_angle:4.324211772132385,position:{x:9,y:20}},{is_angle:4.327337799886704,position:{x:161,y:360}},{is_angle:4.327337799886704,position:{x:4,y:9}},{position:{x:19,y:43},is_angle:4.330411264231209,fingerprint:{pixel_count:2223,compass_size:{x:63,y:147}}},{is_angle:4.331023506395235,position:{x:79,y:180}},{is_angle:4.331023506395235,position:{x:157,y:360}},{is_angle:4.336514314293356,position:{x:13,y:30}},{is_angle:4.339504935192248,position:{x:31,y:72}},{is_angle:4.3428573901833465,position:{x:77,y:180}},{is_angle:4.3428573901833465,position:{x:17,y:40}},{is_angle:4.343281995865514,position:{x:19,y:45}},{is_angle:4.34772974173721,position:{x:151,y:360}},{is_angle:4.34772974173721,position:{x:5,y:12}},{is_angle:4.3505207485982105,position:{x:149,y:360}},{is_angle:4.355766752506132,position:{x:37,y:90}},{is_angle:4.3606224503412925,position:{x:49,y:120}},{is_angle:4.3606224503412925,position:{x:73,y:180}},{is_angle:4.362250674092453,position:{x:29,y:72}},{is_angle:4.36442216549064,position:{x:2,y:5}},{is_angle:4.36442216549064,position:{x:143,y:360}},{is_angle:4.368925097403833,position:{x:71,y:180}},{is_angle:4.371020041651993,position:{x:47,y:120}},{is_angle:4.374115585003109,position:{x:7,y:18}},{is_angle:4.374115585003109,position:{x:139,y:360}},{is_angle:4.377637059869743,position:{x:5,y:13}},{is_angle:4.377637059869743,position:{x:23,y:60}},{is_angle:4.383023874990643,position:{x:137,y:360}},{is_angle:4.383023874990643,position:{x:17,y:45}},{is_angle:4.386040851979045,position:{x:3,y:8}},{is_angle:4.389287905111182,position:{x:67,y:180}},{is_angle:4.389287905111182,position:{x:133,y:360}},{is_angle:4.392013636868386,position:{x:11,y:30}},{is_angle:4.395202639818171,position:{x:131,y:360}},{is_angle:4.395202639818171,position:{x:4,y:11}},{is_angle:4.398463849542758,position:{x:13,y:36}},{is_angle:4.398463849542758,position:{x:43,y:120}},{is_angle:4.403773137589145,position:{x:5,y:14}},{is_angle:4.403773137589145,position:{x:16,y:45}},{position:{x:29,y:82},is_angle:4.406721544454683,fingerprint:{pixel_count:2223,compass_size:{x:55,y:150}}},{position:{x:13,y:37},is_angle:4.406721544454683,fingerprint:{pixel_count:2223,compass_size:{x:55,y:150}}},{position:{x:22,y:63},is_angle:4.410069694886161,fingerprint:{pixel_count:2233,compass_size:{x:55,y:151}}},{is_angle:4.410069694886161,position:{x:25,y:72}},{is_angle:4.412895457315679,position:{x:31,y:90}},{is_angle:4.416547946668722,position:{x:41,y:120}},{is_angle:4.416547946668722,position:{x:61,y:180}},{is_angle:4.421731919708018,position:{x:121,y:360}},{is_angle:4.42446774312352,position:{x:1,y:3}},{is_angle:4.42446774312352,position:{x:119,y:360}},{is_angle:4.427666960945537,position:{x:59,y:180}},{is_angle:4.430015922933741,position:{x:13,y:40}},{is_angle:4.435311598235647,position:{x:29,y:90}},{is_angle:4.435311598235647,position:{x:23,y:72}},{is_angle:4.438551141700033,position:{x:19,y:60}},{is_angle:4.441516886037595,position:{x:113,y:360}},{is_angle:4.441516886037595,position:{x:14,y:45}},{is_angle:4.444402108987173,position:{x:37,y:120}},{is_angle:4.447938168900908,position:{x:11,y:36}},{is_angle:4.450453718599244,position:{x:109,y:360}},{is_angle:4.450453718599244,position:{x:3,y:10}},{is_angle:4.455267333040032,position:{x:107,y:360}},{is_angle:4.458105625965164,position:{x:53,y:180}},{is_angle:4.458105625965164,position:{x:7,y:24}},{position:{x:13,y:45},is_angle:4.461943415321709,fingerprint:{pixel_count:2222,compass_size:{x:52,y:151}}},{is_angle:4.465034850081933,position:{x:2,y:7}},{position:{x:13,y:46},is_angle:4.469498330708716,fingerprint:{pixel_count:2222,compass_size:{x:51,y:151}}},{position:{x:7,y:25},is_angle:4.469498330708716,fingerprint:{pixel_count:2222,compass_size:{x:51,y:151}}},{position:{x:33,y:119},is_angle:4.472460095569196,fingerprint:{pixel_count:2226,compass_size:{x:51,y:151}}},{is_angle:4.4755399130174,position:{x:11,y:40}},{is_angle:4.4755399130174,position:{x:3,y:11}},{is_angle:4.4755399130174,position:{x:49,y:180}},{is_angle:4.477334294150127,position:{x:97,y:360}},{is_angle:4.480631497647054,position:{x:4,y:15}},{is_angle:4.483495916038778,position:{x:19,y:72}},{is_angle:4.483495916038778,position:{x:47,y:180}},{is_angle:4.487791677204204,position:{x:31,y:120}},{is_angle:4.49099804531811,position:{x:23,y:90}},{is_angle:4.49099804531811,position:{x:91,y:360}},{is_angle:4.494182470972774,position:{x:1,y:4}},{is_angle:4.498454226546306,position:{x:89,y:360}},{is_angle:4.498454226546306,position:{x:11,y:45}},{is_angle:4.501986049971553,position:{x:29,y:120}},{is_angle:4.50521441056227,position:{x:43,y:180}},{is_angle:4.5083217031846265,position:{x:17,y:72}},{is_angle:4.5083217031846265,position:{x:7,y:30}},{is_angle:4.511396584335393,position:{x:83,y:360}},{is_angle:4.515923355445767,position:{x:41,y:180}},{is_angle:4.515923355445767,position:{x:9,y:40}},{is_angle:4.518817884479197,position:{x:2,y:9}},{is_angle:4.521569561617286,position:{x:79,y:360}},{is_angle:4.525048463415176,position:{x:13,y:60}},{is_angle:4.525048463415176,position:{x:77,y:360}},{is_angle:4.5279984681946654,position:{x:19,y:90}},{is_angle:4.53085369321061,position:{x:5,y:24}},{is_angle:4.53085369321061,position:{x:37,y:180}},{is_angle:4.535648389658895,position:{x:73,y:360}},{is_angle:4.538938035552983,position:{x:1,y:5}},{is_angle:4.542908348070471,position:{x:71,y:360}},{is_angle:4.542908348070471,position:{x:7,y:36}},{is_angle:4.54586099610347,position:{x:23,y:120}},{is_angle:4.549639383475073,position:{x:17,y:90}},{is_angle:4.549639383475073,position:{x:67,y:360}},{is_angle:4.552801884755927,position:{x:11,y:60}},{is_angle:4.555137876862713,position:{x:13,y:72}},{is_angle:4.558595688101597,position:{x:8,y:45}},{is_angle:4.558595688101597,position:{x:7,y:40}},{is_angle:4.561259201114445,position:{x:31,y:180}},{is_angle:4.565298159677875,position:{x:61,y:360}},{is_angle:4.565298159677875,position:{x:1,y:6}},{is_angle:4.568225103257434,position:{x:59,y:360}},{is_angle:4.571621264487212,position:{x:29,y:180}},{is_angle:4.571621264487212,position:{x:19,y:120}},{is_angle:4.575222005642624,position:{x:7,y:45}},{is_angle:4.578300155440108,position:{x:11,y:72}},{is_angle:4.582805034170527,position:{x:3,y:20}},{is_angle:4.582805034170527,position:{x:53,y:360}},{is_angle:4.585320095049482,position:{x:13,y:90}},{is_angle:4.585320095049482,position:{x:1,y:7}},{is_angle:4.58817726522459,position:{x:17,y:120}},{is_angle:4.58817726522459,position:{x:5,y:36}},{is_angle:4.591543919039474,position:{x:49,y:360}},{is_angle:4.594738129785126,position:{x:2,y:15}},{is_angle:4.598545981611158,position:{x:47,y:360}},{is_angle:4.598545981611158,position:{x:23,y:180}},{is_angle:4.6016499795170125,position:{x:1,y:8}},{is_angle:4.604458889777544,position:{x:11,y:90}},{is_angle:4.604458889777544,position:{x:43,y:360}},{is_angle:4.607515487300373,position:{x:7,y:60}},{is_angle:4.610412238477425,position:{x:41,y:360}},{is_angle:4.613231263414003,position:{x:1,y:9}},{is_angle:4.613231263414003,position:{x:13,y:120}},{is_angle:4.6163271932323475,position:{x:19,y:180}},{is_angle:4.620257832282858,position:{x:37,y:360}},{is_angle:4.620257832282858,position:{x:1,y:10}},{is_angle:4.623109188156707,position:{x:7,y:72}},{is_angle:4.625406639454232,position:{x:17,y:180}},{is_angle:4.627944789338326,position:{x:11,y:120}},{is_angle:4.627944789338326,position:{x:1,y:11}},{position:{x:7,y:79},is_angle:4.627944789338326,fingerprint:{pixel_count:2215,compass_size:{x:42,y:152}}},{is_angle:4.631650744633582,position:{x:31,y:360}},{position:{x:1,y:12},is_angle:4.633411689300659,fingerprint:{pixel_count:2221,compass_size:{x:43,y:152}}},{is_angle:4.633411689300659,position:{x:29,y:360}},{is_angle:4.636201428395913,position:{x:7,y:90}},{is_angle:4.639890937368013,position:{x:3,y:40}},{is_angle:4.642662514211316,position:{x:13,y:180}},{is_angle:4.642662514211316,position:{x:1,y:14}},{is_angle:4.642662514211316,position:{x:5,y:72}},{is_angle:4.645901268977525,position:{x:1,y:15}},{is_angle:4.649227088985029,position:{x:23,y:360}},{is_angle:4.649227088985029,position:{x:1,y:16}},{position:{x:4,y:67},is_angle:4.65085643199127,fingerprint:{pixel_count:2223,compass_size:{x:44,y:152}}},{position:{x:3,y:53},is_angle:4.654090403874218,fingerprint:{pixel_count:2225,compass_size:{x:44,y:152}}},{position:{x:3,y:56},is_angle:4.654090403874218,fingerprint:{pixel_count:2225,compass_size:{x:44,y:152}}},{position:{x:3,y:58},is_angle:4.656868273593718,fingerprint:{pixel_count:2235,compass_size:{x:44,y:152}}},{position:{x:1,y:20},is_angle:4.656868273593718},{position:{x:4,y:85},is_angle:4.658895520863892,fingerprint:{pixel_count:2221,compass_size:{x:43,y:152}}},{position:{x:2,y:45},is_angle:4.662014276601111,fingerprint:{pixel_count:2226,compass_size:{x:43,y:152}}},{position:{x:1,y:24},is_angle:4.662014276601111,fingerprint:{pixel_count:2226,compass_size:{x:43,y:152}}},{is_angle:4.66547658030955,position:{x:7,y:180}},{position:{x:2,y:55},is_angle:4.667868554685967,fingerprint:{pixel_count:2223,compass_size:{x:43,y:152}}},{position:{x:1,y:30},is_angle:4.667868554685967,fingerprint:{pixel_count:2223,compass_size:{x:43,y:152}}},{position:{x:1,y:33},is_angle:4.671405204788708,fingerprint:{pixel_count:2224,compass_size:{x:43,y:152}}},{is_angle:4.674370840405207,position:{x:1,y:36}},{is_angle:4.677601714230379,position:{x:1,y:40}},{is_angle:4.677601714230379,position:{x:1,y:45}},{is_angle:4.680056889480085,position:{x:7,y:360}},{position:{x:1,y:60},is_angle:4.683168396609345,fingerprint:{pixel_count:2214,compass_size:{x:43,y:152}}},{is_angle:4.683168396609345,position:{x:1,y:72}},{is_angle:4.686564420703493,position:{x:1,y:90}},{is_angle:4.689475450058561,position:{x:1,y:120}},{position:{x:1,y:172},is_angle:4.691788705971604,fingerprint:{pixel_count:2225,compass_size:{x:44,y:152}}},{is_angle:4.691788705971604,position:{x:1,y:360}},{is_angle:4.694349290302718,position:{x:0,y:1}},{position:{x:-1,y:299},is_angle:4.696881498840419,fingerprint:{pixel_count:2238,compass_size:{x:44,y:152}}},{position:{x:-1,y:164},is_angle:4.700542729063056,fingerprint:{pixel_count:2228,compass_size:{x:44,y:152}}},{position:{x:-1,y:113},is_angle:4.700542729063056,fingerprint:{pixel_count:2228,compass_size:{x:44,y:152}}},{is_angle:4.703470298492628,position:{x:-1,y:90}},{is_angle:4.705184393754077,position:{x:-1,y:72}},{is_angle:4.705184393754077,position:{x:-1,y:60}},{is_angle:4.708421013053563,position:{x:-7,y:360}},{position:{x:-1,y:46},is_angle:4.711257876743246,fingerprint:{pixel_count:2224,compass_size:{x:43,y:152}}},{position:{x:-1,y:41},is_angle:4.711257876743246,fingerprint:{pixel_count:2224,compass_size:{x:43,y:152}}},{position:{x:-1,y:38},is_angle:4.714632977400117,fingerprint:{pixel_count:2222,compass_size:{x:43,y:152}}},{position:{x:-1,y:35},is_angle:4.714632977400117,fingerprint:{pixel_count:2222}},{position:{x:-1,y:33},is_angle:4.716454203924647,fingerprint:{pixel_count:2217,compass_size:{x:44,y:152}}},{position:{x:-1,y:31},is_angle:4.716454203924647,fingerprint:{pixel_count:2217,compass_size:{x:44,y:152}}},{position:{x:-3,y:88},is_angle:4.71920872500101,fingerprint:{pixel_count:2216,compass_size:{x:44,y:152}}},{is_angle:4.71920872500101,position:{x:-13,y:360}},{is_angle:4.7216846321739,position:{x:-7,y:180}},{position:{x:-1,y:24},is_angle:4.7252135304554805,fingerprint:{pixel_count:2220,compass_size:{x:44,y:152}}},{position:{x:-2,y:45},is_angle:4.7252135304554805,fingerprint:{pixel_count:2220,compass_size:{x:44,y:152}}},{position:{x:-4,y:85},is_angle:4.728507405490461,fingerprint:{pixel_count:2220,compass_size:{x:44,y:152}}},{is_angle:4.731854789904091,position:{x:-1,y:20}},{is_angle:4.731854789904091,position:{x:-19,y:360}},{position:{x:-4,y:73},is_angle:4.734873078506814,fingerprint:{pixel_count:2222,compass_size:{x:44,y:152}}},{position:{x:-2,y:35},is_angle:4.737725824588094,fingerprint:{pixel_count:2218,compass_size:{x:44,y:152}}},{position:{x:-7,y:118},is_angle:4.737725824588094,fingerprint:{pixel_count:2218,compass_size:{x:44,y:152}}},{is_angle:4.740826620285654,position:{x:-11,y:180}},{is_angle:4.740826620285654,position:{x:-1,y:16}},{position:{x:-2,y:31},is_angle:4.740826620285654,fingerprint:{pixel_count:2220,compass_size:{x:44,y:152}}},{is_angle:4.743331786836486,position:{x:-1,y:15}},{is_angle:4.746033852605171,position:{x:-5,y:72}},{is_angle:4.746033852605171,position:{x:-1,y:14}},{position:{x:-3,y:41},is_angle:4.749151693697634,fingerprint:{pixel_count:2224,compass_size:{x:45,y:152}}},{is_angle:4.749151693697635,position:{x:-3,y:40}},{is_angle:4.751526165019975,position:{x:-7,y:90}},{is_angle:4.755436266034091,position:{x:-29,y:360}},{is_angle:4.755436266034091,position:{x:-1,y:12}},{is_angle:4.758510675262775,position:{x:-31,y:360}},{position:{x:-7,y:79},is_angle:4.761524797198494,fingerprint:{pixel_count:2242,compass_size:{x:45,y:152}}},{is_angle:4.761524797198495,position:{x:-1,y:11}},{position:{x:-5,y:54},is_angle:4.763182359895364,fingerprint:{pixel_count:2246,compass_size:{x:45,y:152}}},{is_angle:4.763182359895364,position:{x:-17,y:180}},{is_angle:4.766571408440975,position:{x:-7,y:72}},{is_angle:4.772500825161534,position:{x:-1,y:10}},{is_angle:4.772500825161534,position:{x:-37,y:360}},{is_angle:4.773589196456614,position:{x:-19,y:180}},{is_angle:4.775948762059734,position:{x:-13,y:120}},{is_angle:4.775948762059734,position:{x:-1,y:9}},{is_angle:4.779206486886203,position:{x:-41,y:360}},{position:{x:-7,y:60},is_angle:4.780176244711939,fingerprint:{pixel_count:2221,compass_size:{x:45,y:152}}},{is_angle:4.78349178762378,position:{x:-43,y:360}},{is_angle:4.78349178762378,position:{x:-11,y:90}},{is_angle:4.7874049127917,position:{x:-1,y:8}},{is_angle:4.790373667134987,position:{x:-23,y:180}},{is_angle:4.790373667134987,position:{x:-47,y:360}},{is_angle:4.793152053454761,position:{x:-2,y:15}},{is_angle:4.795586965722484,position:{x:-49,y:360}},{is_angle:4.799117762523158,position:{x:-5,y:36}},{is_angle:4.799117762523158,position:{x:-17,y:120}},{is_angle:4.800868045468116,position:{x:-1,y:7}},{is_angle:4.800868045468116,position:{x:-13,y:90}},{is_angle:4.80395920720157,position:{x:-53,y:360}},{is_angle:4.80395920720157,position:{x:-3,y:20}},{is_angle:4.806870575631951,position:{x:-11,y:72}},{is_angle:4.810111644155967,position:{x:-7,y:45}},{is_angle:4.813408929213288,position:{x:-19,y:120}},{is_angle:4.813408929213288,position:{x:-29,y:180}},{is_angle:4.816778532721401,position:{x:-59,y:360}},{is_angle:4.820037495482587,position:{x:-1,y:6}},{is_angle:4.820037495482587,position:{x:-61,y:360}},{is_angle:4.822825997253562,position:{x:-31,y:180}},{is_angle:4.825993530913395,position:{x:-7,y:40}},{is_angle:4.825993530913395,position:{x:-8,y:45}},{is_angle:4.828597163013966,position:{x:-13,y:72}},{is_angle:4.830441548836789,position:{x:-11,y:60}},{is_angle:4.833458125861693,position:{x:-67,y:360}},{is_angle:4.833458125861693,position:{x:-17,y:90}},{is_angle:4.838222189895679,position:{x:-23,y:120}},{is_angle:4.840500505684566,position:{x:-7,y:36}},{is_angle:4.840500505684566,position:{x:-71,y:360}},{is_angle:4.8440608584669,position:{x:-1,y:5}},{is_angle:4.844855611115924,position:{x:-73,y:360}},{position:{x:-15,y:73},is_angle:4.847559604534185,fingerprint:{pixel_count:2228,compass_size:{x:46,y:152}}},{is_angle:4.847559604534185,position:{x:-5,y:24}},{position:{x:-15,y:71},is_angle:4.851094557248679,fingerprint:{pixel_count:2228,compass_size:{x:46,y:152}}},{is_angle:4.85393122342105,position:{x:-77,y:360}},{is_angle:4.85393122342105,position:{x:-13,y:60}},{is_angle:4.857444359373066,position:{x:-79,y:360}},{is_angle:4.860154622416136,position:{x:-2,y:9}},{is_angle:4.863334758045489,position:{x:-9,y:40}},{is_angle:4.863334758045489,position:{x:-41,y:180}},{is_angle:4.866523811833191,position:{x:-83,y:360}},{is_angle:4.869301388889686,position:{x:-7,y:30}},{position:{x:-13,y:55},is_angle:4.869301388889686,fingerprint:{pixel_count:2225,compass_size:{x:46,y:152}}},{is_angle:4.872522961183524,position:{x:-43,y:180}},{is_angle:4.876167030835993,position:{x:-29,y:120}},{is_angle:4.877502261379903,position:{x:-11,y:45}},{is_angle:4.877502261379903,position:{x:-89,y:360}},{is_angle:4.879661735659347,position:{x:-1,y:4}},{is_angle:4.884162477790391,position:{x:-91,y:360}},{is_angle:4.884162477790391,position:{x:-23,y:90}},{is_angle:4.88667438052199,position:{x:-31,y:120}},{position:{x:-6,y:23},is_angle:4.889656991577251,fingerprint:{pixel_count:2223,compass_size:{x:47,y:152}}},{is_angle:4.889656991577251,position:{x:-19,y:72}},{is_angle:4.892566711430829,position:{x:-4,y:15}},{is_angle:4.897282715831161,position:{x:-97,y:360}},{is_angle:4.900215040451158,position:{x:-49,y:180}},{is_angle:4.900215040451158,position:{x:-3,y:11}},{is_angle:4.900215040451158,position:{x:-11,y:40}},{is_angle:4.9035302848559175,position:{x:-5,y:18}},{is_angle:4.906817348168451,position:{x:-101,y:360}},{is_angle:4.906817348168451,position:{x:-17,y:60}},{is_angle:4.909590266775993,position:{x:-2,y:7}},{is_angle:4.909590266775993,position:{x:-103,y:360}},{is_angle:4.910877373944445,position:{x:-13,y:45}},{is_angle:4.915738604941332,position:{x:-7,y:24}},{is_angle:4.915738604941332,position:{x:-53,y:180}},{is_angle:4.919078098843734,position:{x:-107,y:360}},{is_angle:4.922556848319377,position:{x:-3,y:10}},{is_angle:4.922556848319377,position:{x:-109,y:360}},{is_angle:4.924962786436902,position:{x:-11,y:36}},{is_angle:4.93036854842741,position:{x:-37,y:120}},{is_angle:4.933015011740438,position:{x:-14,y:45}},{is_angle:4.933015011740438,position:{x:-113,y:360}},{is_angle:4.935409253600824,position:{x:-19,y:60}},{is_angle:4.938199601486543,position:{x:-23,y:72}},{is_angle:4.938199601486543,position:{x:-29,y:90}},{is_angle:4.942349878016715,position:{x:-13,y:40}},{position:{x:-17,y:52},is_angle:4.946907948414253,fingerprint:{pixel_count:2226,compass_size:{x:52,y:152}}},{position:{x:-24,y:73},is_angle:4.946907948414253,fingerprint:{pixel_count:2226,compass_size:{x:52,y:152}}},{position:{x:-44,y:133},is_angle:4.9487416844922905,fingerprint:{pixel_count:2221,compass_size:{x:52,y:151}}},{is_angle:4.94874168449229,position:{x:-1,y:3}},{is_angle:4.952137484972569,position:{x:-121,y:360}},{is_angle:4.9539164421768955,position:{x:-61,y:180}},{is_angle:4.9539164421768955,position:{x:-41,y:120}},{is_angle:4.958157991285251,position:{x:-31,y:90}},{is_angle:4.96051006576825,position:{x:-25,y:72}},{is_angle:4.964817445355314,position:{x:-7,y:20}},{is_angle:4.964817445355314,position:{x:-127,y:360}},{is_angle:4.9680735926971655,position:{x:-16,y:45}},{is_angle:4.9680735926971655,position:{x:-5,y:14}},{is_angle:4.971135644443874,position:{x:-43,y:120}},{is_angle:4.971135644443874,position:{x:-13,y:36}},{is_angle:4.974712868302903,position:{x:-4,y:11}},{is_angle:4.974712868302903,position:{x:-131,y:360}},{position:{x:-11,y:30},is_angle:4.979185853722653,fingerprint:{pixel_count:2228,compass_size:{x:55,y:149}}},{position:{x:-17,y:46},is_angle:4.9816673423480475,fingerprint:{pixel_count:2222,compass_size:{x:55,y:149}}},{position:{x:-16,y:43},is_angle:4.9816673423480475,fingerprint:{pixel_count:2222,compass_size:{x:55,y:149}}},{position:{x:-3,y:8},is_angle:4.985159429221389,fingerprint:{pixel_count:2222}},{position:{x:-20,y:53},is_angle:4.98829769843523,fingerprint:{pixel_count:2228,compass_size:{x:55,y:151}}},{position:{x:-19,y:50},is_angle:4.98829769843523,fingerprint:{pixel_count:2228,compass_size:{x:55,y:151}}},{position:{x:-13,y:34},is_angle:4.992316236651301,fingerprint:{pixel_count:2231,compass_size:{x:56,y:150}}},{is_angle:4.992316236651301,position:{x:-5,y:13}},{position:{x:-29,y:75},is_angle:4.995543399179777,fingerprint:{pixel_count:2225,compass_size:{x:56,y:149}}},{position:{x:-7,y:18},is_angle:4.995543399179777,fingerprint:{pixel_count:2225,compass_size:{x:56,y:149}}},{position:{x:-34,y:87},is_angle:4.999129118751676,fingerprint:{pixel_count:2220,compass_size:{x:56,y:150}}},{position:{x:-11,y:28},is_angle:5.0006266827352,fingerprint:{pixel_count:2223,compass_size:{x:57,y:149}}},{position:{x:-21,y:53},is_angle:5.0006266827352,fingerprint:{pixel_count:2223,compass_size:{x:57,y:149}}},{is_angle:5.003810828277738,position:{x:-2,y:5}},{position:{x:-31,y:77},is_angle:5.006369250382934,fingerprint:{pixel_count:2228,compass_size:{x:57,y:148}}},{position:{x:-17,y:42},is_angle:5.011642291793289,fingerprint:{pixel_count:2227,compass_size:{x:58,y:149}}},{position:{x:-24,y:59},is_angle:5.011642291793289,fingerprint:{pixel_count:2227,compass_size:{x:58,y:149}}},{position:{x:-9,y:22},is_angle:5.014448863878934,fingerprint:{pixel_count:2222,compass_size:{x:58,y:149}}},{position:{x:-30,y:73},is_angle:5.014448863878934,fingerprint:{pixel_count:2222,compass_size:{x:58,y:149}}},{position:{x:-19,y:46},is_angle:5.017439004739909,fingerprint:{pixel_count:2230,compass_size:{x:58,y:149}}},{is_angle:5.020058285056043,position:{x:-5,y:12}},{position:{x:-67,y:160},is_angle:5.0200582850560425,fingerprint:{pixel_count:2225,compass_size:{x:58,y:148}}},{position:{x:-29,y:69},is_angle:5.025482881306685,fingerprint:{pixel_count:2239,compass_size:{x:59,y:149}}},{position:{x:-67,y:159},is_angle:5.025482881306685,fingerprint:{pixel_count:2239,compass_size:{x:59,y:149}}},{position:{x:-67,y:158},is_angle:5.025482881306685,fingerprint:{pixel_count:2239,compass_size:{x:59,y:149}}},{position:{x:-14,y:33},is_angle:5.028466982134676,fingerprint:{pixel_count:2226,compass_size:{x:59,y:149}}},{position:{x:-41,y:96},is_angle:5.028466982134676,fingerprint:{pixel_count:2226,compass_size:{x:59,y:149}}},{position:{x:-34,y:79},is_angle:5.030875062378675,fingerprint:{pixel_count:2227,compass_size:{x:59,y:148}}},{position:{x:-69,y:160},is_angle:5.030875062378675,fingerprint:{pixel_count:2227,compass_size:{x:59,y:148}}},{position:{x:-19,y:44},is_angle:5.030875062378675},{position:{x:-23,y:53},is_angle:5.034068990905141,fingerprint:{pixel_count:2224,compass_size:{x:59,y:148}}},{position:{x:-69,y:158},is_angle:5.037303642287281,fingerprint:{pixel_count:2226,compass_size:{x:59,y:148}}},{position:{x:-7,y:16},is_angle:5.037303642287281,fingerprint:{pixel_count:2226,compass_size:{x:59,y:148}}},{position:{x:-15,y:34},is_angle:5.040059799960268,fingerprint:{pixel_count:2226,compass_size:{x:59,y:148}}},{is_angle:5.044578433991094,position:{x:-4,y:9}},{position:{x:-21,y:47},is_angle:5.044578433991094,fingerprint:{pixel_count:2222,compass_size:{x:60,y:148}}},{position:{x:-31,y:69},is_angle:5.04610775812491,fingerprint:{pixel_count:2222,compass_size:{x:61,y:148}}},{position:{x:-33,y:73},is_angle:5.048912604623661,fingerprint:{pixel_count:2224,compass_size:{x:61,y:147}}},{is_angle:5.048912604623661,position:{x:-5,y:11}},{position:{x:-28,y:61},is_angle:5.052646203848146,fingerprint:{pixel_count:2227,compass_size:{x:61,y:148}}},{position:{x:-23,y:50},is_angle:5.057085339423343,fingerprint:{pixel_count:2227,compass_size:{x:62,y:148}}},{position:{x:-19,y:41},is_angle:5.06012453034568,fingerprint:{pixel_count:2224,compass_size:{x:62,y:147}}},{is_angle:5.060124530345681,position:{x:-7,y:15}},{position:{x:-8,y:17},is_angle:5.063759691865424,fingerprint:{pixel_count:2227,compass_size:{x:62,y:147}}},{position:{x:-26,y:55},is_angle:5.0669478570559505,fingerprint:{pixel_count:2230,compass_size:{x:62,y:148}}},{position:{x:-19,y:40},is_angle:5.071859724588287,fingerprint:{pixel_count:2226,compass_size:{x:63,y:146}}},{position:{x:-21,y:44},is_angle:5.071859724588287,fingerprint:{pixel_count:2226,compass_size:{x:63,y:146}}},{position:{x:-23,y:48},is_angle:5.075172070044205,fingerprint:{pixel_count:2227,compass_size:{x:63,y:146}}},{position:{x:-14,y:29},is_angle:5.078572596480582},{position:{x:-18,y:37},is_angle:5.078572596480582,fingerprint:{pixel_count:2226,compass_size:{x:63,y:146}}},{position:{x:-21,y:43},is_angle:5.081750746360989,fingerprint:{pixel_count:2236,compass_size:{x:63,y:147}}},{position:{x:-26,y:53},is_angle:5.083555477254961,fingerprint:{pixel_count:2226,compass_size:{x:63,y:146}}},{position:{x:-48,y:97},is_angle:5.085330944948448,fingerprint:{pixel_count:2219,compass_size:{x:63,y:146}}},{position:{x:-49,y:99},is_angle:5.085330944948448,fingerprint:{pixel_count:2219,compass_size:{x:63,y:146}}},{position:{x:-90,y:181},is_angle:5.085330944948448,fingerprint:{pixel_count:2219,compass_size:{x:63,y:146}}},{is_angle:5.088707143185218,position:{x:-1,y:2}},{position:{x:-91,y:181},is_angle:5.090570418304247,fingerprint:{pixel_count:2192,compass_size:{x:64,y:145}}},{position:{x:-50,y:99},is_angle:5.090570418304247,fingerprint:{pixel_count:2192,compass_size:{x:64,y:145}}},{position:{x:-35,y:69},is_angle:5.099751000968077,fingerprint:{pixel_count:2243,compass_size:{x:65,y:146}}},{position:{x:-27,y:53},is_angle:5.099751000968077,fingerprint:{pixel_count:2243,compass_size:{x:65,y:146}}},{position:{x:-25,y:49},is_angle:5.101325321543659,fingerprint:{pixel_count:2237,compass_size:{x:65,y:145}}},{position:{x:-19,y:37},is_angle:5.101325321543659,fingerprint:{pixel_count:2237,compass_size:{x:65,y:145}}},{position:{x:-50,y:97},is_angle:5.105672683877025,fingerprint:{pixel_count:2230,compass_size:{x:66,y:145}}},{position:{x:-49,y:95},is_angle:5.105672683877025,fingerprint:{pixel_count:2230,compass_size:{x:66,y:145}}},{position:{x:-15,y:29},is_angle:5.105672683877025},{position:{x:-25,y:48},is_angle:5.107988955233629,fingerprint:{pixel_count:2219,compass_size:{x:66,y:145}}},{position:{x:-34,y:65},is_angle:5.108476698109688,fingerprint:{pixel_count:2226,compass_size:{x:67,y:146}}},{position:{x:-21,y:40},is_angle:5.108476698109688,fingerprint:{pixel_count:2226,compass_size:{x:67,y:146}}},{position:{x:-10,y:19},is_angle:5.111750414968061,fingerprint:{pixel_count:2225,compass_size:{x:67,y:145}}},{position:{x:-9,y:17},is_angle:5.111750414968061,fingerprint:{pixel_count:2225,compass_size:{x:67,y:145}}},{is_angle:5.1144257622521945,position:{x:-8,y:15}},{position:{x:-15,y:28},is_angle:5.116901069212675,fingerprint:{pixel_count:2223,compass_size:{x:67,y:144}}},{position:{x:-7,y:13},is_angle:5.120467625506665,fingerprint:{pixel_count:2220,compass_size:{x:69,y:145}}},{position:{x:-13,y:24},is_angle:5.123677658694582,fingerprint:{pixel_count:2220,compass_size:{x:69,y:145}}},{is_angle:5.126024766337073,position:{x:-6,y:11}},{position:{x:-35,y:64},is_angle:5.126024766337073,fingerprint:{pixel_count:2223,compass_size:{x:69,y:144}}},{position:{x:-11,y:20},is_angle:5.129686540372417,fingerprint:{pixel_count:2218,compass_size:{x:69,y:143}}},{position:{x:-26,y:47},is_angle:5.1346094579698836,fingerprint:{pixel_count:2220,compass_size:{x:70,y:143}}},{position:{x:-5,y:9},is_angle:5.1346094579698836,fingerprint:{pixel_count:2220,compass_size:{x:70,y:143}}},{position:{x:-19,y:34},is_angle:5.134239564184906,fingerprint:{pixel_count:2226,compass_size:{x:70,y:143}}},{is_angle:5.137454082797204,position:{x:-9,y:16}},{position:{x:-17,y:30},is_angle:5.142575815929369,fingerprint:{pixel_count:2228,compass_size:{x:71,y:143}}},{position:{x:-33,y:58},is_angle:5.145119824788267,fingerprint:{pixel_count:2227,compass_size:{x:71,y:142}}},{position:{x:-4,y:7},is_angle:5.145119824788267,fingerprint:{pixel_count:2227,compass_size:{x:71,y:142}}},{position:{x:-19,y:33},is_angle:5.14711469835324,fingerprint:{pixel_count:2233,compass_size:{x:72,y:143}}},{position:{x:-37,y:64},is_angle:5.150043935055505,fingerprint:{pixel_count:2229,compass_size:{x:72,y:143}}},{position:{x:-18,y:31},is_angle:5.15445937510023},{position:{x:-7,y:12},is_angle:5.15445937510023,fingerprint:{pixel_count:2229,compass_size:{x:73,y:142}}},{position:{x:-17,y:29},is_angle:5.156575246889694,fingerprint:{pixel_count:2233,compass_size:{x:73,y:142}}},{position:{x:-63,y:107},is_angle:5.158734650925206,fingerprint:{pixel_count:2234,compass_size:{x:74,y:143}}},{position:{x:-13,y:22},is_angle:5.158734650925206,fingerprint:{pixel_count:2234,compass_size:{x:74,y:143}}},{position:{x:-25,y:42},is_angle:5.163258008153939,fingerprint:{pixel_count:2202,compass_size:{x:74,y:142}}},{position:{x:-46,y:77},is_angle:5.165769020518846,fingerprint:{pixel_count:2216,compass_size:{x:74,y:142}}},{is_angle:5.168603788395782,position:{x:-3,y:5}},{position:{x:-29,y:48},is_angle:5.172714956294789,fingerprint:{pixel_count:2233,compass_size:{x:75,y:140}}},{is_angle:5.174624712176471,position:{x:-73,y:120}},{is_angle:5.174624712176471,position:{x:-11,y:18}},{is_angle:5.178009848170559,position:{x:-221,y:360}},{is_angle:5.180097263966535,position:{x:-37,y:60}},{is_angle:5.180097263966535,position:{x:-223,y:360}},{is_angle:5.185125644267669,position:{x:-28,y:45}},{is_angle:5.187079955432305,position:{x:-5,y:8}},{is_angle:5.1896402162268,position:{x:-113,y:180}},{is_angle:5.1896402162268,position:{x:-227,y:360}},{is_angle:5.192662305944842,position:{x:-19,y:30}},{is_angle:5.1957922399406815,position:{x:-229,y:360}},{is_angle:5.1957922399406815,position:{x:-7,y:11}},{is_angle:5.1957922399406815,position:{x:-23,y:36}},{is_angle:5.198154408830461,position:{x:-77,y:120}},{is_angle:5.20184958151286,position:{x:-29,y:45}},{is_angle:5.20541963123108,position:{x:-233,y:360}},{is_angle:5.20541963123108,position:{x:-13,y:20}},{is_angle:5.207561097900848,position:{x:-47,y:72}},{is_angle:5.21096196213553,position:{x:-59,y:90}},{is_angle:5.21096196213553,position:{x:-79,y:120}},{is_angle:5.215413225537489,position:{x:-119,y:180}},{position:{x:-73,y:110},is_angle:5.216168043344807,fingerprint:{pixel_count:2229,compass_size:{x:81,y:138}}},{is_angle:5.221023276455865,position:{x:-2,y:3}},{position:{x:-47,y:70},is_angle:5.223990977213759,fingerprint:{pixel_count:2228,compass_size:{x:82,y:138}}},{position:{x:-25,y:37},is_angle:5.225958327956188,fingerprint:{pixel_count:2228,compass_size:{x:82,y:137}}},{position:{x:-36,y:53},is_angle:5.227805358585481,fingerprint:{pixel_count:2228,compass_size:{x:83,y:138}}},{is_angle:5.233503561768705,position:{x:-41,y:60}},{is_angle:5.235332070416984,position:{x:-247,y:360}},{is_angle:5.235332070416984,position:{x:-31,y:45}},{position:{x:-25,y:36},is_angle:5.241282401761936,fingerprint:{pixel_count:2227,compass_size:{x:84,y:137}}},{position:{x:-23,y:33},is_angle:5.241282401761936,fingerprint:{pixel_count:2227,compass_size:{x:84,y:137}}},{is_angle:5.244877662665955,position:{x:-7,y:10}},{position:{x:-31,y:44},is_angle:5.247062307560777,fingerprint:{pixel_count:2222,compass_size:{x:85,y:136}}},{position:{x:-17,y:24},is_angle:5.251432811496906,fingerprint:{pixel_count:2226,compass_size:{x:86,y:136}}},{position:{x:-67,y:94},is_angle:5.25409764758337,fingerprint:{pixel_count:2224,compass_size:{x:86,y:135}}},{position:{x:-28,y:39},is_angle:5.258412011355869},{position:{x:-44,y:61},is_angle:5.261117489177757,fingerprint:{pixel_count:2228,compass_size:{x:87,y:135}}},{position:{x:-29,y:40},is_angle:5.264804157504322,fingerprint:{pixel_count:2231,compass_size:{x:87,y:135}}},{position:{x:-35,y:48},is_angle:5.266570054603548,fingerprint:{pixel_count:2230,compass_size:{x:87,y:134}}},{is_angle:5.270665253750906,position:{x:-11,y:15}},{position:{x:-45,y:61},is_angle:5.274901442349716,fingerprint:{pixel_count:2226,compass_size:{x:89,y:134}}},{position:{x:-23,y:31},is_angle:5.276272834878361,fingerprint:{pixel_count:2231,compass_size:{x:89,y:134}}},{position:{x:-44,y:59},is_angle:5.280709925075065,fingerprint:{pixel_count:2229,compass_size:{x:90,y:134}}},{is_angle:5.282867624095234,position:{x:-3,y:4}},{position:{x:-46,y:61},is_angle:5.286794079064863,fingerprint:{pixel_count:2228,compass_size:{x:91,y:133}}},{position:{x:-25,y:33},is_angle:5.2892911385172905,fingerprint:{pixel_count:2225,compass_size:{x:91,y:133}}},{position:{x:-35,y:46},is_angle:5.292180822290878,fingerprint:{pixel_count:2223,compass_size:{x:91,y:133}}},{position:{x:-13,y:17},is_angle:5.294623403525255,fingerprint:{pixel_count:2233}},{position:{x:-43,y:56},is_angle:5.294623403525255,fingerprint:{pixel_count:2233,compass_size:{x:91,y:132}}},{position:{x:-27,y:35},is_angle:5.297778771011454,fingerprint:{pixel_count:2229,compass_size:{x:91,y:132}}},{position:{x:-55,y:71},is_angle:5.300211344891212,fingerprint:{pixel_count:2222,compass_size:{x:93,y:132}}},{is_angle:5.303220618322664,position:{x:-7,y:9}},{position:{x:-18,y:23},is_angle:5.306873927668228,fingerprint:{pixel_count:2231,compass_size:{x:93,y:132}}},{position:{x:-37,y:47},is_angle:5.309659170133399,fingerprint:{pixel_count:2222,compass_size:{x:93,y:132}}},{position:{x:-19,y:24},is_angle:5.314701134690743,fingerprint:{pixel_count:2233,compass_size:{x:94,y:132}}},{position:{x:-39,y:49},is_angle:5.3195082887996845},{position:{x:-135,y:169},is_angle:5.3195082887996845,fingerprint:{pixel_count:2226,compass_size:{x:95,y:130}}},{position:{x:-69,y:86},is_angle:5.322702429241449,fingerprint:{pixel_count:2228,compass_size:{x:95,y:130}}},{position:{x:-21,y:26},is_angle:5.328722068976039,fingerprint:{pixel_count:2222,compass_size:{x:95,y:130}}},{position:{x:-13,y:16},is_angle:5.329434990242104,fingerprint:{pixel_count:2213,compass_size:{x:96,y:130}}},{position:{x:-53,y:65},is_angle:5.332580139314147,fingerprint:{pixel_count:2220,compass_size:{x:96,y:130}}},{is_angle:5.332580139314147,position:{x:-9,y:11}},{position:{x:-37,y:45},is_angle:5.33638553185776,fingerprint:{pixel_count:2233,compass_size:{x:96,y:128}}},{position:{x:-19,y:23},is_angle:5.339940473542355,fingerprint:{pixel_count:2230,compass_size:{x:97,y:129}}},{position:{x:-39,y:47},is_angle:5.342813979163942,fingerprint:{pixel_count:2227,compass_size:{x:97,y:129}}},{is_angle:5.343379896753788,position:{x:-5,y:6}},{position:{x:-31,y:37},is_angle:5.348496724225807,fingerprint:{pixel_count:2233,compass_size:{x:98,y:128}}},{position:{x:-16,y:19},is_angle:5.351804097591849,fingerprint:{pixel_count:2231,compass_size:{x:98,y:128}}},{position:{x:-11,y:13},is_angle:5.352883563914562,fingerprint:{pixel_count:2231,compass_size:{x:98,y:127}}},{position:{x:-17,y:20},is_angle:5.358695215319088,fingerprint:{pixel_count:2227}},{position:{x:-41,y:48},is_angle:5.362558114064331,fingerprint:{pixel_count:2226,compass_size:{x:100,y:127}}},{position:{x:-67,y:78},is_angle:5.368672415109615,fingerprint:{pixel_count:2226,compass_size:{x:101,y:126}}},{position:{x:-44,y:51},is_angle:5.372032374287819,fingerprint:{pixel_count:2227,compass_size:{x:101,y:126}}},{is_angle:5.3734688173469305,position:{x:-13,y:15}},{position:{x:-41,y:47},is_angle:5.376278594918326,fingerprint:{pixel_count:2223,compass_size:{x:102,y:126}}},{position:{x:-127,y:145},is_angle:5.378173343461812,fingerprint:{pixel_count:2226,compass_size:{x:102,y:125}}},{position:{x:-29,y:33},is_angle:5.381322222506477,fingerprint:{pixel_count:2229,compass_size:{x:102,y:125}}},{position:{x:-38,y:43},is_angle:5.384362114344274,fingerprint:{pixel_count:2223,compass_size:{x:102,y:125}}},{position:{x:-8,y:9},is_angle:5.387368189682807},{position:{x:-42,y:47},is_angle:5.393677481182539,fingerprint:{pixel_count:2231,compass_size:{x:104,y:125}}},{position:{x:-44,y:49},is_angle:5.396842625192246,fingerprint:{pixel_count:2228,compass_size:{x:104,y:123}}},{position:{x:-28,y:31},is_angle:5.399455921063495,fingerprint:{pixel_count:2227,compass_size:{x:104,y:123}}},{is_angle:5.4061490145048055,position:{x:-10,y:11}},{position:{x:-21,y:23},is_angle:5.4086928331328465,fingerprint:{pixel_count:2225,compass_size:{x:106,y:123}}},{position:{x:-11,y:12},is_angle:5.410933601916561,fingerprint:{pixel_count:2231,compass_size:{x:106,y:122}}},{position:{x:-23,y:25},is_angle:5.410933601916561,fingerprint:{pixel_count:2231,compass_size:{x:106,y:122}}},{position:{x:-12,y:13},is_angle:5.4140497273804575,fingerprint:{pixel_count:2232,compass_size:{x:106,y:122}}},{position:{x:-38,y:41},is_angle:5.416585883057934,fingerprint:{pixel_count:2223,compass_size:{x:106,y:122}}},{position:{x:-40,y:43},is_angle:5.419756621171561,fingerprint:{pixel_count:2221,compass_size:{x:106,y:122}}},{position:{x:-71,y:76},is_angle:5.423579387723578,fingerprint:{pixel_count:2220,compass_size:{x:108,y:122}}},{is_angle:5.427849253695435,position:{x:-15,y:16}},{position:{x:-16,y:17},is_angle:5.429493096156355,fingerprint:{pixel_count:2227,compass_size:{x:108,y:120}}},{position:{x:-17,y:18},is_angle:5.4325581622616035,fingerprint:{pixel_count:2232,compass_size:{x:108,y:120}}},{position:{x:-37,y:39},is_angle:5.435326776701703,fingerprint:{pixel_count:2227,compass_size:{x:108,y:120}}},{position:{x:-20,y:21},is_angle:5.43715175959813,fingerprint:{pixel_count:2231,compass_size:{x:109,y:120}}},{position:{x:-23,y:24},is_angle:5.440121540430779,fingerprint:{pixel_count:2231,compass_size:{x:109,y:120}}},{position:{x:-51,y:53},is_angle:5.44597433134977,fingerprint:{pixel_count:2226,compass_size:{x:110,y:119}}},{position:{x:-28,y:29},is_angle:5.448205487907859},{position:{x:-63,y:65},is_angle:5.451282750566282,fingerprint:{pixel_count:2221,compass_size:{x:111,y:119}}},{position:{x:-36,y:37},is_angle:5.454203720166729,fingerprint:{pixel_count:2223,compass_size:{x:110,y:118}}},{position:{x:-42,y:43},is_angle:5.45564908140341,fingerprint:{pixel_count:2221,compass_size:{x:111,y:118}}},{position:{x:-52,y:53},is_angle:5.458464621043972,fingerprint:{pixel_count:2223}},{position:{x:-66,y:67},is_angle:5.461752651971323,fingerprint:{pixel_count:2226,compass_size:{x:112,y:117}}},{position:{x:-95,y:96},is_angle:5.46692682469613,fingerprint:{pixel_count:2226,compass_size:{x:112,y:116}}},{position:{x:-174,y:175},is_angle:5.469740710886122,fingerprint:{pixel_count:2224,compass_size:{x:112,y:116}}},{is_angle:5.473694624103833,position:{x:-1,y:1}},{position:{x:-176,y:175},is_angle:5.476240092585277,fingerprint:{pixel_count:2232,compass_size:{x:113,y:116}}},{position:{x:-97,y:96},is_angle:5.481600855401473,fingerprint:{pixel_count:2220,compass_size:{x:113,y:115}}},{position:{x:-96,y:95},is_angle:5.481600855401473,fingerprint:{pixel_count:2220,compass_size:{x:113,y:115}}},{position:{x:-67,y:66},is_angle:5.48465463994661,fingerprint:{pixel_count:2215,compass_size:{x:113,y:115}}},{position:{x:-53,y:52},is_angle:5.486606241500167,fingerprint:{pixel_count:2216}},{position:{x:-97,y:95},is_angle:5.486606241500167,fingerprint:{pixel_count:2216,compass_size:{x:114,y:115}}},{position:{x:-37,y:36},is_angle:5.495924526011321,fingerprint:{pixel_count:2230,compass_size:{x:115,y:114}}},{position:{x:-65,y:63},is_angle:5.496851151044431,fingerprint:{pixel_count:2227,compass_size:{x:115,y:113}}},{position:{x:-29,y:28},is_angle:5.500058917103939},{position:{x:-53,y:51},is_angle:5.503124366958451,fingerprint:{pixel_count:2225,compass_size:{x:115,y:113}}},{position:{x:-24,y:23},is_angle:5.504794102628224,fingerprint:{pixel_count:2225,compass_size:{x:116,y:113}}},{position:{x:-21,y:20},is_angle:5.509545525424955,fingerprint:{pixel_count:2223,compass_size:{x:117,y:113}}},{position:{x:-39,y:37},is_angle:5.512743080167527,fingerprint:{pixel_count:2222,compass_size:{x:117,y:111}}},{position:{x:-18,y:17},is_angle:5.5160342362947485,fingerprint:{pixel_count:2223,compass_size:{x:117,y:111}}},{position:{x:-17,y:16},is_angle:5.51843768445315,fingerprint:{pixel_count:2222,compass_size:{x:117,y:111}}},{is_angle:5.521701545735128,position:{x:-16,y:15}},{position:{x:-76,y:71},is_angle:5.5233894289090255,fingerprint:{pixel_count:2223,compass_size:{x:118,y:111}}},{position:{x:-43,y:40},is_angle:5.526683970198904,fingerprint:{pixel_count:2227,compass_size:{x:118,y:111}}},{position:{x:-41,y:38},is_angle:5.531278232246462,fingerprint:{pixel_count:2223,compass_size:{x:119,y:109}}},{position:{x:-13,y:12},is_angle:5.5343447895934865,fingerprint:{pixel_count:2233,compass_size:{x:119,y:109}}},{position:{x:-25,y:23},is_angle:5.5343447895934865,fingerprint:{pixel_count:2233,compass_size:{x:119,y:109}}},{position:{x:-12,y:11},is_angle:5.537501437905278,fingerprint:{pixel_count:2230,compass_size:{x:119,y:109}}},{position:{x:-23,y:21},is_angle:5.539064604905037,fingerprint:{pixel_count:2231,compass_size:{x:120,y:109}}},{is_angle:5.541404752773951,position:{x:-11,y:10}},{position:{x:-21,y:19},is_angle:5.544850312058324,fingerprint:{pixel_count:2233,compass_size:{x:120,y:108}}},{position:{x:-10,y:9},is_angle:5.548472629468359,fingerprint:{pixel_count:2219,compass_size:{x:121,y:108}}},{position:{x:-29,y:26},is_angle:5.5531393820026524,fingerprint:{pixel_count:2214,compass_size:{x:121,y:107}}},{position:{x:-28,y:25},is_angle:5.555806276281106,fingerprint:{pixel_count:2216,compass_size:{x:121,y:107}}},{position:{x:-91,y:81},is_angle:5.5547549735301045,fingerprint:{pixel_count:2226,compass_size:{x:122,y:108}}},{position:{x:-53,y:47},is_angle:5.561965197245399,fingerprint:{pixel_count:2218,compass_size:{x:122,y:107}}},{position:{x:-17,y:15},is_angle:5.562700429364801,fingerprint:{pixel_count:2219,compass_size:{x:122,y:106}}},{position:{x:-49,y:43},is_angle:5.565286752797662,fingerprint:{pixel_count:2227,compass_size:{x:122,y:106}}},{is_angle:5.569488984403839,position:{x:-180,y:157}},{is_angle:5.573301674027087,position:{x:-15,y:13}},{is_angle:5.57838925884646,position:{x:-360,y:311}},{is_angle:5.57838925884646,position:{x:-36,y:31}},{is_angle:5.580580117571865,position:{x:-120,y:103}},{is_angle:5.583742477086065,position:{x:-90,y:77}},{is_angle:5.58627370676935,position:{x:-20,y:17}},{is_angle:5.587755023389199,position:{x:-72,y:61}},{is_angle:5.5908243647156235,position:{x:-45,y:38}},{is_angle:5.5908243647156235,position:{x:-120,y:101}},{is_angle:5.594425306304444,position:{x:-180,y:151}},{is_angle:5.598446683414936,position:{x:-360,y:301}},{is_angle:5.601821855101476,position:{x:-6,y:5}},{is_angle:5.601821855101476,position:{x:-360,y:299}},{is_angle:5.602967180189902,position:{x:-180,y:149}},{position:{x:-62,y:51},is_angle:5.6062256149786975,fingerprint:{pixel_count:2230,compass_size:{x:126,y:101}}},{is_angle:5.609369372545255,position:{x:-11,y:9}},{is_angle:5.6120974954535345,position:{x:-60,y:49}},{is_angle:5.617631473289546,position:{x:-360,y:293}},{is_angle:5.617631473289546,position:{x:-90,y:73}},{is_angle:5.6195153245111475,position:{x:-120,y:97}},{is_angle:5.621300912140926,position:{x:-36,y:29}},{position:{x:-66,y:53},is_angle:5.621300912140926,fingerprint:{pixel_count:2225,compass_size:{x:127,y:99}}},{position:{x:-5,y:4},is_angle:5.624202430689854,fingerprint:{pixel_count:2225,compass_size:{x:127,y:99}}},{position:{x:-39,y:31},is_angle:5.628333412652946,fingerprint:{pixel_count:2228,compass_size:{x:128,y:99}}},{position:{x:-43,y:34},is_angle:5.629242077257283,fingerprint:{pixel_count:2222,compass_size:{x:128,y:98}}},{is_angle:5.637811841265882,position:{x:-360,y:283}},{position:{x:-55,y:43},is_angle:5.640071326033619,fingerprint:{pixel_count:2227,compass_size:{x:129,y:97}}},{is_angle:5.643605515580019,position:{x:-9,y:7}},{is_angle:5.643605515580019,position:{x:-40,y:31}},{position:{x:-35,y:27},is_angle:5.646939304682658,fingerprint:{pixel_count:2221,compass_size:{x:130,y:97}}},{position:{x:-56,y:43},is_angle:5.648183387183614,fingerprint:{pixel_count:2226,compass_size:{x:130,y:96}}},{position:{x:-17,y:13},is_angle:5.651433021434228,fingerprint:{pixel_count:2226,compass_size:{x:130,y:96}}},{position:{x:-21,y:16},is_angle:5.65574578356688,fingerprint:{pixel_count:2219}},{position:{x:-54,y:41},is_angle:5.659201487938015,fingerprint:{pixel_count:2229,compass_size:{x:131,y:95}}},{position:{x:-41,y:31},is_angle:5.659201487938015,fingerprint:{pixel_count:2229,compass_size:{x:131,y:95}}},{position:{x:-77,y:58},is_angle:5.661758793839066,fingerprint:{pixel_count:2227,compass_size:{x:131,y:95}}},{is_angle:5.663282881209373,position:{x:-4,y:3}},{position:{x:-59,y:44},is_angle:5.665940029773569,fingerprint:{pixel_count:2227,compass_size:{x:131,y:94}}},{position:{x:-31,y:23},is_angle:5.669557634780439,fingerprint:{pixel_count:2230,compass_size:{x:131,y:94}}},{position:{x:-61,y:45},is_angle:5.674581860221503,fingerprint:{pixel_count:2228,compass_size:{x:131,y:93}}},{is_angle:5.6775305799761,position:{x:-15,y:11}},{position:{x:-26,y:19},is_angle:5.6795625233574425,fingerprint:{pixel_count:2234,compass_size:{x:132,y:92}}},{is_angle:5.68205263716849,position:{x:-180,y:131}},{is_angle:5.68205263716849,position:{x:-40,y:29}},{is_angle:5.687399495438453,position:{x:-18,y:13}},{is_angle:5.687577904416768,position:{x:-360,y:259}},{is_angle:5.687577904416768,position:{x:-60,y:43}},{position:{x:-66,y:47},is_angle:5.6947355268966025,fingerprint:{pixel_count:2229,compass_size:{x:134,y:90}}},{position:{x:-24,y:17},is_angle:5.696927113609285,fingerprint:{pixel_count:2227,compass_size:{x:133,y:90}}},{position:{x:-44,y:31},is_angle:5.696927113609285,fingerprint:{pixel_count:2227,compass_size:{x:133,y:90}}},{is_angle:5.704408409516592,position:{x:-10,y:7}},{position:{x:-56,y:39},is_angle:5.70703305468954,fingerprint:{pixel_count:2222,compass_size:{x:134,y:88}}},{position:{x:-13,y:9},is_angle:5.710335284732475,fingerprint:{pixel_count:2228,compass_size:{x:135,y:88}}},{position:{x:-16,y:11},is_angle:5.712625951865136,fingerprint:{pixel_count:2227,compass_size:{x:135,y:88}}},{is_angle:5.714824043026732,position:{x:-60,y:41}},{is_angle:5.718273110279981,position:{x:-72,y:49}},{is_angle:5.718273110279981,position:{x:-90,y:61}},{is_angle:5.719385477962612,position:{x:-40,y:27}},{is_angle:5.7258509612211865,position:{x:-180,y:121}},{is_angle:5.7258509612211865,position:{x:-360,y:241}},{is_angle:5.728372926118163,position:{x:-3,y:2}},{is_angle:5.7318689505956915,position:{x:-360,y:239}},{position:{x:-47,y:31},is_angle:5.732508647364797,fingerprint:{pixel_count:2226,compass_size:{x:135,y:85}}},{is_angle:5.734382981232841,position:{x:-90,y:59}},{position:{x:-43,y:28},is_angle:5.738047120836708,fingerprint:{pixel_count:2225,compass_size:{x:137,y:85}}},{is_angle:5.743240648421389,position:{x:-360,y:233}},{position:{x:-45,y:29},is_angle:5.7462050944608745,fingerprint:{pixel_count:2226,compass_size:{x:138,y:84}}},{position:{x:-53,y:34},is_angle:5.747707953201475,fingerprint:{pixel_count:2229,compass_size:{x:137,y:83}}},{position:{x:-36,y:23},is_angle:5.747707953201475,fingerprint:{pixel_count:2229,compass_size:{x:137,y:83}}},{is_angle:5.7509913134116175,position:{x:-11,y:7}},{position:{x:-30,y:19},is_angle:5.754511348079468,fingerprint:{pixel_count:2225,compass_size:{x:139,y:83}}},{is_angle:5.754511348079468,position:{x:-360,y:227}},{is_angle:5.756546284670364,position:{x:-180,y:113}},{position:{x:-8,y:5},is_angle:5.759524833632198,fingerprint:{pixel_count:2215,compass_size:{x:137,y:81}}},{position:{x:-45,y:28},is_angle:5.762182106332687,fingerprint:{pixel_count:2224,compass_size:{x:138,y:81}}},{position:{x:-71,y:44},is_angle:5.762182106332687,fingerprint:{pixel_count:2224,compass_size:{x:138,y:81}}},{is_angle:5.76611696613157,position:{x:-60,y:37}},{is_angle:5.769514582456833,position:{x:-360,y:221}},{is_angle:5.769514582456833,position:{x:-18,y:11}},{is_angle:5.77442148928585,position:{x:-120,y:73}},{position:{x:-28,y:17},is_angle:5.77442148928585,fingerprint:{pixel_count:2222,compass_size:{x:140,y:80}}},{is_angle:5.775923079307085,position:{x:-180,y:109}},{is_angle:5.7760161402870365,position:{x:-360,y:217}},{is_angle:5.7760161402870365,position:{x:-5,y:3}},{position:{x:-47,y:28},is_angle:5.781073323473424,fingerprint:{pixel_count:2222,compass_size:{x:140,y:79}}},{is_angle:5.7838588072060215,position:{x:-120,y:71}},{position:{x:-73,y:43},is_angle:5.785613108630548,fingerprint:{pixel_count:2228,compass_size:{x:140,y:78}}},{position:{x:-29,y:17},is_angle:5.79022631345841,fingerprint:{pixel_count:2227,compass_size:{x:140,y:77}}},{position:{x:-12,y:7},is_angle:5.794352523040395,fingerprint:{pixel_count:2231,compass_size:{x:140,y:77}}},{is_angle:5.794352523040395,position:{x:-360,y:209}},{is_angle:5.797691917813344,position:{x:-45,y:26}},{is_angle:5.799749191086144,position:{x:-40,y:23}},{is_angle:5.799749191086144,position:{x:-180,y:103}},{is_angle:5.800858827570808,position:{x:-72,y:41}},{is_angle:5.804297312227606,position:{x:-30,y:17}},{is_angle:5.804297312227606,position:{x:-360,y:203}},{is_angle:5.807331741009965,position:{x:-16,y:9}},{is_angle:5.807331741009965,position:{x:-180,y:101}},{is_angle:5.812824329046996,position:{x:-120,y:67}},{is_angle:5.813813638810706,position:{x:-9,y:5}},{is_angle:5.813813638810706,position:{x:-360,y:199}},{position:{x:-20,y:11},is_angle:5.816274533001734,fingerprint:{pixel_count:2227,compass_size:{x:142,y:74}}},{is_angle:5.819658618546073,position:{x:-360,y:197}},{is_angle:5.819658618546073,position:{x:-11,y:6}},{is_angle:5.819658618546073,position:{x:-90,y:49}},{is_angle:5.8224808688334235,position:{x:-24,y:13}},{is_angle:5.823619383429449,position:{x:-180,y:97}},{is_angle:5.8291618026793515,position:{x:-360,y:193}},{is_angle:5.8291618026793515,position:{x:-15,y:8}},{position:{x:-83,y:44},is_angle:5.8323035067685005,fingerprint:{pixel_count:2228,compass_size:{x:143,y:72}}},{position:{x:-19,y:10},is_angle:5.835357460707159,fingerprint:{pixel_count:2228,compass_size:{x:144,y:72}}},{position:{x:-44,y:23},is_angle:5.836389408736944,fingerprint:{pixel_count:2227,compass_size:{x:143,y:71}}},{position:{x:-73,y:38},is_angle:5.842150250451666,fingerprint:{pixel_count:2229,compass_size:{x:143,y:70}}},{position:{x:-27,y:14},is_angle:5.842150250451666},{position:{x:-33,y:17},is_angle:5.845006125669725,fingerprint:{pixel_count:2223,compass_size:{x:144,y:70}}},{position:{x:-45,y:23},is_angle:5.8480308341857965,fingerprint:{pixel_count:2225,compass_size:{x:144,y:70}}},{position:{x:-57,y:29},is_angle:5.851920621067257,fingerprint:{pixel_count:2233,compass_size:{x:144,y:70}}},{position:{x:-83,y:42},is_angle:5.851920621067257,fingerprint:{pixel_count:2233,compass_size:{x:144,y:70}}},{position:{x:-153,y:77},is_angle:5.851376603580907,fingerprint:{pixel_count:2221,compass_size:{x:144,y:69}}},{is_angle:5.85378584245305,position:{x:-2,y:1}},{is_angle:5.858223399782846,position:{x:-360,y:179}},{is_angle:5.858223399782846,position:{x:-180,y:89}},{position:{x:-65,y:32},is_angle:5.864335204904085,fingerprint:{pixel_count:2237,compass_size:{x:145,y:68}}},{position:{x:-51,y:25},is_angle:5.864335204904085,fingerprint:{pixel_count:2237,compass_size:{x:145,y:68}}},{position:{x:-37,y:18},is_angle:5.865283278349983,fingerprint:{pixel_count:2231,compass_size:{x:144,y:67}}},{position:{x:-60,y:29},is_angle:5.867310751192941,fingerprint:{pixel_count:2228,compass_size:{x:144,y:67}}},{position:{x:-25,y:12},is_angle:5.872905477089702},{position:{x:-65,y:31},is_angle:5.875586630650841,fingerprint:{pixel_count:2230,compass_size:{x:146,y:66}}},{position:{x:-19,y:9},is_angle:5.876590543656573,fingerprint:{pixel_count:2228,compass_size:{x:145,y:65}}},{position:{x:-83,y:39},is_angle:5.879260614767319,fingerprint:{pixel_count:2232,compass_size:{x:146,y:65}}},{is_angle:5.879260614767319,position:{x:-15,y:7}},{position:{x:-41,y:19},is_angle:5.8825410172246535,fingerprint:{pixel_count:2239,compass_size:{x:146,y:65}}},{position:{x:-50,y:23},is_angle:5.886090909541827,fingerprint:{pixel_count:2232,compass_size:{x:146,y:65}}},{position:{x:-35,y:16},is_angle:5.891160907978976,fingerprint:{pixel_count:2229,compass_size:{x:147,y:64}}},{is_angle:5.891160907978975,position:{x:-11,y:5}},{is_angle:5.891762787353623,position:{x:-360,y:163}},{is_angle:5.895008098927281,position:{x:-20,y:9}},{is_angle:5.895008098927281,position:{x:-360,y:161}},{is_angle:5.8981341266816,position:{x:-9,y:4}},{is_angle:5.901207591026106,position:{x:-120,y:53}},{position:{x:-73,y:32},is_angle:5.901819833190131,fingerprint:{pixel_count:2229,compass_size:{x:146,y:62}}},{position:{x:-23,y:10},is_angle:5.907310641088252,fingerprint:{pixel_count:2236,compass_size:{x:147,y:61}}},{position:{x:-44,y:19},is_angle:5.907310641088252,fingerprint:{pixel_count:2236,compass_size:{x:147,y:61}}},{position:{x:-7,y:3},is_angle:5.910301261987144},{position:{x:-54,y:23},is_angle:5.913653716978244,fingerprint:{pixel_count:2227,compass_size:{x:148,y:61}}},{position:{x:-26,y:11},is_angle:5.91407832266041,fingerprint:{pixel_count:2226,compass_size:{x:148,y:60}}},{position:{x:-50,y:21},is_angle:5.91407832266041,fingerprint:{pixel_count:2226,compass_size:{x:148,y:60}}},{is_angle:5.918526068532106,position:{x:-12,y:5}},{position:{x:-46,y:19},is_angle:5.921317075393108,fingerprint:{pixel_count:2236,compass_size:{x:148,y:59}}},{position:{x:-73,y:30},is_angle:5.926563079301029,fingerprint:{pixel_count:2229,compass_size:{x:149,y:59}}},{position:{x:-22,y:9},is_angle:5.926563079301029,fingerprint:{pixel_count:2229,compass_size:{x:149,y:59}}},{position:{x:-59,y:24},is_angle:5.931418777136189,fingerprint:{pixel_count:2200,compass_size:{x:148,y:58}}},{position:{x:-42,y:17},is_angle:5.931418777136189,fingerprint:{pixel_count:2200,compass_size:{x:148,y:58}}},{position:{x:-77,y:31},is_angle:5.93304700088735,fingerprint:{pixel_count:2206,compass_size:{x:148,y:58}}},{is_angle:5.93304700088735,position:{x:-5,y:2}},{position:{x:-53,y:21},is_angle:5.935218492285537,fingerprint:{pixel_count:2214,compass_size:{x:148,y:58}}},{position:{x:-28,y:11},is_angle:5.93972142419873,fingerprint:{pixel_count:2229,compass_size:{x:149,y:57}}},{position:{x:-87,y:34},is_angle:5.94181636844689,fingerprint:{pixel_count:2229,compass_size:{x:148,y:57}}},{position:{x:-18,y:7},is_angle:5.94181636844689,fingerprint:{pixel_count:2229,compass_size:{x:148,y:57}}},{position:{x:-75,y:29},is_angle:5.944911911798005,fingerprint:{pixel_count:2224,compass_size:{x:148,y:57}}},{is_angle:5.944911911798005,position:{x:-13,y:5}},{position:{x:-21,y:8},is_angle:5.9484333866646395,fingerprint:{pixel_count:2225,compass_size:{x:149,y:57}}},{is_angle:5.95382020178554,position:{x:-45,y:17}},{is_angle:5.956837178773942,position:{x:-8,y:3}},{position:{x:-43,y:16},is_angle:5.960084231906079,fingerprint:{pixel_count:2225,compass_size:{x:149,y:56}}},{position:{x:-46,y:17},is_angle:5.960084231906079,fingerprint:{pixel_count:2225,compass_size:{x:149,y:56}}},{position:{x:-30,y:11},is_angle:5.9628099636632825,fingerprint:{pixel_count:2227,compass_size:{x:149,y:56}}},{is_angle:5.965998966613068,position:{x:-11,y:4}},{is_angle:5.965998966613068,position:{x:-36,y:13}},{is_angle:5.969260176337656,position:{x:-120,y:43}},{is_angle:5.969260176337656,position:{x:-14,y:5}},{is_angle:5.97456946438404,position:{x:-45,y:16}},{is_angle:5.97751787124958,position:{x:-360,y:127}},{is_angle:5.97751787124958,position:{x:-20,y:7}},{is_angle:5.980866021681058,position:{x:-72,y:25}},{is_angle:5.983691784110576,position:{x:-90,y:31}},{is_angle:5.983691784110576,position:{x:-120,y:41}},{is_angle:5.987344273463617,position:{x:-180,y:61}},{position:{x:-110,y:37},is_angle:5.992528246502914,fingerprint:{pixel_count:2227,compass_size:{x:150,y:54}}},{is_angle:5.992528246502914,position:{x:-3,y:1}},{position:{x:-133,y:44},is_angle:5.9952640699184165,fingerprint:{pixel_count:2226,compass_size:{x:151,y:54}}},{position:{x:-73,y:24},is_angle:5.998463287740433,fingerprint:{pixel_count:2232,compass_size:{x:151,y:54}}},{position:{x:-52,y:17},is_angle:5.998463287740433,fingerprint:{pixel_count:2232,compass_size:{x:151,y:54}}},{is_angle:6.000812249728638,position:{x:-40,y:13}},{is_angle:6.000812249728638,position:{x:-90,y:29}},{is_angle:6.006107925030543,position:{x:-72,y:23}},{is_angle:6.009347468494931,position:{x:-60,y:19}},{is_angle:6.009347468494931,position:{x:-360,y:113}},{is_angle:6.012313212832492,position:{x:-45,y:14}},{is_angle:6.01519843578207,position:{x:-120,y:37}},{is_angle:6.0187344956958055,position:{x:-36,y:11}},{is_angle:6.0187344956958055,position:{x:-360,y:109}},{is_angle:6.021250045394141,position:{x:-10,y:3}},{is_angle:6.0260636598349295,position:{x:-360,y:107}},{is_angle:6.0260636598349295,position:{x:-180,y:53}},{is_angle:6.0289019527600605,position:{x:-24,y:7}},{is_angle:6.032739742116607,position:{x:-45,y:13}},{is_angle:6.03583117687683,position:{x:-360,y:103}},{is_angle:6.03583117687683,position:{x:-7,y:2}},{is_angle:6.03583117687683,position:{x:-60,y:17}},{is_angle:6.0402946575036145,position:{x:-360,y:101}},{is_angle:6.0432564223640926,position:{x:-18,y:5}},{is_angle:6.0432564223640926,position:{x:-40,y:11}},{is_angle:6.046336239812298,position:{x:-11,y:3}},{is_angle:6.046336239812298,position:{x:-180,y:49}},{is_angle:6.048130620945024,position:{x:-360,y:97}},{is_angle:6.051427824441951,position:{x:-15,y:4}},{is_angle:6.051427824441951,position:{x:-72,y:19}},{is_angle:6.054292242833675,position:{x:-180,y:47}},{is_angle:6.058588003999102,position:{x:-120,y:31}},{is_angle:6.058588003999102,position:{x:-90,y:23}},{is_angle:6.061794372113007,position:{x:-360,y:91}},{is_angle:6.0649787977676715,position:{x:-4,y:1}},{is_angle:6.0649787977676715,position:{x:-360,y:89}},{position:{x:-45,y:11},is_angle:6.0692505533412024,fingerprint:{pixel_count:2223,compass_size:{x:152,y:49}}},{position:{x:-29,y:7},is_angle:6.07278237676645,fingerprint:{pixel_count:2224,compass_size:{x:152,y:48}}},{position:{x:-67,y:16},is_angle:6.076010737357167,fingerprint:{pixel_count:2219,compass_size:{x:152,y:48}}},{is_angle:6.076010737357167,position:{x:-72,y:17}},{is_angle:6.079118029979523,position:{x:-30,y:7}},{is_angle:6.08219291113029,position:{x:-360,y:83}},{is_angle:6.08219291113029,position:{x:-180,y:41}},{is_angle:6.0867196822406635,position:{x:-40,y:9}},{is_angle:6.089614211274093,position:{x:-9,y:2}},{is_angle:6.092365888412183,position:{x:-360,y:79}},{is_angle:6.092365888412183,position:{x:-60,y:13}},{is_angle:6.095844790210073,position:{x:-360,y:77}},{is_angle:6.098794794989563,position:{x:-90,y:19}},{is_angle:6.098794794989563,position:{x:-24,y:5}},{is_angle:6.101650020005508,position:{x:-180,y:37}},{is_angle:6.106444716453791,position:{x:-360,y:73}},{is_angle:6.109734362347881,position:{x:-5,y:1}},{is_angle:6.109734362347881,position:{x:-360,y:71}},{is_angle:6.113704674865369,position:{x:-36,y:7}},{is_angle:6.116657322898367,position:{x:-120,y:23}},{position:{x:-53,y:10},is_angle:6.116657322898367,fingerprint:{pixel_count:2245,compass_size:{x:152,y:46}}},{position:{x:-43,y:8},is_angle:6.1204357102699705,fingerprint:{pixel_count:2232,compass_size:{x:152,y:45}}},{position:{x:-60,y:11},is_angle:6.123598211550824,fingerprint:{pixel_count:2225,compass_size:{x:152,y:45}}},{is_angle:6.12593420365761,position:{x:-72,y:13}},{position:{x:-45,y:8},is_angle:6.12593420365761,fingerprint:{pixel_count:2215,compass_size:{x:152,y:45}}},{is_angle:6.129392014896494,position:{x:-40,y:7}},{is_angle:6.132055527909341,position:{x:-180,y:31}},{position:{x:-59,y:10},is_angle:6.13207051992734,fingerprint:{pixel_count:2232,compass_size:{x:152,y:44}}},{is_angle:6.136094486472771,position:{x:-6,y:1}},{position:{x:-55,y:9},is_angle:6.13902143005233,fingerprint:{pixel_count:2226,compass_size:{x:152,y:43}}},{is_angle:6.142417591282109,position:{x:-180,y:29}},{is_angle:6.142417591282109,position:{x:-120,y:19}},{is_angle:6.146018332437521,position:{x:-45,y:7}},{is_angle:6.149096482235005,position:{x:-72,y:11}},{is_angle:6.149096482235005,position:{x:-20,y:3}},{is_angle:6.153601360965424,position:{x:-360,y:53}},{is_angle:6.156116421844379,position:{x:-90,y:13}},{is_angle:6.156116421844379,position:{x:-7,y:1}},{is_angle:6.158973592019487,position:{x:-120,y:17}},{is_angle:6.158973592019487,position:{x:-36,y:5}},{position:{x:-22,y:3},is_angle:6.162340245834371,fingerprint:{pixel_count:2220,compass_size:{x:152,y:42}}},{is_angle:6.165534456580023,position:{x:-15,y:2}},{is_angle:6.165534456580023,position:{x:-360,y:47}},{is_angle:6.169342308406056,position:{x:-180,y:23}},{is_angle:6.17244630631191,position:{x:-8,y:1}},{is_angle:6.17244630631191,position:{x:-90,y:11}},{is_angle:6.175255216572441,position:{x:-360,y:43}},{is_angle:6.178311814095271,position:{x:-60,y:7}},{is_angle:6.181208565272323,position:{x:-360,y:41}},{is_angle:6.181208565272323,position:{x:-9,y:1}},{is_angle:6.1840275902089,position:{x:-120,y:13}},{is_angle:6.187123520027245,position:{x:-180,y:19}},{position:{x:-39,y:4},is_angle:6.191054159077756,fingerprint:{pixel_count:2233,compass_size:{x:152,y:42}}},{is_angle:6.191054159077756,position:{x:-10,y:1}},{is_angle:6.193905514951604,position:{x:-72,y:7}},{is_angle:6.196202966249128,position:{x:-180,y:17}},{is_angle:6.196202966249128,position:{x:-120,y:11}},{is_angle:6.198741116133223,position:{x:-11,y:1}},{is_angle:6.198741116133223,position:{x:-45,y:4}},{is_angle:6.20244707142848,position:{x:-360,y:31}},{is_angle:6.20244707142848,position:{x:-12,y:1}},{is_angle:6.2042080160955555,position:{x:-360,y:29}},{is_angle:6.20699775519081,position:{x:-90,y:7}},{is_angle:6.210687264162911,position:{x:-40,y:3}},{is_angle:6.210687264162911,position:{x:-180,y:13}},{is_angle:6.210687264162911,position:{x:-14,y:1}},{is_angle:6.213458841006212,position:{x:-72,y:5}},{is_angle:6.2166975957724215,position:{x:-15,y:1}},{is_angle:6.2166975957724215,position:{x:-360,y:23}},{is_angle:6.220023415779926,position:{x:-16,y:1}},{is_angle:6.220023415779926,position:{x:-180,y:11}},{position:{x:-86,y:5},is_angle:6.221652758786167,fingerprint:{pixel_count:2223,compass_size:{x:152,y:44}}},{position:{x:-18,y:1},is_angle:6.224886730669115,fingerprint:{pixel_count:2225,compass_size:{x:152,y:44}}},{position:{x:-19,y:1},is_angle:6.224886730669115,fingerprint:{pixel_count:2225,compass_size:{x:152,y:44}}},{is_angle:6.227664600388614,position:{x:-20,y:1}},{is_angle:6.229691847658788,position:{x:-360,y:17}},{is_angle:6.229691847658788,position:{x:-45,y:2}},{is_angle:6.232810603396008,position:{x:-24,y:1}},{is_angle:6.236272907104446,position:{x:-180,y:7}},{is_angle:6.238664881480864,position:{x:-360,y:13}},{is_angle:6.238664881480864,position:{x:-30,y:1}},{is_angle:6.242201531583604,position:{x:-360,y:11}},{is_angle:6.245167167200104,position:{x:-36,y:1}},{is_angle:6.245167167200104,position:{x:-40,y:1}},{is_angle:6.2483980410252755,position:{x:-45,y:1}},{is_angle:6.250853216274981,position:{x:-360,y:7}},{is_angle:6.253964723404241,position:{x:-60,y:1}},{is_angle:6.253964723404241,position:{x:-72,y:1}},{is_angle:6.25736074749839,position:{x:-90,y:1}},{is_angle:6.2602717768534575,position:{x:-120,y:1}},{is_angle:6.2602717768534575,position:{x:-180,y:1}},{is_angle:6.2625850327665,position:{x:-360,y:1}}],e.msaa_samples=[{is_angle:6.264095602406462,position:{x:-1,y:0}},{is_angle:.052636062424925245,position:{x:-10,y:-1}},{is_angle:.05945273338138463,position:{x:-9,y:-1}},{is_angle:.07244048936526291,position:{x:-8,y:-1}},{is_angle:.08506413987321405,position:{x:-7,y:-1}},{is_angle:.10025399176119677,position:{x:-6,y:-1}},{is_angle:.12757643510468236,position:{x:-5,y:-1}},{is_angle:.14412495697519462,position:{x:-9,y:-2}},{is_angle:.16663025427907976,position:{x:-4,y:-1}},{is_angle:.19669787960743632,position:{x:-7,y:-2}},{is_angle:.20530922521716147,position:{x:-10,y:-3}},{is_angle:.2359544878000106,position:{x:-3,y:-1}},{is_angle:.2717505238119766,position:{x:-8,y:-3}},{is_angle:.29126879061033445,position:{x:-5,y:-2}},{is_angle:.3125144048963699,position:{x:-7,y:-3}},{is_angle:.3272490490613413,position:{x:-9,y:-4}},{is_angle:.37731025408331625,position:{x:-2,y:-1}},{is_angle:.41970309950836054,position:{x:-9,y:-5}},{is_angle:.4325219688111344,position:{x:-7,y:-4}},{is_angle:.4510274988585719,position:{x:-5,y:-3}},{is_angle:.47263867534241366,position:{x:-8,y:-5}},{is_angle:.5039813418638364,position:{x:-3,y:-2}},{is_angle:.5311764161846482,position:{x:-10,y:-7}},{is_angle:.54294766928719,position:{x:-7,y:-5}},{is_angle:.5691513513888656,position:{x:-4,y:-3}},{is_angle:.5917729152300213,position:{x:-9,y:-7}},{is_angle:.6053110111749453,position:{x:-5,y:-4}},{is_angle:.6334909163947404,position:{x:-6,y:-5}},{is_angle:.6509514221805698,position:{x:-7,y:-6}},{is_angle:.6636149852022135,position:{x:-8,y:-7}},{is_angle:.6749669047492642,position:{x:-9,y:-8}},{is_angle:.6822487010246875,position:{x:-10,y:-9}},{is_angle:.7606397200216568,position:{y:-1,x:-1}},{is_angle:.8350432928504208,position:{x:-9,y:-10}},{is_angle:.843716012640661,position:{x:-8,y:-9}},{is_angle:.8583025966083109,position:{x:-7,y:-8}},{is_angle:.8671578722521031,position:{x:-6,y:-7}},{is_angle:.8860739532457703,position:{x:-5,y:-6}},{is_angle:.9131843327561961,position:{x:-4,y:-5}},{is_angle:.9315609218643481,position:{x:-7,y:-9}},{is_angle:.9534432163189852,position:{x:-3,y:-4}},{is_angle:.976870156147906,position:{x:-5,y:-7}},{is_angle:.9878340969121109,position:{x:-7,y:-10}},{is_angle:1.0135193264704312,position:{x:-2,y:-3}},{is_angle:1.0474573827360958,position:{x:-5,y:-8}},{is_angle:1.0652640126598945,position:{x:-3,y:-5}},{is_angle:1.0878333280363803,position:{x:-4,y:-7}},{is_angle:1.0975373987297279,position:{x:-5,y:-9}},{is_angle:1.144813950817703,position:{x:-1,y:-2}},{is_angle:1.185731598681001,position:{x:-4,y:-9}},{is_angle:1.1957482799664652,position:{x:-3,y:-7}},{is_angle:1.2187931588334282,position:{x:-2,y:-5}},{is_angle:1.2439542920160362,position:{x:-3,y:-8}},{is_angle:1.2775707268790004,position:{x:-1,y:-3}},{is_angle:1.3091304015999707,position:{x:-3,y:-10}},{is_angle:1.3200068201143949,position:{x:-2,y:-7}},{is_angle:1.3534484464320329,position:{x:-1,y:-4}},{is_angle:1.3747934139541356,position:{x:-2,y:-9}},{is_angle:1.392555103813608,position:{x:-1,y:-5}},{is_angle:1.423141266906519,position:{x:-1,y:-6}},{is_angle:1.4434051384272184,position:{x:-1,y:-7}},{is_angle:1.4586096902100556,position:{x:-1,y:-8}},{is_angle:1.4680799636326807,position:{x:-1,y:-9}},{is_angle:1.476911800394118,position:{x:-1,y:-10}},{is_angle:1.5489901542160371,position:{x:0,y:-1}},{is_angle:1.6271699080185897,position:{x:1,y:-10}},{is_angle:1.6336532558970707,position:{x:1,y:-9}},{is_angle:1.643664140234925,position:{x:1,y:-8}},{is_angle:1.657895164123655,position:{x:1,y:-7}},{is_angle:1.6747705481316753,position:{x:1,y:-6}},{is_angle:1.7021145362563779,position:{x:1,y:-5}},{is_angle:1.7159502551114336,position:{x:2,y:-9}},{is_angle:1.7383139321484524,position:{x:1,y:-4}},{is_angle:1.7702239793240806,position:{x:2,y:-7}},{is_angle:1.7809309040999537,position:{x:3,y:-10}},{is_angle:1.8090048547833286,position:{x:1,y:-3}},{is_angle:1.8425468506068732,position:{x:3,y:-8}},{is_angle:1.8651245720652503,position:{x:2,y:-5}},{is_angle:1.8875118907464357,position:{x:3,y:-7}},{is_angle:1.901795423693948,position:{x:4,y:-9}},{is_angle:1.948106580878213,position:{x:1,y:-2}},{is_angle:1.9935408232674792,position:{x:5,y:-9}},{is_angle:2.0062066130213516,position:{x:4,y:-7}},{is_angle:2.0250179038206375,position:{x:3,y:-5}},{is_angle:2.0434350021373104,position:{x:5,y:-8}},{is_angle:2.077887396450848,position:{x:2,y:-3}},{is_angle:2.1051456157447963,position:{x:7,y:-10}},{is_angle:2.1137439960820865,position:{x:5,y:-7}},{is_angle:2.139947678183762,position:{x:3,y:-4}},{is_angle:2.1625692420249174,position:{x:7,y:-9}},{is_angle:2.1783435849352886,position:{x:4,y:-5}},{is_angle:2.207230875467201,position:{x:5,y:-6}},{is_angle:2.22524882708073,position:{x:6,y:-7}},{is_angle:2.23441131199711,position:{x:7,y:-8}},{is_angle:2.248484255818788,position:{x:8,y:-9}},{is_angle:2.255759575698362,position:{x:9,y:-10}},{is_angle:2.331436046816553,position:{x:1,y:-1}},{is_angle:2.4087940663778338,position:{x:10,y:-9}},{is_angle:2.417006858721484,position:{x:9,y:-8}},{is_angle:2.429098923403207,position:{x:8,y:-7}},{is_angle:2.4443017736731694,position:{x:7,y:-6}},{is_angle:2.4604978850949144,position:{x:6,y:-5}},{is_angle:2.485866902319734,position:{x:5,y:-4}},{is_angle:2.5023572486592447,position:{x:9,y:-7}},{is_angle:2.5242395431138815,position:{x:4,y:-3}},{is_angle:2.5476664829428026,position:{x:7,y:-5}},{is_angle:2.5606105599682714,position:{x:10,y:-7}},{is_angle:2.5891624661018766,position:{x:3,y:-2}},{is_angle:2.6182537095309923,position:{x:8,y:-5}},{is_angle:2.6375314442976943,position:{x:5,y:-3}},{is_angle:2.6614320650530523,position:{x:7,y:-4}},{is_angle:2.6710201485395877,position:{x:9,y:-5}},{is_angle:2.7156102776126,position:{x:2,y:-1}},{is_angle:2.7595764080260925,position:{x:9,y:-4}},{is_angle:2.769666352952875,position:{x:7,y:-3}},{is_angle:2.7917817605250517,position:{x:5,y:-2}},{is_angle:2.8147506188109324,position:{x:8,y:-3}},{is_angle:2.8515800852538096,position:{x:3,y:-1}},{is_angle:2.88219484700388,position:{x:10,y:-3}},{is_angle:2.8933005302877857,position:{x:7,y:-2}},{is_angle:2.924301697343016,position:{x:4,y:-1}},{is_angle:2.945589740749032,position:{x:9,y:-2}},{is_angle:2.9652376826457907,position:{x:5,y:-1}},{is_angle:2.996805393939533,position:{x:6,y:-1}},{is_angle:3.0185841931854496,position:{x:7,y:-1}},{is_angle:3.028693172726164,position:{x:8,y:-1}},{is_angle:3.0415955358370512,position:{x:9,y:-1}},{is_angle:3.0498670257534872,position:{x:10,y:-1}},{is_angle:3.1219041228046733,position:{x:1,y:0}},{is_angle:3.197966234813486,position:{x:10,y:1}},{is_angle:3.2048288738395776,position:{x:9,y:1}},{is_angle:3.2148666765589597,position:{x:8,y:1}},{is_angle:3.229219371400356,position:{x:7,y:1}},{is_angle:3.2455668749265714,position:{x:6,y:1}},{is_angle:3.269942634395674,position:{x:5,y:1}},{is_angle:3.2867465819063297,position:{x:9,y:2}},{is_angle:3.3091102589433485,position:{x:4,y:1}},{is_angle:3.338290533197229,position:{x:7,y:2}},{is_angle:3.35172723089485,position:{x:10,y:3}},{is_angle:3.3798011815782245,position:{x:3,y:1}},{is_angle:3.4133431774017695,position:{x:8,y:3}},{is_angle:3.4359208988601457,position:{x:5,y:2}},{is_angle:3.4583082175413313,position:{x:7,y:3}},{is_angle:3.4725917504888444,position:{x:9,y:4}},{is_angle:3.5189029076731093,position:{x:2,y:1}},{is_angle:3.5612957530981535,position:{x:9,y:5}},{is_angle:3.574114622400927,position:{x:7,y:4}},{is_angle:3.5958142306155336,position:{x:5,y:3}},{is_angle:3.614231328932207,position:{x:8,y:5}},{is_angle:3.6486837232457447,position:{x:3,y:2}},{is_angle:3.6727690697744415,position:{x:10,y:7}},{is_angle:3.684540322876982,position:{x:7,y:5}},{is_angle:3.7107440049786597,position:{x:4,y:3}},{is_angle:3.733365568819812,position:{x:9,y:7}},{is_angle:3.749139911730183,position:{x:5,y:4}},{is_angle:3.7750835699845338,position:{x:6,y:5}},{is_angle:3.796045153875625,position:{x:7,y:6}},{is_angle:3.8052076387920053,position:{x:8,y:7}},{is_angle:3.8192805826136826,position:{x:9,y:8}},{is_angle:3.826555902493258,position:{x:10,y:9}},{is_angle:3.902232373611449,position:{y:1,x:1}},{is_angle:3.9795903931727294,position:{x:9,y:10}},{is_angle:3.9878031855163796,position:{x:8,y:9}},{is_angle:3.9998952501981044,position:{x:7,y:8}},{is_angle:4.015098100468066,position:{x:6,y:7}},{is_angle:4.031294211889809,position:{x:5,y:6}},{is_angle:4.054776986345988,position:{x:4,y:5}},{is_angle:4.073153575454139,position:{x:7,y:9}},{is_angle:4.095035869908777,position:{x:3,y:4}},{is_angle:4.1184628097377,position:{x:5,y:7}},{is_angle:4.131406886763168,position:{x:7,y:10}},{is_angle:4.155111980060223,position:{x:2,y:3}},{is_angle:4.189050036325889,position:{x:5,y:8}},{is_angle:4.206856666249687,position:{x:3,y:5}},{is_angle:4.232228391847947,position:{x:4,y:7}},{is_angle:4.241816475334485,position:{x:5,y:9}},{is_angle:4.286406604407496,position:{x:1,y:2}},{is_angle:4.327324252270795,position:{x:4,y:9}},{is_angle:4.337340933556257,position:{x:3,y:7}},{is_angle:4.362578087319949,position:{x:2,y:5}},{is_angle:4.385546945605829,position:{x:3,y:8}},{is_angle:4.422376412048706,position:{x:1,y:3}},{is_angle:4.450796841529076,position:{x:3,y:10}},{is_angle:4.464096857082682,position:{x:2,y:7}},{is_angle:4.495041100021827,position:{x:1,y:4}},{is_angle:4.5163860675439285,position:{x:2,y:9}},{is_angle:4.536034009440687,position:{x:1,y:5}},{is_angle:4.564733920496312,position:{x:1,y:6}},{is_angle:4.5844795358093675,position:{x:1,y:7}},{is_angle:4.599489499521059,position:{x:1,y:8}},{is_angle:4.612391862631947,position:{x:1,y:9}},{is_angle:4.618019689761368,position:{x:1,y:10}},{is_angle:4.692935524937519,position:{x:0,y:1}},{is_angle:4.768762561608383,position:{x:-1,y:10}},{is_angle:4.772586567277493,position:{x:-1,y:9}},{is_angle:4.785663003353856,position:{x:-1,y:8}},{is_angle:4.800015698195253,position:{x:-1,y:7}},{is_angle:4.816363201721469,position:{x:-1,y:6}},{is_angle:4.840738961190572,position:{x:-1,y:5}},{is_angle:4.857375783017824,position:{x:-2,y:9}},{is_angle:4.8799065857382455,position:{x:-1,y:4}},{is_angle:4.909086859992126,position:{x:-2,y:7}},{is_angle:4.922523557689747,position:{x:-3,y:10}},{is_angle:4.948343468184699,position:{x:-1,y:3}},{is_angle:4.9841395041966665,position:{x:-3,y:8}},{is_angle:5.003657770995023,position:{x:-2,y:5}},{is_angle:5.029104544336229,position:{x:-3,y:7}},{is_angle:5.0433880772837405,position:{x:-4,y:9}},{is_angle:5.089699234468005,position:{x:-1,y:2}},{is_angle:5.13209207989305,position:{x:-5,y:9}},{is_angle:5.144910949195824,position:{x:-4,y:7}},{is_angle:5.166610557410429,position:{x:-3,y:5}},{is_angle:5.185027655727103,position:{x:-5,y:8}},{is_angle:5.219480050040641,position:{x:-2,y:3}},{is_angle:5.243565396569338,position:{x:-7,y:10}},{is_angle:5.255336649671879,position:{x:-5,y:7}},{is_angle:5.281540331773557,position:{x:-3,y:4}},{is_angle:5.304161895614708,position:{x:-7,y:9}},{is_angle:5.31993623852508,position:{x:-4,y:5}},{is_angle:5.34587989677943,position:{x:-5,y:6}},{is_angle:5.363340402565257,position:{x:-6,y:7}},{is_angle:5.376003965586903,position:{x:-7,y:8}},{is_angle:5.387355885133951,position:{x:-8,y:9}},{is_angle:5.394637681409377,position:{x:-9,y:10}},{is_angle:5.4730287004063465,position:{x:-1,y:1}},{is_angle:5.547432273235109,position:{x:-10,y:9}},{is_angle:5.556104993025351,position:{x:-9,y:8}},{is_angle:5.570691576993001,position:{x:-8,y:7}},{is_angle:5.579546852636793,position:{x:-7,y:6}},{is_angle:5.602090538684707,position:{x:-6,y:5}},{is_angle:5.625573313140884,position:{x:-5,y:4}},{is_angle:5.643949902249038,position:{x:-9,y:7}},{is_angle:5.665832196703675,position:{x:-4,y:3}},{is_angle:5.6892591365325975,position:{x:-7,y:5}},{is_angle:5.702203213558066,position:{x:-10,y:7}},{is_angle:5.725908306855122,position:{x:-3,y:2}},{is_angle:5.759846363120785,position:{x:-8,y:5}},{is_angle:5.777652993044584,position:{x:-5,y:3}},{is_angle:5.8030247186428445,position:{x:-7,y:4}},{is_angle:5.81261280212938,position:{x:-9,y:5}},{is_angle:5.857202931202392,position:{x:-2,y:1}},{is_angle:5.898120579065692,position:{x:-9,y:4}},{is_angle:5.908137260351154,position:{x:-7,y:3}},{is_angle:5.9311821392181185,position:{x:-5,y:2}},{is_angle:5.956343272400726,position:{x:-8,y:3}},{is_angle:5.989959707263691,position:{x:-3,y:1}},{is_angle:6.021668664754037,position:{x:-10,y:3}},{is_angle:6.035029687783558,position:{x:-7,y:2}},{is_angle:6.065837426816723,position:{x:-4,y:1}},{is_angle:6.087454405938603,position:{x:-9,y:2}},{is_angle:6.107198109146065,position:{x:-5,y:1}},{is_angle:6.136133851609513,position:{x:-6,y:1}},{is_angle:6.156516347580586,position:{x:-7,y:1}},{is_angle:6.171650573186278,position:{x:-8,y:1}},{is_angle:6.181189700432603,position:{x:-9,y:1}},{is_angle:6.190029403961643,position:{x:-10,y:1}}],e.calibration_tables={off:new Tf(Tf.compress(e.no_aa_samples)),msaa:zf.fromCalibrationSamples(e.msaa_samples,"cosine",i(.5))};class o extends aa{constructor(i,n,s=(t=>e.calibration_tables[t]),r=!1){super(),this.matched_ui=i,this.show_overlay=n,this.calibration_functions=s,this.refind_after_close=r,this.committed_state=qi(null).equality(o.State.equals),this.last_read=null,this.overlay=new Zd,this.tick_counter=0,this.last_ticks={success:-2,likely_closed:-2,likely_solved:-2,likely_concealed:-2},this.previous_state=null,this.buffered_state=null,this.last_stationary_tick=-1,this.initialization=t((()=>{return e=this,t=void 0,n=function*(){return{finder:yield $g.finder.get()}},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}))}begin(){this.overlay=this.withSub(new Zd),this.lifetime_manager.bind(Yd.instance().capturing.subscribe({options:()=>({interval:Hd.fromApproximateInterval(50),area:this.matched_ui?this.matched_ui.body.screen_rectangle:null}),handle:e=>{this.tick(e.value)}}))}end(){}closed(){this.committed_state.set({state:"closed"}),this.refind_after_close&&(this.matched_ui=null)}tick(t){var i,n,o,s;if(!this.initialization.isInitialized()||!this.isActive())return;const r=this.initialization.get().finder,a=this.tick_counter++;if(this.refind_after_close&&!this.matched_ui&&(this.matched_ui=r.find(t)),!this.matched_ui)return;const l=new e(this.matched_ui.recapture(t),this.calibration_functions);{const e=this.last_read=l.getAngle(),t=Date.now();se().isEqual(null===(i=this.buffered_state)||void 0===i?void 0:i.state,e)?this.buffered_state.last_confirmed=t:(this.previous_state=this.buffered_state,this.buffered_state={since:t,last_confirmed:t,state:e})}const c=new Ad.GeometryBuilder,u=this.buffered_state.state,p=this.buffered_state.last_confirmed-this.buffered_state.since;"likely_concealed"!=u.type&&"likely_closed"!=u.type||Af().log(`${u.type}: ${u.details}`,"Compass Reader");const h=this.last_ticks.likely_solved>=0;if("likely_closed"==u.type&&(p>200||h)||"likely_concealed"==u.type&&(p>5e3||h)?this.closed():"likely_concealed"==u.type||"likely_closed"==u.type?c.text("Concealed",xe.add(Cd.center(l.capture.body.screenRectangle()),{x:5,y:100}),{shadow:!0,centered:!0,width:12,color:cd.fromHex("#808080")}):"likely_solved"==u.type?(c.rectangle(Cd.move(l.capture.body.screenRectangle(),{x:59,y:172},{x:55,y:52}),{width:2,color:cd.green}),c.text("Solved",xe.add(Cd.center(l.capture.body.screenRectangle()),{x:5,y:100}),{shadow:!0,centered:!0,width:12,color:cd.green}),this.committed_state.set({state:"solved"})):"success"==u.type&&(p>.1?(this.last_stationary_tick=a,p>("spinning"==(null===(n=this.committed_state.value())||void 0===n?void 0:n.state)?200:100)&&this.committed_state.set({result:u,state:"normal"})):"success"==(null===(o=this.previous_state)||void 0===o?void 0:o.state.type)&&a-this.last_stationary_tick>2&&this.committed_state.set({state:"spinning"}),(null===(s=u.fingerprint)||void 0===s?void 0:s.antialiasing)&&c.text("Antialiasing detected",xe.add(Cd.center(l.capture.body.screenRectangle()),{x:5,y:-60}),{shadow:!0,centered:!0,width:12,color:cd.fromHex("#808080")})),this.last_ticks[u.type]=a,this.committed_state.value()){let e=null;const t=this.committed_state.value();"spinning"==t.state?e="Spinning":"normal"==t.state&&(e=`${ve.radiansToDegrees(t.result.angle.median).toFixed(this.calibration_functions?1:3)}°`),e&&c.text(e,xe.add(Cd.center(l.capture.body.screenRectangle()),{x:5,y:8}),{shadow:!0,centered:!0,width:15,color:cd.white})}this.show_overlay&&this.overlay.setGeometry(c.buffer())}onChange(e,t){return this.committed_state.subscribe(e,!1,t),this}state(){return this.committed_state.value()}}e.Service=o,function(e){let t;!function(e){e.equals=function(e,t){return e.state==t.state&&("normal"!=e.state||"normal"!=t.state||ve.UncertainAngle.equals(e.result.angle,t.result.angle))}}(t=e.State||(e.State={}))}(o=e.Service||(e.Service={}))}(Ef||(Ef={})),function(e){let t,i,n,o,s;function r(e){var n;const s=function e(n,s,r){if(n>=s.shape.locks.length)return o.isSolved(s),[{end_state:s,moves:r.map(((e,t)=>null!=e?e:{snake_index:t,offset:0}))}];function a(t,i){r[t.snake_index]=t;const a=e(n+(i?1:0),o.doMove(s,t),r);return r[t.snake_index]=null,a}const l=s.shape.locks[n];if(null==r[l.first.snake]&&null==r[l.second.snake]){const e=s.snakes[l.first.snake];return e.map(((t,n)=>({snake_index:l.first.snake,offset:i.optimizeMove(e,n)}))).flatMap((e=>a(e,!1)))}if(null==r[l.first.snake]||null==r[l.second.snake]){const[e,n]=r[l.first.snake]?[l.first,l.second]:[l.second,l.first],o=s.snakes[e.snake][e.tile],c=s.snakes[n.snake];return c.flatMap(((e,s)=>t.maybeEqual(e,o)?a({snake_index:n.snake,offset:i.optimizeMove(c,n.tile-s)},!0):[]))}return o.lockMaybeSolved(s,l)?e(n+1,s,r):[]}(0,e,e.snakes.map((()=>null))),r=[],a=[];s.forEach((e=>{e.end_state.shape.locks.every((t=>"isnot"!=e.end_state.snakes[t.first.snake][t.first.tile].type&&"isnot"!=e.end_state.snakes[t.second.snake][t.second.tile].type))?r.push(e):a.push(e)}));const l=null!==(n=oe.minBy(r,(e=>e.moves.map((e=>Math.abs(e.offset))))))&&void 0!==n?n:1==a.length?a[0]:void 0;return{real:r,maybe:a,preferred:l}}!function(e){e.maybeEqual=function(e,t){return"is"==e.type&&"is"==t.type?e.value==t.value:"is"==e.type&&"isnot"==t.type||"isnot"==e.type&&"is"==t.type?e.value!=t.value:"isnot"==e.type&&"isnot"==t.type||void 0},e.toString=function(e){switch(e.type){case"is":return e.value.toString();case"isnot":return`!${e.value}`}}}(t=e.Element||(e.Element={})),function(e){e.rotate=function(e,t){return e.map(((i,n)=>e[(n-t+e.length)%e.length]))},e.index=function(e,t){return e[(t+e.length)%e.length]},e.optimizeMove=function(e,t){const i=(t+e.length)%e.length;return i>Math.floor(e.length/2)?i-e.length:i},e.toString=function(e){return e.map(t.toString).join(", ")}}(i=e.Snake||(e.Snake={})),function(e){var t=_e.Order.natural_order;e.isEqual=function(e,t){return oe.isEqual(e.snake_lengths,t.snake_lengths)&&e.locks.length==t.locks.length},e.hash=function(e){return[...e.snake_lengths,...e.locks.map((e=>{const[t,i]=e.first.snake<e.second.snake?[e.first,e.second]:[e.second,e.first];return 1e4*(100*t.snake+t.tile)+(100*i.snake+i.tile)})).sort(t)]}}(n=e.PuzzleShape||(e.PuzzleShape={})),function(e){function n(e,t){return e.snakes[t.snake][t.tile]}function o(e,i){const o=n(e,i.first),s=n(e,i.second);return t.maybeEqual(o,s)}e.generate=function(e){const t={shape:e,snakes:e.snake_lengths.map((e=>new Array(e).fill(0).map((()=>({value:oe.random(20),type:"is"})))))};return e.locks.forEach((({first:e,second:i})=>{t.snakes[i.snake][i.tile]=t.snakes[e.snake][e.tile]})),t},e.shuffle=function(e){return{shape:e.shape,snakes:e.snakes.map((e=>{const t=oe.random(e.length);return i.rotate(e,t)}))}},e.get=n,e.isSolved=function(e){return e.shape.locks.every((t=>o(e,t)))},e.doMove=function(e,...t){return{snakes:e.snakes.map(((e,n)=>{const o=t.find((e=>e.snake_index==n));return o?i.rotate(e,o.offset):e})),shape:e.shape}},e.lockMaybeSolved=o,e.equal=function(e,t){return oe.isEqual(e,t)}}(o=e.PuzzleState||(e.PuzzleState={})),e.construct=function(e,t){return{shape:e,snakes:t.map((e=>e.map((e=>({type:"is",value:e})))))}},function(e){e.equals=function(e,t){return oe.isEqual(e,t)},e.toString=function(e){return e.moves.map((e=>`${e.snake_index}:${e.offset}`)).join(",")}}(s=e.Solution||(e.Solution={})),e.unify=function(e,t){if(!e||!t)return null;if(!n.isEqual(e.shape,t.shape))return null;function o(e,t){return"is"==e.type&&"is"==t.type&&e.value==t.value||"is"==e.type&&"isnot"==t.type&&e.value!=t.value?e:"isnot"==e.type&&"is"==t.type&&e.value!=t.value||"isnot"==e.type&&"isnot"==t.type?t:null}function s(e,t){const i=[];for(let n=0;n<e.length;n++){const s=o(e[n],t[n]);if(!s)return null;i.push(s)}return i}function r(e,t){for(let n=0;n<e.length;n++){const o=s(e,i.rotate(t,n));if(o)return o}return null}const a=[];for(let i=0;i<e.snakes.length;i++){const n=r(e.snakes[i],t.snakes[i]);if(!n)return null;a.push(n)}return{shape:e.shape,snakes:a}},e.solveAll=r,e.solve=function(e){return r(e).preferred}}(Sf||(Sf={}));var Pf=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Mf{constructor(e){this.rune_references=e}identifyRune(e){const t=this.rune_references.map(((t,i)=>({id:i,certainty:Og.similarity(e,t)}))),i=oe.maxBy(t,(e=>e.certainty));return i&&i.certainty>.9?i.id:null}}!function(e){const t=_a((()=>Pf(this,void 0,void 0,(function*(){const t=yield ld.ImageDetect.imageDataFromUrl("/alt1anchors/knot_runes/atlas.png"),i=[];for(let n=0;n<Math.floor(t.width/12);n++)i.push(Og.get(t,{x:12*n,y:0},e.RUNE_REFERENCE_SIZE,e.RUNE_KERNEL_SIZE,Og.TypeRGB));return new e(i)}))));e.instance=function(){return Pf(this,void 0,void 0,(function*(){return t.get()}))};var i=_e.rgbSimilarity,n=_e.count;const o={x:24,y:24},s={x:-11,y:9};e.RUNE_REFERENCE_SIZE={x:12,y:12},e.RUNE_KERNEL_SIZE={x:3,y:3};const r=[{hash:[16,16,16,30113,40214,60110,70211,1050203,1070207,1090209,1110213],buttons:[{clockwise:{x:0,y:1},counterclockwise:{x:0,y:3}},{clockwise:{x:12,y:5},counterclockwise:{x:12,y:3}},{clockwise:{x:4,y:9},counterclockwise:{x:6,y:9}}]},{hash:[16,16,16,10115,20214,60210,70109,1010215,1070209],buttons:[{clockwise:{x:-1,y:3},counterclockwise:{x:-1,y:5}},{clockwise:{x:5,y:9},counterclockwise:{x:7,y:9}},{clockwise:{x:13,y:5},counterclockwise:{x:13,y:3}}]},{hash:[10,16,18,10,30201,40103,60216,80101,1020217,1040203,1060205,1070208,1090210,1100303,1110214,1120309,2120304,2150301],buttons:[{clockwise:{x:12,y:3},counterclockwise:{x:12,y:1}},{clockwise:{x:5,y:0},counterclockwise:{x:2,y:3}},{clockwise:{x:5,y:10},counterclockwise:{x:7,y:10}},{clockwise:{x:1,y:6},counterclockwise:{x:1,y:8}}]},{hash:[28,14,14,10113,30101,80201,100203,150206,170208,220108,240110],buttons:[{clockwise:{x:10,y:0},counterclockwise:{x:2,y:0}},{clockwise:{x:0,y:4},counterclockwise:{x:0,y:6}},{clockwise:{x:12,y:6},counterclockwise:{x:12,y:4}}]},{hash:[16,16,16,10115,20214,30103,40204,90207,100106,110211,120112,1010215,1070209],buttons:[{clockwise:{x:6,y:9},counterclockwise:{x:8,y:9}},{clockwise:{x:0,y:5},counterclockwise:{x:0,y:7}},{clockwise:{x:12,y:3},counterclockwise:{x:12,y:1}}]},{hash:[16,16,16,20115,40103,90104,110114,1060204,1070211,1110213,1120202],buttons:[{clockwise:{x:12,y:7},counterclockwise:{x:12,y:5}},{clockwise:{x:11,y:2},counterclockwise:{x:9,y:0}},{clockwise:{x:0,y:3},counterclockwise:{x:0,y:5}}]},{hash:[12,12,12,12,10111,30109,50201,70211,1050301,1070311,2030309,2050307],buttons:[{clockwise:{x:3,y:0},counterclockwise:{x:1,y:2}},{clockwise:{x:11,y:2},counterclockwise:{x:9,y:0}},{clockwise:{x:1,y:8},counterclockwise:{x:3,y:10}},{clockwise:{x:9,y:10},counterclockwise:{x:11,y:8}}]},{hash:[16,24,20,20105,50203,110217,140101,1020219,1040201,1110204,1140209,1160211,1190216],buttons:[{clockwise:{x:8,y:0},counterclockwise:{x:4,y:0}},{clockwise:{x:12,y:6},counterclockwise:{x:12,y:2}},{clockwise:{x:0,y:6},counterclockwise:{x:0,y:8}}]},{hash:[16,16,16,10115,20214,40204,50105,90107,100206,120212,130113,1010215,1030203,1090207,1110211],buttons:[{clockwise:{x:11,y:7},counterclockwise:{x:11,y:5}},{clockwise:{x:5,y:9},counterclockwise:{x:7,y:9}},{clockwise:{x:1,y:5},counterclockwise:{x:1,y:7}}]}];function a(e){var t;const i=Sf.PuzzleShape.hash(e);return null===(t=r.find((e=>oe.isEqual(e.hash,i))))||void 0===t?void 0:t.buttons}function l(e){return oe.max([[159,145,86],[177,161,95],[144,131,79]].map((t=>i(t,e))))>.9}let c;e.getButtons=a,e.getRuneReferences=function(){return Pf(this,void 0,void 0,(function*(){if(null==c){const t=yield ld.ImageDetect.imageDataFromUrl("/alt1anchors/knot_runes/atlas.png"),i=[];for(let n=0;n<Math.floor(t.width/12);n++)i.push(Og.get(t,{x:12*n,y:0},e.RUNE_REFERENCE_SIZE,e.RUNE_KERNEL_SIZE,Og.TypeRGB));c=i}return c}))};let u=(new Xd).withTime(2e3);const p=[{offset:{x:-1,y:-1},background_sample_position:{x:0,y:0}},{offset:{x:1,y:-1},background_sample_position:{x:23,y:0}},{offset:{x:1,y:1},background_sample_position:{x:24,y:24}},{offset:{x:-1,y:1},background_sample_position:{x:0,y:24}}],h=[{x:11,y:-3},{x:12,y:-3},{x:-5,y:12},{x:-5,y:13},{x:29,y:12},{x:29,y:13},{x:11,y:28},{x:12,y:28}],d=[{x:12,y:-1},{x:-1,y:12},{x:24,y:12},{x:12,y:24}],g={match:[[99,178,74],[86,155,64],[108,195,81],[130,235,98]],nomatch:[[60,0,0],[86,0,0],[92,0,0],[106,0,0]]},f={x:70,y:13};e.CapturedKnot=class{constructor(e,t){this.ui=e,this.reader=t,this.isBroken=!1,this.brokenReason="",this._buttons=ma((()=>{var e;const t=null===(e=this.readPuzzle())||void 0===e?void 0:e.shape;return t?a(t):null})),this.relevant_body=e.body.getSubSection({origin:f,size:{x:e.body.size.x-2*f.x,y:e.body.size.y-2*f.y}}),this.img_data=this.relevant_body.getData()}findOrigin(){if(this.anchor_grid_origin)return;const e=(()=>{let e=5,t=!0;for(;e<200;){const i={x:107,y:e};this.sample(i);const n=l(this.sample(i));if(!n&&t&&!l(this.sample({x:i.x,y:i.y+24})))return i;t=n,e++}return null})();if(!e)return this.isBroken=!0,void(this.brokenReason="Not intercepted");for(;e.y>0;)if(l(this.sample(xe.add(e,{x:-1,y:-1})))){if(l(this.sample(xe.add(e,{x:1,y:-1}))))break;e.x++,e.y--}else e.x--,e.y--;this.interception_point=e,l(this.sample(xe.add(e,{x:-1,y:0})))||e.x--,this.border_anchor=e;const t=xe.add(this.border_anchor,s),i={x:Math.floor(t.x/o.x),y:Math.floor(t.y/o.y)};this.anchor_grid_origin=xe.sub(t,xe.mul(o,i)),this.runes_on_odd_tiles=(i.x+i.y)%2==1,this.grid_size={x:Math.floor((this.relevant_body.size.x-this.anchor_grid_origin.x)/o.x),y:Math.floor((this.relevant_body.size.y-this.anchor_grid_origin.y)/o.y)}}tileOrigin(e,t=!1){return t?xe.add(this.anchor_grid_origin,xe.mul(e,o),this.relevant_body.screenRectangle().origin):xe.add(this.anchor_grid_origin,xe.mul(e,o))}sample(e){return this.img_data.getPixel(e.x,e.y)}readGrid(){if(!this.grid&&(this.findOrigin(),!this.isBroken)){this.grid=new Array(this.grid_size.y);for(let e=0;e<this.grid_size.y;e++){this.grid[e]=new Array(this.grid_size.x);for(let t=0;t<this.grid_size.x;t++)(t+e)%2==1==this.runes_on_odd_tiles&&(this.grid[e][t]=this.readTile({x:t,y:e}))}n(this.grid.flat(),(e=>!!e.rune))<20&&(this.brokenReason="Not enough valid tiles",this.isBroken=!0)}}readTile(t){var o;const s=this.tileOrigin(t),r=p.map((e=>l(this.sample(xe.add(s,e.background_sample_position))))),a=n(r,oe.identity);if(a>2)return{pos:t,rune:null};const c=a<2,u=function(e){const t=oe.maxBy([{track_id:0,colors:[[46,46,77],[45,45,75],[28,28,47],[28,28,47],[35,25,58],[50,50,85]]},{track_id:1,colors:[[137,60,43],[67,29,21],[97,43,30],[62,27,17]]},{track_id:2,colors:[[12,12,18],[11,11,16],[18,18,27]]},{track_id:3,colors:[[43,30,0],[159,112,0],[205,146,0],[104,74,0],[137,97,0]]},{track_id:4,colors:[[95,89,76],[123,116,98],[30,28,24]]}].map((t=>({lane_id:t.track_id,certainty:oe.sum(e.map((e=>oe.max(t.colors.map((t=>i(t,e)))))))/e.length}))),(e=>e.certainty));return t.certainty>.8?t:null}(h.map((e=>this.sample(xe.add(s,e)))));let f=!1;var y;c&&(y=d.map((e=>this.sample(xe.add(s,e)))),f=oe.sum(y.map((e=>oe.max(g.match.map((t=>i(t,e)))))))>oe.sum(y.map((e=>oe.max(g.nomatch.map((t=>i(t,e))))))));const m=Og.get(this.img_data,xe.add(s,{x:7,y:7}),e.RUNE_REFERENCE_SIZE,e.RUNE_KERNEL_SIZE,Og.TypeRGB),_=this.reader.identifyRune(m);return null==_?{pos:t,rune:null}:{pos:t,rune:{id:_,strip_color:null!==(o=null==u?void 0:u.lane_id)&&void 0!==o?o:5,neighbours_exist:r.map((e=>!e)),intersection:c?{matches:f}:null}}}findLanes(){if(!this.lanes&&(this.readGrid(),this.lanes=[],!this.isBroken)){for(;;){const e=this.grid.flat().find((e=>e.rune&&!e.rune.intersection&&!this.lanes.some((t=>t.color==e.rune.strip_color))));if(!e)break;const t={color:e.rune.strip_color,tiles:[]};let i=2,n=e;for(;;){t.tiles.push(n);const o=xe.add(n.pos,p[i].offset);if(n=this.grid[o.y][o.x],!(null==n?void 0:n.rune)||n==e||t.tiles.length>40)break;n.rune.intersection||n.rune.neighbours_exist[i]||(i=[0,1,2,3].find((e=>e!=(i+2)%4&&n.rune.neighbours_exist[e])))}if(!(t.tiles.length>=10)){this.brokenReason=`Lane too short: ${t.tiles.length}`,this.isBroken=!0;break}this.lanes.push(t)}this.lanes.length<3&&(this.brokenReason=`Not enough lanes: ${this.lanes.length}`,this.isBroken=!0)}}readPuzzle(){if(this.puzzle)return this.puzzle;if(this.findLanes(),this.isBroken)return null;const e=[],t=[];for(let i=0;i<this.lanes.length;i++){const n=this.lanes[i];for(let o=0;o<n.tiles.length;o++){const s=n.tiles[o];if(s.rune.intersection&&s.rune.strip_color!=n.color){const n=this.lanes.findIndex((e=>e.color==s.rune.strip_color));if(n<0){this.isBroken=!0,this.brokenReason=`Could not find intersecting lane for color ${s.rune.strip_color}`;continue}const r=this.lanes[n].tiles.findIndex((e=>e==s));if(r<0){this.isBroken=!0,this.brokenReason=`Could not find tile in intersecting lane for ${i}:${o} with other line ${r}`;continue}e.push({first:{snake:i,tile:o},second:{snake:n,tile:r}}),t.push(s.pos)}}}return this.puzzle={shape:{snake_lengths:this.lanes.map((e=>e.tiles.length)),locks:e},snakes:this.lanes.map((e=>e.tiles.map((t=>t.rune.intersection&&!t.rune.intersection.matches&&t.rune.strip_color!=e.color?{value:t.rune.id,type:"isnot"}:{value:t.rune.id,type:"is"}))))}}getButtons(){return this._buttons.get()}showDebugOverlay(){return Pf(this,arguments,void 0,(function*(e=!1,t="runeid"){var i;this.readPuzzle();const s=[cd.blue,cd.red,cd.fromRGB(23,23,100),cd.fromRGB(235,167,0),cd.white];null==u||u.clear(),this.interception_point&&u.rect(we.centeredOn(xe.add(this.relevant_body.screenRectangle().origin,this.interception_point),5),{color:cd.white,width:2});for(let e=0;e<this.lanes.length;e++){const t=this.lanes[e];t.tiles.length>1?u.polyline(t.tiles.map((e=>xe.add(this.relevant_body.screenRectangle().origin,this.tileOrigin(e.pos),{x:12,y:12}))),!0,{color:s[t.color],width:2}):1==t.tiles.length&&(null===(i=t.tiles[0])||void 0===i?void 0:i.pos)&&u.rect(we.centeredOn(xe.add(this.relevant_body.screenRectangle().origin,this.tileOrigin(t.tiles[0].pos),{x:12,y:12}),5),{color:s[t.color],width:2})}if(this.grid_size)for(let i=0;i<this.grid_size.x;i++)for(let r=0;r<this.grid_size.y;r++){const a=xe.add(this.relevant_body.screenRectangle().origin,this.tileOrigin({x:i,y:r})),l=this.grid[r][i];if(l&&(e&&u.rect(we.fromOriginAndSize(a,o),{color:cd.red,width:1}),l.rune)){const e=(()=>{switch(t){case"neighbour_array":return`${l.rune.neighbours_exist[0]?"t":" "}   ${l.rune.neighbours_exist[1]?"t":" "}\n${l.rune.neighbours_exist[3]?"t":" "}   ${l.rune.neighbours_exist[2]?"t":" "}`;case"neighbour_count":return n(l.rune.neighbours_exist,oe.identity).toString();case"runeid":return l.rune.id.toString()}})();u.text(e,xe.add(a,xe.scale(.5,o)),{width:12,shadow:!0,color:"runeid"==t?s[l.rune.strip_color]:cd.white,centered:!0})}}u.render()}))}}}(Mf||(Mf={}));var Lf;!function(e){let t,i,n,o,s;!function(e){e.getState=function(e){return e.tiles.map((e=>e.position))}}(t=e.SliderPuzzle||(e.SliderPuzzle={})),function(e){function t(t){return t.indexOf(e.BLANK_TILE)}function i(e){const t=new Array(e.length).fill(!1);let i=0;for(;;){const n=t.indexOf(!1);if(n<0)break;let o=0,s=e[n];for(;!t[s];)t[s]=!0,s=e[s],o++;o%2==0&&i++}return i%2}function n(e){return i(e.filter((e=>24!=e)))%2==0}e.BLANK_TILE=24,e.SOLVED=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],e.equals=function(e,t){for(let i=0;i<e.length;i++)if(e[i]!=t[i])return!1;return!0},e.withMove=function(e,...t){const i=[...e];return t.forEach((e=>{const t=o.split(e);let n=i.indexOf(24);for(let e of t)i[n]=i[n+e],n+=e;i[n]=24})),i},e.blank=t,e.findMove=function(i,n){const s=t(i),r=t(n)-s;return o.isValid(r)&&e.equals(n,e.withMove(i,r))?r:null},e.neighbours=function(i,n=!0){const s=t(i),r=s%5,a=Math.floor(s/5);let l=[];for(let e=0;e<5;e++)e!=r&&l.push(e-r);for(let e=0;e<5;e++)e!=a&&l.push(5*(e-a));return n||(l=l.filter(o.isSmallStep)),l.map((t=>e.withMove(i,t)))},e.sumManhattenDistance=function(e){return oe.sumBy(e.map(((e,t)=>24==e?0:Math.abs(e%5-t%5)+Math.abs(Math.floor(e/5)-Math.floor(t/5)))))},e.permutation_parity=i,e.isSolveable=n,e.createRandom=function(){let t=null;do{t=[...oe.shuffle(e.SOLVED.slice(0,24)),24]}while(!n(t));return t},e.toString=function(e){return[0,1,2,3,4].map((t=>e.slice(5*t,5*(t+1)).map((e=>("  "+e.toString()).slice(-2))).join(", "))).join("\n")}}(i=e.SliderState||(e.SliderState={})),function(e){e.fromState=function(e){return{tiles:e,blank:i.blank(e)}},e.doMove=function(e,t){const n=e.blank+t;e.tiles[e.blank]=e.tiles[n],e.tiles[n]=i.BLANK_TILE},e.copy=function(e){return oe.cloneDeep(e)}}(n=e.SlideStateWithBlank||(e.SlideStateWithBlank={})),function(e){e.all=[-20,-15,-10,-5,-4,-3,-2,-1,1,2,3,4,5,10,15,20],e.singletile_moves=[-5,-1,1,5],e.multitile_moves=e.all,e.horizontal_mtm=[-4,-3,-2,-1,1,2,3,4],e.vertical_mtm=[-20,-15,-10,-5,5,10,15,20],e.split=function(e){const t=Math.sign(e)*(Math.abs(e)>=5?5:1);return new Array(e/t).fill(t)},e.isSmallStep=function(e){return[1,-1,5,-5].includes(e)},e.isValid=function(e){return[1,2,3,4,5,10,15,20].includes(Math.abs(e))},e.isVertical=function(e){return e%5==0}}(o=e.Move||(e.Move={})),function(t){var n=_e.index,s=e.Move.isVertical;t.combine=function(t,i,o){for(;i.length>0&&t.length>0&&(o?e.Move.isVertical(i[0])==e.Move.isVertical(n(t,-1)):i[0]==-n(t,-1));)i[0]+=n(t,-1),t.splice(t.length-1),0==i[0]&&i.splice(0,1);return[...t,...i]},t.annotate=function(e,t,n=!0){const o=[];for(let s of t)e=i.withMove(e,s),o.push({pre_states:i.neighbours(e,n),post_state:e,move:s,clicked_tile:i.blank(e)});return o},t.compress=function(e){let t=0;const i=[];for(;t<e.length;){let n=e[t];for(t++;t<e.length&&s(e[t])==s(n);)n+=e[t],t++;0!=n&&i.push(n)}return i},t.expand=function(e){return e.flatMap(o.split)},t.fromTileList=function(e,t){const i=[];for(let n of e)i.push(n-t),t=n;return i}}(s=e.MoveList||(e.MoveList={})),e.Solver=class{};class r extends Dd{constructor(e){super(),this.start_state=e,this.update_event=ji(),this.better_solution_found=ji(),this.best_solution=null,this.use_first_solution=!1,this.compress_moves=!1,this.native_compression=!1,this.withInterrupt(50,1).onInterrupt((()=>this.updateProgress()))}setCombineStraights(e=!0){return this.compress_moves=e,this}registerSolution(e){if(this.native_compression!=this.compress_moves&&(e=this.compress_moves?s.compress(e):s.expand(e)),(!this.best_solution||e.length<this.best_solution.length)&&(this.best_solution=e,this.better_solution_found.trigger(e),this.use_first_solution))throw new r.SolutionFoundException;return this}updateProgress(){this.progress=(Date.now()-this.start_time)/(this.end_time-this.start_time),this.update_event.trigger(this)}implementation(){return e=this,t=void 0,n=function*(){try{yield this.solve_implementation()}catch(e){}return this.getBest()},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}onUpdate(e){return this.update_event.on(e),this}onFound(e){return this.better_solution_found.on(e),this}getProgress(){return this.progress}getBest(){return this.best_solution}useFirstSolution(){return this.use_first_solution=!0,this}}e.SolvingProcess=r,function(e){class t extends Error{constructor(){super()}}e.SolutionFoundException=t}(r=e.SolvingProcess||(e.SolvingProcess={}))}(Lf||(Lf={}));var Df=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},If=_e.findBestMatch;class Of{constructor(e){this.tile_reference=e}identifyTile(e){return If(this.tile_reference,(t=>Og.similarity(t.reference_fingerprint,e)))}}!function(e){e._instance=_a((()=>Df(this,void 0,void 0,(function*(){return new e(yield r.get())})))),e.instance=function(){return Df(this,void 0,void 0,(function*(){return e._instance.get()}))};var t=_e.count;e.TILE_SIZE={x:30,y:30};const i={x:8,y:8},n=xe.add(e.TILE_SIZE,i),o={x:5,y:5},s=Og.TypeRGB,r=new ya((()=>Df(this,void 0,void 0,(function*(){return[{value:0,reference_fingerprint:Og.get(yield ld.ImageDetect.imageDataFromUrl("/alt1anchors/lockbox_tiles/melee.png"),{x:0,y:0},e.TILE_SIZE,o,s)},{value:1,reference_fingerprint:Og.get(yield ld.ImageDetect.imageDataFromUrl("/alt1anchors/lockbox_tiles/range.png"),{x:0,y:0},e.TILE_SIZE,o,s)},{value:2,reference_fingerprint:Og.get(yield ld.ImageDetect.imageDataFromUrl("/alt1anchors/lockbox_tiles/mage.png"),{x:0,y:0},e.TILE_SIZE,o,s)},{value:0,reference_fingerprint:Og.get(yield ld.ImageDetect.imageDataFromUrl("/alt1anchors/lockbox_tiles/melee_active.png"),{x:0,y:0},e.TILE_SIZE,o,s)},{value:1,reference_fingerprint:Og.get(yield ld.ImageDetect.imageDataFromUrl("/alt1anchors/lockbox_tiles/range_active.png"),{x:0,y:0},e.TILE_SIZE,o,s)},{value:2,reference_fingerprint:Og.get(yield ld.ImageDetect.imageDataFromUrl("/alt1anchors/lockbox_tiles/mage_active.png"),{x:0,y:0},e.TILE_SIZE,o,s)}]})))),a={x:42,y:17};e.CapturedLockbox=class{constructor(t,n){this.modal=t,this.reader=n,this.puzzle_computed=!1,this.puzzle=null,this.isBroken=!1,this.brokenReason="",this.tile_area=t.body.getSubSection({origin:a,size:xe.add(xe.scale(5,e.TILE_SIZE),xe.scale(4,i))}),this.tiles=new Array(5).fill(null).map((()=>new Array(5).fill(null)))}tileOrigin(e,t=!1){return t?xe.add(xe.mul(n,e),this.tile_area.screenRectangle().origin):xe.add(xe.mul(n,e))}getTile(t){if(!this.tiles[t.y][t.x]){const i=this.tileOrigin(t),n=Og.get(this.tile_area.getData(),i,e.TILE_SIZE,o,s),r=this.reader.identifyTile(n);this.tiles[t.y][t.x]={image:n,value:r.score<.8?null:r.value.value}}return this.tiles[t.y][t.x]}readGrid(){for(let e=0;e<5;e++)for(let t=0;t<5;t++)this.getTile({x:e,y:t});return this.tiles}getState(){const e=this.readGrid(),i=t(e.flat(),(e=>null==e.value));return i>15?"likelyclosed":i>0?"likelyconcealed":"okay"}getPuzzle(){if(!this.puzzle_computed){const e=this.readGrid(),t=e.some((e=>e.some((e=>null==e.value))));this.puzzle=t?null:{tile_rows:e.map((e=>e.map((e=>e.value))))},this.puzzle_computed=!0}return this.puzzle}showDebugOverlay(){this.debug_overlay||(this.debug_overlay=new Xd),this.debug_overlay.clear(),this.debug_overlay.render()}}}(Of||(Of={}));var Rf=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Bf{constructor(e,t){this.body=e,this.isLegacy=t,this._title=null}title(){if(!this._title&&this.body.parent)if(this.isLegacy){const e={x:0,y:-24},t={x:500,y:20},i=this.body.parent.getSubSection(Cd.move(this.body.relativeRectangle(),e,t)).getData();this._title=Dg.readSmallCapsBackwards(i,Bf.title_font,[[255,152,31]],0,13,i.width,1).text}else{const e={x:0,y:-24},t={x:150,y:20},i=this.body.parent.getSubSection(Cd.move(this.body.relativeRectangle(),e,t)).getData();this._title=Dg.readSmallCapsBackwards(i,Bf.title_font,[[255,203,5]],0,13,i.width,1).text}return this._title.toString()}static assumeBody(e){return new Bf(e,!1)}}!function(e){e.finder=_a((()=>Rf(this,void 0,void 0,(function*(){const t=yield e.anchors.get();return new class{find(i){for(let n of t){const t=i.findNeedle(n.close_x)[0];if(!t)continue;const o=i.findNeedle(n.top_left)[0];if(!o)return null;const s=i.findNeedle(n.bot_left)[0];if(!s)return null;const r=xe.add(o.relativeRectangle().origin,n.BODY_TL_OFFSET_FROM_TL),a=xe.add(s.relativeRectangle().origin,n.BODY_BL_OFFSET_FROM_BL),l=xe.add(t.relativeRectangle().origin,n.BODY_TR_OFFSET_FROM_X),c=a.y-r.y+1,u={x:l.x-r.x+1,y:c},p=i.getSubSection(Cd.move(o.relativeRectangle(),n.BODY_TL_OFFSET_FROM_TL,u));return new e(p,n.isLegacy)}return null}}})))),e.title_font=s(1223),e.anchors=new ya((()=>Rf(this,void 0,void 0,(function*(){return[{isLegacy:!1,close_x:yield tg.fromURL("/alt1anchors/eocx.png"),top_left:yield tg.fromURL("/alt1anchors/eoctopleft.png"),bot_left:yield tg.fromURL("/alt1anchors/eocbotleft.png"),BODY_TL_OFFSET_FROM_TL:{x:4,y:29},BODY_BL_OFFSET_FROM_BL:{x:3,y:7},BODY_TR_OFFSET_FROM_X:{x:10,y:24}},{isLegacy:!0,close_x:yield tg.fromURL("/alt1anchors/legacyx.png"),top_left:yield tg.fromURL("/alt1anchors/legacytopleft.png"),bot_left:yield tg.fromURL("/alt1anchors/legacybotleft.png"),BODY_TL_OFFSET_FROM_TL:{x:4,y:29},BODY_BL_OFFSET_FROM_BL:{x:6,y:-2},BODY_TR_OFFSET_FROM_X:{x:19,y:20}}]}))))}(Bf||(Bf={}));var Ff,Nf=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},jf=_e.rgbSimilarity;class Uf{constructor(e,t,i,n){this.image=e,this.image_includes_checkbox=t,this.isLegacy=i,this.reader=n,this._puzzle=null,this.body=t?e.getSubSection({origin:{x:-Uf.INVERTED_CHECKBOX_OFFSET_FROM_TL.x,y:0},size:Object.assign({},Uf.PUZZLE_SIZE)}):e}isInvertedArrowKeyCheckboxEnabled(){if(!this.image_includes_checkbox)return!1;const e=this.image.getSubSection({origin:{x:0,y:Uf.INVERTED_CHECKBOX_OFFSET_FROM_TL.y},size:{x:1,y:1}}).getData();return jf(Uf.CHECKMARK_COLOR,e.getPixel(0,0))>.8}screenRectangle(e){if(e==this.image_includes_checkbox)return this.image.screenRectangle();if(e){const e=oe.cloneDeep(this.body.screenRectangle());return e.origin.x+=Uf.INVERTED_CHECKBOX_OFFSET_FROM_TL.x,e.size.x+=-Uf.INVERTED_CHECKBOX_OFFSET_FROM_TL.x,e}return this.body.screenRectangle()}recapture(e,t){return new Uf(t.getScreenSection(this.screenRectangle(e)),e,this.isLegacy,this.reader)}getPuzzle(e=void 0){return!this._puzzle&&this.reader&&(this._puzzle=this.reader.identify(this.body.getData(),e)),this._puzzle}}!function(e){let t;!function(t){t.instance=_a((()=>Nf(this,void 0,void 0,(function*(){const t=[{isLegacy:!1,anchor:(yield e.anchors.get()).eoc_x},{isLegacy:!0,anchor:(yield e.anchors.get()).legacy_x}];return new class{find(i,n,o){for(const s of t){const t=i.findNeedle(s.anchor);if(t.length>0){const i={origin:xe.add(t[0].relativeRectangle().origin,e.TL_TILE_FROM_X_OFFSET),size:Object.assign({},e.PUZZLE_SIZE)};return n&&(i.origin.x+=e.INVERTED_CHECKBOX_OFFSET_FROM_TL.x,i.size.x+=-e.INVERTED_CHECKBOX_OFFSET_FROM_TL.x),new e(t[0].parent.getSubSection(i),n,s.isLegacy,o)}}return null}}}))))}(t=e.Finder||(e.Finder={})),e.TL_TILE_FROM_X_OFFSET={x:-297,y:15},e.INVERTED_CHECKBOX_OFFSET_FROM_TL={x:-169,y:222},e.PUZZLE_SIZE={x:273,y:273},e.CHECKMARK_COLOR=[239,175,63],e.anchors=new ya((()=>Nf(this,void 0,void 0,(function*(){return{eoc_x:yield tg.fromURL("/alt1anchors/slide.png"),legacy_x:yield tg.fromURL("/alt1anchors/slidelegacy.png")}}))))}(Uf||(Uf={})),function(e){let t,i,n,o,s,r;e.towers=[1,2,3,4,5],function(e){let t=null;function i(e){let t=0,i=0;for(let n=0;n<e.length;n++)e[n]>i&&(t++,i=e[n]);return t}function n(e){return e.slice().reverse()}e.empty=function(){return[null,null,null,null,null]},e.all=function(){return t||(t=function e(t){return 0==t.length?[[]]:t.flatMap(((i,n)=>e(t.filter(((e,t)=>t!=n))).map((e=>[i,...e]))))}([1,2,3,4,5])),t},e.reverse=n,e.label=function(e){return[i(e),i(n(e))]}}(t=e.Street||(e.Street={})),function(e){let i=null;e.all=function(){return i||(i=t.all().map((e=>({street:e,label:t.label(e)})))),i}}(i=e.LabelledStreet||(e.LabelledStreet={})),function(t){t.equals=function(e,t){return e[0]==t[0]&&e[1]==t[1]};let n=null;function o(){return e.towers.map((n=>e.towers.map((e=>i.all().filter((i=>t.equals([n,e],i.label))).map((e=>e.street))))))}t.candidateMap=o,t.getCandidates=function(e){return n||(n=o()),n[e[0]-1][e[1]-1]}}(n=e.LabelPair||(e.LabelPair={})),function(e){e.empty=function(){return{top:[null,null,null,null,null],bottom:[null,null,null,null,null],left:[null,null,null,null,null],right:[null,null,null,null,null]}}}(o=e.Hints||(e.Hints={})),function(e){e.empty=function(){return{rows:[t.empty(),t.empty(),t.empty(),t.empty(),t.empty()]}},e.combine=function(e,t){return{rows:e.rows.map(((e,i)=>e.map(((e,n)=>null!=e?e:t.rows[i][n]))))}}}(s=e.Blocks||(e.Blocks={})),function(e){e.solve=function(e){return function i(o,s){if(!function(e,i){const o=e.length;for(let t=0;t<5;t++)for(let i=0;i<o-1;i++)if(e[i][t]==e[o-1][t])return!1;return!(5==e.length&&![0,1,2,3,4].every((o=>n.equals(t.label(function(e,t){return e.map((e=>e[t]))}(e,o)),i[o]))))}(s,e.columns))return null;if(0==o.length)return{rows:s};for(const e of n.getCandidates(o[0])){const t=i(o.slice(1),[...s,e]);if(t)return t}return null}(e.rows,[])}}(r=e.Puzzle||(e.Puzzle={})),e.solve=function(e){const t={columns:oe.zip(e.top,e.bottom).map((([e,t])=>[e,t])),rows:oe.zip(e.left,e.right).map((([e,t])=>[e,t]))};return r.solve(t)?{hints:e,blocks:r.solve(t)}:null}}(Ff||(Ff={}));var qf=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Hf{constructor(e){this.context_menu_anchor=e}findContextMenu(e){const t=e.root().findNeedle(this.context_menu_anchor);return t.length>0?Cd.move(t[0].screenRectangle(),{x:-4,y:-2},{x:113,y:149}):null}}!function(e){e._instance=_a((()=>qf(this,void 0,void 0,(function*(){return new e(yield t.get())})))),e.instance=function(){return qf(this,void 0,void 0,(function*(){return e._instance.get()}))};const t=new fa((()=>tg.fromURL("/alt1anchors/contextborder.png")));var i=_e.count;const n=s(6008),o=Object.assign(Object.assign({},n),{chars:n.chars.filter((e=>!isNaN(+e.chr)))});e.TILE_SIZE={x:42,y:42};const r={x:2,y:2},a=xe.add(e.TILE_SIZE,r),l={x:41,y:38};e.CapturedTowers=class{constructor(t,i){this.modal=t,this.reader=i,this.puzzle_computed=!1,this.puzzle=null,this.broken_hint_count=0,this._hint_cache=null,this._tile_cache=null,this.tile_area=t.body.getSubSection({origin:l,size:xe.add(xe.scale(5,e.TILE_SIZE),xe.scale(4,r))}),this.puzzle_area=t.body.getSubSection({origin:{x:10,y:5},size:{x:284,y:284}})}tileOrigin(e,t=!1){return t?xe.add(xe.mul(a,e),this.tile_area.screenRectangle().origin):xe.add(xe.mul(a,e))}readCharacter(e,t=!0){const i=t?[[255,255,255]]:[[255,205,10],[102,102,102]],n=[-3,-2,-1,-4,0];for(let t of i)for(const i of n){const n=Dg.readChar(this.modal.body.getData(),o,t,e.x+i,e.y,!1,!0);if(n){const e=Number(n.chr);return Number.isNaN(e)||e<1||e>5?null:e}}return null}getHints(){if(!this._hint_cache){const e=Ff.Hints.empty(),t={top:{x:60,y:25},bottom:{x:60,y:275},left:{x:23,y:62},right:{x:274,y:62}};for(let i=0;i<5;i++)e.top[i]=this.readCharacter(xe.add(t.top,xe.mul({x:i,y:0},a)),!1),e.bottom[i]=this.readCharacter(xe.add(t.bottom,xe.mul({x:i,y:0},a)),!1),e.left[i]=this.readCharacter(xe.add(t.left,xe.mul({x:0,y:i},a)),!1),e.right[i]=this.readCharacter(xe.add(t.right,xe.mul({x:0,y:i},a)),!1);this.broken_hint_count=i([...e.top,...e.bottom,...e.left,...e.right],(e=>null==e)),this._hint_cache=e}return this._hint_cache}getBlocks(){const e={x:60,y:62};if(!this._tile_cache){const t=Ff.Blocks.empty();for(let i=0;i<5;i++)for(let n=0;n<5;n++)t.rows[i][n]=this.readCharacter(xe.add(e,xe.mul({x:n,y:i},a)),!0);this._tile_cache=t}return this._tile_cache}findContextMenu(){return this.reader.findContextMenu(this.modal.body)}getState(){return this.getHints(),20==this.broken_hint_count?"likelyclosed":this.broken_hint_count>0?"likelyconcealed":"okay"}getPuzzle(){if(!this.puzzle_computed){const e=this.getHints(),t=this.getBlocks();this.broken_hint_count>0?this.puzzle=null:this.puzzle={hints:e,blocks:t},this.puzzle_computed=!0}return this.puzzle}}}(Hf||(Hf={}));var Vf=_e.stringSimilarity,$f=(Yc.notification,_e.findBestMatch),Wf=Lf.SliderState,Gf=xp.log,Zf=_e.cleanedJSON,Kf=_e.async_init;class Yf{constructor(e){this.tetracompass_only=e,this.initialization=Kf((()=>{return e=this,t=void 0,n=function*(){return{scan_finder:yield sg.finder.get(),lockbox_reader:yield Of.instance(),tower_reader:yield Hf.instance(),knot_reader:yield Mf.instance(),slider_reader:yield Rg.instance(),modal_finder:yield Bf.finder.get(),slider_finder:yield Uf.Finder.instance.get(),compass_finder:yield $g.finder.get()}},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n})),this.initialization.wait().catch((e=>{throw Gf().log("Clue Reader initialization failed.","Clue Reader"),e instanceof Error&&(Gf().log(e.toString(),"Clue Reader"),Gf().log(e.stack,"Clue Reader")),e}))}read(e){if(!this.initialization.isInitialized())return null;const t=this.initialization.get();if(!this.tetracompass_only){{const i=t.modal_finder.find(e);if(i){const e=(()=>{const e=i.title().toLowerCase(),t=$f([{type:"textclue",possible_titles:["mysterious clue","mysterious clue scroll","sandy clue scro","sandy clue scroll"]},{type:"towers",possible_titles:["towers"]},{type:"lockbox",possible_titles:["lockbox"]},{type:"knot",possible_titles:["celtic knot"]},{type:"map",possible_titles:["treasure map"]}].map((t=>({value:t,score:$f(t.possible_titles,(t=>Vf(e,t))).score}))),(e=>e.score)).value;return!(null==t?void 0:t.score)||t.score<.7?null:t.value.type})();if(e)switch(e){case"textclue":const e=Yf.readTextClueModalText(i);if(e.length>=10){const t=$f(_p.all.flatMap((e=>e.text.map(((t,i)=>({step:e,text_index:i}))))),(({step:t,text_index:i})=>{let n=t.text[i];return"skilling"==t.type&&"master"==t.tier&&(n=`Complete the action to solve the clue: ${n}`),Vf(e,n)}));return!(null==t?void 0:t.score)||t.score<.7?null:{type:"textclue",modal:i,step:t.value}}return null;case"map":const n=13e4,o=function(e,t,i,n,o,s,r){let a=Lg(Pg(e,90,25,300,240)),l=[a[0],a[1],a[2]];for(let n=0;(n+1)*t<=300;n++){let o=90+n*t;for(let s=0;(s+1)*i<=240;s++){let r=25+s*i,c=5*n+s*Math.floor(15)*5+3,u=Lg(Pg(e,o,r,t,i));l[c+0]=u[0],l[c+0]>128&&(l[c+1]-=256),l[c+0]<-128&&(l[c+1]+=256),l[c+1]=u[1],l[c+2]=a[2]-u[2],l[c+3]=Math.floor(Mg(e,o+1,r+1,18,18)/t/i),l[c+4]=Math.floor(Mg(e,o,r,t,i)/t/i)}}return l}(i.body.getData(),20,20),s=$f(_p.map,(e=>function(e,t){let i=0,n=Math.abs(e[0]-t[0]);i+=Math.max(0,5*(n>128?255-n:n)-100),i+=Math.max(0,5*Math.abs(e[1]-t[1])-100);for(let o=3;o<e.length;o+=5){let s=0;n=Math.abs(e[o]-t[o]),s+=(n>128?255-n:n)*Math.max(e[o],t[o])/255,s+=Math.abs(e[o+1]-t[o+1]),s+=100*Math.max(0,e[o+3]-t[o+4]),s+=100*Math.max(0,t[o+3]-e[o+4]),i+=s}return i}(e.ocr_data,o)),void 0,!0);return!(null==s?void 0:s.score)||s.score>n?null:{type:"textclue",modal:i,step:{step:s.value,text_index:0}};case"knot":{const e=new Mf.CapturedKnot(i,t.knot_reader),n=e.readPuzzle(),o=e.getButtons();if(!n)return Gf().log("Knot found, but not parsed properly","Clue Reader"),Gf().log(`Broken: ${e.isBroken}, Reason: ${e.brokenReason}`,"Clue Reader"),null;if(!o)return Gf().log(`Could not identity knot shape: ${Zf(n.shape)}`,"Clue Reader"),Gf().log(`Hash: ${Zf(Sf.PuzzleShape.hash(n.shape))}`,"Clue Reader"),null;const s=Sf.solveAll(n);return 0==s.real.length&&0==s.maybe.length?(Gf().log("Read a not with no possible solution. Rejecting.","Clue Reader",n),null):{type:"puzzle",puzzle:{type:"knot",reader:e}}}case"lockbox":{const e=new Of.CapturedLockbox(i,t.lockbox_reader);return e.getPuzzle()?{type:"puzzle",puzzle:{type:"lockbox",reader:e}}:(console.error("Lockbox found, but not parsed properly. Maybe it's concealed by something."),null)}case"towers":{const e=new Hf.CapturedTowers(i,t.tower_reader);return e.getPuzzle()?{type:"puzzle",puzzle:{type:"tower",reader:e}}:(console.error("Towers puzzle found, but not parsed properly. Maybe it's concealed by something."),null)}}return null}}{const i=t.slider_finder.find(e,!1,t.slider_reader);if(i){const e=i.getPuzzle();if(e.match_score>=Rg.DETECTION_THRESHOLD_SCORE){const t=e.tiles.map((e=>e.position));return Wf.isSolveable(t)||xp.log().log(`Read impossible slider puzzle: ${t.join(",")}`),{type:"puzzle",puzzle:{type:"slider",reader:i,puzzle:e}}}return null}}{const i=t.scan_finder.find(e);if(i){const e=i.scanArea(),t=$f(_p.scan,(t=>Vf(e,t.scantext)));return{type:"scan",step:t.value,scan_interface:i}}}}{const i=t.compass_finder.find(e);if(i){const e=i.isArcCompass(),t=new Ef(i),n=t.getAngle();return"likely_solved"==(null==n?void 0:n.type)?null:"likely_closed"==(null==n?void 0:n.type)||"likely_concealed"==(null==n?void 0:n.type)?(console.error("Compass found, but not parsed properly"),console.error(`Broken: ${n.type}, Reason: ${n.details}`),null):{type:"compass",step:e?_p.arc_compass:this.tetracompass_only?_p.tetracompass:_p.gielinor_compass,reader:t}}}}}!function(e){e.readTextClueModalText=function(e){let t=e.body.getData(),i=[],n=0;for(let e=60;e<290;e++){let a=0,l=null;for(let i=220;i<320;i++){let n=4*i+4*t.width*e;o=t.data[n],s=t.data[n+1],r=t.data[n+2],Math.abs(o-84)+Math.abs(s-72)+Math.abs(r-56)<80&&a++}if(a>=3)0==n&&(n=e);else if(0!=n&&(l=Math.abs(n-e),n=0,l>=6&&l<=18)){let n=Dg.findReadLine(t,Ig,[[84,72,56]],255,e-4)||Dg.findReadLine(t,Ig,[[84,72,56]],265,e-4);n&&i.push(n.text)}}var o,s,r;return i.join(" ")}}(Yf||(Yf={}));var Qf,Xf=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){var t=ag.interactionMarker,i=mr.activate,n=ie.npc,o=ie.staticentity,s=su.digSpotRect,r=ie.item,a=ie.hbox;class l extends Ji{constructor(e,t){super(),this.name=e,this.range=t,this.floor_sensitivity_layers=Yi.none,this.floor_sensitivity_layers=Yi.special(t.origin.level)}bounds(){return mr.toRect(this.range)}render_implementation(e){return Xf(this,void 0,void 0,(function*(){const n=this.floor_sensitivity_layers.get(e.floor_group_index);return e.highlight&&Pr(this.range).setStyle({color:n.value.correct_level?"yellow":"gray",interactive:!1,opacity:.5,fillOpacity:.1}).addTo(this),t(i(this.range).center(),"talk",e.highlight?1.5:1,!0,n.value.correct_level?void 0:"ctr-entity-wrong-level").addTo(this).getElement()}))}}e.NpcEntity=l;class u extends Ji{constructor(e,t,i){super(),this.name=e,this.box=t,this.cursor=i,this.floor_sensitivity_layers=Yi.none,this.floor_sensitivity_layers=Yi.special(t.level)}bounds(){return this.box}render_implementation(e){return Xf(this,void 0,void 0,(function*(){const i=this.floor_sensitivity_layers.get(e.floor_group_index),n=Er(this.box).setStyle({color:"cyan",interactive:null==this.cursor,weight:e.highlight?4.5:3,opacity:1,fillOpacity:.1,pane:ia.objectPane}).addTo(this);return this.cursor?t(ze.center(this.box),this.cursor,e.highlight?1.5:1,!0,i.value.correct_level?void 0:"ctr-entity-wrong-level").addTo(this).getElement():n.getElement()}))}}e.ObjectEntity=u,e.TalkSolutionNpcEntity=class extends l{constructor(e,t){super(e,t.range),this.name=e,this.spot=t,this.setTooltip((()=>{const i=new Pa;return i.header(a("Talk to",ie.space(),n(e),ie.space(),"to solve the clue")),t.note&&i.named("Note",t.note),i}))}},e.SearchSolutionEntity=class extends u{constructor(e){super(e.entity,e.spot,"search"),this.sol=e,this.setTooltip((()=>{const t=new Pa;return t.header(a("Search",ie.space(),o(e.entity),ie.space(),"to solve the clue")),e.key&&(t.named("Key","If you do not have 'way of the footshaped key' unlocked, you will need to get a key."),t.named("Instructions",e.key.instructions),t.named("Solution",e.key.answer)),t}))}};class p extends Ji{constructor(e){super(),this.sol=e,this.floor_sensitivity_layers=Yi.none,this.floor_sensitivity_layers=Yi.special(e.spot.level),this.setTooltip((()=>{const t=new Pa;return e.description?t.header(`Dig ${e.description} to solve the clue`):t.header(`Dig at ${Te.toString(this.sol.spot)} to solve the clue`),t}))}bounds(){return we.from(this.sol.spot)}render_implementation(e){return Xf(this,void 0,void 0,(function*(){const i=this.floor_sensitivity_layers.get(e.floor_group_index);return p.areaGraphics(this.sol.spot).addTo(this),t(this.sol.spot,"shovel",e.highlight?1.5:1,!0,i.value.correct_level?void 0:"ctr-entity-wrong-level").addTo(this).getElement()}))}}e.DigSolutionEntity=p,function(e){e.areaGraphics=function(e,t=!1){return(t?Cr(e):Er(s(e))).setStyle({color:"gray",interactive:!1,opacity:.5,fillOpacity:.1})}}(p=e.DigSolutionEntity||(e.DigSolutionEntity={})),e.EmoteAreaEntity=class extends Ji{constructor(e){super(),this.clue=e,this.floor_sensitivity_layers=Yi.none,this.floor_sensitivity_layers=Yi.special(e.area.origin.level),this.setTooltip((()=>{const t=new Pa;t.header("Emote area"),e.double_agent?t.paragraph(`Perform the ${e.emotes.length>1?"emotes":"emote"} here. Kill the double agent to summon and talk to Uri.`):t.paragraph(`Perform the ${e.emotes.length>1?"emotes":"emote"} here summon and talk to Uri.`);{let i=c();for(let t=0;t<e.items.length;t++){const n=e.items[t];t>0&&(t==e.items.length-1?i.append(", and "):i.append(", ")),i.append(r(n))}t.named("Items",i)}{let i=c();for(let t=0;t<e.emotes.length;t++){const n=e.emotes[t];t>0&&(t==e.emotes.length-1?i.append(", then "):i.append(", ")),i.append(n)}t.named(1!=e.emotes.length?"Emotes":"Emote",i)}return e.double_agent&&t.header("Spawns double agent","left",1),t}))}bounds(){return mr.toRect(this.clue.area)}render_implementation(e){return Xf(this,void 0,void 0,(function*(){this.floor_sensitivity_layers.get(e.floor_group_index);const t=e.highlight?2:1;return Pr(this.clue.area).setStyle({color:"#914183",weight:2*t,pane:ia.areaPane}).addTo(this).getElement()}))}},e.HideyHoleEntity=class extends u{constructor(e,t){super(e.hidey_hole.name,e.hidey_hole.location,t?"equip":void 0),this.clue=e,this.setTooltip((()=>{const e=new Pa;return e.header(o(this.clue.hidey_hole.name)),e.paragraph("Hidey-holes are used to store the items needed for an emote clue."),e}))}}}(Qf||(Qf={}));var Jf=ie.hbox,ey=ie.inlineimg;class ty extends gc{constructor(e){super({size:"medium",fixed:!0}),this.parent=e}setStatus(e){return this.status_row.empty().append(e),this}render(){super.render(),this.body.empty().append(this.image_container=c().css2({"max-width":"100%","text-align":"center"}),this.status_row=c(),Jf(this.button_row=new hc({align:"center"}).css("flex-grow",1),ey("/assets/icons/settings.png").addClass("ctr-clickable").on("click",(()=>{return e=this,t=void 0,n=function*(){(yield dv.openOnPage(this.parent.settings_id)).saved&&this.parent.process&&this.parent.resetProcess(!0)},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}))).css2({"max-width":"250px","margin-left":"auto","margin-right":"auto"})),this.update()}update(){this.parent.process?this.button_row.buttons(new mc("Reset","neutral").onClick((()=>{this.parent.resetProcess(!0)})),new mc("Stop","cancel").onClick((()=>{this.parent.resetProcess(!1)}))):this.button_row.buttons(new mc("Start","confirm").onClick((()=>{this.parent.resetProcess(!0)})))}setImage(e){this.image_container.empty().append(Ii.wrap(e.toImage()).css("max-width","100%"))}}class iy extends Pd{constructor(e,t,i,n,o){super(e,"clue"),this.puzzle=t,this.autostart=i,this.modal_title=n,this.settings_id=o}resetProcess(e){return t=this,i=void 0,o=function*(){this.process&&(this.process.stop(),this.process=null),e&&(this.process=yield this.constructProcess(),this.process.puzzle_closed.on((()=>this.endClue("Puzzle Process reported a closed puzzle"))),this.process.start()),this.modal.update()},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o}begin(){this.modal=new ty(this),this.modal.title.set(this.modal_title),this.modal.hidden.on((()=>this.endClue("Puzzle Modal hidden"))),this.modal.show(),this.autostart&&this.resetProcess(!0)}end(){this.resetProcess(!1),this.modal.remove()}}class ny extends aa{constructor(){super(),this.puzzle_closed=ji(),this.solution_overlay=this.withSub(new Zd)}begin(){this.start_time=Date.now(),this.lifetime_manager.bind(this.token=Yd.instance().capturing.subscribe({options:e=>({interval:Hd.fromApproximateInterval(20),area:this.area()}),handle:e=>{return t=this,i=void 0,o=function*(){try{this.tick(e.value)}catch(e){console.error(e.toString())}},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o},paused:()=>this.capturingPaused()}))}capturingPaused(){return!1}end(){}puzzleClosed(){this.stop(),this.puzzle_closed.trigger(this)}}var oy=_e.factorial;const sy=(()=>{function e(e,t){return t>e?0:oy(e,e-t)/oy(t)}const t=new Array(26).fill(null).map((e=>new Array(26).fill(null)));for(let i=0;i<=25;i++)for(let n=0;n<=25;n++)t[i][n]=e(i,n);return t})(),ry=new Array(12).fill(null).map(((e,t)=>oy(t)));var ay,ly;!function(e){e.insert=function e(t,i){return t.size++,null==t.value?(t.value=i,t.left={size:0},t.right={size:0},0):i<t.value?(t.size++,t.right.size+1+e(t.left,i)):e(t.right,i)}}(ay||(ay={})),function(e){e.empty=function(){return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},e.reflect=function(e){return cy.tile_reflection_table.map((t=>e[t]))},e.equals=function(e,t){return oe.isEqual(e,t)};var t=_e.count,i=_e.factorial,n=Lf.SliderState;let o;e.Indexing=class{constructor(e){this.region=e,this.solves_puzzle=e.every(((e,t)=>e!=o.FREE||[23,19].includes(t))),this.current=t(e,(e=>e==o.CURRENT))+(this.solves_puzzle?0:1),this.freedom=t(e,(e=>e!=o.FIXED)),this.permutation_array=new Array(this.current).fill(null),this.number_of_permutations=i(this.current),this.size=i(this.freedom,Math.max(2,this.freedom-this.current)),this.combination_relevant_indices=oe.sortBy(e.map(((e,t)=>[e,t])).filter((e=>e[0]!=o.FIXED)),(e=>-e[0])).map((e=>e[1])),this.relevant_tile_numbers=e.map(((e,t)=>e==o.CURRENT||t==n.BLANK_TILE)),this.solution_relevant_indices=e.flatMap(((e,t)=>e==o.CURRENT||e==o.FIXED?[t]:[]))}stateIndex(e){let t=0;{let i=1;for(let n=0;n<this.combination_relevant_indices.length&&i<=this.current;n++){const o=e[this.combination_relevant_indices[n]];this.relevant_tile_numbers[o]&&(this.permutation_array[i-1]=o,t+=sy[n][i],i+=1)}}return t*this.number_of_permutations+function(e){let t=0;for(let i=1;i<e.length;i++){const n=ry[i];for(let o=0;o<i;o++)e[o]>e[i]&&(t+=n)}return t}(this.permutation_array)}satisfied(e){return this.solution_relevant_indices.every((t=>e[t]==t))}},function(e){e.FREE=0,e.CURRENT=1,e.FIXED=2}(o=e.Tile||(e.Tile={})),e.isFirst=function(e){return e.every((e=>e!=o.FIXED))},e.isChild=function(e,t){return t.every(((t,i)=>{const n=e[i];switch(t){case o.FREE:case o.CURRENT:return n==o.FREE;case o.FIXED:return n==o.FIXED||n==o.CURRENT}}))},e.child=function(e){return e.map((e=>e==o.FREE?o.FREE:o.FIXED))},e.solvesPuzzle=function(e){return e.every((e=>e!=o.FREE))},e.lookupTableSize=function(e){const i=t(e,(e=>e==o.CURRENT)),n=i+t(e,(e=>e==o.FREE));let s=1;for(let e=0;e<=i;e++)s*=n-e;return s},e.check=function(e){return[]}}(ly||(ly={}));var cy,uy=Lf.Move;class py{constructor(e,t,i=!1){this.region=e,this.multitile=t,this.allow_undoing_moves=i,this.move_table=new Array(41);for(let e of[0,...uy.all]){const t=this.move_table[e+20]=new Array(25),n=i?this.multitile?uy.multitile_moves:uy.singletile_moves:this.multitile?0==e?uy.multitile_moves:uy.isVertical(e)?uy.horizontal_mtm:uy.vertical_mtm:uy.singletile_moves.filter((t=>t!=-e));for(let e=0;e<25;e++){const i=e%5,o=~~(e/5);t[e]=n.filter((e=>{const t=i+e%5,n=o+~~(e/5);return t>=0&&t<5&&n>=0&&n<5})).filter((t=>this.region[e+t]!=ly.Tile.FIXED))}}}get(e){return this.move_table[e[cy.LASTMOVE_INDEX]][e[cy.BLANK_INDEX]]}}!function(e){var t=Lf.SliderState,i=_e.chooseRandom;e.SIZE=27,e.tile_reflection_table=[0,5,10,15,20,1,6,11,16,21,2,7,12,17,22,3,8,13,18,23,4,9,14,19,24],e.reflection_pairs=[[1,5],[2,10],[3,15],[4,20],[7,11],[8,16],[9,21],[13,17],[14,22],[19,23]],e.copy=function(e){return new Uint8Array(e)},e.BLANK_INDEX=25,e.LASTMOVE_INDEX=26,e.SOLVED=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,24,20]);const n=[[0,-5,-10,-15,-20],[],[],[],[],[0,-5,-10,-15],[],[],[],[],[0,-5,-10],[],[],[],[],[0,-5],[0,-1,-2,-3,-4],[0,-1,-2,-3],[0,-1,-2],[0,-1],[],[0,1],[0,1,2],[0,1,2,3],[0,1,2,3,4],[0,5],[],[],[],[],[0,5,10],[],[],[],[],[0,5,10,15],[],[],[],[],[0,5,10,15,20]];function o(t,i){const o=n[i+20];let s=t[e.BLANK_INDEX];for(let e=0;e<o.length-1;++e)t[s+o[e]]=t[s+o[e+1]];t[e.LASTMOVE_INDEX]=i+20,t[t[e.BLANK_INDEX]=s+i]=24}function s(n,s=100,r=e.fromState(t.SOLVED)){for(let e=0;e<s;e++)o(r,i(n.get(r)));return r}e.doMove=o,e.fromState=function(e){const i=t.blank(e);return new Uint8Array([...e,i,20])},e.reflect=function(t){for(const[i,n]of e.reflection_pairs){const e=t[i];t[i]=t[n],t[n]=e}for(let i=0;i<25;i++)t[i]=e.tile_reflection_table[t[i]];t[e.BLANK_INDEX]=e.tile_reflection_table[t[e.BLANK_INDEX]],t[e.LASTMOVE_INDEX]=e.move_translation_reflect[t[e.LASTMOVE_INDEX]]+20},e.asState=function(e){return[...e.slice(0,25)]},e.ramenShuffle=function(i=100,n=e.fromState(t.SOLVED)){return s(new py(ly.empty(),!1,!0),i,n)},e.shuffle=s,e.move_translation_reflect=[-4,void 0,void 0,void 0,void 0,-3,void 0,void 0,void 0,void 0,-2,void 0,void 0,void 0,void 0,-1,-20,-15,-10,-5,0,5,10,15,20,1,void 0,void 0,void 0,void 0,2,void 0,void 0,void 0,void 0,3,void 0,void 0,void 0,void 0,4]}(cy||(cy={}));var hy=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const dy=[-20,void 0,void 0,void 0,void 0,-15,void 0,void 0,void 0,void 0,-10,void 0,void 0,void 0,void 0,-5,-4,-3,-2,-1,0,1,2,3,4,5,void 0,void 0,void 0,void 0,10,void 0,void 0,void 0,void 0,15,void 0,void 0,void 0,void 0,20];class gy extends Lf.SolvingProcess{constructor(e,t){super(e),this.chain=t,this.completed_slackness=-1,this.native_compression=t.getEntryPoints()[0].table.description.multitile}solve_implementation(){return hy(this,void 0,void 0,(function*(){let e,t,i=0;const n=(o,s,r)=>hy(this,void 0,void 0,(function*(){const a=s.reflected?cy.move_translation_reflect:dy,l=(o,r)=>hy(this,void 0,void 0,(function*(){if(i++,i%1e3==0&&(yield this.checkTime()),this.should_stop)return;const c=e[cy.LASTMOVE_INDEX];if(this.best_solution&&t.length>this.best_solution.length)return;let u=!1;const p=s.table.move_table.get(e);for(const i of p){cy.doMove(e,i);const n=s.table.indexing.stateIndex(e),p=s.table.getDistanceByIndex(n);if((p+1)%4==o?(u=!0,t.push(a[i+20]),yield l(p,r),t.pop()):r>=1&&(p==o?(t.push(a[i+20]),yield l(p,r-1),t.pop()):r>=2&&(t.push(a[i+20]),yield l(p,r-2),t.pop())),cy.doMove(e,-i),e[cy.LASTMOVE_INDEX]=c,u&&s.table.indexing.solves_puzzle)break}if(!u){if(0!=o||!s.table.indexing.satisfied(e))return;if(0==s.children.length)(t.length>0||s.table.indexing.solves_puzzle)&&this.registerSolution([...t]);else for(const e of s.children)yield n(s.reflected,e,r)}}));if(s.reflected!=o&&cy.reflect(e),!(s.table.indexing.solves_puzzle&&r>0)||s.table.indexing.satisfied(e)){const t=s.table.indexing.stateIndex(e);yield l(s.table.getDistanceByIndex(t),r)}s.reflected!=o&&cy.reflect(e)}));let o=this.completed_slackness+1;for(;!this.should_stop;){for(const i of this.chain.getEntryPoints())e=cy.fromState(this.start_state),t=[],yield n(!1,i,o),yield this.checkTime();this.should_stop||(this.completed_slackness=o),o++}}))}}class fy extends Lf.Solver{constructor(e){super(),this.chain=e}instantiate(e){return new gy(e,this.chain)}}class yy{constructor(e,t){this.underlying_data=e,this.data_offset=t,this.description=yy.Description.deserialize(e,t),this.indexing=new ly.Indexing(this.description.region),this.move_table=new py(this.description.region,this.description.multitile),this.byte_size=yy.Description.SERIALIZED_SIZE+this.indexing.size/4,this.real_data_offset=t+yy.Description.SERIALIZED_SIZE}getDistance(e){return this.getDistanceByIndex(this.indexing.stateIndex(e))}getDistanceByIndex(e){return this.underlying_data[this.real_data_offset+~~(e/4)]>>e%4*2&3}}!function(e){var t=_e.numberWithCommas;let i;!function(t){t.SERIALIZED_SIZE=26,t.serialize=function(e){return new Uint8Array([e.multitile?1:0,...e.region])},t.deserialize=function(e,t){return{multitile:1==e[t],region:[...e.slice(t+1,t+26)]}},t.byteSize=function(t){return e.Description.SERIALIZED_SIZE+t.size/4}}(i=e.Description||(e.Description={})),e.RegionGraph=class{constructor(e,t){this.databases=e;const i=[];e.forEach(((e,n)=>{if(i.push({effective_region:e.description.region,table:e,reflected:!1,children:[],name:n.toString()}),t){const t=ly.reflect(e.description.region);i.some((e=>ly.equals(e.effective_region,t)))||i.push({effective_region:t,table:e,reflected:!0,children:[],name:n.toString()+"R"})}})),this.nodes=i,i.forEach((e=>i.forEach((t=>{e!=t&&ly.isChild(e.effective_region,t.effective_region)&&e.children.push(t)})))),this.entry_nodes=this.nodes.filter((e=>ly.isFirst(e.effective_region)))}getEntryPoints(){return this.entry_nodes}};class n{constructor(e){this.size=e,this.length=0,this.buffer=new ArrayBuffer(e*cy.SIZE),this.view=new Uint8Array(this.buffer),this.next_free=0,this.next_element=0}enqueue(e){this.view.set(e,this.next_free),this.next_free=(this.next_free+cy.SIZE)%this.view.length,this.length++}poll(){const e=new Uint8Array(this.buffer,this.next_element,cy.SIZE);return this.next_element=(this.next_element+cy.SIZE)%this.view.length,this.length--,e}isEmpty(){return this.next_free==this.next_element}}e.Generator=class extends Dd{constructor(e){super(),this.description=e,this.visited_nodes=0,this.current_depth=0,this.region=new ly.Indexing(this.description.region),this.progress=qi({region:this.region,nodes:0,depth:0}),this.withInterrupt(100,10),this.onInterrupt((()=>{this.progress.set({region:this.region,nodes:this.visited_nodes,depth:this.current_depth})}))}implementation(){return o=this,s=void 0,a=function*(){const o=this.region,s=new py(this.description.region,this.description.multitile),r=new Uint8Array(Math.ceil(o.size/8)).fill(0),a=new Uint8Array(i.SERIALIZED_SIZE+o.size/4).fill(0);let l=0;const c=new n(75e6),u=(e,t)=>{const n=o.stateIndex(e),s=~~(n/8),l=n%8;r[s]>>l&1||(r[s]|=1<<l,a[i.SERIALIZED_SIZE+~~(n/4)]|=t%4<<n%4*2,this.visited_nodes++,c.enqueue(e))};if(o.solves_puzzle)u(cy.SOLVED,0);else for(let e=0;e<25;e++)if(this.description.region[e]==ly.Tile.FREE){const t=cy.copy(cy.SOLVED);t[24]=e,t[e]=24,t[cy.BLANK_INDEX]=e,u(t,0)}let p=0;for(;!c.isEmpty();){const e=this.visited_nodes-p;console.log(`Depth ${l}, total ${t(this.visited_nodes)}/${t(o.size)}, queue: ${t(e)}/${t(c.length)}`),p=this.visited_nodes,this.current_depth=l++;for(let t=0;t<e;t++){const e=c.poll();if(this.visited_nodes%1e5==0&&(yield this.checkTime()),this.should_stop)return null;for(const t of s.get(e)){const i=cy.copy(e);cy.doMove(i,t),u(i,l)}}}return console.log(`Depth ${l}, total ${this.visited_nodes}/${o.size}`),a.set(i.serialize(this.description),0),this.progress.set({region:this.region,nodes:this.visited_nodes,depth:this.current_depth}),new e(a,0)},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{l(a.next(e))}catch(e){t(e)}}function n(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof r?o:new r((function(e){e(o)}))).then(i,n)}l((a=a.apply(o,s||[])).next())}));var o,s,r,a}onProgress(e){return this.progress.subscribe(e),this}}}(yy||(yy={}));class my{constructor(e){this.data=e;let t=0;const i=[];for(;t<e.length;){const n=new yy(e,t);i.push(n),t+=n.byte_size}this.tables=i}}!function(e){let t;!function(e){e.bytesize=function(e){return oe.sumBy(e.regions,(e=>yy.Description.byteSize(new ly.Indexing(e))))}}(t=e.Description||(e.Description={})),e.Generator=class extends Dd{constructor(e){super(),this.description=e,this.active_generator=null,this.solved_nodes=0,this.progress=qi({generator:this,visited_nodes:0,active_region:0,sub_progress:this.description.regions.map((e=>({region:new ly.Indexing(e),depth:0,nodes:0})))}),this.subgenerators=this.description.regions.map(((e,t)=>new yy.Generator({multitile:this.description.multitile,region:e}).onProgress((e=>{this.progress.update2((i=>{i.visited_nodes=this.solved_nodes+i.visited_nodes,i.active_region=t,i.sub_progress[t]=e}))})))),this.withInterrupt(100,1)}stop(){var e;super.stop(),null===(e=this.active_generator)||void 0===e||e.stop()}implementation(){return t=this,i=void 0,o=function*(){const t=[];for(let e=0;e<this.description.regions.length;e++){if(this.should_stop)return null;const i=this.active_generator=this.subgenerators[e];t.push(yield i.run()),console.log(`Generator ${e} ended`),this.solved_nodes+=i.region.size}const i=oe.sumBy(t,(e=>e.byte_size)),n=new Uint8Array(i);let o=0;for(let e of t)n.set(e.underlying_data,o),o+=e.byte_size;const s=new e(n);return this.progress.update2((e=>{e.final_result=s})),s},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o}onProgress(e){return this.progress.subscribe(e),this}}}(my||(my={}));var _y=[5,5];class vy{constructor(e){if(this.tiles=[],this.inverted=[],this.moves=[],25!=e.length)throw"invalid import";for(var t=0;t<e.length;t++){var i={f:!1,p:!1,cx:t%5,cy:Math.floor(t/5),x:e[t]%5,y:Math.floor(e[t]/5)};this.tiles[i.cx+5*i.cy]=i,this.inverted[i.x+5*i.y]=i}this.empty=this.inverted[this.inverted.length-1]}clog(){!function(e){for(let t=0;t<5;t++){let i="";for(let n=0;n<5;n++){i+=" ";let o=e.inverted[n+5*t];i+=o.p?"x":"_",i+=o.f?"x":"_",i+=""+o.cx+o.cy}console.log(i)}}(this)}getMinMoves(){for(var e=0,t=0;t<this.inverted.length;t++){var i=this.inverted[t];i!=this.empty&&(e+=Math.abs(i.cx-i.x)+Math.abs(i.cy-i.y))}return e}clone(){for(var e=new vy(this.toList()),t=0;t<this.inverted.length;t++)e.inverted[t].f=this.inverted[t].f,e.inverted[t].p=this.inverted[t].p;return e}getv(e){return this.tiles[e[0]+5*e[1]]}get(e,t){return this.tiles[e+5*t]}getinv(e,t){return this.inverted[e+5*t]}getinvv(e){return this.inverted[e[0]+5*e[1]]}movetile(e,t,i,n=[]){for(;e.cx!=t||e.cy!=i;){var o=[];t<e.cx&&o.push({x:e.cx-1,y:e.cy}),i<e.cy&&o.push({x:e.cx,y:e.cy-1}),t>e.cx&&o.push({x:e.cx+1,y:e.cy}),i>e.cy&&o.push({x:e.cx,y:e.cy+1});var s=n.concat({x:e.cx,y:e.cy});this.moveempty(o,s),this.swaptiles(e,this.empty)}}moveempty(e,t){for(var i=1/0,n=null,o=0;o<e.length;o++){var s=this.moveemptyrecur(t,[{x:this.empty.cx,y:this.empty.cy}],{x:e[o].x,y:e[o].y},0,10);s&&s.score<i&&(i=s.score,n=s.locs)}if(!n)throw new Error("Can't pathfind to required spot");for(o=1;o<n.length;o++)this.swaptiles(this.empty,n[o].x,n[o].y)}moveemptyrecur(e,t,i,n,o){if(0==o)return null;var s=t[t.length-1];for(let e=0;e<t.length-1;e++)if(t[e].x==s.x&&t[e].y==s.y)return null;if(this.get(s.x,s.y).f)return null;for(let t in e)if(s.x==e[t].x&&s.y==e[t].y)return null;var r=.7;if(s.x==i.x&&s.y==i.y)return{score:n,locs:t};var a,l=1/0,c=null;return 0!=s.x&&(a=this.moveemptyrecur(e,t.concat({x:s.x-1,y:s.y}),i,n+1+r*(this.get(s.x-1,s.y).cx-this.get(s.x-1,s.y).x),o-1))&&a.score<l&&(l=a.score,c=a),0!=s.y&&(a=this.moveemptyrecur(e,t.concat({x:s.x,y:s.y-1}),i,n+1+r*(this.get(s.x,s.y-1).cy-this.get(s.x,s.y-1).y),o-1))&&a.score<l&&(l=a.score,c=a),4!=s.x&&(a=this.moveemptyrecur(e,t.concat({x:s.x+1,y:s.y}),i,n+1-r*(this.get(s.x+1,s.y).cx-this.get(s.x+1,s.y).x),o-1))&&a.score<l&&(l=a.score,c=a),4!=s.y&&(a=this.moveemptyrecur(e,t.concat({x:s.x,y:s.y+1}),i,n+1-r*(this.get(s.x,s.y+1).cy-this.get(s.x,s.y+1).y),o-1))&&a.score<l&&(l=a.score,c=a),c}swaptiles(){var e,t,i,n,o=0;if("object"==typeof arguments[o]?(e=arguments[o].cx,t=arguments[o].cy,o+=1):(e=arguments[o],t=arguments[o+1],o+=2),"object"==typeof arguments[o]?(i=arguments[o].cx,n=arguments[o].cy,o+=1):(i=arguments[o],n=arguments[o+1],o+=2),this.get(i,n)==this.empty){let o=e,s=t;e=i,t=n,i=o,n=s}var s=this.get(e,t),r=this.get(i,n),a=this.tiles.indexOf(s),l=this.tiles.indexOf(r);this.tiles[a]=r,this.tiles[l]=s,s.cx=i,s.cy=n,r.cx=e,r.cy=t,e!=i||t!=n?(Math.abs(e-i)+Math.abs(t-n)!=1&&console.warn("Non adjecent swapped"),this.moves.push({x1:e,y1:t,x2:i,y2:n})):console.warn("Same tile swapped")}clearpath(e,t,i){for(i&&(this.get(e,t).f=!1,this.get(e,t).p=!1,this.get(e+1,t).f=!1,this.get(e+1,t).p=!1,this.get(e,t+1).f=!1,this.get(e,t+1).p=!1,this.get(e+1,t+1).f=!1,this.get(e+1,t+1).p=!1);e<3||t<3;){var n=null,o=0;if(e<3){var s=0;this.get(e+2,t).f||s++,this.get(e+2,t+1).f||s++,s>=o&&(o=s,n=[1,0])}t<3&&(s=0,this.get(e,t+2).f||s++,this.get(e+1,t+2).f||s++,s>=o&&(o=s,n=[0,1])),e+=n[0],t+=n[1],this.get(e,t).f=!1,this.get(e,t).p=!1,this.get(e+1,t).f=!1,this.get(e+1,t).p=!1,this.get(e,t+1).f=!1,this.get(e,t+1).p=!1,this.get(e+1,t+1).f=!1,this.get(e+1,t+1).p=!1}}tiledist(e,t){return t||(t=[e.x,e.y]),Math.abs(e.cx-t[0])+Math.abs(e.cy-t[1])}toList(){for(var e=[],t=0;t<this.tiles.length;t++)e.push(this.tiles[t].x+5*this.tiles[t].y);return e}}function xy(e){for(var t=[[1,0,0,1],[0,1,1,0]],i=[[1,0,0,1],[-1,0,0,1]],n=[],o=0;o<5;o++)for(var s=0;s<5;s++)(g=e.get(s,o)).f=!1,g.p=!1;for(o=0;o<5;o++)for(s=0;s<5;s++)0!=s&&!e.get(s-1,o).f||0!=o&&!e.get(s,o-1).f||((g=e.get(s,o)).cx==g.x&&g.cy==g.y?g.f=!0:g.p=!0);for(o=0;o<5;o++)for(s=4;s>=0;s--)4!=s&&!e.get(s+1,o).f||0!=o&&!e.get(s,o-1).f||((g=e.get(s,o)).cx==g.x&&g.cy==g.y?g.f=!0:g.p=!0);for(o=4;o>=0;o--)for(s=0;s<5;s++)0!=s&&!e.get(s-1,o).f||4!=o&&!e.get(s,o+1).f||((g=e.get(s,o)).cx==g.x&&g.cy==g.y?g.f=!0:g.p=!0);e.get(4,4).p=!1;for(var r=0;r<t.length;r++)for(var a=t[r],l=wy(_y,a),c=0;c<l[1]-2;c++){for(var u=0,p=0,h=0;h<l[0];h++){var d=wy([h,c],a);e.getv(d).f||(u=h,p++)}if(0!=p){if(2==p&&u--,p>=3)break;u==l[0]-1&&u--;var g,f=c+1;(g=e.getv(wy([u,f-1],a))).f=!1,g.p=!1,(g=e.getv(wy([u+1,f-1],a))).f=!1,g.p=!1;var y=wy([u+.5,f-1],a),m=wy([u,f],a);e.clearpath(m[0],m[1],!0),e.get(3,3).f=!1,e.get(3,3).p=!1,e.get(3,4).f=!1,e.get(3,4).p=!1,e.get(4,3).f=!1,e.get(4,3).p=!1,e.get(4,4).f=!1,e.get(4,4).p=!1;for(var _=0;_<i.length;_++){var v=i[_],x=[by(y,wy(wy([-.5,0],v),a)),by(y,wy(wy([.5,0],v),a)),by(y,wy(wy([-.5,1],v),a)),by(y,wy(wy([.5,1],v),a)),by(y,wy(wy([-.5,2],v),a)),by(y,wy(wy([.5,2],v),a))];if(e.getv(x[0])==e.getinvv(x[0]))e.getv(x[1])==e.empty&&e.getv(x[3])==e.getinvv(x[1])?n.push({score:20,n:"0X,-1,-- "+x[0],f:function(e,t){t.movetile(t.getv(e[3]),e[1][0],e[1][1],[{x:e[0][0],y:e[0][1]}])}.bind(null,x)}):e.getv(x[2])==e.getinvv(x[1])||e.getv(x[3])==e.getinvv(x[1])?n.push({score:5-.3*e.tiledist(e.getv(x[1])),n:"0-,1-,-- || 0-,-1,-- "+x[0],f:function(e,t){t.movetile(t.getinvv(e[1]),e[5][0],e[5][1],[{x:e[0][0],y:e[0][1]}]),t.movetile(t.getinvv(e[0]),e[1][0],e[1][1],[{x:e[5][0],y:e[5][1]}]),t.movetile(t.getinvv(e[1]),e[3][0],e[3][1],[{x:e[1][0],y:e[1][1]}]),t.movetile(t.getinvv(e[1]),e[1][0],e[1][1])}.bind(null,x)}):n.push({score:5-.3*e.tiledist(e.getv(x[1])),n:"0-,--,-- "+x[0],f:function(e,t){t.movetile(t.getinvv(e[0]),e[1][0],e[1][1]),t.movetile(t.getinvv(e[1]),e[3][0],e[3][1],[{x:e[1][0],y:e[1][1]}]),t.movetile(t.getinvv(e[1]),e[1][0],e[1][1])}.bind(null,x)});else if(e.getv(x[0])==e.getinvv(x[1]))e.getv(x[1])==e.getinvv(x[0])?n.push({score:5-.4*e.tiledist(e.empty,x[2]),n:"10,--,-- "+x[0],f:function(e,t){t.movetile(t.getinvv(e[0]),e[0][0],e[0][1]),t.movetile(t.getinvv(e[1]),e[4][0],e[4][1],[{x:e[0][0],y:e[0][1]}]),t.movetile(t.getinvv(e[0]),e[1][0],e[1][1],[{x:e[4][0],y:e[4][1]}]),t.movetile(t.getinvv(e[1]),e[3][0],e[3][1],[{x:e[1][0],y:e[1][1]}]),t.movetile(t.getinvv(e[1]),e[1][0],e[1][1])}.bind(null,x)}):e.getv(x[1])==e.empty&&e.getv(x[3])==e.getinvv(x[0])?n.push({score:10,n:"1X,-0,-- "+x[0],f:function(e,t){t.movetile(t.getinvv(e[1]),e[1][0],e[1][1],[{x:e[3][0],y:e[3][1]}]),t.movetile(t.getinvv(e[0]),e[5][0],e[5][1],[{x:e[1][0],y:e[1][1]}]),t.movetile(t.getinvv(e[1]),e[0][0],e[0][1],[{x:e[5][0],y:e[5][1]}]),t.movetile(t.getinvv(e[0]),e[2][0],e[2][1],[{x:e[0][0],y:e[0][1]}]),t.movetile(t.getinvv(e[0]),e[0][0],e[0][1])}.bind(null,x)}):n.push({score:5-.3*e.tiledist(e.getinvv(x[0])),n:"1-,--,-- "+x[0],f:function(e,t){t.movetile(t.getinvv(e[0]),e[2][0],e[2][1],[{x:e[0][0],y:e[0][1]}]),t.movetile(t.getinvv(e[0]),e[0][0],e[0][1])}.bind(null,x)});else if(e.getv(x[0])==e.empty&&e.getv(x[2])==e.getinvv(x[0])&&e.getv(x[3])==e.getinvv(x[1]))n.push({score:19,n:"X-,01,-- "+x[0],f:function(e,t){t.movetile(t.getinvv(e[0]),e[0][0],e[0][1],[{x:e[3][0],y:e[3][1]}]),t.movetile(t.getinvv(e[1]),e[5][0],e[5][1],[{x:e[0][0],y:e[0][1]}]),t.movetile(t.getinvv(e[0]),e[1][0],e[1][1],[{x:e[5][0],y:e[5][1]}]),t.movetile(t.getinvv(e[1]),e[3][0],e[3][1],[{x:e[1][0],y:e[1][1]}]),t.movetile(t.getinvv(e[1]),e[1][0],e[1][1])}.bind(null,x)});else{var w=5;w-=.3*e.tiledist(e.getinvv(x[1]),x[0])+.3*e.tiledist(e.getinvv(x[0]),x[2]),w-=.1*e.tiledist(e.getinvv(x[1]),[e.empty.cx,e.empty.cy]),w+=e.tiledist(e.getinvv(x[1]),x[0])<=e.tiledist(e.getinvv(x[0]),x[0])?0:-10,n.push({score:w,n:"--,--,-- "+x[0],f:function(e,t){t.movetile(t.getinvv(e[1]),e[0][0],e[0][1])}.bind(null,x)})}}break}}for(s=0;s<5;s++)for(o=0;o<5;o++)e.get(s,o).p&&(w=4,w+=0,w-=.3*e.tiledist(e.getinv(s,o)),w-=.1*e.tiledist(e.getinv(s,o),[0,0]),w-=.1*e.tiledist(e.empty,[s,o]),w+=s>=3&&o>=3?-100:0,n.push({score:w,n:s+","+o,f:function(e,t,i){i.movetile(i.getinv(e,t),e,t)}.bind(null,s,o)}),0!=s&&!e.get(s-1,o).f||0!=o&&!e.get(s,o-1).f?0!=s&&!e.get(s-1,o).f||4!=o&&!e.get(s,o+1).f?4!=s&&!e.get(s+1,o).f||0!=o&&!e.get(s,o-1).f||e.clearpath(s-1,o,!1):e.clearpath(s,o-1,!1):e.clearpath(s,o,!1));return n}function wy(e,t){for(var i=[],n=e.length,o=0;o<n;o++){i[o]=0;for(var s=0;s*n<t.length;s++)i[o]+=e[s]*t[o+s*n]}return i}function by(e,t){var i=[];for(var n in e)i[n]=e[n]+t[n];return i}var ky=xp.log;function Ty(e){return 5*(e.y2-e.y1)+(e.x2-e.x1)}const zy=new class extends Lf.Solver{instantiate(e){return new class extends Lf.SolvingProcess{constructor(){super(...arguments),this.firstrun=!0,this.native_compression=!1}step(){const e=this.firstrun;this.firstrun=!1;let t=0,i=new vy(this.start_state);for(;;){let n=xy(i);if(0==n.length)break;n.sort((function(e,t){return t.score-e.score}));let o=n[e?0:Math.floor(n.length*Math.random())];try{o.f(i)}catch(e){break}if(t++>50)return ky().log("failed to solve puzzle, over 50 actions attempted","Random Solver"),null}0==i.getMinMoves()&&this.registerSolution(function(e){if(0==e.length)return e;for(var t=["0321","1230","1230","1230","0321","1230","1230","1230"],i=[[-1,0],[0,-1],[1,0],[0,1]],n=function(e){for(var t="",i=0;i<e.length;i++)e[i].x1>e[i].x2&&(t+="0"),e[i].y1>e[i].y2&&(t+="1"),e[i].x1<e[i].x2&&(t+="2"),e[i].y1<e[i].y2&&(t+="3");return t}(e);;){for(var o=n.length,s=0;s<t.length;s++)n=(n=(n=(n=(n=(n=(n=(n=n.replace(/\d/g,(function(e){return t[s][e]}))).replace(/02/g,"")).replace(/0123012/g,"10321")).replace(/2123003212/g,"321123")).replace(/1230032121/g,"032112")).replace(/123003212/g,"0321123")).replace(/3300122123000/g,"2303001")).replace(/123030122/g,"3012123");if(n.length==o)break}var r=[e[0].x1,e[0].y1],a=[];for(s=0;s<n.length;s++)a[s]={x1:r[0],y1:r[1],x2:r[0]+i[n[s]][0],y2:r[1]+i[n[s]][1]},r=[a[s].x2,a[s].y2];return a}(i.moves).map(Ty))}solve_implementation(){return e=this,t=void 0,n=function*(){for(;!this.should_stop;)this.step(),yield this.checkTime()},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}}(e)}};var Sy=ie.cls;class Cy extends Ii{constructor(){super(),this.addClass("ctr-progress-bar"),this.append(this.fill=Sy("ctr-progress-bar-fill")),this.append(this.text_widget=Sy("ctr-progress-bar-text"))}setProgress(e){return this.fill.css("width",`${(100*e).toFixed(0)}%`),this}setText(e){return this.text_widget.text(e),this}}var Ay,Ey=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Py=_e.profileAsync,My=xp.log,Ly=_e.index,Dy=Lf.SliderPuzzle,Iy=Lf.SliderState,Oy=Xd.over,Ry=Lf.Move,By=Lf.MoveList;class Fy extends ny{constructor(e,t){super(),this.parent=e,this.solver=t,this.settings=pa().app.settings.settings.solving.puzzles.sliders,this.guiding_start_time=-1,this.solved_time=-1,this.active_solving_process=null,this.error_recovery_solution=null,this.solution=null,this.progress_overlay=null,this.solving_overlay=null,this.move_overlay=null,this.last_overlay_render=-1,this.current_mainline_index=null,this.last_frame_state=null,this.arrow_keys_inverted=!1,this.puzzle=e.puzzle.puzzle}posToScreen(e){return xe.add(this.parent.puzzle.reader.body.screenRectangle().origin,{x:25,y:25},{x:e%5*56,y:56*Math.floor(e/5)})}capturingPaused(){return!this.solution&&null!=this.active_solving_process}setSolver(e){this.solver=e,this.active_solving_process&&(this.active_solving_process.solver.stop(),this.active_solving_process=null)}area(){return this.parent.puzzle.reader.screenRectangle(!0)}read(e){const t=this.parent.puzzle.reader.recapture(!0,e),i=t.getPuzzle(this.puzzle.theme);i.match_score>=Rg.DETECTION_THRESHOLD_SCORE&&this.parent.modal.setImage(t.body.getData());const n=t.isInvertedArrowKeyCheckboxEnabled();return{result:i,state:Dy.getState(i),inverted_checkmark:n}}updateProgressOverlay(){var e,t,i,n,o;this.progress_overlay||(this.progress_overlay=Oy()),this.progress_overlay.clear();const s=null!==(t=null===(e=this.solution)||void 0===e?void 0:e.length)&&void 0!==t?t:null===(o=null===(n=null===(i=this.active_solving_process)||void 0===i?void 0:i.solver)||void 0===n?void 0:n.getBest())||void 0===o?void 0:o.length,r=xe.add(this.parent.puzzle.reader.body.screenRectangle().origin,{x:137,y:-9});if(this.solution&&this.current_mainline_index>=s){const e=(this.solved_time-this.start_time)/1e3,t=(this.solved_time-this.guiding_start_time)/1e3,i=this.solution.length/t,n=this.settings.estimate_slider_speed;if(this.progress_overlay.text(`Done! ${e.toFixed(1)}s, ${i.toFixed(1)} moves/s`,r,{color:cd.white,centered:!0,shadow:!0,width:12}),n){const e=this.solution.map((e=>e.move)),i=By.compress(e),n=e.flatMap(Ry.split),o=n.length-i.length,s=(t-.5)/(.5*o+(n.length-o));this.progress_overlay.text(`Slider Speed ${s.toFixed(3)}`,xe.add(r,{x:0,y:20}),{color:cd.white,centered:!0,shadow:!0,width:12})}}else{const e=Math.min(2*(null!=s?s:120),250),t=this.solution?this.current_mainline_index/this.solution.length:0;if(this.progress_overlay.progressbar(r,e,t,5),s){this.progress_overlay.text(s.toString(),xe.add(r,{x:e/2+20,y:0}),{color:cd.white,width:12,shadow:!0,centered:!0});const t=Date.now(),i=(t-this.start_time)/1e3;if(this.progress_overlay.text(`${i.toFixed(1)}s`,xe.add(r,{x:-(e/2+25),y:0}),{color:cd.white,width:12,shadow:!0,centered:!0}),this.solution&&this.current_mainline_index>=0){const e=(t-this.guiding_start_time)/1e3,i=this.current_mainline_index/e;this.progress_overlay.text(`${i.toFixed(1)}/s`,r,{color:cd.white,width:12,shadow:!0,centered:!0})}}}this.progress_overlay.render()}updateMoveOverlay(){var e,t,i,n;if(this.move_overlay||(this.move_overlay=Oy().withTime(2e4)),this.move_overlay.clear(),!this.solution||!this.last_frame_state)return;if(null==this.current_mainline_index)return;const o=this.settings.max_lookahead;let s=[];(null===(e=this.error_recovery_solution)||void 0===e?void 0:e.sequence)&&s.push(...this.error_recovery_solution.sequence),s.push(...this.solution.slice(this.current_mainline_index,this.current_mainline_index+o));const r=Oy();let a=Iy.blank(this.last_frame_state),l=0;const c=null!==(n=null===(i=null===(t=this.error_recovery_solution)||void 0===t?void 0:t.sequence)||void 0===i?void 0:i.length)&&void 0!==n?n:0,u=new Array(25).fill(!1);u[a]=!0;const p=[];for(let e=0;e<s.length;++e){const t=s[e],i=t.clicked_tile-a;if(this.settings.prevent_overlap){if(u[t.clicked_tile])break;let e=a;for(let t of Ry.split(i))e+=t,u[e]=!0}const n=e<c,r=("keyboard"==this.settings.mode||"hybrid"==this.settings.mode)&&Ry.isSmallStep(i),h=n?10:20*(1-1/o*(e-c)),d=this.posToScreen(t.clicked_tile),g=3,f=2,y=cd.black;if(r){const e=(()=>{switch(this.arrow_keys_inverted?-i:i){case 1:return 2;case-5:return 1;case-1:return 0;case 5:return 3}})(),t=h/3,o=[{x:-h,y:-t},{x:0,y:-t},{x:0,y:-h},{x:h,y:0},{x:0,y:h},{x:0,y:t},{x:-h,y:t}].map((t=>xe.transform_point(t,le.chain(le.translation(d),le.rotation(e)))));p.push(Oy().polyline(o,!0,{width:g+2*f,color:y}).polyline(o,!0,{width:g,color:cd.fromNumber(n?this.settings.color_recovery_move:this.settings.color_mainline_move)}))}else p.push(Oy().rect(we.centeredOn(this.posToScreen(t.clicked_tile),h+f),{width:g+2*f,color:cd.black}).rect(we.centeredOn(this.posToScreen(t.clicked_tile),h),{width:g,color:n?cd.fromNumber(this.settings.color_recovery_move):cd.fromNumber(this.settings.color_mainline_move)}));const m=t.clicked_tile,_=this.posToScreen(a),v=this.posToScreen(m);_.x!=v.x&&_.y!=v.y&&My().log(`Invalid Move detected on overlay! From ${a} to ${m}. Full sequence: ${s.map((e=>e.clicked_tile)).join(",")}`,"Slider Solving");const x=xe.normalize(xe.sub(v,_));this.move_overlay.line(xe.add(_,xe.scale(l,x)),xe.add(v,xe.scale(-h,x)),{width:4,color:y}),this.move_overlay.line(xe.add(_,xe.scale(l,x)),xe.add(v,xe.scale(-h,x)),{width:2,color:n?cd.fromNumber(this.settings.color_recovery_line):cd.fromNumber(this.settings.color_mainline_line)}),a=m,l=h}r.add(...p.reverse()),this.move_overlay.add(r),this.move_overlay.render(),this.last_overlay_render=Date.now(),this.updateProgressOverlay()}updateSolvingOverlay(){const e={x:143,y:133};this.solving_overlay||(this.solving_overlay=Oy()),this.solving_overlay.clear(),!this.solution&&this.active_solving_process?(this.solving_overlay.text("Solving",xe.add(this.parent.puzzle.reader.body.screenRectangle().origin,e),{color:cd.white,width:20,centered:!0,shadow:!0}),this.solving_overlay.progressbar(xe.add(this.parent.puzzle.reader.body.screenRectangle().origin,{x:143,y:153}),100,this.active_solving_process.solver.getProgress(),5)):this.solution||this.solving_overlay.text("No solution found",xe.add(this.parent.puzzle.reader.body.screenRectangle().origin,e),{color:cd.red,width:20,centered:!0,shadow:!0}),this.solving_overlay.render()}tick(e){var t;const i=this.read(e);if(i.result.match_score<Rg.DETECTION_THRESHOLD_SCORE)return void this.puzzleClosed();const n=i.state;if(!this.active_solving_process&&!this.solution){if(Iy.equals(n,Iy.SOLVED))return;return this.initial_state=n,this.active_solving_process={solver:this.instantiateSolver(n).onUpdate((e=>{this.updateSolvingOverlay(),this.updateProgressOverlay()})).withTimeout(this.settings.solve_time_ms),solving_from:0},void this.active_solving_process.solver.run().then((e=>{this.active_solving_process=null,this.current_mainline_index=0,this.error_recovery_solution={sequence:[],recovering_to_mainline_index:0,last_known_state:null},this.guiding_start_time=Date.now(),this.updateSolvingOverlay(),e?this.solution=Lf.MoveList.annotate(n,e,"keyboard"!=this.settings.mode):this.stop(),this.updateSolvingOverlay()}))}if(!this.solution)return;const o=this.settings.max_lookahead+7;if(this.settings.continue_solving_after_initial_solve&&(this.active_solving_process&&this.current_mainline_index+this.settings.max_lookahead+2>=this.active_solving_process.solving_from&&(this.active_solving_process.solver.stop(),this.active_solving_process=null),!this.active_solving_process&&this.current_mainline_index+o<this.solution.length)){const e=this.current_mainline_index+o,t=this.solution[e-1].post_state,i=this.instantiateSolver(t).registerSolution(this.solution.slice(e).map((e=>e.move))).withInterrupt(20,10).onFound((t=>{var n,o,s;if(i==(null===(n=this.active_solving_process)||void 0===n?void 0:n.solver)&&e==(null===(o=this.active_solving_process)||void 0===o?void 0:o.solving_from)&&this.current_mainline_index<e){const i=Lf.MoveList.combine(this.solution.slice(0,e).map((e=>e.move)),t,"keyboard"!=this.settings.mode),n=this.solution;this.solution=By.annotate(this.initial_state,i,"keyboard"!=this.settings.mode),24!=Ly(this.solution,-1).clicked_tile&&(My().log("Bug detected after updating solution!"),My().log("Continuous solving found better solution, combining results","Slider Solving",{better:t,attached_to:this.solution.slice(0,e).map((e=>e.move)),combined:i}),My().log("Updated annotated move lists","Slider Solving",{old:n,new:this.solution}))}i.stop(),i==(null===(s=this.active_solving_process)||void 0===s?void 0:s.solver)&&(this.active_solving_process=null)}));this.active_solving_process={solver:i,solving_from:e},this.active_solving_process.solver.run()}const s=i.inverted_checkmark!=this.arrow_keys_inverted;if(this.arrow_keys_inverted=i.inverted_checkmark,(s||Date.now()-this.last_overlay_render>1e4)&&this.updateMoveOverlay(),this.last_frame_state&&Iy.equals(this.last_frame_state,n))return void this.updateProgressOverlay();let r=(0,oe.findLastIndex)(this.solution,(e=>e.pre_states.some((e=>Iy.equals(e,n)))));if(r==this.solution.length-2&&Iy.equals(n,Iy.SOLVED)&&(r=this.solution.length,this.solved_time=Date.now()),r>=0)this.current_mainline_index=r,this.error_recovery_solution={sequence:[],recovering_to_mainline_index:r,last_known_state:n};else{let e=this.error_recovery_solution.sequence.findIndex((e=>e.pre_states.some((e=>Iy.equals(e,n)))));if(e>=0)this.error_recovery_solution.sequence=this.error_recovery_solution.sequence.slice(e),this.error_recovery_solution.last_known_state=n,this.current_mainline_index=this.error_recovery_solution.recovering_to_mainline_index;else{let e=null;const i=(null===(t=this.error_recovery_solution)||void 0===t?void 0:t.last_known_state)?[this.error_recovery_solution.last_known_state]:this.solution[this.current_mainline_index].pre_states;for(let t of i)if(e=Iy.findMove(n,t),e)break;if(null!=e){let t=[e,...By.fromTileList(this.error_recovery_solution.sequence.map((e=>e.clicked_tile)),Iy.blank(n)+e)];t="keyboard"!=this.settings.mode?By.compress(t):By.expand(t),this.error_recovery_solution.sequence=By.annotate(n,t,"keyboard"!=this.settings.mode),this.error_recovery_solution.last_known_state=n,this.current_mainline_index=this.error_recovery_solution.recovering_to_mainline_index}else this.current_mainline_index=null}}this.last_frame_state=n,this.updateMoveOverlay()}instantiateSolver(e){return this.solver.instantiate(e).setCombineStraights("mouse"==this.settings.mode||"hybrid"==this.settings.mode)}end(){var e,t,i,n,o;super.end(),null===(e=this.move_overlay)||void 0===e||e.hide(),null===(t=this.solving_overlay)||void 0===t||t.hide(),null===(i=this.progress_overlay)||void 0===i||i.hide(),null===(o=null===(n=this.active_solving_process)||void 0===n?void 0:n.solver)||void 0===o||o.stop()}getLastKnownMove(){var e,t,i;return null!==(i=null===(t=null===(e=this.error_recovery_solution)||void 0===e?void 0:e.sequence)||void 0===t?void 0:t[0])&&void 0!==i?i:this.solution[this.current_mainline_index]}isDone(){return this.solution&&this.current_mainline_index&&this.current_mainline_index>=this.solution.length}}class Ny{constructor(){this.pdbs=_a((()=>Ey(this,void 0,void 0,(function*(){return(yield fetch("/data/sliderpdb/pdbs.json")).json()})))),this.cache=null,this.downloader={},this.db=new fp("slider-pdbs")}clearCache(){return this.db.clear()}download(e){if(this.downloader[e.id])return this.downloader[e.id];const t=this.downloader[e.id]=qi({is_done:!1,progress:0});return(()=>{Ey(this,void 0,void 0,(function*(){const i=new Uint8Array(my.Description.bytesize(e.description));let n=0,o=0;for(let s=0;s<e.file_count;s++){const r=yield fetch(`data/sliderpdb/${e.id}/v${e.version}chunk${oe.padStart(s.toString(),2,"0")}.bin`,{});if(!r.ok)return null;const a=new Uint8Array(yield new Response(new ReadableStream({start(e){return Ey(this,void 0,void 0,(function*(){const n=r.body.getReader();for(;;){const{done:s,value:r}=yield n.read();if(s)break;o+=r.byteLength,t.update2((e=>{e.progress=o/i.length})),e.enqueue(r)}e.close()}))}})).arrayBuffer());i.set(a,n),n+=a.length,t.update2((e=>{e.progress=n/i.length}))}this.cache={description:e,table:new my(i)},yield this.db.set(e.id,{description:e,data:i.buffer}),t.update2((e=>{e.is_done=!0,e.data=this.cache.table})),this.downloader[e.id]=null}))})(),t}find(){return Ey(this,arguments,void 0,(function*(e=void 0,t=void 0){return(yield this.pdbs.get()).find((i=>!(null!=e&&i.description.multitile!=e||null!=t&&i.id!=t)))}))}findBest(e){return Ey(this,void 0,void 0,(function*(){var t;const i=yield this.pdbs.get();return null!==(t=i.find((t=>t.description.multitile==e&&t.is_default)))&&void 0!==t?t:i.find((t=>t.description.multitile==e))}))}getSimple(e){return Ey(this,void 0,void 0,(function*(){const t=yield this.get(e);return t.table?t.table:new Promise((e=>{t.download.subscribe((t=>{t.is_done&&e(t.data)}))}))}))}get(e){return Ey(this,void 0,void 0,(function*(){var t,i,n,o;if((null===(i=null===(t=this.cache)||void 0===t?void 0:t.description)||void 0===i?void 0:i.id)!=e.id||(null===(o=null===(n=this.cache)||void 0===n?void 0:n.description)||void 0===o?void 0:o.version)!=e.version){const t=yield Py((()=>Ey(this,void 0,void 0,(function*(){return yield this.db.get(e.id)}))),"retrieve");if(!t||t.description.version!=e.version)return{table:null,download:this.download(e)};this.cache={description:e,table:new my(new Uint8Array(t.data))}}return{table:this.cache.table}}))}}Ny.instance=ma((()=>new Ny));class jy extends iy{constructor(e,t){super(e,t,pa().app.settings.settings.solving.puzzles.sliders.autostart,"Slider Puzzle","sliders"),this.puzzle=t}constructProcess(){return Ey(this,void 0,void 0,(function*(){const e=Ny.instance.get(),t=yield e.get(yield e.findBest("keyboard"!=pa().app.settings.settings.solving.puzzles.sliders.mode)),i=t.table?new fy(new yy.RegionGraph(t.table.tables,!0)):zy,n=new Fy(this,i);if(t.download){const e=(new Cy).setText("Downloading Database");this.modal.setStatus(e),t.download.subscribe((t=>{e.setProgress(t.progress),t.is_done&&(n.setSolver(new fy(new yy.RegionGraph(t.data.tables,!0))),e.setText("Download finished"),e.setProgress(1))}),!0)}return n}))}begin(){super.begin(),this.modal.setImage(this.puzzle.reader.body.getData())}pausesClueReader(){return this.process&&!this.process.isDone()}}!function(e){let t;!function(e){e.DEFAULT={mode:"mouse",autostart:!0,max_lookahead:5,prevent_overlap:!0,display_recovery:!0,color_mainline_move:cd.fromHex("#5ca000").for_overlay,color_mainline_line:cd.fromHex("#41740e").for_overlay,color_recovery_move:cd.fromHex("#FF0000").for_overlay,color_recovery_line:cd.fromHex("#ff6600").for_overlay,solve_time_ms:200,estimate_slider_speed:!1,improve_slider_matches_backtracking:!0,continue_solving_after_initial_solve:!0},e.normalize=function(t){return t?(["keyboard","mouse","hybrid"].includes(t.mode)||(t.mode=e.DEFAULT.mode),[!0,!1].includes(t.autostart)||(t.autostart=e.DEFAULT.autostart),"number"!=typeof t.max_lookahead&&(t.max_lookahead=e.DEFAULT.max_lookahead),[!0,!1].includes(t.prevent_overlap)||(t.prevent_overlap=e.DEFAULT.prevent_overlap),[!0,!1].includes(t.display_recovery)||(t.display_recovery=e.DEFAULT.display_recovery),[!0,!1].includes(t.display_recovery)||(t.display_recovery=e.DEFAULT.display_recovery),"number"!=typeof t.color_mainline_move&&(t.color_mainline_move=e.DEFAULT.color_mainline_move),"number"!=typeof t.color_mainline_line&&(t.color_mainline_line=e.DEFAULT.color_mainline_line),"number"!=typeof t.color_recovery_move&&(t.color_recovery_move=e.DEFAULT.color_recovery_move),"number"!=typeof t.color_recovery_line&&(t.color_recovery_line=e.DEFAULT.color_recovery_line),"number"!=typeof t.solve_time_ms&&(t.solve_time_ms=e.DEFAULT.solve_time_ms),[!0,!1].includes(t.estimate_slider_speed)||(t.estimate_slider_speed=e.DEFAULT.estimate_slider_speed),[!0,!1].includes(t.improve_slider_matches_backtracking)||(t.improve_slider_matches_backtracking=e.DEFAULT.improve_slider_matches_backtracking),[!0,!1].includes(t.continue_solving_after_initial_solve)||(t.continue_solving_after_initial_solve=e.DEFAULT.continue_solving_after_initial_solve),t.solve_time_ms=oe.clamp(t.solve_time_ms,100,5e3),t):oe.cloneDeep(e.DEFAULT)}}(t=e.Settings||(e.Settings={}))}(Ay||(Ay={}));var Uy=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},qy=ie.span,Hy=ie.cls,Vy=ha.TeleportGroup,$y=_e.findBestMatch,Wy=_e.stringSimilarity,Gy=ie.italic,Zy=mr.activate,Ky=Yc.notification,Yy=Qf.DigSolutionEntity,Qy=ie.inlineimg,Xy=_e.count,Jy=su.digSpotArea,em=ie.vbox,tm=xp.log,im=fd.render_digspot,nm=ve.UncertainAngle,om=ve.degreesToRadians;class sm extends Or{constructor(e){super(),this.solving=e,this.lines=[],this.solving.spots.forEach((e=>e.marker=new rm(e).setInteractive(!0).addTo(this)))}updateOverlay(){return Uy(this,void 0,void 0,(function*(){this.lines.forEach((e=>{e.line.remove()})),this.lines=[];const e=this.solving.entries.filter((e=>e.information)).map((e=>e.information));this.lines=e.map((e=>{const t=e.origin,i=xe.transform(xe.scale(2e3,Bg.ANGLE_REFERENCE_VECTOR),le.rotationRadians(e.angle_radians.median)),n=xe.add(t,i),o=xe.transform(e.direction,le.rotationRadians(Math.PI/2)),s=xe.add(t,xe.scale(e.origin_uncertainty,o)),r=xe.add(t,xe.scale(-e.origin_uncertainty,o)),a=xe.add(s,xe.transform(i,le.rotationRadians(e.angle_radians.epsilon))),l=xe.add(r,xe.transform(i,le.rotationRadians(-e.angle_radians.epsilon)));return{line:ce.featureGroup([ce.polyline([xe.toLatLong(t),xe.toLatLong(n)],{color:this.solving.settings.beam_color}),ce.polygon([xe.toLatLong(s),xe.toLatLong(r),xe.toLatLong(l),xe.toLatLong(a)]).setStyle({stroke:!1,fillOpacity:.2,color:this.solving.settings.beam_color})]).addTo(this)}}))}))}eventClick(e){e.onPost((()=>{e.active_entity instanceof $a?this.solving.registerSpot(e.active_entity.teleport,!1):e.active_entity instanceof il&&"teleport"==e.active_entity.step.type?this.solving.registerSpot(va.resolveTeleport(e.active_entity.step.id),!1):e.active_entity instanceof rm?this.solving.entries.some((e=>e.information))||!this.solving.reader?this.solving.setSelectedSpot(e.active_entity.spot,!0):this.solving.registerSpot(Zy(this.solving.clue.single_tile_target?mr.init(e.active_entity.spot.spot.spot):Jy(e.active_entity.spot.spot.spot)),!0):this.solving.registerSpot(Zy(mr.fromRect(ze.lift(we.centeredOn(e.tile(),this.solving.settings.manual_tile_inaccuracy),e.tile().level))),!1)}))}}class rm extends Ji{constructor(e){super(),this.spot=e,this.possible=!0,this.number=null,this.active=!1,this.setTooltip((()=>{const e=new Pa;return e.header(c().append("Compass spot ",im(this.spot.spot_id+1))),e.paragraph("Click to select as solution and view pathing."),e}))}setPossible(e,t){return this.number==t&&e==this.possible||(this.number=t,this.possible=e,this.requestRendering()),this}setActive(e){return e!=this.active&&(this.active=e,this.requestRendering()),this}bounds(){return we.from(this.spot.spot.spot)}render_implementation(e){return Uy(this,void 0,void 0,(function*(){const t=this.possible?1:.5,i=(this.active?1:.5)*(e.highlight?1.5:1),n=ce.marker(xe.toLatLong(this.spot.spot.spot),{icon:ta(this.spot.spot.spot.level,i),opacity:t,interactive:!0,bubblingMouseEvents:!0}).addTo(this);return null!=this.number&&n.bindTooltip(ce.tooltip({content:this.number.toString(),className:"spot-number-on-map",offset:[0,10],permanent:!0,direction:"center",opacity:t})),this.active&&Yy.areaGraphics(this.spot.spot.spot,this.spot.spot.clue.single_tile_target).addTo(this),n.getElement()}))}}class am extends Ii{constructor(e){super(Hy("ctr-compass-solving-entry")),this.entry=e,this.selection_requested=ji(),this.position_discard_requested=ji(),this.discard_requested=ji(),this.commit_requested=ji(),this._preview_angle=null,this.angle_container=null,this.tooltip("Select").on("click",(()=>{this.selection_requested.trigger(this)})),this.render()}setSelected(e){return this.toggleClass("selected",e),this}setPreviewAngle(e){var t,i,n,o;return this._preview_angle=e,null==this.entry.information&&(null!=e?(null===(t=this.angle_container)||void 0===t||t.text(nm.toAngleString(e)),null===(i=this.angle_container)||void 0===i||i.tooltip(nm.toUncertaintyString(e))):(null===(n=this.angle_container)||void 0===n||n.text("???°"),null===(o=this.angle_container)||void 0===o||o.tooltip(null))),this}render(){this.empty();const e=this;Hy("ctr-neosolving-compass-entry-button").setInnerHtml("&times;").tooltip("Discard").appendTo(e).on("click",(()=>{this.position_discard_requested.trigger(this)}));{const t=Hy("ctr-neosolving-compass-entry-position").appendTo(e);this.entry.position?this.entry.position instanceof Vy.Spot?t.append(Ia.Teleport.asSpan(this.entry.position),qy(this.entry.position.spot.name)):t.append(qy(xe.toString(this.entry.position.center()))):t.append(Gy("No location selected"))}if(this.entry.position){const t=null!=this.entry.information,i=this.angle_container=Hy("ctr-compass-solving-angle").toggleClass("committed",t).text(t?nm.toAngleString(this.entry.information.angle_radians):null!=this._preview_angle?nm.toAngleString(this._preview_angle):"???°").appendTo(e);t&&i.tooltip(nm.toUncertaintyString(this.entry.information.angle_radians)),Hy("ctr-neosolving-compass-entry-button").appendTo(e).text(t?"×":"✓").tooltip(t?"Click to discard":"Click to commit (Alt + 1)").on("click",(e=>{e.stopPropagation(),t?this.discard_requested.trigger(this):this.commit_requested.trigger(this)}))}}}class lm extends Pd{constructor(e,t,i,n){super(e,"clue"),this.clue=t,this.reader=i,this.spot_selection_callback=n,this.needs_more_info=!0,this.entry_selection_index=0,this.entries=[],this.selected_spot=qi(null),this.settings=pa().app.settings.settings.solving.compass,this.spots=t.spots.map(((e,t)=>({spot:{clue:this.clue,spot:e},isPossible:!0,spot_id:t}))),this.selected_spot.subscribe(((e,t)=>{var i,n;null===(i=null==e?void 0:e.marker)||void 0===i||i.setActive(!0),null===(n=null==t?void 0:t.marker)||void 0===n||n.setActive(!1),this.updateMethodPreviews()})),i&&(this.process=new Ef.Service(this.reader.capture,this.settings.enable_status_overlay),this.process.onChange(((e,t)=>{"closed"==(null==e?void 0:e.state)?this.endClue("Compass Reader reported a closed compass"):(t&&this.settings.auto_commit_on_angle_change&&"normal"==e.state&&("spinning"==t.state||"normal"==t.state&&nm.meanDifference(e.result.angle,t.result.angle)>lm.ANGLE_CHANGE_COMMIT_THRESHOLD)&&this.commit(),e&&this.entries.forEach((t=>t.widget.setPreviewAngle("normal"==(null==e?void 0:e.state)?e.result.angle:null))))}),(e=>e.bindTo(this.lifetime_manager))))}pausesClueReader(){var e;return this.process&&"success"==(null===(e=this.process.last_read)||void 0===e?void 0:e.type)}renderWidget(){this.parent.layer.compass_container.empty();const e=em().appendTo(this.parent.layer.compass_container);Hy("ctr-neosolving-compass-solving-header").append(Qy("/assets/icons/arrow.png").tooltip("Compass Solver"),"Compass Solver",ie.spacer(),Qy("/assets/icons/reset_nis.png").addClass("ctr-clickable").on("click",(()=>Uy(this,void 0,void 0,(function*(){this.reset(!0)})))).tooltip("Reset compass solver."),Qy("/assets/icons/settings.png").addClass("ctr-clickable").on("click",(()=>Uy(this,void 0,void 0,(function*(){const e=yield dv.openOnPage("compass");e.saved&&(this.settings=e.value.solving.compass)}))))).appendTo(e),this.entry_container=c().css("flex-basis","100%").appendTo(e)}setSelection(e){e=se().clamp(e,0,this.entries.length-1),this.entry_selection_index=e,this.entries.forEach(((e,t)=>{e.widget.setSelected(this.entry_selection_index==t)}))}deleteEntry(e){var t;const i=this.entries.indexOf(e);i>=0&&(xp.log().log(`Deleting triangulation spot ${i}.`,"Compass Solving"),this.entries.splice(i,1),null===(t=e.widget)||void 0===t||t.remove(),this.entries.length>0&&this.entry_selection_index>i?this.setSelection(this.entry_selection_index-1):i==this.entry_selection_index&&this.setSelection(this.entry_selection_index))}discardPosition(e){return Uy(this,void 0,void 0,(function*(){var t;const i=this.entries.indexOf(e);i>=0&&(e.is_solution_of_previous_clue?this.deleteEntry(e):e.position?(e.information=null,e.position=null,e.preconfigured=null,this.setSelection(i),null===(t=null==e?void 0:e.widget)||void 0===t||t.render()):Xy(this.entries,(e=>!e.information))>1?this.deleteEntry(e):this.setSelection(i),Xy(this.entries,(e=>!e.position))>1&&this.deleteEntry(e),yield this.updatePossibilities(!1),!this.entries.some((e=>!e.information))&&Xy(this.spots,(e=>e.isPossible))>1&&this.createEntry({position:null,information:null,preconfigured:null}))}))}discardAngle(e){return Uy(this,void 0,void 0,(function*(){const t=this.entries.indexOf(e);if(xp.log().log(`Discarding angle of triangulation spot ${t}`,"Compass Solving"),t>=0){const i=this.process.state();e.information=null,e.widget.render(),e.widget.setPreviewAngle("normal"==i.state?i.result.angle:void 0),yield this.updatePossibilities(!1),this.setSelection(t)}}))}commit(){return Uy(this,arguments,void 0,(function*(e=void 0,t=!1){if(!(e=null!=e?e:this.entries[this.entry_selection_index])||!this.entries.includes(e))return;if(!(null==e?void 0:e.position))return;if(null!=e.information)return;const i=(()=>{if(e.is_solution_of_previous_clue){const e=this.reader.getAngle();return Ua("success"==e.type),e.angle}{const e=this.process.state();if("normal"!=e.state)return;return e.result.angle}})(),n=Bg.TriangulationPoint.construct(lm.Spot.coords(e.position),i);if(!this.spots.some((e=>Bg.isPossible([n],e.spot.spot))))return t&&Ky("Refusing to lock in impossible angle.","error").show(),void tm().log(`Cowardly refusing to lock in impossible angle ${nm.toString(n.angle_radians,6)} from ${n.modified_origin.x} | ${n.modified_origin.y}`,"Compass Solving");if(tm().log(`Committing ${nm.toString(n.angle_radians)} to entry ${this.entries.indexOf(e)} (${n.modified_origin.x} | ${n.modified_origin.y})`,"Compass Solving"),e.information=n,e.widget.render(),yield this.updatePossibilities(!0),this.needs_more_info){const t=this.entries.indexOf(e);let i=(t+1)%this.entries.length;for(;i!=t;){const e=this.entries[i];if(!e.information&&!e.is_hidden){if(!e.position||!this.settings.skip_triangulation_point_if_colinear)break;const t=lm.Spot.coords(e.position),n=this.entries.findIndex((e=>{if(!e.information)return!1;const i=Bg.getExpectedAngle(e.information.origin,t.center()),n=om(1.5);return Math.min(ve.angleDifference(i,e.information.angle_radians.median),ve.angleDifference(ve.normalizeAngle(i+Math.PI),e.information.angle_radians.median))<n}));if(!(n>=0))break;xp.log().log(`Skipping triangulation entry ${i} because it's colinear to ${n}`,"Compass Solving")}i=(i+1)%this.entries.length}i==t?this.createEntry({position:null,information:null,preconfigured:null}):(xp.log().log(`Advancing selection to ${i} from ${this.entry_selection_index}`,"Compass Solving"),this.setSelection(i))}}))}updateMethodPreviews(){return Uy(this,void 0,void 0,(function*(){var e;if(this.settings.show_method_preview_of_secondary_solutions){const t=this.selected_spot.value(),i=Xy(this.spots,(e=>e.isPossible))<=5;for(let n of this.spots)if(i&&n.isPossible&&!n.path&&n!=t){const t=yield this.parent.getAutomaticMethod({clue:this.clue.id,spot:n.spot.spot});if("general_path"!=(null===(e=null==t?void 0:t.method)||void 0===e?void 0:e.type))continue;n.path=il.renderPath(t.method.main_path).eachEntity((e=>e.setOpacity(.5))).addTo(this.layer)}else i&&n.isPossible&&n!=t||!n.path||(n.path.remove(),n.path=null)}}))}setSelectedSpot(e,t){return Uy(this,void 0,void 0,(function*(){var i;this.selected_spot.set(e),yield this.spot_selection_callback(null===(i=null==e?void 0:e.spot)||void 0===i?void 0:i.spot),t&&t&&this.registerSolution(this.clue.single_tile_target?mr.fromTiles([e.spot.spot]):Jy(e.spot.spot))}))}updatePossibilities(e){return Uy(this,void 0,void 0,(function*(){this.layer.rendering.lock();const t=this.entries.filter((e=>e.information)).map((e=>e.information));this.spots.forEach((e=>{var i;const n=Bg.isPossible(t,e.spot.spot);e.isPossible=n,n||null===(i=e.marker)||void 0===i||i.setPossible(!1,null)}));const i=se().sortBy(this.spots.filter((e=>e.isPossible)),(e=>Math.max(...t.map((t=>nm.meanDifference(nm.fromAngle(Bg.getExpectedAngle(t.modified_origin,e.spot.spot)),t.angle_radians))))));if(i.length,i.forEach(((e,t)=>{var i;null===(i=e.marker)||void 0===i||i.setPossible(!0,null)})),1==i.length){const e=this.selected_spot.value();i.some((t=>{var i;return Te.equals(null===(i=null==e?void 0:e.spot)||void 0===i?void 0:i.spot,t.spot.spot)}))||(yield this.setSelectedSpot(i[0],!1))}else yield this.setSelectedSpot(null,!1);if(i.length>0&&i.length<=5){const e=ze.extend(ze.from(...i.map((e=>e.spot.spot))),1);this.registerSolution(mr.fromRect(e))}yield this.updateMethodPreviews(),e&&!this.parent.active_method&&(t.length>0||i.length<50)&&(i.length>1||1==i.length&&!this.parent.active_method)&&this.parent.layer.fit(ze.from(...i.map((e=>e.spot.spot))),"setting"),this.needs_more_info=i.length>1,this.entries.forEach((e=>{e.is_hidden=!(e.information||this.needs_more_info),e.widget.setVisible(!e.is_hidden)})),yield this.layer.updateOverlay(),this.layer.rendering.unlock()}))}createEntry(e,t=!1){const i=this.process.state();return e.widget=new am(e).setPreviewAngle(i&&"normal"==i.state?i.result.angle:null).appendTo(this.entry_container),e.widget.position_discard_requested.on((e=>{this.discardPosition(e.entry)})),e.widget.commit_requested.on((e=>{this.commit(e.entry,!0)})),e.widget.discard_requested.on((e=>{this.discardAngle(e.entry)})),e.widget.selection_requested.on((e=>{const t=this.entries.indexOf(e.entry);t<0||this.setSelection(t)})),this.entries.push(e),t||this.setSelection(this.entries.length-1),e}registerSpot(e,t){return Uy(this,void 0,void 0,(function*(){var i;const n=null!==(i=this.entries.find(((e,t)=>!(t<this.entry_selection_index||e.preconfigured&&null==e.information||t!=this.entry_selection_index&&null!=e.information))))&&void 0!==i?i:this.createEntry({position:null,information:null,preconfigured:null}),o=n.information;n.position=e,n.information=null,n.preconfigured=null,t||(n.is_solution_of_previous_clue=void 0),this.setSelection(this.entries.indexOf(n)),n.widget.render();const s=this.process.state();n.widget.setPreviewAngle("normal"!=(null==s?void 0:s.state)?null:s.result.angle),o&&(n.is_solution_of_previous_clue&&t?yield this.commit(n):yield this.updatePossibilities(!1))}))}reset(){return Uy(this,arguments,void 0,(function*(e=!1){var t,i;this.settings=pa().app.settings.settings.solving.compass,this.entries.forEach((e=>{var t;return null===(t=e.widget)||void 0===t?void 0:t.remove()}));const n=this.entries.some((e=>e.is_solution_of_previous_clue));this.entries=[],!this.settings.use_previous_solution_as_start||!n&&e||(()=>{const e=this.parent.getAssumedPlayerPositionByLastClueSolution();if(!e)return;const t=Zy(e).size;xe.max_axis(t)>256?xp.log().log(`Not using previous solution because solution area is too large (${t.x} x ${t.y})`,"Compass Solving"):we.containsRect(this.clue.valid_area,mr.toRect(e))?(xp.log().log("Loaded previous solution as first triangulation spot","Compass Solving"),this.createEntry({position:mr.activate(e),information:null,is_solution_of_previous_clue:!0},!0)):xp.log().log("Not using previous solution because it is outside of the viable area","Compass Solving")})();const o=!!(null===(t=this.entries[0])||void 0===t?void 0:t.is_solution_of_previous_clue),s=null===(i=this.settings.active_triangulation_presets.find((e=>e.compass_id==this.clue.id)))||void 0===i?void 0:i.preset_id,r=[...lm.TriangulationPreset.builtin,...this.settings.custom_triangulation_presets].find((e=>e.id==s));r&&(o&&this.settings.invert_preset_sequence_if_previous_solution_was_used?[...r.sequence].reverse():r.sequence).forEach((e=>{const t=e.teleport?va.resolveTeleport(e.teleport):Zy(mr.init(e.tile));this.createEntry({position:t,information:null,preconfigured:e},!0)})),0==this.entries.length&&this.createEntry({position:null,information:null,preconfigured:null}),this.setSelection(0),o?yield this.commit(this.entries[0]):(this.setSelection(this.entries.findIndex((e=>!e.information))),this.updatePossibilities(!0))}))}begin(){return Uy(this,void 0,void 0,(function*(){var e;this.layer=new sm(this),this.parent.layer.add(this.layer),this.reader&&(null===(e=this.process)||void 0===e||e.start(),Yd.instance().main_hotkey.subscribe(0,(e=>{if(e.text){const t=lm.teleport_hovers.findBest(e.text);if(t){const e=va.resolveTeleport(t);if(!e)return;this.registerSpot(e,!1)}}else this.commit(void 0,!0)})).bindTo(this.lifetime_manager),this.renderWidget(),yield this.reset())}))}end(){this.layer.remove(),this.process&&this.process.stop()}}!function(e){let t,i;var n;let o,s;!function(e){var t=mr.activate;e.coords=function(e){return e instanceof Vy.Spot?t(e.targetArea()):e}}(t=e.Spot||(e.Spot={})),(n=i=e.teleport_hovers||(e.teleport_hovers={})).teleport_hovers=[{expected:"Cast South Feldip Hills Teleport",teleport_id:{group:"normalspellbook",spot:"southfeldiphills"}},{expected:"Cast Taverley Teleport",teleport_id:{group:"normalspellbook",spot:"taverley"}},{expected:"Cast Varrock Teleport",teleport_id:{group:"normalspellbook",spot:"varrock"}},{expected:"Cast Lumbridge Teleport",teleport_id:{group:"normalspellbook",spot:"lumbridge"}},{expected:"Cast Falador Teleport",teleport_id:{group:"normalspellbook",spot:"falador"}},{expected:"Cast Camelot Teleport",teleport_id:{group:"normalspellbook",spot:"camelot"}},{expected:"Cast Ardougne Teleport",teleport_id:{group:"normalspellbook",spot:"ardougne"}},{expected:"Cast Watchtower Teleport",teleport_id:{group:"normalspellbook",spot:"watchtower-yanille"}},{expected:"Cast Trollheim Teleport",teleport_id:{group:"normalspellbook",spot:"trollheim"}},{expected:"Cast God Wars Dungeon Teleport",teleport_id:{group:"normalspellbook",spot:"godwars"}},{expected:"Cast Paddewwa Teleport",teleport_id:{group:"ancientspellook",spot:"paddewwa"}},{expected:"Cast Senntisten Teleport",teleport_id:{group:"ancientspellook",spot:"senntisten"}},{expected:"Cast Kharyll Teleport",teleport_id:{group:"ancientspellook",spot:"kharyll"}},{expected:"Cast Lassar Teleport",teleport_id:{group:"ancientspellook",spot:"lassar"}},{expected:"Cast Dareeyak Teleport",teleport_id:{group:"ancientspellook",spot:"dareeyak"}},{expected:"Cast Carrallanger Teleport",teleport_id:{group:"ancientspellook",spot:"carallaner"}},{expected:"Cast Annakarl Teleport",teleport_id:{group:"ancientspellook",spot:"annakarl"}},{expected:"Cast Ghorrock Teleport",teleport_id:{group:"ancientspellook",spot:"ghorrock"}},{expected:"Cast Kandarin monastery Teleport",teleport_id:{group:"greenteleport",spot:"monastery"}},{expected:"Cast Manor farm Teleport",teleport_id:{group:"greenteleport",spot:"manorfarm"}},{expected:"Cast Skeletal horror Teleport",teleport_id:{group:"greenteleport",spot:"skelettalhorror"}},{expected:"Cast Moonclan Teleport",teleport_id:{group:"lunarspellbook",spot:"moonclan"}},{expected:"Cast Ourania Teleport",teleport_id:{group:"lunarspellbook",spot:"ourania"}},{expected:"Cast South Falador Teleport",teleport_id:{group:"lunarspellbook",spot:"southfalador"}},{expected:"Cast Waterbirth Teleport",teleport_id:{group:"lunarspellbook",spot:"waterbirth"}},{expected:"Cast Barbarian Teleport",teleport_id:{group:"lunarspellbook",spot:"barbarian"}},{expected:"Cast North Ardougne Teleport",teleport_id:{group:"lunarspellbook",spot:"northardougne"}},{expected:"Cast Khazard Teleport",teleport_id:{group:"lunarspellbook",spot:"khazard"}},{expected:"Cast Fishing Guild Teleport",teleport_id:{group:"lunarspellbook",spot:"fishing"}},{expected:"Cast Catherby Teleport",teleport_id:{group:"lunarspellbook",spot:"catherby"}},{expected:"Cast Ice Plateau Teleport",teleport_id:{group:"lunarspellbook",spot:"iceplateu"}},{expected:"Cast Trollheim Farm Teleport",teleport_id:{group:"lunarspellbook",spot:"trollheim"}},{expected:"Quick teleport Al Kharid",teleport_id:{group:"home",spot:"alkharid"}},{expected:"Teleport Al Kharid",teleport_id:{group:"home",spot:"alkharid"}},{expected:"Quick teleport Anachronia",teleport_id:{group:"home",spot:"anachronia"}},{expected:"Teleport Anachronia",teleport_id:{group:"home",spot:"anachronia"}},{expected:"Quick teleport Ardougne",teleport_id:{group:"home",spot:"ardougne"}},{expected:"Teleport Ardougne",teleport_id:{group:"home",spot:"ardougne"}},{expected:"Quick teleport Ashdale",teleport_id:{group:"home",spot:"ashdale"}},{expected:"Teleport Ashdale",teleport_id:{group:"home",spot:"ashdale"}},{expected:"Quick teleport Bandit Camp",teleport_id:{group:"home",spot:"banditcamp"}},{expected:"Teleport Bandit Camp",teleport_id:{group:"home",spot:"banditcamp"}},{expected:"Quick teleport Burthorpe",teleport_id:{group:"home",spot:"burthorpe"}},{expected:"Teleport Burthorpe",teleport_id:{group:"home",spot:"burthorpe"}},{expected:"Quick teleport Canifis",teleport_id:{group:"home",spot:"canifis"}},{expected:"Teleport Canifis",teleport_id:{group:"home",spot:"canifis"}},{expected:"Quick teleport Catherby",teleport_id:{group:"home",spot:"catherby"}},{expected:"Teleport Catherby",teleport_id:{group:"home",spot:"catherby"}},{expected:"Quick teleport Draynor Village",teleport_id:{group:"home",spot:"draynor"}},{expected:"Teleport Draynor Village",teleport_id:{group:"home",spot:"draynor"}},{expected:"Quick teleport Eagles' Peak",teleport_id:{group:"home",spot:"eaglespeak"}},{expected:"Teleport Eagles' Peak",teleport_id:{group:"home",spot:"eaglespeak"}},{expected:"Quick teleport Edgeville",teleport_id:{group:"home",spot:"edgeville"}},{expected:"Teleport Edgeville",teleport_id:{group:"home",spot:"edgeville"}},{expected:"Quick teleport Falador",teleport_id:{group:"home",spot:"falador"}},{expected:"Teleport Falador",teleport_id:{group:"home",spot:"falador"}},{expected:"Quick teleport Fremennik Province",teleport_id:{group:"home",spot:"fremmenik"}},{expected:"Teleport Fremennik Province",teleport_id:{group:"home",spot:"fremmenik"}},{expected:"Quick teleport Karamja",teleport_id:{group:"home",spot:"karamja"}},{expected:"Teleport Karamja",teleport_id:{group:"home",spot:"karamja"}},{expected:"Quick teleport Lumbridge",teleport_id:{group:"home",spot:"lumbridge"}},{expected:"Teleport Lumbridge",teleport_id:{group:"home",spot:"lumbridge"}},{expected:"Quick teleport Lunar Isle",teleport_id:{group:"home",spot:"lunarisle"}},{expected:"Teleport Lunar Isle",teleport_id:{group:"home",spot:"lunarisle"}},{expected:"Quick teleport Oo'glog",teleport_id:{group:"home",spot:"ooglog"}},{expected:"Teleport Oo'glog",teleport_id:{group:"home",spot:"ooglog"}},{expected:"Quick teleport Port Sarim",teleport_id:{group:"home",spot:"portsarim"}},{expected:"Teleport Port Sarim",teleport_id:{group:"home",spot:"portsarim"}},{expected:"Quick teleport Prifddinas",teleport_id:{group:"home",spot:"prifddinas"}},{expected:"Teleport Prifddinas",teleport_id:{group:"home",spot:"prifddinas"}},{expected:"Quick teleport Seers' Village",teleport_id:{group:"home",spot:"seersvillage"}},{expected:"Teleport Seers' Village",teleport_id:{group:"home",spot:"seersvillage"}},{expected:"Quick teleport Taverley",teleport_id:{group:"home",spot:"taverley"}},{expected:"Teleport Taverley",teleport_id:{group:"home",spot:"taverley"}},{expected:"Quick teleport Tirannwn",teleport_id:{group:"home",spot:"tirannwn"}},{expected:"Teleport Tirannwn",teleport_id:{group:"home",spot:"tirannwn"}},{expected:"Quick teleport Varrock",teleport_id:{group:"home",spot:"varrock"}},{expected:"Teleport Varrock",teleport_id:{group:"home",spot:"varrock"}},{expected:"Quick teleport Wilderness Crater",teleport_id:{group:"home",spot:"wilderness"}},{expected:"Teleport Wilderness Crater",teleport_id:{group:"home",spot:"wilderness"}},{expected:"Quick teleport Yanille",teleport_id:{group:"home",spot:"yanille"}},{expected:"Teleport Yanille",teleport_id:{group:"home",spot:"yanille"}},{expected:"Quick teleport Menaphos",teleport_id:{group:"home",spot:"menaphos"}},{expected:"Teleport Menaphos",teleport_id:{group:"home",spot:"menaphos"}},{expected:"Quick teleport Fort Forinthry",teleport_id:{group:"home",spot:"fortforinthry"}},{expected:"Teleport Fort Forinthry",teleport_id:{group:"home",spot:"fortforinthry"}},{expected:"Quick teleport City of Um",teleport_id:{group:"home",spot:"cityofum"}},{expected:"Teleport City of Um",teleport_id:{group:"home",spot:"cityofum"}},{expected:"Quick teleport Al Kharid Lodestone",teleport_id:{group:"home",spot:"alkharid"}},{expected:"Teleport Al Kharid Lodestone",teleport_id:{group:"home",spot:"alkharid"}},{expected:"Quick teleport Anachronia Lodestone",teleport_id:{group:"home",spot:"anachronia"}},{expected:"Teleport Anachronia Lodestone",teleport_id:{group:"home",spot:"anachronia"}},{expected:"Quick teleport Ardougne Lodestone",teleport_id:{group:"home",spot:"ardougne"}},{expected:"Teleport Ardougne Lodestone",teleport_id:{group:"home",spot:"ardougne"}},{expected:"Quick teleport Ashdale Lodestone",teleport_id:{group:"home",spot:"ashdale"}},{expected:"Teleport Ashdale Lodestone",teleport_id:{group:"home",spot:"ashdale"}},{expected:"Quick teleport Bandit Camp Lodestone",teleport_id:{group:"home",spot:"banditcamp"}},{expected:"Teleport Bandit Camp Lodestone",teleport_id:{group:"home",spot:"banditcamp"}},{expected:"Quick teleport Burthorpe Lodestone",teleport_id:{group:"home",spot:"burthorpe"}},{expected:"Teleport Burthorpe Lodestone",teleport_id:{group:"home",spot:"burthorpe"}},{expected:"Quick teleport Canifis Lodestone",teleport_id:{group:"home",spot:"canifis"}},{expected:"Teleport Canifis Lodestone",teleport_id:{group:"home",spot:"canifis"}},{expected:"Quick teleport Catherby Lodestone",teleport_id:{group:"home",spot:"catherby"}},{expected:"Teleport Catherby Lodestone",teleport_id:{group:"home",spot:"catherby"}},{expected:"Quick teleport Draynor Lodestone",teleport_id:{group:"home",spot:"draynor"}},{expected:"Teleport Draynor Lodestone",teleport_id:{group:"home",spot:"draynor"}},{expected:"Quick teleport Eagles' Peak Lodestone",teleport_id:{group:"home",spot:"eaglespeak"}},{expected:"Teleport Eagles' Peak Lodestone",teleport_id:{group:"home",spot:"eaglespeak"}},{expected:"Quick teleport Edgeville Lodestone",teleport_id:{group:"home",spot:"edgeville"}},{expected:"Teleport Edgeville Lodestone",teleport_id:{group:"home",spot:"edgeville"}},{expected:"Quick teleport Falador Lodestone",teleport_id:{group:"home",spot:"falador"}},{expected:"Teleport Falador Lodestone",teleport_id:{group:"home",spot:"falador"}},{expected:"Quick teleport Fremennik Lodestone",teleport_id:{group:"home",spot:"fremmenik"}},{expected:"Teleport Fremennik Lodestone",teleport_id:{group:"home",spot:"fremmenik"}},{expected:"Quick teleport Karamja Lodestone",teleport_id:{group:"home",spot:"karamja"}},{expected:"Teleport Karamja Lodestone",teleport_id:{group:"home",spot:"karamja"}},{expected:"Quick teleport Lumbridge Lodestone",teleport_id:{group:"home",spot:"lumbridge"}},{expected:"Teleport Lumbridge Lodestone",teleport_id:{group:"home",spot:"lumbridge"}},{expected:"Quick teleport Lunar Isle Lodestone",teleport_id:{group:"home",spot:"lunarisle"}},{expected:"Teleport Lunar Isle Lodestone",teleport_id:{group:"home",spot:"lunarisle"}},{expected:"Quick teleport Oo'glog Lodestone",teleport_id:{group:"home",spot:"ooglog"}},{expected:"Teleport Oo'glog Lodestone",teleport_id:{group:"home",spot:"ooglog"}},{expected:"Quick teleport Port Sarim Lodestone",teleport_id:{group:"home",spot:"portsarim"}},{expected:"Teleport Port Sarim Lodestone",teleport_id:{group:"home",spot:"portsarim"}},{expected:"Quick teleport Prifddinas Lodestone",teleport_id:{group:"home",spot:"prifddinas"}},{expected:"Teleport Prifddinas Lodestone",teleport_id:{group:"home",spot:"prifddinas"}},{expected:"Quick teleport Seers' Village Lodestone",teleport_id:{group:"home",spot:"seersvillage"}},{expected:"Teleport Seers' Village Lodestone",teleport_id:{group:"home",spot:"seersvillage"}},{expected:"Quick teleport Taverley Lodestone",teleport_id:{group:"home",spot:"taverley"}},{expected:"Teleport Taverley Lodestone",teleport_id:{group:"home",spot:"taverley"}},{expected:"Quick teleport Tirannwn Lodestone",teleport_id:{group:"home",spot:"tirannwn"}},{expected:"Teleport Tirannwn Lodestone",teleport_id:{group:"home",spot:"tirannwn"}},{expected:"Quick teleport Varrock Lodestone",teleport_id:{group:"home",spot:"varrock"}},{expected:"Teleport Varrock Lodestone",teleport_id:{group:"home",spot:"varrock"}},{expected:"Quick teleport Wilderness Lodestone",teleport_id:{group:"home",spot:"wilderness"}},{expected:"Teleport Wilderness Lodestone",teleport_id:{group:"home",spot:"wilderness"}},{expected:"Quick teleport Yanille Lodestone",teleport_id:{group:"home",spot:"yanille"}},{expected:"Teleport Yanille Lodestone",teleport_id:{group:"home",spot:"yanille"}},{expected:"Quick teleport Menaphos Lodestone",teleport_id:{group:"home",spot:"menaphos"}},{expected:"Teleport Menaphos Lodestone",teleport_id:{group:"home",spot:"menaphos"}},{expected:"Quick teleport Fort Forinthry Lodestone",teleport_id:{group:"home",spot:"fortforinthry"}},{expected:"Teleport Fort Forinthry Lodestone",teleport_id:{group:"home",spot:"fortforinthry"}},{expected:"Quick teleport City of Um Lodestone",teleport_id:{group:"home",spot:"cityofum"}},{expected:"Teleport City of Um Lodestone",teleport_id:{group:"home",spot:"cityofum"}},{expected:"Al Kharid lodestone",teleport_id:{group:"home",spot:"alkharid"}},{expected:"Anachronia lodestone",teleport_id:{group:"home",spot:"anachronia"}},{expected:"Ardougne lodestone",teleport_id:{group:"home",spot:"ardougne"}},{expected:"Ashdale lodestone",teleport_id:{group:"home",spot:"ashdale"}},{expected:"Bandit Camp lodestone",teleport_id:{group:"home",spot:"banditcamp"}},{expected:"Burthorpe lodestone",teleport_id:{group:"home",spot:"burthorpe"}},{expected:"Canifis lodestone",teleport_id:{group:"home",spot:"canifis"}},{expected:"Catherby lodestone",teleport_id:{group:"home",spot:"catherby"}},{expected:"Draynor lodestone",teleport_id:{group:"home",spot:"draynor"}},{expected:"Eagles' Peak lodestone",teleport_id:{group:"home",spot:"eaglespeak"}},{expected:"Edgeville lodestone",teleport_id:{group:"home",spot:"edgeville"}},{expected:"Falador lodestone",teleport_id:{group:"home",spot:"falador"}},{expected:"Fremennik Province lodestone",teleport_id:{group:"home",spot:"fremmenik"}},{expected:"Karamja lodestone",teleport_id:{group:"home",spot:"karamja"}},{expected:"Lumbridge lodestone",teleport_id:{group:"home",spot:"lumbridge"}},{expected:"Lunar Isle lodestone",teleport_id:{group:"home",spot:"lunarisle"}},{expected:"Oo'glog lodestone",teleport_id:{group:"home",spot:"ooglog"}},{expected:"Port Sarim lodestone",teleport_id:{group:"home",spot:"portsarim"}},{expected:"Prifddinas lodestone",teleport_id:{group:"home",spot:"prifddinas"}},{expected:"Seers' Village lodestone",teleport_id:{group:"home",spot:"seersvillage"}},{expected:"Taverley lodestone",teleport_id:{group:"home",spot:"taverley"}},{expected:"Tirannwn lodestone",teleport_id:{group:"home",spot:"tirannwn"}},{expected:"Varrock lodestone",teleport_id:{group:"home",spot:"varrock"}},{expected:"Wilderness Crater lodestone",teleport_id:{group:"home",spot:"wilderness"}},{expected:"Yanille lodestone",teleport_id:{group:"home",spot:"yanille"}},{expected:"Menaphos lodestone",teleport_id:{group:"home",spot:"menaphos"}},{expected:"Fort Forinthry lodestone",teleport_id:{group:"home",spot:"fortforinthry"}},{expected:"City of Um lodestone",teleport_id:{group:"home",spot:"cityofum"}},{expected:"Grand Exchange Luck of the Dwarves",teleport_id:{group:"ringofwealth",spot:"grandexchange"}},{expected:"Dwarven Outpost Luck of the Dwarves",teleport_id:{group:"luckofthedwarves",spot:"outpost"}}],n.findBest=function(e){var t,i;return null===(i=null===(t=$y(n.teleport_hovers,(t=>Wy(e,t.expected)),.9))||void 0===t?void 0:t.value)||void 0===i?void 0:i.teleport_id},e.ANGLE_CHANGE_COMMIT_THRESHOLD=ve.degreesToRadians(4),function(e){e.elite_moonclan_southfeldiphills={compass_id:[_p.gielinor_compass.id,_p.tetracompass.id],id:-1,name:"{{teleport lunarspellbook moonclan}} Moonclan - {{teleport normalspellbook southfeldiphills}} South Feldip Hills",sequence:[{teleport:{group:"lunarspellbook",spot:"moonclan"}},{teleport:{group:"normalspellbook",spot:"southfeldiphills"}}]},e.elite_moonclan_iceplateu={compass_id:[_p.gielinor_compass.id,_p.tetracompass.id],id:-2,name:"{{teleport lunarspellbook moonclan}} Moonclan - {{teleport lunarspellbook iceplateu}} Ice Plateau",sequence:[{teleport:{group:"lunarspellbook",spot:"moonclan"}},{teleport:{group:"lunarspellbook",spot:"iceplateu"}}]},e.master_turtle_island={compass_id:_p.arc_compass.id,id:-3,name:"{{teleport arctabs turtleislands}} Turtle Island",sequence:[{teleport:{group:"arctabs",spot:"turtleislands"}}]},e.elite_falador={compass_id:[_p.gielinor_compass.id,_p.tetracompass.id],id:-4,name:"{{teleport normalspellbook falador}} Falador",sequence:[{teleport:{group:"normalspellbook",spot:"falador"}}]},e.master_turtle_island_dock={compass_id:_p.arc_compass.id,id:-5,name:"{{teleport arcsailing turtleislands}} Ship to Turtle Island",sequence:[{teleport:{group:"arcsailing",spot:"turtleislands"}}]},e.elite_falador_dave={compass_id:[_p.gielinor_compass.id,_p.tetracompass.id],id:-6,name:"{{teleport davesspellbook falador}} Falador",sequence:[{teleport:{group:"davesspellbook",spot:"falador"}}]},e.master_whales_maw={compass_id:_p.arc_compass.id,id:-9,name:"{{teleport arctabs whalesmaw}} Whale`s Maw",sequence:[{teleport:{group:"arctabs",spot:"whalesmaw"}}]},e.elite_menaphos_house_south_feldip_hills={compass_id:[_p.gielinor_compass.id,_p.tetracompass.id],id:-7,name:"{{teleport houseteleports menaphos}} Menaphos - {{teleport normalspellbook southfeldiphills}} South Feldip Hills",sequence:[{teleport:{group:"houseteleports",spot:"menaphos"}},{teleport:{group:"normalspellbook",spot:"southfeldiphills"}}]},e.elite_amulet_of_nature={compass_id:[_p.gielinor_compass.id,_p.tetracompass.id],id:-8,name:"{{teleport amuletofnature faladortree}} Falador",sequence:[{tile:{x:3005,y:3375,level:0}}]},e.builtin=[e.elite_moonclan_southfeldiphills,e.elite_moonclan_iceplateu,e.master_turtle_island,e.elite_falador,e.master_turtle_island_dock,e.master_whales_maw,e.elite_menaphos_house_south_feldip_hills,e.elite_amulet_of_nature]}(o=e.TriangulationPreset||(e.TriangulationPreset={})),function(e){e.DEFAULT={auto_commit_on_angle_change:!0,enable_status_overlay:!0,custom_triangulation_presets:[],active_triangulation_presets:[],manual_tile_inaccuracy:3,use_previous_solution_as_start:!1,show_method_preview_of_secondary_solutions:!0,invert_preset_sequence_if_previous_solution_was_used:!1,skip_triangulation_point_if_colinear:!0,beam_color:"#3388ff"},e.normalize=function(t){return t?((0,oe.isArray)(t.custom_triangulation_presets)||(t.custom_triangulation_presets=[]),(0,oe.isArray)(t.active_triangulation_presets)||(t.active_triangulation_presets=[]),[!0,!1].includes(t.auto_commit_on_angle_change)||(t.auto_commit_on_angle_change=e.DEFAULT.auto_commit_on_angle_change),[!0,!1].includes(t.enable_status_overlay)||(t.enable_status_overlay=e.DEFAULT.enable_status_overlay),"number"!=typeof t.manual_tile_inaccuracy&&(t.manual_tile_inaccuracy=e.DEFAULT.manual_tile_inaccuracy),[!0,!1].includes(t.use_previous_solution_as_start)||(t.use_previous_solution_as_start=e.DEFAULT.use_previous_solution_as_start),[!0,!1].includes(t.show_method_preview_of_secondary_solutions)||(t.show_method_preview_of_secondary_solutions=e.DEFAULT.show_method_preview_of_secondary_solutions),[!0,!1].includes(t.invert_preset_sequence_if_previous_solution_was_used)||(t.show_method_preview_of_secondary_solutions=e.DEFAULT.invert_preset_sequence_if_previous_solution_was_used),[!0,!1].includes(t.skip_triangulation_point_if_colinear)||(t.skip_triangulation_point_if_colinear=e.DEFAULT.skip_triangulation_point_if_colinear),"string"!=typeof t.beam_color&&(t.beam_color=e.DEFAULT.beam_color),t):e.DEFAULT}}(s=e.Settings||(e.Settings={}))}(lm||(lm={}));var cm=xp.log,um=_e.async_init;const pm={x:0,y:-150};class hm extends ny{constructor(e){super(),this.parent=e,this.last_read_puzzle=null,this.isSolved=!1,this.bug_detected=!1,this.last_successful_read=Date.now(),this.initialization=um((()=>{return e=this,t=void 0,n=function*(){return{reader:yield Mf.instance()}},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}))}area(){return this.parent.knot.reader.ui.body.screenRectangle()}tick(e){var t,i,n,o;if(!this.initialization.isInitialized())return;const s=Bf.assumeBody(e),r=new Mf.CapturedKnot(s,this.initialization.get().reader),a=r.readPuzzle(),l=Date.now();a&&(this.last_successful_read=l);const c=Sf.PuzzleState.equal(a,this.last_read_puzzle);if(this.last_read_puzzle=a,c&&a){const e=Sf.unify(a,this.puzzle),s=Sf.solve(e);if(!e)return void cm().log("Could not unify knot states! Discarding last read.","Knot Solving",{existing:null===(i=null===(t=this.puzzle)||void 0===t?void 0:t.snakes)||void 0===i?void 0:i.map((e=>Sf.Snake.toString(e))),new:null===(n=null==a?void 0:a.snakes)||void 0===n?void 0:n.map((e=>Sf.Snake.toString(e))),unified:null===(o=null==e?void 0:e.snakes)||void 0===o?void 0:o.map((e=>Sf.Snake.toString(e)))});if(!s&&this.solution)return void cm().log("Misread detected because of disappearing solution. Discarding last read.","Knot Solving");this.puzzle=e,this.solution=s;const l=this.parent.knot.reader.getButtons(),c=new Ad.GeometryBuilder;this.isSolved=Sf.PuzzleState.isSolved(this.puzzle),this.solution?l?this.solution.moves.forEach((e=>{if(0==e.offset)return;const t=l[e.snake_index],i=e.offset<0?t.counterclockwise:t.clockwise;c.text(Math.abs(e.offset).toString(),xe.add(r.tileOrigin(i,!0),{x:12,y:12}),{color:cd.white,centered:!0,shadow:!0,width:24})})):c.text(Sf.PuzzleShape.hash(this.puzzle.shape).toString(),xe.add(r.ui.body.screenRectangle().origin,pm,xe.scale(.5,r.ui.body.screenRectangle().size)),{color:cd.white,width:20}):(c.text("Not enough information",xe.add(r.ui.body.screenRectangle().origin,pm,xe.scale(.5,r.ui.body.screenRectangle().size)),{color:cd.white,width:20}),c.rectangle(Cd.move(r.ui.body.screenRectangle(),{x:4,y:282},{x:121,y:26}),{color:cd.white,width:2})),this.isSolved&&(c.text("Solved",xe.add(r.ui.body.screenRectangle().origin,pm,xe.scale(.5,r.ui.body.screenRectangle().size)),{color:cd.green,width:20}),c.rectangle(Cd.move(r.ui.body.screenRectangle(),{x:372,y:282},{x:121,y:26}),{color:cd.green,width:2})),this.solution_overlay.setGeometry(c.buffer())}else this.isSolved&&this.last_successful_read+500<l&&this.puzzleClosed();this.last_successful_read+3e3<l&&this.puzzleClosed()}begin(){this.last_read_puzzle=this.puzzle=this.parent.knot.reader.readPuzzle(),super.begin()}}class dm extends iy{constructor(e,t){super(e,t,pa().app.settings.settings.solving.puzzles.knots.autostart,"Celtic Knot Puzzle","knots"),this.knot=t}constructProcess(){return new hm(this)}begin(){super.begin(),this.modal.setImage(this.knot.reader.relevant_body.getData())}pausesClueReader(){return this.process&&!this.process.isSolved&&Date.now()-this.process.last_successful_read<500}}!function(e){let t;!function(e){e.DEFAULT={autostart:!0},e.normalize=function(t){return t?([!0,!1].includes(t.autostart)||(t.autostart=e.DEFAULT.autostart),t):e.DEFAULT}}(t=e.Settings||(e.Settings={}))}(dm||(dm={}));class gm extends Ii{constructor(e){super(Pe("<span>")),this.text(e).addClass("nisl-click-to-copy"),this.tooltip("Click to copy"),this.on("click",(()=>{return t=this,i=void 0,o=function*(){yield navigator.clipboard.writeText(e),this.css("min-width",this._raw.offsetWidth+"px"),this.toggleClass("copied-recently",!0),this.text("Copied!"),setTimeout((()=>{this.text(e),this.css("width",null),this.toggleClass("copied-recently",!1)}),3e3)},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o}))}}var fm,ym=ie.hbox,mm=ie.inlineimg;class _m extends gc{constructor(e){super(),this.url_override=e,this.title.set("Alt1 Toolkit")}addToAlt1Link(){return this.url_override?`alt1://addapp/${this.url_override}/appconfig.json`:`alt1://addapp/${window.location.protocol}//${window.location.host}${window.location.pathname.slice(0,window.location.pathname.lastIndexOf("/")+1)}appconfig.json`}render(){var e;super.render();const t=(new Pa).appendTo(this.body);t.paragraph("Clue trainer is a fully featured clue solver for the Alt1 Toolkit. It can automatically read clues and puzzles and show their solutions. Click below to install Clue Trainer into Alt1."),t.row(c(`<a href='${this.addToAlt1Link()}'></a>`).append(new mc("","confirm").setContent(ym(mm("/assets/icons/Alt1.png"),"Add to Alt1 Toolkit")))),t.paragraph("Alternatively, visit ",new gm(null!==(e=this.url_override)&&void 0!==e?e:window.location.toString())," in Alt1's builtin browser to get an installation prompt."),t.header("About Alt1"),t.paragraph("The Alt1 Toolkit is an overlay tool for RuneScape 3 created by Skillbert. It offers a variety of helpful builtin tools as well as the option to install third party plugins such as Clue Trainer. You can get it at <a href='https://runeapps.org/alt1'>runeapps.org</a>.")}}!function(e){let t,i,n;function o(e){function t(e){let t=i.None;for(let o=0;o<4;o++){const s=i.None.map(((t,i)=>i==o+1?e.tile_rows[o].map((e=>(3-e)%3)):t));e=n.applyMoves(e,s),t=i.chain(t,s)}return[t,e]}const[o,s]=t(e),r=[0,2,1][s.tile_rows[4][0]],a=[0,2,1][s.tile_rows[4][1]],l=[[a,(a+r)%3,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],c=n.applyMoves(s,l),[u,p]=t(c);return i.chain(o,l,u)}e.SIZE=5,function(e){e.advance=function(e){return(e+1)%3}}(t=e.Tile||(e.Tile={})),function(t){function i(e,t){return e.map((e=>e.map((e=>e*t%3))))}function o(...e){return t.None.map(((t,i)=>t.map(((t,n)=>oe.sumBy(e,(e=>e[i][n]))%3))))}function s(e){return t=>oe.sum(t.flat().map((t=>e[t])))}t.None=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],t.BASIC_QUIET_PATTERNS=[[[1,0,0,0,2],[2,2,0,1,1],[1,2,0,1,2],[1,1,0,2,2],[0,2,0,1,0]],[[0,1,0,2,0],[2,2,0,1,1],[2,1,0,2,1],[1,1,0,2,2],[2,0,0,0,1]],[[0,0,1,0,1],[0,2,2,1,2],[1,2,0,1,2],[0,1,1,2,1],[1,2,2,1,1]]],t.repeat=i,t.get=function(t,i,n){return i<0||i>=e.SIZE||n<0||n>=e.SIZE?0:t[i][n]},t.chain=o,t.scoring=s,t.clickScore=s([0,1,2]),t.tileScore=s([0,1,1]),t.hybridScore=s([0,1,1.3]),t.isQuiet=function(e){return n.equals(n.applyMoves(n.SOLVED,e),n.SOLVED)};let r=null;function a(){if(!r){const e=[0,1,2].flatMap((e=>[0,1,2].flatMap((t=>[0,1,2].map((i=>[e,t,i]))))));r=e.map((([e,n,o])=>t.chain(i(t.BASIC_QUIET_PATTERNS[0],e),i(t.BASIC_QUIET_PATTERNS[1],n),i(t.BASIC_QUIET_PATTERNS[2],o))))}return r}function l(e){return a().map((t=>o(e,t)))}t.allQuietPatterns=a,t.getEquivalents=l,t.minimize=function(e,i=t.clickScore){return oe.minBy(l(e),i)},t.fromClick=function(e,i){return t.None.map(((t,n)=>t.map(((t,o)=>o==i&&n==e?1:0))))},t.difference=function(e,t){let i=0;for(let n=0;n<5;n++)for(let o=0;o<5;o++)e[o][n]!=t[o][n]&&i++;return i}}(i=e.MoveMap||(e.MoveMap={})),function(e){e.SOLVED={tile_rows:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]]},e.SOLVED_1={tile_rows:[[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1]]},e.SOLVED_2={tile_rows:[[2,2,2,2,2],[2,2,2,2,2],[2,2,2,2,2],[2,2,2,2,2],[2,2,2,2,2]]},e.isSolved=function(e){const t=e.tile_rows[0][0];return e.tile_rows.every((e=>e.every((e=>e==t))))},e.equals=function(e,t){for(let i=0;i<5;i++)for(let n=0;n<5;n++)if(e.tile_rows[n][i]!=t.tile_rows[n][i])return!1;return!0},e.applyMoves=function(e,t){return{tile_rows:e.tile_rows.map(((e,n)=>e.map(((e,o)=>(e+i.get(t,n,o)+i.get(t,n+1,o)+i.get(t,n-1,o)+i.get(t,n,o+1)+i.get(t,n,o-1))%3))))}},e.toString=function(e){return e.tile_rows.map((e=>e.join("  "))).join("\n")},e.generate=function(){return{tile_rows:e.SOLVED.tile_rows.map((e=>e.map((()=>oe.random(0,2)))))}},e.add=function(e,t){return{tile_rows:e.tile_rows.map(((e,i)=>e.map(((e,n)=>(e+t.tile_rows[i][n])%3))))}},e.sub=function(e,t){return{tile_rows:e.tile_rows.map(((e,i)=>e.map(((e,n)=>(e-t.tile_rows[i][n]+3)%3))))}}}(n=e.State||(e.State={})),e.solve=function(e,t={}){var s;let r=(null==t?void 0:t.modulo_targets_allowed)?[n.SOLVED,n.SOLVED_1,n.SOLVED_2]:[n.SOLVED];t.target_override&&(r=r.map((e=>n.add(e,t.target_override))));let a=r.map((t=>({target:t,moves:o(n.sub(e,t))})));t.minimize&&(a=a.flatMap((e=>i.getEquivalents(e.moves).map((t=>({target:e.target,moves:t}))))));const l=t.minimize?null!==(s=t.minimize_by)&&void 0!==s?s:i.clickScore:()=>0;return oe.minBy(a,(e=>l(e.moves)))}}(fm||(fm={}));var vm=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},xm=xp.log,wm=_e.async_init;class bm extends ny{constructor(e){super(),this.parent=e,this.settings=pa().app.settings.settings.solving.puzzles.lockboxes,this.cost_function=fm.MoveMap.scoring([0,1,this.settings.two_click_factor]),this.isSolved=!1,this.last_state=null,this.initialization=wm((()=>vm(this,void 0,void 0,(function*(){return{reader:yield Of.instance()}}))))}overlay(e,t,i){const n=new Ad.GeometryBuilder;for(let i=0;i<e.length;i++){const o=e[i];for(let e=0;e<o.length;e++){const s=o[e];0!=s&&n.text(s.toString(),xe.add(xe.scale(.5,Of.TILE_SIZE),t.tileOrigin({x:e,y:i},!0),{x:3,y:0}),{width:24,color:cd.fromNumber(this.settings.overlay_color)})}}i&&n.text("Detected Client Desync - Overlay paused",t.tileOrigin({x:2,y:-2},!0),{width:16,color:cd.fromHex("#C80000"),centered:!0,shadow:!0}),this.solution_overlay.setGeometry(n.buffer())}area(){return this.parent.lockbox.reader.modal.body.screenRectangle()}tick(e){return vm(this,void 0,void 0,(function*(){if(!e)return;if(!this.initialization.isInitialized())return;const t=Bf.assumeBody(e),i=new Of.CapturedLockbox(t,this.initialization.get().reader),n=i.getPuzzle();if("likelyclosed"==i.getState()&&this.puzzleClosed(),n){if(this.last_state)if((()=>{const t=fm.solve(n,{target_override:this.last_state.state,modulo_targets_allowed:!1,minimize:!0,minimize_by:fm.MoveMap.clickScore});return fm.MoveMap.clickScore(t.moves)>Math.ceil((e.capture.timestamp-this.last_state.timestamp)/80)+1})()){this.last_state.visually_desynced||xm().log("Visual desync detected","Lockboxes"),this.last_state.visually_desynced=!0;const t=3e3;e.capture.timestamp-this.last_state.timestamp>t&&(xm().log("Desync timed out, Resolving","Lockboxes"),this.last_state=null)}else{this.last_state.visually_desynced&&xm().log("Visual desync ended","Lockboxes");const t=fm.solve(n,{target_override:this.last_state.solution.target,minimize:!0,modulo_targets_allowed:!0,minimize_by:e=>fm.MoveMap.difference(e,this.last_state.solution.moves)});this.last_state={state:n,solution:t,timestamp:e.capture.timestamp}}if(!this.last_state){const t=fm.solve(n,{modulo_targets_allowed:!0,minimize:!0,minimize_by:this.cost_function});this.last_state={state:n,solution:t,timestamp:e.capture.timestamp}}this.overlay(this.last_state.solution.moves,i,this.last_state.visually_desynced)}}))}begin(){this.puzzle=this.parent.lockbox.reader.getPuzzle(),super.begin()}}class km extends iy{constructor(e,t){super(e,t,pa().app.settings.settings.solving.puzzles.lockboxes.autostart,"Lockbox Puzzle","lockboxes"),this.lockbox=t}constructProcess(){return new bm(this)}begin(){super.begin(),this.modal.setImage(this.lockbox.reader.tile_area.getData())}pausesClueReader(){var e;return this.process&&!(null===(e=this.process)||void 0===e?void 0:e.isSolved)}}!function(e){let t;!function(e){e.DEFAULT={autostart:!0,two_click_factor:1.3,overlay_color:cd.white.for_overlay},e.normalize=function(t){return t?([!0,!1].includes(t.autostart)||(t.autostart=e.DEFAULT.autostart),"number"!=typeof t.overlay_color&&(t.overlay_color=e.DEFAULT.overlay_color),"number"!=typeof t.two_click_factor&&(t.two_click_factor=e.DEFAULT.two_click_factor),t.two_click_factor=oe.clamp(t.two_click_factor,1,5),t):e.DEFAULT}}(t=e.Settings||(e.Settings={}))}(km||(km={}));var Tm=_e.async_init,zm=xp.log;class Sm extends ny{constructor(e){super(),this.parent=e,this.settings=pa().app.settings.settings.solving.puzzles.towers,this.isSolved=!1,this.was_solved_data=Ff.Blocks.empty().rows.map((e=>e.map((()=>!1)))),this.last_successful_read=Date.now(),this.initialization=Tm((()=>{return e=this,t=void 0,n=function*(){return{reader:yield Hf.instance()}},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}))}showSolutionOverlay(e,t,i,n=null){var o;const s=new Ad.GeometryBuilder,r=n?Cd.extend(n,{x:7,y:11}):null,a=e=>r&&Cd.contains(r,e),l={x:33,y:10},c={x:12,y:10};let u=!0;for(let n=0;n<i.blocks.rows.length;n++){const r=i.blocks.rows[n];for(let p=0;p<r.length;p++){const r=i.blocks.rows[n][p],h=null!==(o=t.blocks.rows[n][p])&&void 0!==o?o:0,d=e.tileOrigin({x:p,y:n},!0),g=xe.add(d,l),f=xe.add(d,c),y=(6+r-h)%6,m=r==h;if(u&&(u=m),m)this.was_solved_data[n][p]=!0,this.settings.show_correct&&(a(g)||s.rectangle({origin:xe.add(d,{x:-1,y:-1}),size:xe.add(Hf.TILE_SIZE,{x:3,y:3})},{color:cd.green,width:2}));else{if("target"!=this.settings.solution_mode&&"both"!=this.settings.solution_mode||a(g)||s.text(r.toString(),g,{color:cd.fromHex("#C8C8C8"),width:10}),"delta"==this.settings.solution_mode||"both"==this.settings.solution_mode){const e="both"==this.settings.solution_mode?f:g;a(e)||s.text("+"+y.toString(),e,{color:cd.fromHex("#C8C8C8"),width:10})}this.was_solved_data[n][p]&&this.settings.show_overshot&&(a(g)||s.rectangle({origin:xe.add(d,{x:-1,y:-1}),size:xe.add(Hf.TILE_SIZE,{x:3,y:3})},{color:cd.red,width:2}))}}}if(this.isSolved=u,u){s.text("Solved",xe.add(e.tileOrigin({x:2,y:2},!0),{x:21,y:21}),{color:cd.green,width:20});const t={origin:{x:317,y:243},size:{x:150,y:25}};s.rectangle(Cd.subRect(e.modal.body.screenRectangle(),t),{color:cd.green,width:2})}this.solution_overlay.setGeometry(s.buffer())}area(){return this.parent.lockbox.reader.modal.body.screenRectangle()}tick(e){try{if(!this.initialization.isInitialized())return;if(!e)return;const t=Bf.assumeBody(e),i=new Hf.CapturedTowers(t,this.initialization.get().reader),n=i.getPuzzle(),o=i.findContextMenu();if(n&&(this.puzzle&&o&&(n.blocks=Ff.Blocks.combine(n.blocks,this.puzzle.blocks)),this.puzzle=n),this.puzzle){const e=Ff.solve(this.puzzle.hints);this.showSolutionOverlay(i,this.puzzle,e,o)}"likelyclosed"==i.getState()&&this.puzzleClosed()}catch(e){e instanceof Error?(zm().log(e.toString()),zm().log(e.stack)):console.error(e.toString())}}begin(){this.puzzle=this.parent.lockbox.reader.getPuzzle(),super.begin()}}class Cm extends iy{constructor(e,t){super(e,t,pa().app.settings.settings.solving.puzzles.towers.autostart,"Towers Puzzle","towers"),this.lockbox=t}begin(){super.begin(),this.modal.setImage(this.lockbox.reader.puzzle_area.getData())}constructProcess(){return new Sm(this)}pausesClueReader(){return this.process&&!this.process.isSolved}}!function(e){let t;!function(e){e.DEFAULT={autostart:!0,solution_mode:"delta",show_correct:!0,show_overshot:!0},e.normalize=function(t){return t?([!0,!1].includes(t.autostart)||(t.autostart=e.DEFAULT.autostart),["target","delta","both"].includes(t.solution_mode)||(t.solution_mode=e.DEFAULT.solution_mode),[!0,!1].includes(t.show_correct)||(t.show_correct=e.DEFAULT.show_correct),[!0,!1].includes(t.show_overshot)||(t.show_overshot=e.DEFAULT.show_overshot),t):e.DEFAULT}}(t=e.Settings||(e.Settings={}))}(Cm||(Cm={}));class Am extends Zd{constructor(e,t,i){super(),this.minimapreader=e,this.settings=t,this.role=i,this.range=10}begin(){super.begin(),pa().app.in_alt1&&this.lifetime_manager.bind(this.minimap_interest=this.minimapreader.subscribe({options:e=>({interval:Hd.fromApproximateInterval(100),refind_interval:Hd.fromApproximateInterval(1e4)}),handle:e=>{this.rerender()}}))}end(){super.end(),pa().app.in_alt1}renderWithBuilder(e){var t;const i=this.minimap_interest.lastNotification(),n=i.value,o=this.settings.value();if(i.value&&("scantree"==this.role&&o.show_minimap_overlay_scantree||"manual"==this.role&&o.show_minimap_overlay_simple)){if(Am.last_known_ppt=o.minimap_overlay_automated_zoom_detection?null!==(t=i.value.pixelPerTile())&&void 0!==t?t:Am.last_known_ppt:o.minimap_overlay_zoom_manual_ppt,null==Am.last_known_ppt)return;const s=[{x:1,y:1},{x:1,y:-1},{x:-1,y:-1},{x:-1,y:1}];if(o.show_triple_ping){const t=(2*this.range+1)/2*Am.last_known_ppt,i=le.chain(le.translation(n.center()),le.rotationRadians(-n.compassAngle.get()),le.scale({x:t,y:t}));e.polyline(s.map((e=>xe.transform_point(e,i))),!0,{color:ad.PulseColors.triple})}if(o.show_double_ping){const t=(4*this.range+1)/2*Am.last_known_ppt,i=le.chain(le.translation(n.center()),le.rotationRadians(-n.compassAngle.get()),le.scale({x:t,y:t}));e.polyline(s.map((e=>xe.transform_point(e,i))),!0,{color:ad.PulseColors.double})}}}setRange(e){return this.range=e,this}}!function(e){e.last_known_ppt=4}(Am||(Am={}));var Em=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Pm=Xd.over,Mm=xp.log;class Lm extends qd{constructor(e){super(),this.capture_service=e,this.debug_overlay=Pm(),this.debug_mode=!1,this.minimum_refind_interval=Hd.fromApproximateInterval(1e4),this._initialized=(()=>Em(this,void 0,void 0,(function*(){this.finder=yield Lm.CapturedMinimap.finder.get(),this.capture_interest=this.addDataSource(e,((e,t)=>{var i,n;return!(null===(i=this.raw_last_capture)||void 0===i?void 0:i.value)||t.some((t=>{var i;return null===(i=t.refind_interval)||void 0===i?void 0:i.matches(e)}))||this.minimum_refind_interval.matches(e)?{interval:null,area:null}:{interval:null,area:null===(n=this.raw_last_capture)||void 0===n?void 0:n.value.body.screen_rectangle}}))})))()}processNotifications(e){const t=this.capture_interest.lastNotification().value;try{if(t.isFullScreen()){const e=this.finder.find(t);return this.debug_mode&&(this.debug_overlay.clear(),e&&e.debugOverlay(this.debug_overlay),this.debug_overlay.render()),e}return this.raw_last_capture.value.refind(t)}catch(e){Mm().log(e)}}initialized(){return this._initialized}stop(){this.capture_interest.revoke()}setDebugEnabled(e=!0){return this.debug_mode=e,this}static instance(){return Lm._instance.get()}}Lm._instance=ma((()=>new Lm(Yd.instance().capturing))),function(e){class t{constructor(e){this.body=e,this.compassAngle=ma((()=>{const e=this.compass.getData(),t=[],i={x:16.5,y:16.5};for(let n=6;n<=28;n++)for(let o=6;o<=28;o++){const s=xe.sub({x:n,y:o},i),r=xe.lengthSquared(s);if(r>121||r<64)continue;const a=4*n+4*e.width*o;e.data[a]>e.data[a+1]+e.data[a+2]&&t.push(xe.angle({x:1,y:0},xe.mul({x:1,y:-1},xe.normalize(s))))}const n=ve.degreesToRadians(1.544740919);return ve.normalizeAngle(Math.atan2(se().sum(t.map((e=>Math.sin(e)))),se().sum(t.map((e=>Math.cos(e))))))+n})),this.scale=ma((()=>{const e=this.midpoint.getData();const t=(()=>{let t=new Array(e.width+1).fill(null).map((()=>[]));for(let n=0;n<e.height;n++){let o=0,s=0,r=0;for(let t=0;t<e.width;t++)255==(i=e.getPixel(t,n))[0]&&255==i[1]&&255==i[2]?r++:(r>o&&(o=r,s=t),r=0);r>o&&(o=r,s=e.width),t[o].push(s)}var i;if(t[t.length-1].length>0)return null;for(let e=3;e<=10;e++){const i=t[e].length-e;if((0==i||1==i)&&t[e].every((i=>i==t[e][0])))return t[e].length}return null})();return null==t||t>11||t<3?null:t>=10?t/3+.75*(t-3):[1,1,1,1,1.375,2.25,3,3.875,4.375,5.25][t]})),this.compass=e.getSubSection({origin:{x:5,y:6},size:{x:34,y:34}}).setName("Compass"),this.energy=e.getSubSection({origin:{x:e.size.x-40,y:7},size:{x:34,y:34}}).setName("Run"),this.lodestone=e.getSubSection({origin:{x:11,y:e.size.y-38},size:{x:26,y:26}}).setName("Lodestone"),this.worldmap=e.getSubSection({origin:{x:e.size.x-36,y:e.size.y-37},size:{x:26,y:26}}).setName("Map"),this.midpoint=e.getSubSection({origin:{x:~~(e.size.x/2)-8,y:~~(e.size.y/2)-8},size:{x:16,y:16}}).setName("Map")}debugOverlay(e=new Xd){return this.body.debugOverlay(e),this.compass.debugOverlay(e),this.energy.debugOverlay(e),this.lodestone.debugOverlay(e),this.worldmap.debugOverlay(e),e}center(){return Cd.center(this.body.screen_rectangle)}refind(e){return new t(e.getScreenSection(this.body.screen_rectangle))}pixelPerTile(){const e=this.scale.get();return null==e?null:4*e}}e.CapturedMinimap=t,function(e){e.finder=_a((()=>Em(this,void 0,void 0,(function*(){const t=yield e.anchors.get();return new class{find(i){const n=i.findNeedle(t.homeport)[0];if(!n)return null;const o=xe.add(n.screen_rectangle.origin,{x:-17,y:32}),s=i.getSubSection({origin:{x:n.screen_rectangle.origin.x+73,y:0},size:{x:i.size.x-(n.screen_rectangle.origin.x+73),y:n.screen_rectangle.origin.y-45}}),r=(()=>{const e=[{needle:t.botrun,offset:{x:34,y:-29}},{needle:t.botwalk,offset:{x:34,y:-29}}];for(const t of e){const e=s.findNeedle(t.needle);if(e.length>0)return xe.add(e[0].screen_rectangle.origin,t.offset)}return null})();return r?new e(i.getSubSection(Cd.fromPixels(o,r)).setName("Minimap")):null}}})))),e.anchors=_a((()=>Em(this,void 0,void 0,(function*(){return{botrun:yield tg.fromURL("/alt1anchors/minimap/botrun.png"),botwalk:yield tg.fromURL("/alt1anchors/minimap/botwalk.png"),homeport:yield tg.fromURL("/alt1anchors/minimap/homeport.png"),toprun:yield tg.fromURL("/alt1anchors/minimap/toprun.png"),topwalk:yield tg.fromURL("/alt1anchors/minimap/topwalk.png")}}))))}(t=e.CapturedMinimap||(e.CapturedMinimap={}))}(Lm||(Lm={}));var Dm=su.digSpotArea;class Im extends Pd{constructor(e,t,i){super(e,"clue"),this.clue=t,this.original_interface_capture=i,this.selected_solution=null,this.handling_layer=null,this.settings=pa().app.settings.settings.solving.scans,this.original_interface_capture&&(this.minimap_overlay=this.withSub(new Am(Lm.instance(),e.app.settings.observable_settings.map((e=>e.solving.scans)).structuralEquality(),"manual").setRange(ru.range(t,this.original_interface_capture.hasMeerkats())))),this.scan_panel_capture_service=new yv(this.original_interface_capture),this.scan_panel_overlay=this.withSub((new mv).connect(this.scan_panel_capture_service)),this.scan_panel_overlay.enabled.bindTo(this.parent.app.settings.observable_settings.map((e=>e.solving.scans.panel_status_overlay_enabled),this.lifetime_manager))}begin(){this.registerSolution(mr.fromRect(ze.extend(ze.from(...this.clue.spots),1)));const e=this;this.parent.layer.scan_layer.marker.add(new class extends Or{eventClick(t){t.onPre((()=>{t.active_entity instanceof Qv.SpotMarker&&(t.stopAllPropagation(),Te.equals(e.selected_solution,t.active_entity.spot)?(e.selected_solution=null,e.parent.layer.scan_layer.setActiveCandidates(e.clue.spots),e.registerSolution(mr.fromRect(ze.extend(ze.from(...e.clue.spots),1)))):(e.selected_solution=t.active_entity.spot,e.parent.layer.scan_layer.setActiveCandidates([t.active_entity.spot]),e.registerSolution(Dm(t.active_entity.spot))))}))}})}end(){var e;null===(e=this.handling_layer)||void 0===e||e.remove()}}var Om,Rm=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Bm=ie.span,Fm=ag.interactionMarker,Nm=ie.inlineimg,jm=ie.item,Um=ie.cls,qm=ie.vbox,Hm=ie.bold,Vm=ie.spacer,$m=ie.space,Wm=ie.hboxl,Gm=Yc.notification,Zm=mr.activate,Km=xp.log,Ym=ha.EntityTransportation.default_interactive_area,Qm=su.digSpotArea,Xm=_e.findBestMatch;class Jm extends Or{constructor(e){super(),this.behaviour=e,this.transport_layer=new ac(!0,{transport_policy:"none",teleport_policy:"target_only"}).addTo(this),this.sidebar=new Vr({position:"top-left",type:"floating",no_default_styling:!0},Um("ctr-neosolving-sidebar")).addTo(this),this.sidebar.content.append(new Jm.MainControlBar(e),this.clue_container=c(),this.solution_container=c(),this.compass_container=c(),this.method_selection_container=c(),this.scantree_container=c(),this.path_container=c()),this.scan_layer=new Qv([]).addTo(this),this.generic_solution_layer=(new Or).addTo(this)}fit(e,t=!1){if(!e)return this;(1==t||"setting"==t&&this.behaviour.app.settings.settings.solving.general.include_closest_teleport)&&(e=(()=>{const t=new wd;t.addRectangle(e),t.fixCenter().fixLevel();const i=this.transport_layer.getTeleportSpots(),n=we.center(t.get()),o=i.filter((e=>xe.max_axis(xe.sub(e.centerOfTarget(),n))<32));if(o.forEach((e=>t.addArea(e.targetArea()))),0==o.length){const e=Xm(i,(e=>xe.max_axis(xe.sub(e.centerOfTarget(),n))),void 0,!0);e.score<320&&t.addArea(e.value.targetArea())}return t.get()})());let i=oe.cloneDeep(e),n=null;const o=this.getMap().getSize();function s(e,t){return e*e*(t*t)}n=s(o.x-this.sidebar.content.raw().clientWidth,o.y)>s(o.x,o.y-this.sidebar.content.raw().clientHeight)?[this.sidebar.content.raw().offsetWidth,0]:[0,this.sidebar.content.raw().offsetHeight];const r=this.behaviour.app.settings.settings.solving.general.minimum_view_size,a=we.size(i);return i=ze.extend(i,[Math.max(0,(r-a.x)/2),Math.max(0,(r-a.y)/2)]),this.map.fitView(i,{maxZoom:this.behaviour.app.settings.settings.solving.general.global_max_zoom,paddingTopLeft:n}),this}reset(){this.clue_container.empty(),this.solution_container.empty(),this.compass_container.empty(),this.scan_layer.marker.setClickable(!1),this.scan_layer.marker.setFixedSpot(null),this.scan_layer.setSpots([]),this.generic_solution_layer.clearLayers()}}!function(t){var i=ie.hbox,n=su.Step;class o extends kl{constructor(e){super(),e.icon&&this.append(c(`<img src="${e.icon}" class="ctr-neosolving-main-bar-icon">`)),e.centered&&this.css("justify-content","center"),e.text&&(this.append(c().text(e.text)),this.css("flex-grow","1")),this.addClass("ctr-neosolving-main-bar-button").addClass("ctr-neosolving-main-bar-section")}}t.MainControlBar=class extends Ii{constructor(t){super(),this.parent=t,this.fullscreen_preference=new e.Variable("preferences/solve/fullscreen",(()=>!1)),this.autosolve_preference=new e.Variable("preferences/solve/autosolve",(()=>pa().app.in_alt1)),this.dropdown=null,this.addClass("ctr-neosolving-main-bar"),this.prepared_search_index=new gg(_p.all.flatMap((e=>e.text.map(((t,i)=>({step:e,text_index:i}))))),(e=>e.step.text[e.text_index]),{all:!0,threshold:-1e4}),this.append(this.parent.tetracompass_only?new o({icon:"/assets/icons/tetracompass.png"}).css("cursor","default"):new o({icon:"/assets/icons/glass.png"}).append(this.search_bar=(new Lc).css("flex-grow","1").css("font-weight","normal").setPlaceholder("Enter Search Term...").toggleClass("nisl-textinput",!1).addClass("ctr-neosolving-main-bar-search").setVisible(!1).onPreview((e=>{let t=this.prepared_search_index.search(e);this.dropdown.setItems(t)}))).tooltip("Search Clues").onClick((e=>{e.stopPropagation(),this.search_bar_collapsible.isExpanded()?e.preventDefault():(this.search_bar_collapsible.expand(),this.search_bar.container.focus(),this.search_bar.setValue(""))})),this.rest=i(pa().app.in_alt1?void 0:new o({icon:"/assets/icons/Alt1.png",text:"Solving available in Alt1",centered:!0}).tooltip("More available in Alt1").onClick((()=>(new _m).show())),pa().app.in_alt1?new o({icon:"/assets/icons/activeclue.png",text:"Solve",centered:!0}).onClick((()=>this.parent.screen_reading.solveManuallyTriggered())).tooltip("Read a clue from screen").setEnabled(pa().app.in_alt1):void 0,pa().app.in_alt1?new o({icon:"/assets/icons/lock.png",text:"Auto-Solve",centered:!0}).setToggleable(!0).tooltip("Continuously read clues from screen").setEnabled(pa().app.in_alt1).onToggle((e=>{this.parent.screen_reading.setAutoSolve(e),this.autosolve_preference.set(e)})).setToggled(this.autosolve_preference.get()):void 0,new o({icon:"/assets/icons/fullscreen.png",centered:!0}).tooltip("Hide the menu bar").setToggleable(!0).onToggle((e=>{pa().app.menu_bar.setCollapsed(e),this.fullscreen_preference.set(e),this.parent.app.map.invalidateSize()})).setToggled(this.fullscreen_preference.get()),new o({icon:"/assets/icons/settings.png",centered:!0}).tooltip("Open settings").onClick((()=>dv.openOnPage("solving_general")))).css("flex-grow","1")),this.dropdown=new zc.DropDown({dropdownClass:"ctr-neosolving-favourite-dropdown",renderItem:e=>c().text(n.shortString(e.step,e.text_index))}).onSelected((e=>Rm(this,void 0,void 0,(function*(){this.parent.setClueWithAutomaticMethod(e,null)})))).onClosed((()=>{this.search_bar_collapsible.collapse()})).setItems([]),this.search_bar_collapsible=dg.horizontal({target:this.search_bar,starts_collapsed:!0,duration:100}).onChange((e=>{var t,i;e?null===(t=this.dropdown)||void 0===t||t.close():(this.dropdown.setItems(this.prepared_search_index.items()),null===(i=this.dropdown)||void 0===i||i.open(this,this.search_bar)),this.rest_collapsible.setCollapsed(!e)})),this.rest_collapsible=dg.horizontal({target:this.rest,starts_collapsed:!1})}}}(Jm||(Jm={}));class e_ extends aa{constructor(e){super(),this.parent=e,this.autoSolve=!1,this.reader=new Yf(this.parent.tetracompass_only)}begin(){const e=Hd.fromApproximateInterval(300);this.lifetime_manager.bind(Yd.instance().capturing.subscribe({options:t=>({interval:e,area:null}),paused:()=>{var e;return!this.autoSolve||(null===(e=this.parent.active_behaviour.get())||void 0===e?void 0:e.pausesClueReader())},handle:e=>this.solve(e.value,!0)}))}end(){this.setAutoSolve(!1)}solve(e,t){const i=this.reader.read(e);if(i)switch(i.type){case"textclue":this.parent.setClueWithAutomaticMethod(i.step,i);break;case"scan":case"compass":this.parent.setClueWithAutomaticMethod({step:i.step,text_index:0},i);break;case"puzzle":const e=this.parent.setPuzzle(i.puzzle);t&&"slider"==i.puzzle.type&&e&&pa().app.crowdsourcing.pushSlider(i.puzzle.puzzle)}return i}setAutoSolve(e){this.autoSolve=e}solveManuallyTriggered(){return Rm(this,void 0,void 0,(function*(){if(this.reader.initialization.isInitialized())try{const e=yield Yd.instance().capturing.captureOnce({options:{area:null,interval:null}});this.solve(e.value,!1)||Gm("No clue found on screen.","error").show()}catch(e){Gm("Error while looking for a clue. See the log (F6) for details.","error").show(),e instanceof Error?(Km().log(e.toString()),Km().log(e.stack)):console.error(e.toString())}else Gm("Clue reader is not fully initialized yet.","error").show()}))}}class t_ extends aa{activateSubBehaviour(e){e&&(e.setRelatedState(this.state),Km().log(`Activating subbehaviour: ${e.constructor.name}`,"Solving")),this.active_behaviour.set(e)}getAssumedPlayerPositionByLastClueSolution(){let e=Date.now()-1e4;for(let t=this.history.length-2;t>=0;t--){const i=this.history[t];if(i.end_time<e)return null;if("puzzle"!=i.step.type)return i.solution_area;e=i.start_time-1e4}return null}constructor(e,t){super(),this.app=e,this.tetracompass_only=t,this.state=null,this.history=[],this.active_method=null,this.active_behaviour=this.withSub(new la),this.screen_reading=this.withSub(new e_(this)),this.path_control=this.withSub(new Eg(this)),this.default_method_selector=null,this.path_control.section_selected.on((e=>{var t,i;if("scantree"!=(null===(i=null===(t=this.active_method)||void 0===t?void 0:t.method)||void 0===i?void 0:i.type))this.layer.fit(wa.bounds(e));else{const t=this.active_behaviour.get();t instanceof Av&&t.onSectionSelectedInPathControl(e)}}))}pushState(e,t){const i=Date.now();this.state&&(this.state.read_result=void 0,this.state.end_time||(this.state.end_time=i));const n=this.history.length>0?this.history[this.history.length-1].state_id+1:0;return this.state={state_id:n,step:e,start_time:i,read_result:t,end_time:void 0,solution_area:void 0},Km().log(`Changed state ${this.state.state_id} (${Om.ActiveState.title(this.state)})`,"Solving"),this.history.push(this.state),this.state}setPuzzle(e){var t,i;return("puzzle"!=(null===(i=null===(t=this.state)||void 0===t?void 0:t.step)||void 0===i?void 0:i.type)||this.state.step.puzzle.type!=(null==e?void 0:e.type))&&(this.reset(this.state),this.pushState({type:"puzzle",puzzle:e},void 0),e&&this.activateSubBehaviour((()=>{switch(e.type){case"slider":return new jy(this,e);case"knot":return new dm(this,e);case"lockbox":return new km(this,e);case"tower":return new Cm(this,e)}})()),!0)}setSolutionArea(e,t){var i,n,o,s;e&&(Km().log(`Setting clue solution (state ${e.state_id}) to ${null!==(n=null===(i=t.size)||void 0===i?void 0:i.x)&&void 0!==n?n:1}x${null!==(s=null===(o=t.size)||void 0===o?void 0:o.y)&&void 0!==s?s:1} at ${Te.toString(t.origin)}`,"Solving"),e.solution_area=t)}fitToClue(){if(!this.state.step||"puzzle"==this.state.step.type)return;const e=this.state.step.clue,t=new wd,i=su.Step.solution(e.step);switch(null==i?void 0:i.type){case"talkto":let e=0,n=i.spots[e];t.addArea(n.range);break;case"dig":t.addTile(i.spot);break;case"search":t.addRectangle(i.spot)}switch(e.step.type){case"emote":t.addArea(e.step.area);break;case"skilling":t.addRectangle(mr.toRect(e.step.areas[0]));break;case"scan":t.addTile(...e.step.spots)}this.layer.fit(t.get(),"setting")}setClue(e,t=!0,i){var n,o,s,r,a,l;if("clue"==(null===(o=null===(n=this.state)||void 0===n?void 0:n.step)||void 0===o?void 0:o.type)&&this.state.step.clue.step.id==e.step.id&&this.state.step.clue.text_index==e.text_index)return;if((null===(s=this.state)||void 0===s?void 0:s.read_result)&&"clue"==(null===(a=null===(r=this.state)||void 0===r?void 0:r.step)||void 0===a?void 0:a.type)&&"compass"==this.state.step.clue.step.type&&"compass"==e.step.type)return;this.reset(this.state);const u=this.pushState({type:"clue",clue:e},i);switch(null===(l=e.step.solution)||void 0===l?void 0:l.type){case"search":this.setSolutionArea(u,Ym(e.step.solution.spot));break;case"dig":this.setSolutionArea(u,Qm(e.step.solution.spot));break;case"talkto":1==e.step.solution.spots.length&&this.setSolutionArea(u,e.step.solution.spots[0].range)}"anagram"==e.step.type&&e.step.solution.spots;const p=this.app.settings.settings.solving,h=e.step;{let t=c();if("map"==e.step.type)"show"==p.info_panel.map_image?t.append(c(`<img src='${e.step.image_url}' style="width: 100%">`).addClass("ctr-neosolving-solution-row")):"transcript"==p.info_panel.map_image&&Um("ctr-neosolving-solution-row").text(e.step.text[0]).appendTo(t);else switch(p.info_panel.clue_text){case"full":Um("ctr-neosolving-solution-row").text(e.step.text[e.text_index]).appendTo(t);break;case"abridged":if("compass"==h.type)break;const i=su.Step.shortString(h,e.text_index),n=Um("ctr-neosolving-solution-row").text(i).appendTo(t);h.text[e.text_index]&&n.addClass("ctr-neosolving-solution-row-shortened")}const i=su.Step.solution(e.step);if(i)switch(null==i?void 0:i.type){case"talkto":let e=0,n=i.spots[e];"show"==p.info_panel.talk_target&&t.append(Um("ctr-neosolving-solution-row").append(Nm("/assets/icons/cursor_talk.png"),Bm("Talk to "),ie.npc(i.npc,!0).tooltip("Click to center").on("click",(()=>{this.layer.fit(mr.toRect(n.range))})),n.description?Bm(" "+n.description):void 0));for(let e=0;e<i.spots.length;e++){const t=i.spots[e];new Qf.TalkSolutionNpcEntity(i.npc,t).addTo(this.layer.generic_solution_layer)}break;case"search":i.key&&"show"==p.info_panel.search_key&&t.append(Um("ctr-neosolving-solution-row").append(Nm("/assets/icons/key.png")," ",Bm(i.key.answer).addClass("ctr-clickable").on("click",(()=>{this.layer.fit(mr.toRect(i.key.area))})))),"show"==p.info_panel.search_target&&t.append(Um("ctr-neosolving-solution-row").append(Nm("/assets/icons/cursor_search.png")," ",Bm("Search "),ie.staticentity(i.entity,!0).tooltip("Click to center").on("click",(()=>{this.layer.fit(i.spot)})))),new Qf.SearchSolutionEntity(i).addTo(this.layer.generic_solution_layer);break;case"dig":"show"==p.info_panel.dig_target&&t.append(Um("ctr-neosolving-solution-row").append(Nm("/assets/icons/cursor_shovel.png")," ",Bm("Dig"),i.description?Bm(" "+i.description):Bm(` at ${Te.toString(i.spot)}`))),new Qf.DigSolutionEntity(i).addTo(this.layer.generic_solution_layer)}if("emote"==h.type){if(h.hidey_hole&&"show"==p.info_panel.hidey_hole&&t.append(Um("ctr-neosolving-solution-row").append(Nm("/assets/icons/cursor_search.png")," ",Bm("Get items from "),ie.staticentity(h.hidey_hole.name).tooltip("Click to center").addClass("ctr-clickable").on("click",(()=>{this.layer.fit(h.hidey_hole.location)})))),"show"==p.info_panel.emote_items){let e=Um("ctr-neosolving-solution-row").append(Nm("/assets/icons/cursor_equip.png")," ",Bm("Equip ")).appendTo(t);for(let t=0;t<h.items.length;t++){const i=h.items[t];t>0&&(t==h.items.length-1?e.append(", and "):e.append(", ")),e.append(jm(i))}}if("show"==p.info_panel.emotes){let e=Um("ctr-neosolving-solution-row").append(Nm("/assets/icons/emotes.png")," ").appendTo(t);for(let t=0;t<h.emotes.length;t++){const i=h.emotes[t];t>0&&(t==h.emotes.length-1?e.append(", then "):e.append(", ")),e.append(i).addClass("nisl-emote")}}h.double_agent&&"show"==p.info_panel.double_agent&&t.append(Um("ctr-neosolving-solution-row").append(Nm("/assets/icons/cursor_attack.png"),$m(),Bm("Kill "),ie.npc("Double Agent"))),new Qf.EmoteAreaEntity(h).addTo(this.layer.generic_solution_layer),h.hidey_hole&&new Qf.HideyHoleEntity(h,!1).addTo(this.layer.generic_solution_layer)}else"skilling"==h.type?(t.append(Um("ctr-neosolving-solution-row").append(Nm(La.meta(h.cursor).icon_url),$m(),Bm(h.answer))),Fm(Zm(h.areas[0]).center(),h.cursor).addTo(this.layer.generic_solution_layer)):"scan"==h.type?(this.layer.scan_layer.marker.setClickable(!0),this.layer.scan_layer.setSpots(h.spots),this.layer.scan_layer.marker.setRadius(h.range+5,!0)):h.type;if(h.challenge&&h.challenge.length>0){const i=h.challenge.find((e=>"challengescroll"==e.type));if(i){const e=this.app.favourites.getChallengeAnswerId(h),n=i.answers[e];if("hide"!=p.info_panel.challenge){let e=null,o=null;t.append(e=Um("ctr-neosolving-solution-row").toggleClass("ctr-clickable",i.answers.length>1).append(Wm(Nm("/assets/icons/activeclue.png"),qm("full"==p.info_panel.challenge?c().css("font-style","italic").text(i.question):void 0,Wm(Hm("Answer:"),$m(),o=Bm(n.answer.toString()),Vm(),i.answers.length>1?rh.dropdown():void 0)).css("flex-grow","1")))),i.answers.length>1&&e.on("click",(()=>{new zc.DropDown({dropdownClass:"ctr-neosolving-favourite-dropdown",renderItem:e=>c().text(`${e.answer} (${e.note})`)}).setItems(i.answers).setHighlighted(n).open(e,void 0).onSelected((e=>{this.app.favourites.setChallengeAnswerId(h,i.answers.indexOf(e)),o.text(e.answer.toString())}))}))}}else if("show"==p.info_panel.puzzle||"hideforscansandcompasses"==p.info_panel.puzzle&&"compass"!=e.step.type&&"scan"!=e.step.type){const e=Um("ctr-neosolving-solution-row").appendTo(t);for(let t=0;t<h.challenge.length;t++)t>0&&(t==h.challenge.length-1?e.append(", or "):e.append(", ")),e.append(zh.render_challenge(h.challenge[t]).css("display","inline-block"))}}t.container.is(":empty")||this.layer.solution_container.append(t)}if(t&&this.fitToClue(),this.app.settings.settings.teleport_customization.preset_bindings_active){const e=this.app.settings.settings.teleport_customization.active_preset,t=this.app.settings.settings.teleport_customization.preset_bindings[h.tier];e!=t&&null!=t&&this.app.settings.update((e=>e.teleport_customization.active_preset=t))}if("compass"==h.type){const e=new lm(this,h,"compass"==(null==i?void 0:i.type)?i.reader:void 0,(e=>Rm(this,void 0,void 0,(function*(){if(e){const t=yield this.getAutomaticMethod({clue:h.id,spot:e});this.setMethod(t)}else this.setMethod(null)}))));i||this.layer.fit(ze.from(...h.spots)),this.activateSubBehaviour(e)}}setMethod(e,t=null){var i,n,o,s,r,a,l,c,u,p,h,d,g;if(Km().log(`Setting method ${e?e.method.name:"null"}`),!t&&(null===(i=this.state)||void 0===i?void 0:i.read_result)&&(t=this.state.read_result),e?Km().log(`Setting method to ${e.method.name} (${e.method.id.substring(0,8)})`,"Solving"):Km().log("Setting method to null","Solving"),"clue"!=(null===(o=null===(n=this.state)||void 0===n?void 0:n.step)||void 0===o?void 0:o.type))return void Km().log(`Aborting set method because active state is not a clue step: '${null===(r=null===(s=this.state)||void 0===s?void 0:s.step)||void 0===r?void 0:r.type}'.`,"Solving");if(e&&e.clue.clue.id!=(null===(u=null===(c=null===(l=null===(a=this.state)||void 0===a?void 0:a.step)||void 0===l?void 0:l.clue)||void 0===c?void 0:c.step)||void 0===u?void 0:u.id))return void Km().log("Aborting set method because method does not match clue.","Solving");if(e&&e==this.active_method)return void Km().log("Aborting set method because same method is already active.","Solving");this.path_control.reset(),null===(p=this.default_method_selector)||void 0===p||p.remove(),this.active_method=null;const f=this.state.step.clue.step,y=this.active_behaviour.get();if("method"==(null==y?void 0:y.type)&&y.stop(),e)if(this.active_method=e,"scantree"==e.method.type){const i="scan"==(null==t?void 0:t.type)?t.scan_interface:null;this.activateSubBehaviour(new Av(this,e,i,this.app.settings.observable.scans))}else"general_path"==e.method.type&&this.path_control.setMethod(e);else if("scan"==f.type){y instanceof Av&&this.layer.fit(ze.from(...f.spots));const e=new Im(this,f,"scan"==(null==t?void 0:t.type)?t.scan_interface:null);this.activateSubBehaviour(e)}if("compass"!=(null===(g=null===(d=null===(h=this.state.step)||void 0===h?void 0:h.clue)||void 0===d?void 0:d.step)||void 0===g?void 0:g.type)||y instanceof lm&&y.selected_spot.value()){const e=y instanceof lm?{clue:this.state.step.clue.step.id,spot:y.selected_spot.value().spot.spot}:{clue:this.state.step.clue.step.id};this.default_method_selector=new wg(this,e).addClass("ctr-neosolving-solution-row").appendTo(this.layer.method_selection_container)}}getAutomaticMethod(e){return Rm(this,void 0,void 0,(function*(){let t=yield this.app.favourites.getMethod(e);if(void 0===t){let i=yield Ep.instance().getForClue(e);i.length>0&&(t=i[0])}return t}))}setClueWithAutomaticMethod(e,t){return Rm(this,void 0,void 0,(function*(){var i,n;if("clue"==(null===(n=null===(i=this.state)||void 0===i?void 0:i.step)||void 0===n?void 0:n.type)&&this.state.step.clue.step.id==e.step.id&&this.state.step.clue.text_index==e.text_index)return;let o=yield this.getAutomaticMethod({clue:e.step.id});this.setClue(e,!o,t),this.setMethod(o,t)}))}reset(e){var t;return e==this.state&&(this.layer.reset(),this.path_control.reset(),this.activateSubBehaviour(null),null===(t=this.default_method_selector)||void 0===t||t.remove(),this.state=null,this.active_method=null,Km().log("Reset state","Solving"),!0)}begin(){this.app.map.addGameLayer(this.layer=new Jm(this))}end(){this.layer.remove()}}!function(e){let t,i;!function(e){e.title=function(e){switch(e.step.type){case"puzzle":switch(e.step.puzzle.type){case"slider":return`Slider (${e.step.puzzle.puzzle.theme})`;case"knot":return"Knot";case"tower":return"Tower";case"lockbox":return"Lockbox";default:return"Unknown Puzzle"}case"clue":return`${(0,oe.capitalize)(e.step.clue.step.type)} id ${e.step.clue.step.id}`}}}(t=e.ActiveState||(e.ActiveState={})),function(e){let t,i,n;!function(e){e.DEFAULT={sliders:Ay.Settings.DEFAULT,knots:dm.Settings.DEFAULT,lockboxes:km.Settings.DEFAULT,towers:Cm.Settings.DEFAULT},e.normalize=function(t){return t?(t.sliders=Ay.Settings.normalize(t.sliders),t.knots=dm.Settings.normalize(t.knots),t.lockboxes=km.Settings.normalize(t.lockboxes),t.towers=Cm.Settings.normalize(t.towers),t):oe.cloneDeep(e.DEFAULT)}}(t=e.Puzzles||(e.Puzzles={})),function(e){e.EVERYTHING={clue_text:"full",map_image:"show",dig_target:"show",talk_target:"show",search_target:"show",search_key:"show",hidey_hole:"show",emote_items:"show",emotes:"show",double_agent:"show",challenge:"full",puzzle:"show",path_step_list:"show"},e.NOTHING={clue_text:"hide",map_image:"hide",dig_target:"hide",talk_target:"hide",search_target:"hide",search_key:"hide",hidey_hole:"hide",emote_items:"hide",emotes:"hide",double_agent:"hide",challenge:"hide",puzzle:"hide",path_step_list:"hide"},e.REDUCED={clue_text:"abridged",map_image:"show",dig_target:"show",talk_target:"show",search_target:"show",search_key:"hide",hidey_hole:"hide",emote_items:"hide",emotes:"hide",double_agent:"hide",challenge:"answer_only",puzzle:"hideforscansandcompasses",path_step_list:"hide"},e.DEFAULT=e.REDUCED,e.normalize=function(t){return t?(["full","hide","abridged"].includes(t.clue_text)||(t.clue_text=e.DEFAULT.clue_text),["show","hide","transcript"].includes(t.map_image)||(t.map_image=e.DEFAULT.map_image),["show","hide"].includes(t.dig_target)||(t.dig_target=e.DEFAULT.dig_target),["show","hide"].includes(t.talk_target)||(t.talk_target=e.DEFAULT.talk_target),["show","hide"].includes(t.search_target)||(t.search_target=e.DEFAULT.search_target),["show","hide"].includes(t.search_key)||(t.search_key=e.DEFAULT.search_key),["show","hide"].includes(t.hidey_hole)||(t.hidey_hole=e.DEFAULT.hidey_hole),["show","hide"].includes(t.emote_items)||(t.emote_items=e.DEFAULT.emote_items),["show","hide"].includes(t.emotes)||(t.emotes=e.DEFAULT.emotes),["show","hide"].includes(t.double_agent)||(t.double_agent=e.DEFAULT.double_agent),["show","hide"].includes(t.path_step_list)||(t.path_step_list=e.DEFAULT.path_step_list),["show","hide"].includes(t.puzzle)||(t.puzzle=e.DEFAULT.puzzle),["full","answer_only","hide"].includes(t.challenge)||(t.challenge=e.DEFAULT.challenge),t):oe.cloneDeep(e.DEFAULT)}}(i=e.InfoPanel||(e.InfoPanel={})),function(e){var t=_e.compose;e.normalize=Jh.normaliz({global_max_zoom:t(Jh.number(7),Jh.clamp(0,7)),minimum_view_size:t(Jh.number(8),Jh.clamp(1,64)),include_closest_teleport:Jh.bool(!0)})}(n=e.GeneralSettings||(e.GeneralSettings={})),e.normalize=Jh.normaliz({general:n.normalize,info_panel:i.normalize,puzzles:t.normalize,compass:lm.Settings.normalize,scans:ad.Settings.normalize})}(i=e.Settings||(e.Settings={}))}(Om||(Om={}));var i_,n_=Lf.SliderPuzzle,o_=Lf.SliderState,s_=xp.log;class r_{constructor(t,i){this.parent=t,this.server_url=i,this.last_slider_state=new e.Variable("crowdsourcing/last_slider_state",(()=>null))}endpoint(e){return`${this.server_url}/api/crowdsourcing/${e}`}pushSlider(e){return t=this,i=void 0,o=function*(){if(this.parent.settings.settings.crowdsourcing.slider_states){const t=this.last_slider_state.get(),i=Date.now();if(t&&(t.theme==e.theme||t.timestamp>=i-4500))return;const n=n_.getState(e);if(o_.equals(n,o_.SOLVED))return;this.last_slider_state.set({timestamp:i,theme:e.theme,state:n});const o=JSON.stringify({tiles:n,theme:e.theme});s_().log(`Adding slider ${o}`,"Crowdsourcing"),fetch(this.endpoint("initial_slider_state"),{method:"POST",body:o,headers:{"Content-type":"application/json; charset=UTF-8"}})}},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o}}!function(e){let t;!function(e){e.DEFAULT={slider_states:!1},e.normalize=function(t){return t?([!0,!1].includes(t.slider_states)||(t.slider_states=e.DEFAULT.slider_states),t):oe.cloneDeep(e.DEFAULT)}}(t=e.Settings||(e.Settings={}))}(r_||(r_={})),function(e){let t,i;e.normalize=function(e){return e||(e={teleport_customization:void 0,solving:void 0,crowdsourcing:void 0}),e.teleport_customization=t.normalize(e.teleport_customization),e.solving=Om.Settings.normalize(e.solving),e.crowdsourcing=r_.Settings.normalize(e.crowdsourcing),e},function(e){function t(){return{potas:[],presets:[{id:0,fixed:!0,name:"Default",fairy_ring_favourites:new Array(10).fill(null),active_potas:["red","green","yellow","purple"]}],active_preset:0,preset_bindings:{easy:null,elite:null,hard:null,master:null,medium:null,tetracompass:null,sandy:null},preset_bindings_active:!1}}e.empty=t,e.clueChasersRecommendations=function(){return{potas:[{color:"green",slots:[{group_id:"skillsnecklace",access_id:"ring"},{group_id:"amuletofglory",access_id:"necklace"},{group_id:"combatbracelet",access_id:"ring"},{group_id:"digsitependant",access_id:"ring"},{group_id:"ringofslaying",access_id:"ring"},{group_id:"travellersnecklace",access_id:"ring"}]},{color:"red",slots:[{group_id:"enlightenedamulet",access_id:"ring"},{group_id:"ringofrespawn",access_id:"ring"},{group_id:"ringofduelling",access_id:"ring"},{group_id:"gamesnecklace",access_id:"necklace"},{group_id:"ringofwealth",access_id:"ring"},null]}],presets:[{id:0,fixed:!0,name:"Default",fairy_ring_favourites:[null,null,null,null,null,null,null,null,null,null],active_potas:["red","green","yellow","purple"]},{id:-1,name:"Easy Recommendation",active_potas:["red","green"],fairy_ring_favourites:["AIQ","DIS","CJR",null,null,null,null,null,null,null]},{id:-2,name:"Medium Recommendation",active_potas:["red","green"],fairy_ring_favourites:["AIQ","AJR","AKS","ALS","BKR","CIP","CKS","CLS","DJP","DKP"]},{id:-3,name:"Hard Recommendation",active_potas:["red","green"],fairy_ring_favourites:["ALQ","DKS","DJP","CKS","CKR","CJS","BKR","AKQ","ALP",null]},{id:-4,name:"Elite Recommendation",active_potas:["red","green"],fairy_ring_favourites:["AJR","AKQ","AKS","ALQ","BKR","CJR","CJS","CKQ","CKR","DLQ"]},{id:-5,name:"Master Recommendation",active_potas:["green"],fairy_ring_favourites:[null,null,null,null,null,null,null,null,null,null]}],active_preset:0,preset_bindings:{easy:-1,medium:-2,hard:-3,elite:-4,master:-5,tetracompass:null,sandy:null},preset_bindings_active:!0}},e.normalize=function(e){var i;return e||(e=t()),e.potas||(e.potas=[]),Array.isArray(e.presets)&&0!=e.presets.length||(e.presets=t().presets),e.presets.some((t=>t.id==e.active_preset))||(e.active_preset=e.presets[0].id),e.preset_bindings=Object.assign({easy:null,medium:null,hard:null,elite:null,master:null,tetracompass:null,sandy:null},null!==(i=e.preset_bindings)&&void 0!==i?i:{}),e},e.inferActiveCustomization=function(e){var t,i,n;const o=e.presets.find((t=>t.id==e.active_preset));return{fairy_ring_favourites:null!==(t=null==o?void 0:o.fairy_ring_favourites)&&void 0!==t?t:[],pota_slots:null!==(n=null===(i=null==o?void 0:o.active_potas)||void 0===i?void 0:i.flatMap((t=>{const i=e.potas.find((e=>e.color==t));return i?i.slots.map(((e,i)=>({jewellry:e,pota:{color:t,slot:i+1}}))).filter((e=>e.jewellry)):[]})))&&void 0!==n?n:[]}}}(t=e.TeleportSettings||(e.TeleportSettings={})),function(e){e.values=["red","green","yellow","purple"],e.iconUrl=function(e){return`assets/icons/teleports/pota_${e}.png`}}(i=e.PotaColor||(e.PotaColor={}))}(i_||(i_={}));class a_ extends lc{constructor(e,t,i=1){super(),this.min=e,this.max=t,this.step=i,this.enabled=qi(!0),this.preview_function=e=>e.toString(),this.css("display","flex").css("flex-grow",1),this.append(this.input=c(`<input style="flex-grow: 1" type='range' min='${e}' max="${t}" step="${i}">`).on("input",(()=>{this.commit(Number(this.input.container.val())),this.updatePreview()})),this.preview_container=c().css("min-width","30px").css("margin-left","3px")),this.enabled.subscribe((e=>this.input.setProperty("disabled",!e)))}modifyPreviewContainer(e){return e(this.preview_container),this}setEnabled(e){return this.enabled.set(e),this}withPreviewFunction(e){return this.preview_function=e,this.updatePreview(),this}updatePreview(){var e;let t="";try{t=this.preview_function(this.get())}catch(e){}t||(t=(null===(e=this.get())||void 0===e?void 0:e.toString())||"0"),this.preview_container.text(t)}render(){this.updatePreview(),this.input.container.val(this.get())}}var l_=ie.cls;class c_ extends Ii{constructor(e){super(l_("ctr-section-control")),this.sections=e,this.entry_buttons=[],this.active_entry=qi(null),this.active_entry.subscribe((e=>{this.entry_buttons.forEach((t=>{const i=e==t.original.entry.id;t.button.toggleClass("active",i),i&&(this.content.empty(),this.content.append(ie.cls("ctr-section-control-content-header").css("padding-left","0").text(t.original.entry.name),t.original.entry.renderer()),this.content.raw().scrollTo(0,0))}))})),this.render(),this.active_entry.set(e[0].entries[0].id)}setActiveSection(e){return e&&this.active_entry.set(e),this}render(){var e;this.empty(),this.append(this.menu_bar=l_("ctr-section-control-menu"),this.content=l_("ctr-section-control-content"));for(const t of this.sections){l_("ctr-section-control-menu-header").text(t.name).appendTo(this.menu_bar);for(const i of t.entries){const n=l_("ctr-section-control-menu-entry").on("click",(()=>{this.active_entry.set(i.id)})).text(null!==(e=i.short_name)&&void 0!==e?e:i.name).appendTo(this.menu_bar);this.entry_buttons.push({original:{section:t,entry:i},button:n})}}}}class u_ extends Ii{constructor(e=!1){super(Pe(e?"<ol>":"<ul>"))}item(...e){return this.append(c("<li></li>").append(...e)),this}}var p_=ie.text_link,h_=ie.link,d_=ie.space,g_=ie.italic;class f_ extends Pa{constructor(){super(),this.render()}seeAlso(e){this.header("See Also");const t=new u_;this.row(t);for(const i of e)t.item("function"==typeof i.action?p_(i.name,i.action):h_(i.action).text(i.name),d_(),i.comment?`(${i.comment})`:void 0);return[]}todo(){this.paragraph(g_("This page is yet to be written."))}}var y_=ie.text_link,m_=ie.img,__=ie.hboxc;class v_ extends f_{render(){this.paragraph("While using a ",y_("scan tree",(()=>B_.openOnPage("scantrees"))),", Clue Trainer cannot automatically know when you are at the designated spot for the current node and also cannot always know what pulse you get when you are there. You as a user need to pass this piece of information along to Clue Trainer manually. The scan tree control overlay is an ",y_("interactive overlay",(()=>B_.openOnPage("interactiveoverlays")))," that can be used to do that while breaking you out of your flow of solving as little as possible. It consists of multiple components, described in the sections below."),this.row(__(m_("/media/wiki/scan_control.png").css2({"max-width":"200px",margin:"0 auto"}))),this.header("Child Node Buttons"),this.paragraph("These colored buttons are in the bottom part of the interactive overlay. For each relevant child node, a rectangular button in the respective color will be shown. When applicable, 'Different Level' or 'Too Far' is shown within the button. To select the a child node, put your mouse on the respective button and press Alt+1."),this.paragraph("Clue Trainer can sometimes automatically determine the correct child node by reading the in-game scan panel. It detects triple (red) pulses and whether the scroll suggests scanning a different level. It cannot distinguish single (blue) and double (orange) pulses this way. When the correct child node is uniquely determines, the corresponding button is labeled 'Auto'. While this is the case, pressing Alt+1 when not hovering any other button will select that button."),this.header("Back Button"),this.paragraph("The back button appears when the currently selected node is not the root/start of the scan tree, and goes back one step up the scan tree."),this.row(__(m_("/media/wiki/progress_bar.png").css2({"max-width":"200px",margin:"0 auto"}))),this.header("Progress Bar"),this.paragraph("The progress bar shows your progress in narrowing down the possible dig spots. It uses a logarithmic scale.")}}class x_ extends f_{render(){this.paragraph("Welcome to Cluepedia, the mini-wiki included with Clue Trainer. It contains guides for Clue Trainer as well as explanations for clue mechanics."),this.paragraph("Use the table of contents on the left to navigate."),this.seeAlso([{name:"Clue Chasers Discord",action:"https://discord.gg/cluechasers"},{name:"RuneScape Wiki",action:"https://runescape.wiki/"}])}}var w_=ie.link,b_=ie.text_link,k_=ie.bold;class T_ extends f_{render(){this.paragraph('Scan Trees are a way of solving scan clues and the main way of doing so in Clue Trainer. They consist of a series of decision spots used to narrow down the number of possible dig spots efficiently. At every decision spot, you decide your next move based on the game\'s feedback. The term "scan tree" comes from their relationship to ',w_("https://en.wikipedia.org/wiki/Decision_tree").text("decision trees"),"."),this.header("Scan Trees in Clue Trainer"),this.paragraph("Clue Trainer marks decision spots in green on the map. They may cover multiple tiles due to non-static teleports or larger ",b_("equivalence classes",(()=>B_.openOnPage("scanequivalenceclasses"))),"."),this.paragraph("At every decision spot, you observe the in-game pulse or, in some cases, check if the scan scroll suggests scanning a different level. Clue Trainer ",k_("cannot")," automatically detect when you've reached a decision spot and what pulse the game gives you, so you need to indicate it manually by:"),this.row((new u_).item("Clicking the respective line in the scan tree UI.").item("Using the ",b_("interactive scan tree control overlay",(()=>B_.openOnPage("scantreecontroloverlay"))),".")),this.paragraph("Like all methods in Clue Trainer, scan trees also contain pathing instructions on how to get to the next spot. Following them precisely is not required, but in many cases they set up quick surge-dive combinations to accurately reach the next decision spot quickly."),this.seeAlso([{action:()=>B_.openOnPage("scantreeediting"),name:"Creating custom scan trees"}])}}var z_=ie.text_link,S_=ie.mediaContainer;class C_ extends f_{render(){this.paragraph("Scan clues mainly appear in elite clues. To solve them, you need to dig at one of multiple possible spots within a given area. To find the correct spot, you need to search the area until you are close enough to the spot "),this.header("Pulses"),this.paragraph("While a scan is active, your character has pulsating rings around it. They change color and speed depending on how far away you are from the correct dig spot. Note that this only updates every two ticks."),this.header("Triple Pulse","left",1),this.paragraph("If the target spot is withing your scan range, there will be three red rings pulsating very fast. Additionally, an arrow will point to the target tile in the game world as well as on the minimap, and the text on the san panel changes."),this.header("Double Pulse","left",1),this.paragraph("If the dig spot is more than your scan range but less than two times the scan range away from you, there will be two orange rings pulsating in a moderate speed."),this.header("Single Pulse","left",1),this.paragraph("If the correct spot is even farther away, there will be a single blue ring pulsating slowly.");const e=[c("<video controls loop><source src='/media/wiki/single.webm' type='video/webm'></video>").css2({"max-width":"120px",height:"auto"}),c("<video controls loop><source src='/media/wiki/double.webm' type='video/webm'></video>").css2({"max-width":"120px",height:"auto"}),c("<video controls loop><source src='/media/wiki/triple.webm' type='video/webm'></video>").css2({"max-width":"120px",height:"auto"})];S_(...e),e.forEach((t=>{t.on("play",(t=>{e.forEach((e=>{t.target!=e.raw()&&e.raw().pause()}))}))})),this.row(S_(...e)),this.header("Too Far/Different level"),this.paragraph("In addition to the changing pulse, there is a second mechanic that is less well known and easily missed. In some situations, the text in the scan panel suggests you to try scanning a different level. This can be used to rule out some of the spots before even entering the scan area. More information can be found in the ",z_("dedicated page",(()=>B_.openOnPage("toofardifferentlevel"))),"."),this.seeAlso([{name:"Scan Clues",comment:"RS Wiki",action:"https://runescape.wiki/w/Treasure_Trails/Guide/Scans"}])}}class A_ extends f_{render(){this.todo()}}class E_ extends f_{render(){this.todo()}}class P_ extends f_{render(){this.todo()}}class M_ extends f_{render(){this.paragraph("Interactive overlays are a new way of interacting with Alt 1 apps. Put shortly, they work by displaying an overlay that is able to react to being hovered, right clicking, or pressing your Alt 1 main hotkey while hovering your mouse over them."),this.paragraph(),this.header("Background"),this.paragraph("Interactive overlays exist out of necessity because Alt 1 does not provide plugins with ways to receive user input while they are not focussed. As soon as you click the game, apps cannot react to most of your clicks or button pressed anymore. There are two exceptions to this:"),this.row((new u_).item("Right clicking anywhere").item("Pressing the main hotkey (Alt+1 by default).")),this.paragraph("In addition, apps know the position of your cursor at all times. In combination with overlays, this can be used to create interactive interfaces that can be mostly used like normal user interfaces by substituting normal left clicks with pressing Alt+1 while hovering a button for example.")}}var L_=ie.italic,D_=ie.img,I_=ie.bold,O_=ie.mediaContainer;class R_ extends f_{render(){this.paragraph("In some cases, scan clues suggest to ",L_("try scanning a different level"),". Counterintuitively, this does not just indicate that the player is on the wrong floor, but can also appear when the dig spot is in an underground area while the player is on the surface or vice versa. This article explains how this mechanic works exactly and how it can be used to optimize scans such as Taverley Dungeon or Dorgesh-Kaan."),this.row(O_(D_("/media/wiki/differentlevel.png").css2({"max-width":"120px"}),D_("/media/wiki/toofar.png").css2({"max-width":"120px"}))),this.header("The Basic Case: Floor Differences"),this.paragraph("The RuneScape map consists of four different floors. Most of the Gielinor's surface is on ",I_("floor 0"),", while higher floors of buildings are on ",I_("floor 1")," and above. This also applies to dungeons, which are mostly on ",I_("floor 0")," too. Brimhaven Dungeon has two floors, with the western part being on ",I_("floor 1"),". Some locations are on floors other than 0 without it being obvious, such as the Tears of Guthix area on ",I_("floor 2"),", and Prifddinas on ",I_("floor 1"),"."),this.paragraph("Dig spots for scan clues are also located on specific floors. If you are on a different floor than the target, the ",L_("'Try scanning a different level.'")," message appears."),this.paragraph("For scans that consist of multiple floors, this can be used to narrow down the candidates before teleporting to the area. For example, when you are on floor 0 and get a Dorgesh-Kaan scan with the ",L_("'Try scanning a different level.'")," message, you already know that the dig spot will be one of those on the upper level of the city. Likewise, if the scroll does not suggest that, the dig spot will be on the lower level."),this.header("The Weird Case: Underground Areas"),this.paragraph("There is a second case in which this message is shown, usually encountered with the Taverley Dungeon or the Fremmenik Slayer Dungeon scans. To understand what triggers it in these cases, we need to understand how the game handles underground areas."),this.paragraph("Dungeons and other underground areas are not actually below the surface. Instead, they exist on ",I_("floor 0")," far away from the surface. Originally, underground areas where placed 6400 tiles (100 chunks) north of their logical surface location. As that area became crowded, newer underground areas use different placements."),this.paragraph("To account for the placement logic of older dungeons, the ",L_("'Try scanning a different level.'")," message appears when the player is logically above or below the target spot. More precisely, it is shown when the target spot is within your ",I_("scan range + 15 tiles")," of where your current position would be when moving it 6400 tiles north/south. This includes the +5 bonus from the meerkats familiar."),this.paragraph("This behaviour can help eliminate candidate spots that would otherwise take longer to reach. For example, Falador is logically above the eastern part of Taverley dungeon, so teleporting there first can determine whether to immediately go to that area."),this.paragraph("Clue Trainer shows ",I_("complement spots")," (underground/surface projections of dig spots) on the map, as well as the complement range square when applicable."),this.row(O_(D_("/media/wiki/complement_range.png")))}}class B_ extends c_{constructor(){super([{name:"Wiki",entries:[{id:"home",name:"Cluepedia",renderer:()=>new x_}]},{name:"Scans",entries:[{id:"scans",name:"Scan Clues",renderer:()=>new C_},{id:"scantrees",name:"Scan Trees",renderer:()=>new T_},{id:"scantreecontroloverlay",name:"Scan Tree Control Overlay",short_name:"Tree Control",renderer:()=>new v_},{id:"toofardifferentlevel",name:"Try scanning a different level.",short_name:"Different Level",renderer:()=>new R_}]},{name:"Miscellaneous",entries:[{id:"interactiveoverlays",name:"Interactive Overlays",renderer:()=>new M_}]},{name:"Method Creation",entries:[{id:"methodediting",name:"Method Editing",short_name:"General",renderer:()=>new E_},{id:"scantreeediting",name:"Creating Scan Trees",short_name:"Scan Trees",renderer:()=>new P_},{id:"scanequivalenceclasses",name:"Scan Tree Equivalence Classes",short_name:"Equivalence Classes",renderer:()=>new A_}]}])}}!function(e){let t=null;e.openOnPage=function(i){if(t)t.setActiveSection(i);else{const n=new class extends gc{constructor(){super({size:"large"}),this.setTitle("Cluepedia")}render(){super.render(),this.body.css("padding","0").css("display","flex"),t=(new e).css("width","100%").setActiveSection(null!=i?i:"home").appendTo(this.body)}};n.hiding.on((()=>t=null)),n.show()}}}(B_||(B_={}));class F_ extends aa{constructor(e){super(),this.panel_reader=e,this.actual_overlay=this.withSub(new F_.Overlay(pa().app.settings.settings.solving.scans.input_control_configuration).setVisible(pa().app.settings.settings.solving.scans.input_control_enabled)),this.visible=this.actual_overlay.visible,e.onStateChange((e=>this.actual_overlay.setScanPanelState(e))),this.actual_overlay.setScanPanelState(this.panel_reader.getState())}setActiveNode(e){this.actual_overlay.setNode(e)}onNodeSelection(e){this.actual_overlay.node_selection.on(e)}begin(){}end(){}}!function(e){class t extends Zd{constructor(e){super(),this.config=e,this.single=null,this.double=null,this.node=null,this.panel_state=null,this.node_selection=ji(),this.pulse_buttons=[],this.back_button=null,this.help_button=null,this.createButtons()}createButtons(){this.pulse_buttons=[[{pulse:1,different_level:!1},{pulse:2,different_level:!1},{pulse:3,different_level:!1}],[{pulse:1,different_level:!0},{pulse:2,different_level:!0},{pulse:3,different_level:!0}]].map((e=>e.map((e=>new t.PulseButton(e).addTo(this))))),this.pulse_buttons.flat().forEach((e=>e.interactivity().main_hotkey_pressed.on((()=>this.node_selection.trigger(n(this.node,e.pulse)))))),this.back_button=new rg(null,{style:{stroke:{width:1,color:cd.white},constrast:{width:1,color:cd.black},font:{width:16,color:cd.white,centered:!0}},active_style:{stroke:{width:2,color:cd.white},font:{width:18,color:cd.white,centered:!0}}}).addTo(this),this.help_button=new rg(null,{text:"?",style:{stroke:{width:1,color:cd.white},constrast:{width:1,color:cd.black},font:{width:14,color:cd.white,centered:!0}},active_style:{stroke:{width:2,color:cd.white},constrast:{width:1,color:cd.black},font:{width:18,color:cd.white,centered:!0}}}).addTo(this),this.help_button.interactivity().setTooltip("(Alt+1) for an explanation of this interactive overlay."),this.help_button.interactivity().main_hotkey_pressed.on((()=>{B_.openOnPage("scantreecontroloverlay")})),this.back_button.interactivity().main_hotkey_pressed.on((e=>{this.node.parent&&this.node_selection.trigger(this.node.parent.node)}))}begin(){super.begin(),t.registerActive(this)}setNode(e){this.node=e,this.back_button.setVisible(!!this.node.parent),this.pulse_buttons.forEach((e=>e.forEach((e=>{e.setRelevant(!!n(this.node,e.pulse))})))),this.updatePossible(),this.rerender()}setScanPanelState(e){var t;const i=(null===(t=this.panel_state)||void 0===t?void 0:t.meerkats)!=e.meerkats;this.panel_state=Object.assign({},e),this.pulse_buttons.forEach((e=>e.forEach((e=>{const t=3==e.pulse.pulse!=this.panel_state.triple||e.pulse.different_level!=this.panel_state.different_level;e.setPossible(!t)})))),this.updatePossible(),i&&this.rerender()}updatePossible(){const e=this.pulse_buttons.flat().filter((e=>e.isRelevant()&&e.isPossible()));1==e.length?e[0].interactivity().makeDefaultHotkeyHandler():Zd.Interactivity.setDefaultMainHotkeyHandler(null)}renderWithBuilder(e){if(!this.node)return;const t=this.config.gutter,i=xe.add(this.config.position,{x:Yd.clientSize().x/2-this.config.size.x/2,y:0}),n=this.config.force_small_back_button||this.config.size.x<280,o=n?25:80;this.back_button.updateConfig((e=>e.text=n?"<":"< Back")),this.back_button.setPosition({origin:i,size:{x:o,y:25}}),this.help_button.setPosition(this.config.show_help_button?{origin:{x:i.x+this.config.size.x-o,y:this.config.position.y},size:{x:o,y:25}}:null);const s=1-Math.log2(this.node.remaining_candidates.length)/Math.log2(this.node.root.root_node.remaining_candidates.length),r={x:this.config.size.x-2*this.back_button.position().size.x,y:25},a=xe.add(i,{x:this.back_button.position().size.x,y:0},xe.scale(.5,{x:r.x,y:3})),l=this.node.root.raw.assumed_range==this.node.root.clue.range+5;e.progressbar(a,r.x-2*t,s,2,1),e.text(1!=this.node.remaining_candidates.length?`${this.node.remaining_candidates.length} spots`:"1 spot",xe.add(a,{x:0,y:12}),{width:12,color:cd.fromHex("#FFFFFF")});const c=this.config.warn_for_meerkats&&l!=this.panel_state.meerkats;if(c){const t=this.panel_state.meerkats?"Do not use meerkats for this scan tree!":"Meerkats required for this scan tree!";e.text(t,xe.add(a,{x:0,y:37}),{width:14,color:cd.red})}const u=this.pulse_buttons.map((e=>e.filter((e=>e.isRelevant())))).filter((e=>e.length>0)),p=u.length,h=(this.config.size.y-(p-1)*t)/p,d=xe.add(i,{x:0,y:25+t+(c?25:0)}),g=u.flat().map((e=>e.pulse));u.forEach(((e,i)=>{const n=e.length,o=(this.config.size.x-(n-1)*t)/n,s=xe.add(d,{x:0,y:i*(h+t)});e.forEach(((e,i)=>{const n={origin:xe.add(s,{x:i*(o+t),y:0}),size:{x:o,y:h}};e.setPositionAndContext(n,g)}))}))}setConfig(e){this.config=se().cloneDeep(e),this.rerender()}}e.Overlay=t,function(e){let t=null;e.registerActive=function(e){t=e},e.getActive=function(){return(null==t?void 0:t.isActive())?t:null};var n=ru.Pulse.simplify_with_context;e.PulseButton=class extends rg{constructor(e){super(null,{style:{stroke:{width:2,color:ad.PulseColors.forPulse(e)},constrast:{width:1,color:cd.black},font:{width:12,color:cd.white,shadow:!0}},active_style:{stroke:{width:4,color:ad.PulseColors.forPulse(e)}}}),this.pulse=e,this.possible=qi(!0),this.relevant=qi(!0),this.possible.subscribe((e=>{})),this.relevant.subscribe((e=>this.setVisible(e)))}renderWithBuilder(e){super.renderWithBuilder(e),this.area&&this.interactivity().is_default_action.value()&&e.text("Auto",xe.add(this.area.origin,{x:this.area.size.x-20,y:10}),{color:cd.white,centered:!0,width:8})}setRelevant(e){this.relevant.set(e)}isRelevant(){return this.relevant.value()}setPossible(e){this.possible.set(e)}isPossible(){return this.possible.value()}setPositionAndContext(e,t){this.context=n(this.pulse,t);const o=i[this.context.text],s=this.config.value();o?e.size.x>100?s.text=o.long:s.text=o.short:s.text=null;const r=ad.PulseColors.forContextPulse(this.context);s.style.stroke.color=r,s.active_style.stroke.color=r,this.setPosition(e)}}}(t=e.Overlay||(e.Overlay={}));const i={DL:{long:"Different Level",short:"DL"},TF:{long:"Too Far",short:"TF"}};function n(e,t){{const i=e.children.filter((e=>{var i,n;return!(null!=t.pulse&&e.key.pulse!=t.pulse||null!=t.different_level&&(null!==(i=e.key.different_level)&&void 0!==i&&i)!=(null!==(n=t.different_level)&&void 0!==n&&n))}));if(1==i.length)return i[0].value}}e.determineChild=n}(F_||(F_={}));var N_=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},j_=ie.cls,U_=i_.PotaColor,q_=ie.hbox,H_=ie.vbox,V_=ie.inlineimg,$_=ie.hgrid,W_=ie.hboxl,G_=ie.centered,Z_=ie.italic,K_=ie.spacer,Y_=ha.TeleportGroup,Q_=ie.span,X_=_e.greatestCommonDivisor;class J_ extends Pa{constructor(){super()}separator(){return this.row(j_("nis-settings-edit-separator")),this}setting(e,t=void 0){return this.header(W_(e,J_.info(t)).css("width","100%"),"left",1),this}section(e,t=void 0){this.container.children().length>0&&this.separator(),this.header(q_(e,J_.info(t)))}namedSetting(e,t,i=void 0){return this.named(W_(e,J_.info(i)),t)}}!function(e){e.info=function(e){if(e)return V_("/assets/icons/info_nis.png").css("height","1em").addTippy(e)}}(J_||(J_={}));class ev extends Ii{constructor(e){super(),this.value=e,this.layout=(new J_).appendTo(this),this.render()}render(){this.layout.empty(),this.layout.section("Owned Passages of the Abyss"),this.layout.paragraph("Setup your owned passages of the abyss. You also need to select them in the profile below for it to take effect.");for(let e of U_.values){const t=this.value.potas.find((t=>t.color==e));this.layout.row(new Mc(W_(V_(U_.iconUrl(e)),`${oe.capitalize(e)} Passage of the Abyss`)).setValue(!!t).onCommit((t=>{t?this.value.potas.push({color:e,slots:[null,null,null,null,null,null]}):this.value.potas=this.value.potas.filter((t=>t.color!=e)),this.render()}))),t&&this.layout.row(new Ma(t.slots.map(((e,i)=>({name:(i+1).toString(),content:(new hg).onSelection((e=>{t.slots[i]=e?{group_id:e.group.id,access_id:e.access.id}:null})).set(t.slots[i])}))),2))}this.layout.section("Profiles","Setup profiles to easily switch between.");const e=this.value.presets.find((e=>e.id==this.value.active_preset));this.layout.setting("Active Profile","Select the active profile to use and edit it."),this.layout.row(new Sc({type_class:{toHTML:e=>e.name}},this.value.presets).setValue(e).onSelection((e=>{this.value.active_preset=e.id,this.render()}))),this.layout.row((new hc).buttons(new Jc("New Profile").onClick((()=>{const e=Math.max(...this.value.presets.map((e=>e.id)))+1;let t=null;for(let e=1;e<100;e++){const i=`New Profile ${e}`;if(!this.value.presets.some((e=>e.name==i))){t=i;break}}t&&(this.value.presets.push({id:e,name:t,active_potas:[],fairy_ring_favourites:new Array(10).fill(null)}),this.value.active_preset=e,this.render())})),new Jc("Delete").setEnabled(!e.fixed).onClick((()=>N_(this,void 0,void 0,(function*(){(yield Wc.simple("Are you sure?","Deleting a teleport customization preset can not be undone.","Cancel","Delete").do())&&(this.value.presets=this.value.presets.filter((t=>t!=e)),this.value.active_preset=this.value.presets[0].id,this.render())})))),new Jc("Rename").setEnabled(!e.fixed).onClick((()=>N_(this,void 0,void 0,(function*(){const t=yield(new class extends fc{constructor(){super(),this.title.set("Rename Teleport Profile"),this.shown.on((()=>{this.input.raw().focus()}))}render(){super.render(),(new Pa).named("New Name",this.input=(new Lc).setValue(e.name)).appendTo(this.body)}getButtons(){return[new mc("Cancel","neutral").onClick((()=>this.cancel())),new mc("Save","confirm").onClick((()=>this.confirm(this.input.get())))]}}).do();t&&(e.name=t,this.render())}))))));const t=U_.values.map((t=>new Mc(W_(V_(U_.iconUrl(t)),oe.capitalize(t))).setValue(e.active_potas.includes(t)).onCommit((i=>{i?e.active_potas.push(t):e.active_potas=e.active_potas.filter((e=>e!=t))}))));if(this.layout.named("Passages",H_($_(t[0],t[1]),$_(t[2],t[3]))),this.layout.setting("Fairy Ring Favourites","Enter your favourite fairy rings to see their hotkey instead of their code on the map."),this.layout.row(new Ma(e.fairy_ring_favourites.map(((t,i)=>({name:((i+1)%10).toString(),content:(new pg).set(t).onSelection((t=>{e.fairy_ring_favourites[i]=t.id}))}))),2)),this.layout.divider(),this.layout.row(new Mc("Automatically switch preset based on clue tier").setValue(this.value.preset_bindings_active).onCommit((e=>{this.value.preset_bindings_active=e,this.render()}))),this.value.preset_bindings_active)for(let e of nu.values){const t=this.value.preset_bindings[e],i=null!=t?this.value.presets.find((e=>e.id==t)):null;this.layout.named(ou.meta(e).name,new Sc({type_class:{toHTML:e=>e?e.name:"None"}},[null].concat(this.value.presets)).setValue(i).onSelection((t=>{this.value.preset_bindings[e]=t?t.id:null})))}this.layout.row(new Jc(q_("Reset to ",V_("/assets/icons/cluechasers.png")," Clue Chasers recommendations")).onClick((()=>N_(this,void 0,void 0,(function*(){if(yield Wc.simple("Reset teleport setup","This will reset your passage of the abyss setups and replace every custom preset except the default one. This can not be undone.","Cancel","Go ahead").do()){const e=i_.TeleportSettings.clueChasersRecommendations();this.value.potas=e.potas,this.value.presets=[...this.value.presets.filter((e=>e.id>=0)),...e.presets.filter((e=>e.id<0))],this.value.active_preset=0,this.value.preset_bindings=e.preset_bindings,this.render()}})))))}}class tv extends Ii{constructor(e){super(),this.value=e,this.layout=(new J_).appendTo(this),this.render()}render(){this.layout.empty(),this.layout.section("Minimap Scan Range Overlay","The scan range overlay shows a square around the center of your minimap visualizing your current scan range. "),this.layout.row(new Mc("Show when using a scan tree").onCommit((e=>this.value.show_minimap_overlay_scantree=e)).setValue(this.value.show_minimap_overlay_scantree)),this.layout.row(new Mc("Show when not using a scan tree").onCommit((e=>this.value.show_minimap_overlay_simple=e)).setValue(this.value.show_minimap_overlay_simple)),this.layout.row(new Mc("Show Triple-Ping range").onCommit((e=>this.value.show_triple_ping=e)).setValue(this.value.show_triple_ping)),this.layout.row(new Mc("Show Double-Ping range").onCommit((e=>this.value.show_double_ping=e)).setValue(this.value.show_double_ping)),this.layout.setting("Minimap Overlay Scaling","Choose how to scale the scan range overlay to fit your minimap zoom.");const e=new Mc("Automatic (Experimental)","radio"),t=new Mc("Manual","radio"),i=new a_(3,30,.5);new Mc.Group([{button:e,value:!0},{button:t,value:!1}]).onChange((e=>{this.value.minimap_overlay_automated_zoom_detection=e,i.setEnabled(!e)})).setValue(this.value.minimap_overlay_automated_zoom_detection),this.layout.setting(e,"Tries to detect minimap zoom automatically. Has known issues in snowy areas and other edge cases causing the scale to behave inconsistently."),this.layout.setting(t,"Manually select a scaling."),this.layout.namedSetting("Scale",i.setEnabled(!this.value.minimap_overlay_automated_zoom_detection).onCommit((e=>this.value.minimap_overlay_zoom_manual_ppt=e)).setValue(this.value.minimap_overlay_zoom_manual_ppt),"Select the appropriate pixels per tile for your device and minimap zoom level. May require some experimentation to get right. For fully zoomed out minimaps, the value is around 4. Note that overlays sometimes undergo additional scaling by your operating system, so the actual visible pixels per tile may be higher than the value set here."),this.layout.section("Scan Tree Zoom Behaviour","Set up how zoom should behave when using a scan tree."),this.layout.paragraph("Ensure the following things are visible when the map view moves:"),this.layout.setting(new Mc("Spots within triple pulse range").setValue(this.value.zoom_behaviour_include_triples).onCommit((e=>this.value.zoom_behaviour_include_triples=e))),this.layout.setting(new Mc("Spots within double pulse range").setValue(this.value.zoom_behaviour_include_doubles).onCommit((e=>this.value.zoom_behaviour_include_doubles=e))),this.layout.setting(new Mc("Spots within single pulse range").setValue(this.value.zoom_behaviour_include_singles).onCommit((e=>this.value.zoom_behaviour_include_singles=e))),this.layout.section("Input Control"),this.layout.setting(new Mc("Select floor based on previous solution").setValue(this.value.select_floor_based_on_previous_solution).onCommit((e=>this.value.select_floor_based_on_previous_solution=e)),"When a scan tree is loaded for a scan whose dig spots are on multiple different levels (Dorgesh Khaan and Brimhaven Dungeon), and the scan tree starts with a floor distinction that can be done anywhere, the respective path is automatically chosen based on the location of the previous clue and whether the scan scroll suggests scanning another level. "),Yd.exists()&&this.layout.setting(new Mc(q_("Show interactive control overlay",K_(),new Jc("Configure").onClick((()=>N_(this,void 0,void 0,(function*(){const e=yield new iv(this.value.input_control_configuration).do();e&&(this.value.input_control_configuration=e)})))))).css("width","100%").setValue(this.value.input_control_enabled).onCommit((e=>this.value.input_control_enabled=e))),Yd.exists()&&(this.layout.section("Scan Panel Status Overlay"),this.layout.setting(new Mc(q_("Show status overlay for scan panel")).setValue(this.value.panel_status_overlay_enabled).onCommit((e=>this.value.panel_status_overlay_enabled=e))))}}class iv extends fc{constructor(e){super({size:"small"}),this.restored_visibility=void 0,this.setTitle("Interactive Scan Tree Overlay Configuration"),this.value=qi(oe.cloneDeep(e)).structuralEquality().subscribe((e=>{this.overlay.setConfig(e)})),this.shown.on((()=>{var e;if(this.overlay=F_.Overlay.getActive(),this.overlay)this.restored_visibility=this.overlay.isVisible(),null===(e=this.overlay)||void 0===e||e.setVisible(!0);else{this.lifetime_manager.bind(this.overlay=new F_.Overlay(this.value.value())),this.overlay.node_selection.on((e=>this.overlay.setNode(e)));const e=bp.create(iv.example_method,null),t=hu.Augmentation.synthesize_triple_nodes(hu.Augmentation.basic_augmentation(e.method.tree,e.clue.clue));this.overlay.setScanPanelState({meerkats:!0,triple:!1,different_level:!1}),this.overlay.setNode(t.root_node),this.overlay.start()}this.overlay.setConfig(this.value.value())})),this.hidden.on((()=>{null!=this.restored_visibility&&this.overlay.setVisible(this.restored_visibility)}))}render(){super.render();const e=new J_;e.section("Position","Relative to the top center of your screen"),e.namedSetting("X",new a_(-2e3,2e3).setValue(this.value.value().position.x).onChange((e=>this.value.update((t=>t.position.x=e.value))))),e.namedSetting("Y",new a_(0,2e3).setValue(this.value.value().position.y).onChange((e=>this.value.update((t=>t.position.y=e.value))))),e.section("Size"),e.namedSetting("Width",new a_(160,1e3).setValue(this.value.value().size.x).onChange((e=>this.value.update((t=>t.size.x=e.value))))),e.namedSetting("Height",new a_(100,1e3).setValue(this.value.value().size.y).onChange((e=>this.value.update((t=>t.size.y=e.value))))),e.section("Other"),e.namedSetting("Spacing",new a_(1,20).setValue(this.value.value().gutter).onChange((e=>this.value.update((t=>t.gutter=e.value))))),e.setting(new Mc("Show help button").setValue(this.value.value().show_help_button).onCommit((e=>this.value.update((t=>t.show_help_button=e)))),"Shows the help button in the top right."),e.setting(new Mc("Warn for meerkats").setValue(this.value.value().warn_for_meerkats).onCommit((e=>this.value.update((t=>t.warn_for_meerkats=e)))),"Show a warning when you don't have active meerkats for scan trees that require one."),e.setting(new Mc("Force small back button").setValue(this.value.value().force_small_back_button).onCommit((e=>this.value.update((t=>t.force_small_back_button=e)))),"Forces the small version of the back button."),e.appendTo(this.body)}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.cancel())),new mc("Confirm","confirm").onClick((()=>this.confirm(this.value.value())))]}static openStandalone(){return N_(this,void 0,void 0,(function*(){const e=yield new iv(pa().app.settings.settings.solving.scans.input_control_configuration).do();e&&pa().app.settings.update((t=>t.solving.scans.input_control_configuration=e))}))}}!function(e){e.example_method={id:"037949db-71ad-46d5-a038-d162003e92ae",type:"scantree",timestamp:1737206928,name:"",description:"",assumptions:{meerkats_active:!0},for:{clue:365},tree:{assumed_range:21,ordered_spots:[{x:2747,y:5263,level:0},{x:2731,y:5266,level:0},{x:2740,y:5273,level:0},{x:2723,y:5279,level:0},{x:2711,y:5271,level:0},{x:2729,y:5295,level:0},{x:2711,y:5284,level:0},{x:2730,y:5315,level:0},{x:2717,y:5311,level:0},{x:2739,y:5253,level:1},{x:2738,y:5301,level:1},{x:2700,y:5284,level:1},{x:2704,y:5321,level:0},{x:2732,y:5327,level:0},{x:2704,y:5349,level:0},{x:2701,y:5343,level:1},{x:2704,y:5357,level:1},{x:2734,y:5370,level:1},{x:2747,y:5327,level:1},{x:2698,y:5316,level:1}],root:{children:[{key:{pulse:1,different_level:!1},value:{children:[{key:{pulse:1,different_level:!1},value:{children:[],directions:"",path:[]}},{key:{pulse:2,different_level:!1},value:{children:[],directions:"",path:[]}},{key:{pulse:3,different_level:!1,spot:{x:2704,y:5349,level:0}},value:{children:[],directions:"",path:[]}}],directions:"",path:[{type:"teleport",spot:{x:2720,y:5352,level:0},id:{group:"spheredorgeshkaan",spot:"north",access:"sphere"}}]}},{key:{pulse:2,different_level:!1},value:{children:[{key:{pulse:2,different_level:!0},value:{children:[],directions:"",path:[]}},{key:{pulse:3,different_level:!0,spot:{x:2711,y:5284,level:0}},value:{children:[],directions:"",path:[]}}],directions:"",path:[{type:"run",waypoints:[{x:2723,y:5264,level:0},{x:2723,y:5268,level:0}]},{type:"transport",assumed_start:{x:2723,y:5268,level:0},internal:{type:"entity",source_loc:["loc",22937],entity:{name:"Stairs",kind:"static"},clickable_area:{topleft:{x:2721.5,y:5271.5},botright:{x:2723.5,y:5268.5},level:0},actions:[{cursor:"ladderup",interactive_area:{origin:{x:2722,y:5268,level:0},size:{x:2,y:1}},name:"Climb-up",movement:[{time:3,fixed_target:{target:{origin:{x:2722,y:5272,level:1}},relative:!0},orientation:"toentityafter"}]}]}}]}},{key:{pulse:3,different_level:!1,spot:{x:2731,y:5266,level:0}},value:{children:[],directions:"",path:[]}},{key:{pulse:3,different_level:!1,spot:{x:2740,y:5273,level:0}},value:{children:[],directions:"",path:[]}},{key:{pulse:3,different_level:!1,spot:{x:2723,y:5279,level:0}},value:{children:[],directions:"",path:[]}},{key:{pulse:3,different_level:!1,spot:{x:2711,y:5271,level:0}},value:{children:[],directions:"",path:[]}},{key:{pulse:3,different_level:!1,spot:{x:2711,y:5284,level:0}},value:{children:[],directions:"",path:[]}},{key:{pulse:1,different_level:!0},value:{children:[{key:{pulse:2,different_level:!0},value:{children:[],directions:"",path:[]}},{key:{pulse:3,different_level:!0,spot:{x:2701,y:5343,level:1}},value:{children:[],directions:"",path:[]}},{key:{pulse:3,different_level:!0,spot:{x:2704,y:5357,level:1}},value:{children:[],directions:"",path:[]}},{key:{pulse:3,different_level:!0,spot:{x:2734,y:5370,level:1}},value:{children:[],directions:"",path:[]}}],directions:"",path:[{type:"teleport",spot:{x:2720,y:5352,level:0},id:{group:"spheredorgeshkaan",spot:"north",access:"sphere"}}]}},{key:{pulse:2,different_level:!0},value:{children:[{key:{pulse:2,different_level:!1},value:{children:[],directions:"",path:[]}},{key:{pulse:3,different_level:!1,spot:{x:2738,y:5301,level:1}},value:{children:[],directions:"",path:[]}}],directions:"",path:[{type:"teleport",spot:{x:2735,y:5305,level:1},id:{group:"spheredorgeshkaan",spot:"east",access:"sphere"}}]}},{key:{pulse:3,different_level:!0,spot:{x:2739,y:5253,level:1}},value:{children:[],directions:"",path:[]}},{key:{pulse:3,different_level:!0,spot:{x:2700,y:5284,level:1}},value:{children:[],directions:"",path:[]}}],directions:"",path:[{type:"teleport",spot:{x:2723,y:5264,level:0},id:{group:"spheredorgeshkaan",spot:"south",access:"sphere"}}]}},expected_time:22.225}}(iv||(iv={}));class nv extends Ii{constructor(e){super(),this.value=e,this.layout=(new Pa).appendTo(this),this.render()}render(){this.layout.empty(),this.layout.header("Slider Puzzles"),this.layout.header(new Mc("Start solving automatically").onCommit((e=>this.value.autostart=e)).setValue(this.value.autostart),"left",1),this.layout.named("Mode",$_(...new Mc.Group([{button:new Mc("Mouse"),value:"mouse"},{button:new Mc("Keyboard"),value:"keyboard"},{button:new Mc("Hybrid"),value:"hybrid"}]).onChange((e=>this.value.mode=e)).setValue(this.value.mode).checkboxes())),this.layout.header("Lookahead","left",1),this.layout.paragraph("Determines how many moves are shown in advance."),this.layout.row(new a_(2,10,1).setValue(this.value.max_lookahead).onCommit((e=>this.value.max_lookahead=e))),this.layout.header(new Mc("Prevent Overlap").onCommit((e=>this.value.prevent_overlap=e)).setValue(this.value.prevent_overlap),"left",1),this.layout.paragraph("When enabled, prevents moves that overlap with other moves from being displayed."),this.layout.header(new Mc("Show Recovery Moves").onCommit((e=>this.value.display_recovery=e)).setValue(this.value.display_recovery),"left",1),this.layout.paragraph("When enabled, mistakes are automatically detected and recovery moves are displayed.");const e=(new jc).setValue(cd.fromNumber(this.value.color_mainline_move).css_string).onCommit((e=>this.value.color_mainline_move=cd.fromHex(e).for_overlay)),t=(new jc).setValue(cd.fromNumber(this.value.color_recovery_move).css_string).onCommit((e=>this.value.color_recovery_move=cd.fromHex(e).for_overlay)),i=(new jc).setValue(cd.fromNumber(this.value.color_mainline_line).css_string).onCommit((e=>this.value.color_mainline_line=cd.fromHex(e).for_overlay)),n=(new jc).setValue(cd.fromNumber(this.value.color_recovery_line).css_string).onCommit((e=>this.value.color_recovery_line=cd.fromHex(e).for_overlay));this.layout.named("Colors",$_(G_("Main Line"),G_("Recovery"))),this.layout.named("Moves",$_(e,t)),this.layout.named("Lines",$_(i,n)),this.layout.named("",new Jc("Reset to default").onClick((()=>{this.value.color_mainline_move=Ay.Settings.DEFAULT.color_mainline_move,this.value.color_mainline_line=Ay.Settings.DEFAULT.color_mainline_line,this.value.color_recovery_move=Ay.Settings.DEFAULT.color_recovery_move,this.value.color_recovery_line=Ay.Settings.DEFAULT.color_recovery_line,this.render()}))),this.layout.header("Solve Time","left",1),this.layout.paragraph("How much time the solver should spend finding an optimal solution before the guide starts."),this.layout.row(new a_(.1,5,.1).withPreviewFunction((e=>`${e.toFixed(1)}s`)).setValue(this.value.solve_time_ms/1e3).onCommit((e=>this.value.solve_time_ms=1e3*e))),this.layout.header(new Mc("Estimate Slider Speed").onCommit((e=>this.value.estimate_slider_speed=e)).setValue(this.value.estimate_slider_speed),"left",1),this.layout.paragraph("Show an estimate for your equivalent slider speed in Alt1's builtin clue solver after finishing a slider. Takes the faster animation of multi-tile moves in the builtin solver into account."),this.layout.header(new Mc("Improve screen reader with backtracking (Experimental)").onCommit((e=>this.value.improve_slider_matches_backtracking=e)).setValue(this.value.improve_slider_matches_backtracking),"left",1),this.layout.paragraph("Currently experimental. When activated, tries to improve the match read from screen by doing a second search with a bounded backtracking algorithm."),this.layout.header(new Mc("Continuous solving (Experimental)").onCommit((e=>this.value.continue_solving_after_initial_solve=e)).setValue(this.value.continue_solving_after_initial_solve),"left",1),this.layout.paragraph("When active, the puzzle solver will continue to look for shorter solutions while completing a puzzle to reduce the number of required moves. Currently experimental, disable if you notice issues.")}}class ov extends Ii{constructor(e){super(),this.value=e,this.layout=(new Pa).appendTo(this),this.render()}render(){this.layout.empty(),this.layout.header("Celtic Knot Puzzles"),this.layout.header(new Mc("Start solving and show overlay automatically").onCommit((e=>this.value.autostart=e)).setValue(this.value.autostart),"left",1),this.layout.paragraph("Disable this if you are simultaneously using Alt1's builtin clue solver and the knot solutions are overlapping.")}}class sv extends Ii{constructor(e){super(),this.value=e,this.layout=(new Pa).appendTo(this),this.render()}render(){this.layout.empty(),this.layout.header("Lockbox Puzzles"),this.layout.header(new Mc("Start solving and show overlay automatically").onCommit((e=>this.value.autostart=e)).setValue(this.value.autostart),"left",1),this.layout.paragraph("Disable this if you are simultaneously using Alt1's builtin clue solver and the lockbox solutions are overlapping."),this.layout.named("Overlay Color",(new jc).setValue(cd.fromNumber(this.value.overlay_color).css_string).onCommit((e=>this.value.overlay_color=cd.fromHex(e).for_overlay))),this.layout.header("Optimization Mode"),this.layout.paragraph("Control how to optimize the solution. The configured value determines how much a 2-click tile is weighted compared to a 1-click tile. A value of '2' will optimize for the lowest total amount of clicks. A value of '1' will optimize for the lowest number of unique tiles that need to be clicked. Setting this to 1.3 is a good compromise for most people. Values above 2 try to avoid 2-click tiles."),this.layout.row(new a_(1,5,.1).setValue(this.value.two_click_factor).onCommit((e=>{this.value.two_click_factor=e,t()})));const e=c(),t=()=>{if(2==this.value.two_click_factor)e.text(`A value of ${this.value.two_click_factor.toFixed(1)} will optimize for the lowest number of total clicks.`);else if(1==this.value.two_click_factor)e.text(`A value of ${this.value.two_click_factor.toFixed(1)} will optimize for the lowest number of unique clicked tiles.`);else{let t=10,i=Math.ceil(t*this.value.two_click_factor);const n=X_(t,i);t/=n,i/=n,e.text(`A value of ${this.value.two_click_factor.toFixed(1)} will treat ${t} two-click tiles the same as ${i} one-click tiles.`)}};t(),this.layout.paragraph(e)}}class rv extends Ii{constructor(e){super(),this.value=e,this.layout=(new Pa).appendTo(this),this.render()}render(){this.layout.empty(),this.layout.header("Towers Puzzles"),this.layout.header(new Mc("Start solving and show overlay automatically").onCommit((e=>this.value.autostart=e)).setValue(this.value.autostart),"left",1),this.layout.paragraph("Disable this if you are simultaneously using Alt1's builtin clue solver and the towers solutions are overlapping."),this.layout.header("Overlay Mode","left",1),this.layout.row($_(...new Mc.Group([{button:new Mc("Target"),value:"target"},{button:new Mc("Delta"),value:"delta"},{button:new Mc("Both"),value:"both"}]).onChange((e=>this.value.solution_mode=e)).setValue(this.value.solution_mode).checkboxes())),this.layout.paragraph("'Target' will show the correct number on the overlay. 'Delta' will show the number of clicks required from the current value. 'Both' will display both."),this.layout.header(new Mc("Show green border for correct tiles").onCommit((e=>this.value.show_correct=e)).setValue(this.value.show_correct),"left",1),this.layout.header(new Mc("Show red border for overshot tiles").onCommit((e=>this.value.show_overshot=e)).setValue(this.value.show_overshot),"left",1)}}class av extends Ii{constructor(e){super(),this.value=e,this.layout=(new J_).appendTo(this),this.render()}render(){this.layout.empty(),this.layout.section("Zoom Behaviour","Configure how the solver zooms into paths and clue target spots."),this.layout.namedSetting("Max Zoom",q_(new a_(0,7).modifyPreviewContainer((e=>e.css("min-width","15px"))).setValue(this.value.global_max_zoom).onCommit((e=>this.value.global_max_zoom=e)),rh.reset2().withClick((()=>{this.value.global_max_zoom=Om.Settings.GeneralSettings.normalize(void 0).global_max_zoom,this.render()})).tooltip("Reset to default")),"The maximum allowed zoom level for automatic zoom."),this.layout.namedSetting("Minimum Area",q_(new a_(1,64).modifyPreviewContainer((e=>e.css("min-width","15px"))).setValue(this.value.minimum_view_size).onCommit((e=>this.value.minimum_view_size=e)),rh.reset2().withClick((()=>{this.value.minimum_view_size=Om.Settings.GeneralSettings.normalize(void 0).minimum_view_size,this.render()})).tooltip("Reset to default")),"The minimum size of the target area (in tiles) that the zoom tries to fit when zooming in. Smaller areas are padded accordingly."),this.layout.setting(new Mc("Include closest teleport").setValue(this.value.include_closest_teleport).onCommit((e=>this.value.include_closest_teleport=e)),"Include the closest teleport to the target spot when not using a method, up to a reasonable max distance. May produce undesirable results, especially with underground locations."),this.layout.paragraph("Additional zoom options can be found in the 'Scans' section.")}}class lv extends Ii{constructor(e){super(),this.value=e,this.layout=(new J_).appendTo(this),this.render()}render(){this.layout.empty(),this.layout.section("Interface","Choose what data about a clue step and its solution is displayed on the interface while solving."),this.layout.namedSetting("Clue Text",$_(...new Mc.Group([{button:new Mc("Full"),value:"full"},{button:new Mc("Abridged"),value:"abridged"},{button:new Mc("Hide"),value:"hide"}]).onChange((e=>this.value.clue_text=e)).setValue(this.value.clue_text).checkboxes()),"The text of the clue for text clues. 'Abridged' uses a shorter version where applicable."),this.layout.namedSetting("Clue Map",$_(...new Mc.Group([{button:new Mc("Show"),value:"show"},{button:new Mc("Transcript"),value:"transcript"},{button:new Mc("Hide"),value:"hide"}]).onChange((e=>this.value.map_image=e)).setValue(this.value.map_image).checkboxes()),"The image for image clues. 'Transcript' displays a text description of the image instead."),this.layout.namedSetting("Dig Target",$_(...new Mc.Group([{button:new Mc("Show"),value:"show"},{button:new Mc("Hide"),value:"hide"}]).onChange((e=>this.value.dig_target=e)).setValue(this.value.dig_target).checkboxes()),"A description of where to dig or the coordinates if no description is available."),this.layout.namedSetting("Talk Target",$_(...new Mc.Group([{button:new Mc("Show"),value:"show"},{button:new Mc("Hide"),value:"hide"}]).onChange((e=>this.value.talk_target=e)).setValue(this.value.talk_target).checkboxes()),"The name of the NPC you need to talk to."),this.layout.namedSetting("Search Target",$_(...new Mc.Group([{button:new Mc("Show"),value:"show"},{button:new Mc("Hide"),value:"hide"}]).onChange((e=>this.value.search_target=e)).setValue(this.value.search_target).checkboxes()),"The name of the container (drawers, boxes etc.) you need to search."),this.layout.namedSetting("Search Key",$_(...new Mc.Group([{button:new Mc("Show"),value:"show"},{button:new Mc("Hide"),value:"hide"}]).onChange((e=>this.value.search_key=e)).setValue(this.value.search_key).checkboxes()),"How you get the key for a container on medium clues without 'way of the footshaped key' unlocked."),this.layout.namedSetting("Hidey Hole",$_(...new Mc.Group([{button:new Mc("Show"),value:"show"},{button:new Mc("Hide"),value:"hide"}]).onChange((e=>this.value.hidey_hole=e)).setValue(this.value.hidey_hole).checkboxes()),"The name of the hidey hole for emote clues."),this.layout.namedSetting("Emote Items",$_(...new Mc.Group([{button:new Mc("Show"),value:"show"},{button:new Mc("Hide"),value:"hide"}]).onChange((e=>this.value.emote_items=e)).setValue(this.value.emote_items).checkboxes()),"What items you need to equip for emote clues."),this.layout.namedSetting("Emote(s)",$_(...new Mc.Group([{button:new Mc("Show"),value:"show"},{button:new Mc("Hide"),value:"hide"}]).onChange((e=>this.value.emotes=e)).setValue(this.value.emotes).checkboxes()),"The name of the emote/emotes you need to perform for emote clues."),this.layout.namedSetting("Double Agent",$_(...new Mc.Group([{button:new Mc("Show"),value:"show"},{button:new Mc("Hide"),value:"hide"}]).onChange((e=>this.value.double_agent=e)).setValue(this.value.double_agent).checkboxes()),"Shows if you need to fight a double agent for this emote clue."),this.layout.namedSetting("Pathing",$_(...new Mc.Group([{button:new Mc("Show"),value:"show"},{button:new Mc("Hide"),value:"hide"}]).onChange((e=>this.value.path_step_list=e)).setValue(this.value.path_step_list).checkboxes()),"A list containing short descriptions for the steps that make up a path if one is active for the current clue step.");const e=new Mc("Hide"),t=new Mc("Show"),i=new Mc("Hide for Scans/Compasses");new Mc.Group([{button:t,value:"show"},{button:e,value:"hide"},{button:i,value:"hideforscansandcompasses"}]).onChange((e=>this.value.puzzle=e)).setValue(this.value.puzzle),this.layout.namedSetting("Puzzles",H_($_(t,e),$_(i)),"Shows what puzzle (if any) is given on completion of this clue step."),this.layout.namedSetting("Challenge",$_(...new Mc.Group([{button:new Mc("Full"),value:"full"},{button:new Mc("Answer"),value:"answer_only"},{button:new Mc("Hide"),value:"hide"}]).onChange((e=>this.value.challenge=e)).setValue(this.value.challenge).checkboxes()),"The solution to challenge scrolls given out by npcs."),this.layout.section("Load Preset"),this.layout.row(new Jc("Everything").onClick((()=>{Object.assign(this.value,oe.cloneDeep(Om.Settings.InfoPanel.EVERYTHING)),this.render()}))),this.layout.row(new Jc("Reduced (Recommended)").onClick((()=>{Object.assign(this.value,oe.cloneDeep(Om.Settings.InfoPanel.REDUCED)),this.render()}))),this.layout.row(new Jc("Nothing").onClick((()=>{Object.assign(this.value,oe.cloneDeep(Om.Settings.InfoPanel.NOTHING)),this.render()})))}}class cv extends Ii{constructor(e){super(),this.value=e,this.layout=(new Pa).appendTo(this),this.render()}render(){this.layout.paragraph("Here you can configure your participation in active crowdsourcing projects. Data is recorded without any personal data and no data beyond what is described here is collected."),this.layout.header(new Mc("Initial Slider States").onCommit((e=>this.value.slider_states=e)).setValue(this.value.slider_states),"left",1),this.layout.paragraph("Record the initial order of tiles for puzzle boxes. For every puzzle box encountered while auto-solving is active, the initial state will be recorded.")}}class uv extends Ii{constructor(e){super(),this.value=e,this.active_preset=null,this.layout=(new J_).appendTo(this),this.render()}render(){this.layout.empty(),this.layout.section("General"),this.layout.setting(new Mc("Automatically commit angle on teleport").onCommit((e=>this.value.auto_commit_on_angle_change=e)).setValue(this.value.auto_commit_on_angle_change),"When active, the next triangulation line is automatically drawn when the compass angle changes by more than 4° at once. This is the default behaviour in Alt1's built-in clue solver."),this.layout.setting(new Mc("Show status overlay").onCommit((e=>this.value.enable_status_overlay=e)).setValue(this.value.enable_status_overlay),"Shows detected compass angle and other info on top of the compass interface."),this.layout.setting(new Mc("Show method previews").onCommit((e=>this.value.show_method_preview_of_secondary_solutions=e)).setValue(this.value.show_method_preview_of_secondary_solutions),"When active method previews for all remaining candidates are shown after the first triangulation step."),this.layout.namedSetting("Beam Color",(new jc).setValue(this.value.beam_color).onCommit((e=>this.value.beam_color=e)),"Select the color of the triangulation beams on the map."),this.layout.setting("Manual Tile Selection Inaccuracy","Choose how accurate your manual spot selection when you click the map should be assumed to be. 1 considers your selection to be precisely the tile you stand on, higher values leave more room for error. This does not apply to tiles selected as part of a preconfigured strategy."),this.layout.row(new a_(0,10,1).setValue(this.value.manual_tile_inaccuracy).onCommit((e=>this.value.manual_tile_inaccuracy=e))),this.layout.section("Smart Triangulation","Configure advanced triangulation behaviour that reduces the need for manual input."),this.layout.setting("Active Triangulation Strategies","Triangulation presets are used to automatically load triangulation spots whenever you receive a compass clue. This skips the need to manually select your teleports repeatedly.");for(const e of _p.compass){let t=this.value.active_triangulation_presets.find((t=>t.compass_id==e.id));t||this.value.active_triangulation_presets.push(t={compass_id:e.id,preset_id:null});const i=[...this.value.custom_triangulation_presets,...lm.TriangulationPreset.builtin].filter((t=>[t.compass_id].flat().includes(e.id))),n=new Sc({type_class:{toHTML:e=>e?W_(...pa().app.template_resolver.resolve(e.name)).css2({"white-space":"nowrap",overflow:"hidden"}):Z_("None")}},[...i,null]).setValue(i.find((e=>e.id==t.preset_id))).onSelection((e=>{t.preset_id=e?e.id:null}));this.layout.named(W_(V_(ou.meta(e.tier).icon_url),oe.capitalize(e.tier)),n)}this.layout.setting("Custom Strategies","You can create your own triangulation presets if none of the builtin presets fit your needs. Don't forget to activate your custom preset in the section above.");const e=new Sc({type_class:{toHTML:e=>"create"==e?"Create New":e?W_(...pa().app.template_resolver.resolve(e.name)).css2({"white-space":"nowrap",overflow:"hidden"}):"None selected"}},[...this.value.custom_triangulation_presets,"create"]).setValue(this.active_preset).onSelection((e=>{if("create"==e){const e=0==this.value.custom_triangulation_presets.length?1:Math.max(...this.value.custom_triangulation_presets.map((e=>e.id)))+1;this.value.custom_triangulation_presets.push(this.active_preset={compass_id:_p.gielinor_compass.id,name:`Custom Preset ${e}`,id:e,sequence:[]})}else this.active_preset=e;this.render()})).css("flex-grow","1");if(this.layout.named("Selection",q_(e,this.active_preset?rh.delete().withClick((()=>N_(this,void 0,void 0,(function*(){(yield new Wc({title:"Delete preset",body:`Do you want to delete the preset '${this.active_preset.name}' preset? It cannot be undone.`,options:[{kind:"neutral",text:"Cancel",value:!1,is_cancel:!0},{kind:"cancel",text:"Delete",value:!0}]}).do())&&(this.value.custom_triangulation_presets=this.value.custom_triangulation_presets.filter((e=>e!=this.active_preset)),this.active_preset=null,this.render())})))):void 0)),this.active_preset){this.layout.named("Name",(new Lc).setValue(this.active_preset.name).onCommit((t=>{this.active_preset.name=t,e.renderInput()})));const t=_p.compass.find((e=>e.id==this.active_preset.compass_id));this.layout.named("Tier",new Sc({type_class:{toHTML:e=>W_(V_(ou.meta(e.tier).icon_url),oe.capitalize(e.tier))}},_p.compass).setValue(t).onSelection((e=>{this.active_preset.compass_id=e.id,this.render()})));const i=new Pa;if(this.layout.named("Sequence",i),0==this.active_preset.sequence.length)i.row("No triangulation points yet.");else for(let e=0;e<this.active_preset.sequence.length;e++){const n=this.active_preset.sequence[e];i.header(q_(K_(),`Spot ${e+1}`,K_(),rh.delete().withClick((t=>{this.active_preset.sequence.splice(e,1),this.render()}))),"center",1);const o=new Fc({type_class:{toHTML:e=>e instanceof ha.TeleportGroup.Spot?W_(q_(V_(`assets/icons/teleports/${e.image().url}`)).css2({"min-width":"20px","max-width":"20px"}),Q_(e.hover())).css2({"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}):`${e.x} | ${e.y} | ${e.level}`},search_term:e=>e.hover()},va.getAllTeleportSpots()).onSelection((e=>{n.teleport=e.id()})).css("flex-grow","1");n.teleport?o.setValue(va.resolveTeleport(n.teleport)):n.tile&&o.setValue(n.tile),i.row(q_(o,new Jc(rh.from("/assets/icons/select.png")).onClick((()=>N_(this,void 0,void 0,(function*(){const e=yield(new class extends fc{constructor(){super(),this.shown.on((()=>{this.map.map.fitView(ze.extend(ze.from(...t.spots),3),{maxZoom:20})}))}render(){super.render(),this.body.append(this.map=(new oa).css("width","100%").css("height","400px").setInteraction((new class extends Ca{constructor(){super(),this.add(new ac(!0,{transport_policy:"none",teleport_policy:"target_only"}))}eventClick(e){e.onPre((()=>{e.active_entity instanceof $a?this.commit(e.active_entity.teleport):this.commit(e.tile())}))}}).attachTopControl((new Sa).setName("Spot selection").setContent(c().text("Click a teleport spot or any tile on the map to select it as a triangulation spot."))).onCommit((e=>this.confirm(e)))))}getButtons(){return[new mc("Cancel","neutral").onClick((()=>this.cancel()))]}getValueForCancel(){return null}}).do();e&&(e instanceof Y_.Spot?n.teleport=e.id():n.tile=e,this.render())}))))))}i.row(new Jc("+ Add another spot").onClick((()=>{this.active_preset.sequence.push({}),this.render()})))}this.layout.setting(new Mc("Use solution of previous step").onCommit((e=>this.value.use_previous_solution_as_start=e)).setValue(this.value.use_previous_solution_as_start),"When active, the solution of the previous clue step is used as the first triangulation spot and the initially read compass angle is immediately committed. Only uses the solution of scans if you follow the scan tree to a point where the remaining spots are in a reasonably small rectangle."),this.layout.setting(new Mc("Invert preset sequence").onCommit((e=>this.value.invert_preset_sequence_if_previous_solution_was_used=e)).setValue(this.value.invert_preset_sequence_if_previous_solution_was_used),"When active, the preset triangulation sequence is inverted when the solution of the previous clue step is used to draw an initial arrow. This is useful when your triangulation strategy ends somewhere that provides access to useful teleports, such as spirit trees at South Feldip Hills."),this.layout.setting(new Mc("Skip colinear triangulation spots").onCommit((e=>this.value.skip_triangulation_point_if_colinear=e)).setValue(this.value.skip_triangulation_point_if_colinear),"When active, preset triangulation spots that are too close to being in-line with a previously drawn triangulation arrow are skipped (unless they are the last one remaining).")}}class pv extends Ii{constructor(){super(),this.layout=(new J_).appendTo(this),this.layout.section("Data Export and Import","Exported data included all settings and preferences, as well as imported and local methods. Importing a data dump will replace all of your local data with the imported data."),this.layout.row($_(new Jc("Export").onClick((()=>{pa().app.data_dump.dump()})),new Jc("Import").onClick((()=>{pa().app.data_dump.restore()}))))}}class hv extends Ii{constructor(e,t){super(),this.value=oe.cloneDeep(e.settings.settings),this.init(this.section_control=new c_([{name:"Solving",entries:[{id:"solving_general",name:"General",short_name:"General",renderer:()=>new av(this.value.solving.general)},{id:"solving_interface",name:"Interface",short_name:"Interface",renderer:()=>new lv(this.value.solving.info_panel)},{id:"sliders",name:"Slider Puzzle Solving",short_name:"Sliders",renderer:()=>new nv(this.value.solving.puzzles.sliders)},{id:"knots",name:"Celtic Knot Solving",short_name:"Knots",renderer:()=>new ov(this.value.solving.puzzles.knots)},{id:"lockboxes",name:"Lockbox Solving",short_name:"Lockboxes",renderer:()=>new sv(this.value.solving.puzzles.lockboxes)},{id:"towers",name:"Towers Solving",short_name:"Towers",renderer:()=>new rv(this.value.solving.puzzles.towers)},{id:"compass",name:"Compass Solving",short_name:"Compass",renderer:()=>new uv(this.value.solving.compass)},{id:"scans",name:"Scan Solving",short_name:"Scans",renderer:()=>new tv(this.value.solving.scans)}]},{name:"Map",entries:[{id:"teleports",name:"Teleport Customization",short_name:"Teleports",renderer:()=>new ev(this.value.teleport_customization)}]},{name:"Advanced",entries:[{id:"crowdsourcing",name:"Crowdsourcing",short_name:"Crowdsourcing",renderer:()=>new cv(this.value.crowdsourcing)},{id:"dataexport",name:"Data Export",short_name:"Data",renderer:()=>new pv}]}]).setActiveSection(t))}}class dv extends fc{constructor(e=void 0){super(),this.start_section=e,this.last_saved_value=null,this.title.set("Settings")}getValueForCancel(){return{saved:!!this.last_saved_value,value:this.last_saved_value}}save(){this.last_saved_value=oe.cloneDeep(this.edit.value),pa().app.settings.set(this.last_saved_value)}static openOnPage(e){if(dv.instance)dv.instance.edit.section_control.setActiveSection(e);else{const t=new dv(e);dv.instance=t,t.hiding.on((()=>dv.instance=null))}return dv.instance.do()}render(){super.render(),this.body.css("padding","0"),this.body.append(this.edit=new hv(pa().app,this.start_section))}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.cancel())),new mc("Save","confirm").onClick((()=>this.save())),new mc("Save and Close","confirm").onClick((()=>{this.save(),this.cancel()}))]}}dv.instance=null;var gv=_e.async_init,fv=Fi.observe_combined;class yv extends qd{constructor(e){super(),this.original_captured_interface=e,this.debug=!1,this.debug_overlay=new Xd,this.state=qi({triple:!1,meerkats:!0,different_level:!1}).structuralEquality(),this.last_successful_capture=null,e&&(this.last_successful_capture={capture:e,time:Date.now()}),this.capture_interest=this.addDataSource(Yd.instance().capturing,(()=>{const e=null==this.last_successful_capture||this.last_successful_capture.time<Date.now()-5e3;return{is_refind:e,area:e?null:this.last_successful_capture.capture.relevantTextAreaForRecapture(),interval:e?Hd.fromApproximateInterval(1e3):null}})),this.initialization=gv((()=>{return e=this,t=void 0,n=function*(){this.interface_finder=yield sg.finder.get()},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}))}shouldRefind(){return null==this.last_successful_capture||this.last_successful_capture.time<Date.now()-5e3}processNotifications(e){const t=this.capture_interest.lastNotification();if(t.options.is_refind){const e=this.interface_finder.find(t.value);return e&&(this.last_successful_capture={capture:e,time:Date.now()}),e}{const e=this.last_successful_capture.capture.updated(t.value);return e.isValid()?(this.debug&&(console.log(e.text()),this.debug_overlay.clear(),e.body.setName("Scan").debugOverlay(this.debug_overlay),this.debug_overlay.render()),this.last_successful_capture={capture:e,time:Date.now()},this.state.update2((t=>{var i,n,o;t.triple=null!==(i=e.isTriple())&&void 0!==i?i:t.triple,t.meerkats=null!==(n=e.hasMeerkats())&&void 0!==n?n:t.meerkats,t.different_level=null!==(o=e.isDifferentLevel())&&void 0!==o?o:t.different_level})),e):null}}getState(){return this.state.value()}onStateChange(e){return this.state.subscribe2(e)}lastValidInterface(){return this.last_successful_capture?this.last_successful_capture.capture:null}lastSuccessfulReadTime(){var e,t;return null!==(t=null===(e=this.last_successful_capture)||void 0===e?void 0:e.time)&&void 0!==t?t:-1}}class mv extends Zd{constructor(){super(),this.position_center=qi(null).structuralEquality(),this.state=qi(null).structuralEquality(),this.triple_indicator=(new mv.TriplePulseOverlay).addTo(this),this.different_level_indicator=(new mv.DifferentLevelIndicator).addTo(this),this.meerkat_indicator=(new mv.MeerkatIndicator).addTo(this),this.info_button=new rg(null,rg.white("i")).addTo(this),this.settings_button=new rg(null,rg.white("⚙")).setVisible(!1).addTo(this),this.has_successful_read=qi(!1),this.enabled=qi(!1),this.visible.bindTo(fv({read:this.has_successful_read,enabled:this.enabled},this.lifetime_manager).map((e=>e.enabled&&e.read),this.lifetime_manager)),this.position_center.subscribe2((e=>{e&&(this.different_level_indicator.setPosition(xe.add(e,{x:-50,y:100})),this.triple_indicator.setPosition(xe.add(e,{x:0,y:100})),this.meerkat_indicator.setPosition(xe.add(e,{x:60,y:100})),this.settings_button.setPosition(Cd.centeredOn(xe.add(e,{x:60,y:-77}),10)),this.info_button.setPosition(Cd.centeredOn(xe.add(e,{x:-60,y:-77}),10)))})),this.state.subscribe2((e=>{e&&(this.triple_indicator.setState(e.triple),this.different_level_indicator.setState(e.different_level),this.meerkat_indicator.setState(e.meerkats)),this.rerender()})),this.settings_button.interactivity().setTooltip("(Alt+1) Configure this overlay").main_hotkey_pressed.on((()=>{dv.openOnPage("scans")})),this.info_button.interactivity().setTooltip("(Alt+1) Learn more about scans.").main_hotkey_pressed.on((()=>{B_.openOnPage("scans")}))}connect(e){const t=e.subscribe({options:()=>({interval:Hd.fromApproximateInterval(100)}),handle:t=>{var i,n;this.has_successful_read.set(e.lastSuccessfulReadTime()>Date.now()-1e3),this.setState(se().cloneDeep(e.getState())),this.setPosition(null===(n=null===(i=t.value)||void 0===i?void 0:i.center_of_text)||void 0===n?void 0:n.get())}});return this.lifetime_manager.bind(t),this}setState(e){return this.state.set(e),this}setPosition(e){return this.position_center.set(e),this}renderWithBuilder(e){this.position_center.value()}}!function(e){e.TriplePulseOverlay=class extends Zd{constructor(){super(),this.position=qi(null).structuralEquality(),this.state=qi(null),this.position.subscribe2((e=>{e&&this.interactivity().setBounds({type:"circle",area:{center:e,radius:20}}),this.rerender()})),this.state.subscribe2((e=>{this.interactivity().setTooltip(e?"Triple Pulse":"No triple pulse"),this.rerender()})),this.interactivity().refreshTooltip()}setPosition(e){return this.position.set(e),this}setState(e){return this.state.set(e),this}renderWithBuilder(e){const t=this.state.value(),i=this.position.value();if(!i)return;const n={color:t?ad.PulseColors.triple:cd.gray,width:2},o=i;e.circle({center:o,radius:12},16,n).circle({center:o,radius:8},16,n).circle({center:o,radius:4},16,n)}},e.DifferentLevelIndicator=class extends Zd{constructor(){super(),this.position=qi(null).structuralEquality(),this.state=qi(null),this.position.subscribe2((e=>{e?this.interactivity().setBounds({type:"rectangle",area:Cd.centeredOn(e,20)}):this.interactivity().setBounds(null),this.rerender()})),this.state.subscribe2((e=>{this.interactivity().setTooltip(e?"Try scanning a different level.\n(Alt+1) to learn more":"You are on the correct level.\n(Alt+1) to learn more"),this.rerender()})),this.interactivity().main_hotkey_pressed.on((()=>{B_.openOnPage("toofardifferentlevel")}))}setPosition(e){return this.position.set(e),this}setState(e){return this.state.set(e),this}renderWithBuilder(e){const t=this.position.value();if(!t)return;const i=this.state.value();e.text("DL",t,{centered:!0,color:i?ad.PulseColors.different_level:cd.gray,width:15})}};class t extends Zd{constructor(){super(),this.position=qi(null).structuralEquality(),this.state=qi(null),this.position.subscribe2((e=>{e?this.interactivity().setBounds({type:"rectangle",area:Cd.centeredOn(e,20)}):this.interactivity().setBounds(null),this.rerender()})),this.state.subscribe2((e=>{this.interactivity().setTooltip(e?"Meerkats are active.":"Meerkats are NOT active."),this.rerender()}))}setPosition(e){return this.position.set(e),this}setState(e){return this.state.set(e),this}renderWithBuilder(e){const i=this.position.value();if(!i)return;const n=this.state.value();e.text("MK",i,{centered:!0,color:n?t.active_color:cd.gray,width:15})}}e.MeerkatIndicator=t,function(e){e.active_color=cd.fromHex("#00ffff")}(t=e.MeerkatIndicator||(e.MeerkatIndicator={}))}(mv||(mv={}));var _v=mr.activate,vv=hu.Augmentation.AugmentedScanTree,xv=ie.cls,wv=_e.Order,bv=hu.spotNumber,kv=su.digSpotArea,Tv=ie.hbox,zv=ie.spacer,Sv=ie.inlineimg;function Cv(e,t){function i(e){var n;if(!e.remaining_candidates.some((e=>Te.eq(e,t))))return null;for(const t of null!==(n=e.children)&&void 0!==n?n:[]){const e=i(t.value);if(e)return e}return e}return function e(n){var o;return n?n.remaining_candidates.some((e=>Te.eq(e,t)))?i(n):e(null===(o=n.parent)||void 0===o?void 0:o.node):null}(e)}class Av extends Pd{constructor(e,t,i,n){super(e,"method"),this.method=t,this.original_interface_capture=i,this.settings=n,this.node=null,this.augmented=null,this.layer=null,this.handling_layer=null,this.augmented=hu.Augmentation.basic_augmentation(t.method.tree,t.clue.clue),hu.Augmentation.synthesize_triple_nodes(this.augmented),this.parent.app.in_alt1&&(this.settings.value().show_minimap_overlay_scantree&&(this.minimap_overlay=this.withSub(new Am(Lm.instance(),n,"scantree").setRange(this.method.method.tree.assumed_range))),this.scan_panel_capture_service=new yv(this.original_interface_capture),this.scan_panel_overlay=this.withSub((new mv).connect(this.scan_panel_capture_service)),this.scan_panel_overlay.enabled.bindTo(this.parent.app.settings.observable_settings.map((e=>e.solving.scans.panel_status_overlay_enabled),this.lifetime_manager)),this.scan_input_control=this.withSub(new F_(this.scan_panel_capture_service)),this.scan_input_control.visible.bindTo(this.parent.app.settings.observable_settings.map((e=>e.solving.scans.input_control_enabled),this.lifetime_manager)),this.scan_input_control.onNodeSelection((e=>this.setNode(e))))}fit(e){var t;const i=this.node,n=new wd;i.raw.path.length>0?n.addRectangle(wa.bounds(e,!0)):(null===(t=i.region)||void 0===t?void 0:t.area)&&n.addArea(i.region.area),n.fixLevel(),0==i.children.length&&i.remaining_candidates.forEach((e=>n.addTile(e))),n.setDistanceLimit(320),(this.settings.value().zoom_behaviour_include_triples||i.children.every((e=>3==e.key.pulse)))&&i.children.filter((e=>3==e.key.pulse)).flatMap((e=>e.value.remaining_candidates)).forEach((e=>n.addTile(e))),this.settings.value().zoom_behaviour_include_doubles&&i.children.filter((e=>2==e.key.pulse)).flatMap((e=>e.value.remaining_candidates)).forEach((e=>n.addTile(e))),this.settings.value().zoom_behaviour_include_singles&&i.children.filter((e=>1==e.key.pulse)).flatMap((e=>e.value.remaining_candidates)).forEach((e=>n.addTile(e))),this.parent.layer.fit(n.get())}renderLayer(){const e=this.node;this.layer.clearLayers();const t=e.region?_v(e.region.area).center():wa.ends_up(e.raw.path);t?this.parent.layer.getMap().floor.set(t.level):this.parent.layer.getMap().floor.set(Math.min(...e.remaining_candidates.map((e=>e.level)))),t&&e.remaining_candidates.length>1&&!(e.region&&e.region.area&&we.width(mr.toRect(e.region.area))>2*this.method.method.tree.assumed_range)?this.parent.layer.scan_layer.marker.setFixedSpot(t):this.parent.layer.scan_layer.marker.setFixedSpot(null),this.parent.layer.scan_layer.setActiveCandidates(e.remaining_candidates),new hd(hu.getTargetRegion(e)).setOpacity(1).addTo(this.layer),vv.collect_parents(e,!1).forEach((e=>{new hd(hu.getTargetRegion(e)).setOpacity(.5).addTo(this.layer),il.renderPath(e.raw.path).eachEntity((e=>e.setOpacity(.5))).addTo(this.layer)}));const i=e.children.every((e=>3==e.key.pulse));e.children.filter((e=>i||3!=e.key.pulse)).forEach((e=>{il.renderPath(e.value.raw.path).eachEntity((e=>e.setOpacity(.5))).addTo(this.layer),new hd(hu.getTargetRegion(e.value)).setOpacity(.5).addTo(this.layer)}))}updateInterface(){var e,t,i,n;const o=this.node;this.tree_widget.empty();let s=xv("ctr-neosolving-solution-row").appendTo(this.tree_widget);{const e=c("<ol class='breadcrumb' style='margin-bottom: unset'></ol>").append(...vv.collect_parents(o).map((e=>c("<li>").addClass("breadcrumb-item").append(c("<span class='nisl-textlink'>").on("click",(()=>this.setNode(e))).text(vv.decision_string(e)))))),t=Tv(e,zv(),Sv("/assets/icons/info_nis.png").css("height","1em").css("margin-top","2px").addClass("ctr-clickable").on("click",(()=>B_.openOnPage("scantrees"))).tooltip("Learn more about scan trees."),Sv("/assets/icons/settings.png").addClass("ctr-clickable").css("height","1em").css("margin-top","2px").addClass("ctr-clickable").on("click",(()=>{return e=this,t=void 0,n=function*(){yield dv.openOnPage("scans")},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}))),i=e.container.children().last();i.text(i.children().first().text()).addClass("active"),s.append(t)}((null===(t=null===(e=o.raw)||void 0===e?void 0:e.path)||void 0===t?void 0:t.length)>0||(null===(n=null===(i=o.raw)||void 0===i?void 0:i.region)||void 0===n?void 0:n.name)||0==o.children.length)&&s.append(xv("ctr-neosolving-nextscanstep").append(...this.parent.app.template_resolver.with(...Av.scan_tree_template_resolvers(o)).resolve(hu.getInstruction(o))));{const e=o.children.every((e=>3==e.key.pulse));o.children.sort(wv.comap(ru.Pulse.compare,(e=>e.key))).forEach((t=>{const i=this.parent.app.template_resolver.with(...Av.scan_tree_template_resolvers(t.value));xv("ctr-neosolving-scantreeline").addClass("ctr-clickable").on("click",(()=>{this.setNode(t.value)})).append((3==t.key.pulse&&t.key.spot&&e?Sd.forSpot(bv(o.root.raw,t.value.remaining_candidates[0])):Sd.forPulse(t.key,o.children.map((e=>e.key)))).onClick((()=>{this.setNode(t.value)})),3!=t.key.pulse||t.key.spot?c().append(...i.resolve(hu.getInstruction(t.value))):ie.italic("Select spot on map")).appendTo(s)}))}}setNode(e){var t,i;e!=this.node&&(this.node=e,this.scan_input_control&&this.scan_input_control.setActiveNode(e),e.children.some((e=>3!=e.key.pulse))||e.remaining_candidates.length<=1?this.parent.layer.scan_layer.setSpotOrder(null):this.parent.layer.scan_layer.setSpotOrder(this.method.method.tree.ordered_spots),this.registerSolution(mr.fromRect(ze.extend(ze.from(...e.remaining_candidates),1))),this.updateInterface(),this.renderLayer(),this.parent.path_control.reset().setPath(null!==(i=null===(t=e.raw)||void 0===t?void 0:t.path)&&void 0!==i?i:[],{method:this.method,node:e}))}begin(){this.parent.layer.scan_layer.setSpots(this.method.method.tree.ordered_spots),this.parent.layer.scan_layer.marker.setRadius(this.method.method.tree.assumed_range,this.method.method.assumptions.meerkats_active),this.tree_widget=c().appendTo(this.parent.layer.scantree_container),this.layer=(new Or).addTo(this.parent.layer.scan_layer);const e=this;this.parent.layer.scan_layer.marker.add(this.handling_layer=new class extends Or{eventClick(t){t.onPre((()=>{t.active_entity instanceof Qv.SpotMarker&&(t.stopAllPropagation(),e.setNode(Cv(e.node,t.active_entity.spot)),e.registerSolution(kv(t.active_entity.spot)))}))}}),this.setNode((()=>{const e=this.augmented.root_node;if(this.settings.value().select_floor_based_on_previous_solution&&this.original_interface_capture){const t=this.parent.getAssumedPlayerPositionByLastClueSolution(),i=function(e){if(0!=e.depth)return null;if(2!=e.children.length)return null;const t=e.children[0].value.remaining_candidates[0].level,i=e.children[1].value.remaining_candidates[0].level;return t==i?null:e.children[0].value.remaining_candidates.every((e=>e.level==t))&&e.children[1].value.remaining_candidates.every((e=>e.level==i))?[{level:t,node:e.children[0].value},{level:i,node:e.children[1].value}]:null}(e);if(t&&i){const e=t.origin.level,n=this.original_interface_capture.isDifferentLevel(),o=i.find((t=>n?t.level!=e:t.level==e));if(o)return o.node}}return e})())}end(){var e;this.tree_widget.remove(),this.tree_widget=null,this.parent.layer.scan_layer.marker.setFixedSpot(null),this.parent.layer.scan_layer.marker.clearManualMarker(),this.parent.layer.scan_layer.setSpotOrder(null),null===(e=this.handling_layer)||void 0===e||e.remove(),this.layer&&(this.layer.remove(),this.layer=null)}onSectionSelectedInPathControl(e){this.fit(e)}}!function(e){var t=_e.shorten_integer_list,i=fd.render_digspot,n=fd.render_scanregion;e.scan_tree_template_resolvers=function(e){return[{name:"target",apply:()=>{var t;return 1==e.remaining_candidates.length?[{type:"domelement",value:i(bv(e.root.raw,e.remaining_candidates[0]))}]:[{type:"domelement",value:n((null===(t=e.raw.region)||void 0===t?void 0:t.name)||"_")}]}},{name:"candidates",apply:()=>[{type:"domelement",value:c(_e.natural_join(t(e.remaining_candidates.map((t=>bv(e.root.raw,t))),(e=>i(e).raw().outerHTML))))}]}]}}(Av||(Av={}));var Ev=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Pv=_e.natural_join,Mv=_e.shorten_integer_list,Lv=hu.Augmentation.AugmentedScanTree,Dv=ie.span,Iv=ie.spacer,Ov=ru.Pulse,Rv=ie.hbox,Bv=ie.vbox,Fv=ie.hboxl,Nv=wa.collect_issues,jv=Av.scan_tree_template_resolvers,Uv=ie.cls,qv=ie.space,Hv=_e.Order,Vv=ie.div;class $v extends Ca{constructor(e){super({preview_render:e=>new hd(e)}),new xd({}).addTo(this).onPreview((t=>{this.preview({area:mr.fromRect(t),name:e})})).onCommit((t=>{this.commit({area:mr.fromRect(t),name:e})})),this.attachTopControl(new Sa({name:"Draw Scan Region"}).setText("Click and Drag the map to draw a scan region rectangle."))}}function Wv(e){const{char:t,cls:i}=hu.Augmentation.Correctness.meta(e);return c("<span>").css("width","10px").addClass(i).text(t)}class Gv extends Ii{constructor(e,t){super(),this.parent=e,this.node=t,this.children=[],this.decision_span=null,this.is_collapsed=!1,this.region_preview=null,this.self_content=Rv().addClass("ctr-scantreeedit-node"),this.child_content=c();const i=Rv(c().css("background-color",["blue","purple","green"][t.depth%3]).css("width","3px")).css2({"padding-left":7*t.depth+"px","padding-right":"4px"}).tooltip("Click to collapse/expand").on("click",(e=>{e.stopPropagation(),e.preventDefault(),this.toggleCollapse()}));this.header=c().addClass("ctr-scantreeedit-node-header").append(this.decision_span=Uv("ctr-scantreeedit-node-path").on("click",(()=>this.parent.requestActivation(this.isActive()?null:this))),this.you_are_here_marker=Uv("ctr-scantreeedit-youarehere"),Iv(),this.completeness_container=Rv(),c().setInnerHtml("&#x22EE;").addClass("ctr-path-edit-overview-step-options").on("click",(e=>{this.contextMenu(e.originalEvent)}))),this.body=new Pa,this.body.row(this.instruction_preview=c()),this.body.named("Timing",this.timing_box=Fv()),this.append(this.self_content=Rv().addClass("ctr-scantreeedit-node").append(i,Bv(this.header,this.body).css("flex-grow","1").on("click",(e=>{e.stopPropagation(),e.preventDefault(),this.parent.requestActivation(this.isActive()?null:this)}))),this.child_content),this.self_content.on("contextmenu",(e=>this.contextMenu(e.originalEvent))),this.renderValue(t)}toggleCollapse(){this.is_collapsed=!this.is_collapsed,this.child_content.setVisible(!this.is_collapsed),this.body.setVisible(!this.is_collapsed)}contextMenu(e){var t;e.preventDefault(),e.stopPropagation();const i=[{type:"basic",text:this.is_collapsed?"Expand":"Collapse",handler:()=>this.toggleCollapse()},{type:"basic",text:this.isActive()?"Deactivate":"Activate",handler:()=>{this.parent.requestActivation(this.isActive()?null:this)}},""!=this.node.raw.directions?{type:"submenu",text:"Custom Instructions",children:[{type:"basic",text:"Reset",handler:()=>{this.node.raw.directions="",this.updateInstructionPreview()}},{type:"basic",text:"Edit",handler:()=>{this.editInstructions()}}]}:{type:"basic",text:"Add custom instructions",handler:()=>{this.editInstructions()}},this.node.remaining_candidates.length<=1?void 0:{type:"submenu",text:"Target region",children:[{type:"basic",text:"Edit Name",handler:()=>Ev(this,void 0,void 0,(function*(){const e=this,t=yield(new class extends fc{constructor(){super({size:"small"}),this.title.set("Edit region name"),this.shown.on((()=>{this.edit.raw().focus()}))}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.cancel())),new mc("Save","confirm").onClick((()=>this.confirm(this.edit.get())))]}render(){var t,i;super.render(),(new Pa).appendTo(this.body).named("New Name",this.edit=(new Lc).setValue(null!==(i=null===(t=e.node.raw.region)||void 0===t?void 0:t.name)&&void 0!==i?i:"").appendTo(this.body))}getValueForCancel(){}}).do();void 0!==t&&this.parent.parent.builder.updateNode(this.node.raw,(e=>{e.region||(e.region={area:null,name:""}),e.region.name=t}))}))},(null===(t=this.node.raw.region)||void 0===t?void 0:t.area)?{type:"basic",text:"Reset",handler:()=>{this.parent.parent.builder.updateNode(this.node.raw,(e=>e.region.area=null))}}:void 0,this.node.raw.path.length<1?void 0:{type:"basic",text:"Save Implicit",handler:()=>{const e=wa.endsUpArea(this.node.raw.path);this.parent.parent.builder.updateNode(this.node.raw,(t=>{t.region||(t.region={area:null,name:""}),t.region.area=e}))}},{type:"basic",text:"Draw on Map",handler:()=>{var e,t;this.parent.parent.interaction_guard.set(new $v(null!==(t=null===(e=this.node.raw.region)||void 0===e?void 0:e.name)&&void 0!==t?t:"").onStart((()=>{var e;return null===(e=this.region_preview)||void 0===e?void 0:e.setOpacity(0)})).onEnd((()=>{var e;return null===(e=this.region_preview)||void 0===e?void 0:e.setOpacity(this.region_preview.isActive()?this.region_preview.active_opacity:this.region_preview.inactive_opacity)})).onCommit((e=>{this.parent.parent.builder.setRegion(this.node.raw,e)})))}}].filter(oe.identity)},{type:"basic",text:"Reset node",handler:()=>Ev(this,void 0,void 0,(function*(){(yield new Wc({title:"Reset node",body:"Resetting a node will delete its path, instruction, and all of its children and can not be undone.",options:[{kind:"neutral",text:"Cancel",value:!1,is_cancel:!0},{kind:"cancel",text:"Reset Node",value:!0}]}).do())&&(this.isActive()&&this.parent.requestActivation(null),this.parent.parent.builder.updateNode(this.node.raw,(e=>{e.path=[],e.directions="",e.children=[],e.region=void 0})))}))}];new Zi({type:"submenu",text:"",children:i.filter((e=>!!e))}).showFromEvent2(e)}renderValue(e){this.node=e;{let t="",i=Lv.collect_parents(e);const n=20;for(let e=i.length-1;e>=0;e--){let o=e>0?Lv.decision_string(i[e]):"";if(t.length+o.length>=n&&e>0){t="..."+t;break}t="/"+o+t}this.decision_span.text(`${t}: `)}this.completeness_container.empty().append(Rv(Dv(`${e.remaining_candidates.length}`),Wv(e.completeness).css("margin-left","5px"),Wv(e.correctness).css("margin-left","5px")).addTippy((()=>{const t=Pv(Mv(this.node.remaining_candidates.map((e=>hu.spotNumber(this.parent.parent.builder.tree,e))),(e=>`<span class="ctr-digspot-inline">${e}</span>`)),"and"),i=(new Pa).named("Spots",t).named("Completeness",Fv(Wv(this.node.completeness),qv(),hu.Augmentation.Correctness.meta(this.node.completeness).desc)).named("Time Left",Bv(Vv(`${(e.timing_analysis.statistics.average-e.path.post_state.tick).toFixed(2)} ticks (Average)`),Vv(`${(e.timing_analysis.statistics.min-e.path.post_state.tick).toFixed(2)} ticks (Min)`),Vv(`${(e.timing_analysis.statistics.max-e.path.post_state.tick).toFixed(2)} ticks (Max)`),Vv(`${(e.timing_analysis.statistics.median-e.path.post_state.tick).toFixed(2)} ticks (Median)`))).named("Correctness",Fv(Wv(this.node.correctness),qv(),hu.Augmentation.Correctness.meta(this.node.correctness).desc)),n=Nv(e.path);return n.length>0&&i.row(Bv(...n.map((e=>new ku(e))))),i}))),this.children.forEach((e=>e.detach())),this.updateInstructionPreview(),this.timing_box.empty().append(Dv(`T${this.node.path.pre_state.tick}`).addClass("nisl-textlink").addTippy(new xu(this.node.path.pre_state)),Dv().setInnerHtml("&nbsp;to&nbsp;"),Dv(`T${this.node.path.post_state.tick}`).addClass("nisl-textlink").addTippy(new xu(this.node.path.post_state))),this.children=this.node.children.map((e=>{let t=this.children.find((t=>t.node.raw==e.value.raw));return t?(t.renderValue(e.value),t):new Gv(this.parent,e.value)})).sort(Hv.chain(Hv.reverse(Hv.comap(Ov.comp,(e=>e.node.parent.key))),Hv.comap(Hv.natural_order,(e=>(Ua(3==e.node.parent.key.pulse),hu.spotNumber(e.node.root.raw,e.node.parent.key.spot)))))),this.children.forEach((e=>e.appendTo(this.child_content)))}updateInstructionPreview(){const e=this.parent.parent.app.template_resolver.with(...jv(this.node));this.instruction_preview.empty().append(...e.resolve(hu.getInstruction(this.node)))}setActive(e){this.self_content.toggleClass("active",e)}isActive(){return this==this.parent.active.value()}editInstructions(){return Ev(this,void 0,void 0,(function*(){const e=this,t=yield(new class extends fc{constructor(){super(),this.title.set(e.node.raw.directions?"Add custom directions":"Edit custom directions"),this.shown.on((()=>{this.edit.raw().focus()}))}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.cancel())),new mc("Delete","cancel").onClick((()=>this.confirm(""))),new mc("Save","confirm").onClick((()=>this.confirm(this.edit.get())))]}render(){var t;super.render(),this.edit=(new class extends lc{constructor(){super(),this.instruction_input=null,this.resolver=e.parent.parent.app.template_resolver.with(...jv(e.node)),this.onChange((()=>this.renderPreview()))}render(){this.empty(),this.instruction_input=new xc({placeholder:"Enter text"}).setValue(this.get()).onPreview((e=>{this.preview(e)})).onCommit((e=>{this.commit(e)})).css("height","40px"),this.append(Bv(this.instruction_input,this.preview_container=c(),new Jc("Load default").onClick((()=>this.setValue(hu.defaultScanTreeInstructions(e.node))))).css2({display:"flex","flex-direction":"column"})),this.renderPreview()}renderPreview(){this.preview_container&&this.preview_container.empty().append(...this.resolver.resolve(this.get()||""))}}).setValue(null!==(t=e.node.raw.directions)&&void 0!==t?t:"").appendTo(this.body)}getValueForCancel(){}}).do();void 0!==t&&(this.node.raw.directions=t,this.updateInstructionPreview())}))}}class Zv extends Ii{constructor(e,t){super(),this.parent=e,this.value=t,this.root_widget=null,this.active=qi(null),this.active_node=this.active.map((e=>null==e?void 0:e.node)),this.parent.builder.augmented.subscribe((e=>Ev(this,void 0,void 0,(function*(){e&&(this.root_widget?this.root_widget.renderValue(e.root_node):(this.root_widget=new Gv(this,e.root_node).appendTo(this),this.requestActivation(this.root_widget)))}))),!0)}getNode(e){let t=hu.Augmentation.AugmentedScanTree.collect_parents(e),i=this.root_widget;for(let e=1;e<t.length;e++)i=i.children.find((i=>i.node.raw==t[e].raw));return i}requestActivation(e){this.active.value()&&this.active.value().setActive(!1),this.active.set(e),this.active.value()&&this.active.value().setActive(!0)}}var Kv=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Yv=hu.Augmentation.AugmentedScanTree;class Qv extends Or{constructor(e){super(),this.spots=e,this.markers=[],this.marker=(new gd).addTo(this),this.setSpots(e)}setSpots(e){return this.markers.forEach((e=>{e.regular.remove(),e.complement.remove()})),this.markers=e.map((e=>new Qv.MarkerPair(e))),this.markers.forEach(((e,t)=>{e.regular.addTo(this),e.complement.addTo(this)})),e.length>0&&this.marker.setComplementByExampleSpot(e[0]),this}setActiveCandidates(e){this.markers.forEach((t=>t.setActive(e.some((e=>Te.eq2(e,t.spot))))))}getMarker(e){return this.markers.find((t=>Te.eq2(t.spot,e)))}setSpotOrder(e){e?e.forEach(((e,t)=>{var i;null===(i=this.getMarker(e))||void 0===i||i.setNumber(t+1)})):this.markers.forEach((e=>e.setNumber(null)))}setTiming(e){this.markers.forEach((t=>{t.setTiming(e.spots.find((e=>Te.eq(e.spot,t.spot))))}))}}!function(e){var t=fd.render_digspot,i=ru.complementSpot,n=ie.span,o=ie.inlineimg,s=ie.cls;e.MarkerPair=class{constructor(t){this.spot=t,this.regular=new e.SpotMarker(t,!1),this.complement=new e.SpotMarker(t,!0)}setNumber(e){this.regular.setNumber(e),this.complement.setNumber(e)}setActive(e){const t=e?1:.2;this.regular.opacity.set(t),this.complement.opacity.set(t)}setTiming(e){this.regular.setTiming(e),this.complement.setTiming(e)}},e.SpotMarker=class extends Ji{constructor(e,r){super(),this.spot=e,this.is_complement=r,this.spot_on_map=null,this.number=void 0,this.setInteractive(),this.spot_on_map=r?i(e):e,this.setTooltip((()=>Kv(this,void 0,void 0,(function*(){const e=new Pa;if(this.is_complement?e.header(c().append("Complement of Spot ",t(this.number))):e.header(c().append("Spot ",t(this.number))),this.is_complement&&e.row(s("ctr-step-properties-explanation").append(o("/assets/icons/info.png")," This is the complement of a dig spot. Right click to learn more about complement spots.")),this.timing_information){let t=c();this.timing_information.timings.forEach(((e,i)=>{0!=i&&t.append(" | ");let o=n(e.ticks.toFixed(2)+" ticks");e.incomplete&&o.css("color","yellow").tooltip("Incomplete path"),t.append(o)}));const i=this.timing_information.timings.some((e=>e.incomplete));if(this.timing_information.timings.length>1){const e=n(this.timing_information.statistics.average.toFixed(2)+" ticks");i&&e.css("color","yellow").tooltip("Incomplete path"),t.append(", Average ",e)}e.named("Expected time",t),i&&e.row(c().css("font-style","italic").text("Timings in yellow are from incomplete branches."))}return e}))))}bounds(){return we.from(this.spot_on_map)}render_implementation(e){return Kv(this,void 0,void 0,(function*(){const t=ce.marker(xe.toLatLong(this.spot_on_map),{icon:ta(this.spot.level,e.highlight?1.5:1),opacity:e.opacity}).addTo(this);return this.number&&t.bindTooltip(ce.tooltip({content:this.number.toString(),className:"spot-number-on-map",offset:[0,10],permanent:!0,direction:"center",opacity:e.opacity})),t.getElement()}))}setNumber(e){this.number=e,this.render(!0)}setTiming(e){this.timing_information=e}contextMenu(e){return Kv(this,void 0,void 0,(function*(){return this.is_complement&&e.addForEntity({type:"basic",text:"About complement spots",handler:()=>{B_.openOnPage("toofardifferentlevel")}}),{type:"submenu",text:()=>c().append("Spot ",t(this.number)),children:[]}}))}}}(Qv||(Qv={}));class Xv extends aa{constructor(e){super(),this.parent=e,this.equivalence_classes=[]}render_equivalence_classes(e){let t=ce.featureGroup();return e.equivalence_classes.map((t=>{let i=Math.abs(t.information_gain-e.max_information)<.01?"blue":`rgb(${255*(1-t.information_gain/e.max_information)}, ${255*t.information_gain/e.max_information}, 0)`,n=ce.featureGroup();return function(e,i,n){function o(i){let n=e.data[i];return n&&n.id==t.id}function s(t){let i=e.iToXY(t.tile);return{x:i.x-.5+Math.floor(t.corner/2),y:i.y-.5+t.corner%2}}let r=n;for(;o(r-1);)r-=1;for(;o(r-e.size.x);)r-=e.size.x;let a=r,l={tile:r,corner:0},c=[];do{switch(l.corner){case 0:{let t=l.tile;for(;o(t+e.size.x)&&!o(t+e.size.x-1);)t+=e.size.x;c.push(s({tile:t,corner:1})),l=o(t+e.size.x-1)?{tile:t+e.size.x-1,corner:2}:{tile:t,corner:1}}break;case 1:{let t=l.tile;for(;o(t+1)&&!o(t+e.size.x+1);)t+=1;c.push(s({tile:t,corner:3})),l=o(t+e.size.x+1)?{tile:t+e.size.x+1,corner:0}:{tile:t,corner:3};break}case 2:{let t=l.tile;for(;o(t-1)&&!o(t-e.size.x-1);)t-=1;c.push(s({tile:t,corner:0})),l=o(t-e.size.x-1)?{tile:t-e.size.x-1,corner:3}:{tile:t,corner:0};break}case 3:{let t=l.tile;for(;o(t-e.size.x)&&!o(t-e.size.x+1);)t-=e.size.x;c.push(s({tile:t,corner:2})),l=o(t-e.size.x+1)?{tile:t-e.size.x+1,corner:1}:{tile:t,corner:2};break}}}while(a!=l.tile||0!=l.corner);return ce.polygon(c.map(xe.toLatLong))}(e.raster,0,t.area[0]).setStyle({color:"black",opacity:1,weight:3,fillOpacity:.25,fillColor:i}).addTo(n),ce.marker(n.getBounds().getCenter(),{icon:ce.divIcon({iconSize:[50,20],className:"equivalence-class-information",html:`${t.information_gain.toFixed(2)}b`})}).addTo(n),n})).forEach((e=>t.addLayer(e))),t}begin(){let e=this;function t(t,i){let n=qi(t),o=n.map((t=>ma((()=>e.render_equivalence_classes(new rd(t))))));return o.subscribe(((t,n)=>{n.hasValue()&&e.parent.layer.removeLayer(n.get()),i.value()&&e.parent.layer.addLayer(t.get())})),i.subscribe((t=>{t?e.parent.layer.addLayer(o.value().get()):o.value().hasValue()&&e.parent.layer.removeLayer(o.value().get())})),{options:n,layer:o}}let i=t({candidates:this.parent.value.clue.clue.spots,range:this.parent.builder.tree.assumed_range,complement:!1,floor:this.parent.app.map.floor.value()},this.parent.tools.normal);const n=t({candidates:this.parent.value.clue.clue.spots,range:this.parent.builder.tree.assumed_range,complement:!0,floor:this.parent.app.map.floor.value()},this.parent.tools.complement);this.equivalence_classes=[i,n],this.parent.app.map.floor.subscribe((e=>this.equivalence_classes.forEach((t=>t.options.update((t=>t.floor=e)))))),this.parent.candidates_at_active_node.subscribe((e=>this.equivalence_classes.forEach((t=>t.options.update((t=>t.candidates=e))))))}end(){this.equivalence_classes.forEach((e=>{e.layer.value().hasValue()&&e.layer.value().get().remove()})),this.equivalence_classes=[]}}class Jv{constructor(e){this.clue=e,this.tree=null,this.augmented=qi(null),this.preview_invalid=ji(),this.assumptions=qi({}).equality(((e,t)=>e.meerkats_active==t.meerkats_active&&e.mobile_perk==t.mobile_perk&&e.double_escape==t.double_escape&&e.double_surge==t.double_surge)),this.order_changed=ji(),this.any_change=ji(),this.assumptions.subscribe((e=>{this.cleanTree()}))}cleanTree(){return Kv(this,void 0,void 0,(function*(){this.tree&&(this.tree.assumed_range=this.clue.range+(this.assumptions.value().meerkats_active?5:0),this.augmented.set(yield hu.Augmentation.augment({augment_paths:!0,analyze_completeness:!0,analyze_correctness:!0,analyze_timing:!0,path_assumptions:this.assumptions.value()},hu.normalize(this.tree),this.clue)),this.preview_invalid.trigger(null))}))}set(e){this.tree=e,this.cleanTree()}setRegion(e,t){this.updateNode(e,(e=>e.region=t))}updateNode(e,t){t(e),this.cleanTree(),this.any_change.trigger(null)}setPath(e,t){this.updateNode(e,(e=>e.path=t))}setOrder(e){this.tree.ordered_spots=e,this.order_changed.trigger(e)}}class ex extends aa{constructor(e){super(),this.parent=e,this.path_layer=null}begin(){this.layer=(new Rl).addTo(this.parent.layer),this.parent.tree_edit.active.subscribe((()=>this.updatePreview()),!0),this.parent.builder.preview_invalid.on((()=>this.updatePreview()))}updatePreview(){return Kv(this,void 0,void 0,(function*(){let e=this.parent.tree_edit.active_node.value(),t=new Rl;if(e)for(const i of Yv.collect_parents(e,!0)){const n=hu.getTargetRegion(i);n&&(this.parent.tree_edit.getNode(i).region_preview=new hd(n).addTo(t)),i!=e&&il.renderPath(i.raw.path).addTo(t)}else this.parent.tree_edit.root_widget&&Yv.traverse(this.parent.tree_edit.root_widget.node,(e=>Kv(this,void 0,void 0,(function*(){const i=hu.getTargetRegion(e);return(null==i?void 0:i.area)&&(this.parent.tree_edit.getNode(e).region_preview=new hd(i).addTo(t)),il.renderPath(e.raw.path).addTo(t)}))),!0);this.path_layer&&this.path_layer.remove(),this.path_layer=t.addTo(this.layer)}))}end(){}}class tx extends Bp{constructor(e,t,i,n){super(e),this.parent=e,this.app=t,this.value=i,this.side_panel=n,this.builder=new Jv(i.clue.clue),this.builder.assumptions.set(oe.cloneDeep(i.method.assumptions)),this.builder.augmented.subscribe((e=>{this.layer.setTiming(e.state.timing_analysis)})),this.builder.any_change.on((()=>{this.parent.registerChange()})),this.builder.order_changed.on((e=>{this.layer.setSpotOrder(e)})),this.layer=new Qv(i.clue.clue.spots),this.layer.marker.setClickable(!0);const o=this;this.layer.add(new class extends Or{eventContextMenu(e){e.onPre((()=>{if(e.active_entity instanceof Qv.SpotMarker){const t=e.active_entity.spot;e.addForEntity({type:"basic",text:"Set spot number",handler:()=>Kv(this,void 0,void 0,(function*(){const e=yield(new class extends fc{constructor(){super({size:"small"}),this.title.set("Set spot number")}render(){super.render(),(new Pa).appendTo(this.body).named("New Spot Number",this.input=new Rc(1,o.value.clue.clue.spots.length).setValue(o.builder.tree.ordered_spots.findIndex((e=>Te.eq(e,t)))+1)),this.input.raw().focus()}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.cancel())),new mc("Save","confirm").onClick((()=>this.confirm(this.input.get()-1)))]}getValueForCancel(){}}).do();if(void 0!==e){const i=oe.clone(o.builder.tree.ordered_spots),n=i.findIndex((e=>Te.eq(t,e))),s=i[e];i[e]=i[n],i[n]=s,o.builder.setOrder(i)}}))})}}))}}),this.interaction_guard=(new Gr).setDefaultLayer(this.layer),this.equivalence_classes=this.withSub(new Xv(this)),this.preview_layer=this.withSub(new ex(this)),this.path_editor=this.withSub(new la),this.assumptions.subscribe((e=>{this.value.method.tree.assumed_range=this.value.clue.clue.range+(e.meerkats_active?5:0),this.builder.assumptions.set(oe.cloneDeep(e)),this.layer.marker.setRadius(this.value.method.tree.assumed_range,e.meerkats_active)})),this.builder.augmented.subscribe((e=>{this.value.method.expected_time=e.state.timing_analysis.statistics.average+1}))}setPathEditor(e){this.path_editor.set(new up(this.layer.marker,this.app.template_resolver,{initial:e.path.raw,target:e.path.target,start_state:e.path.pre_state,discard_handler:()=>{},commit_handler:t=>{this.builder.setPath(e.raw,t)}},!1).onStop((()=>{this.tree_edit.active_node.value()==e&&this.tree_edit.requestActivation(null)})))}begin(){super.begin(),this.layer.setSpotOrder(this.value.method.tree.ordered_spots),new Vr({position:"top-right",type:"floating"},new za("Scan Tools").setContent(this.tools=new vd(this))).addTo(this.layer),this.builder.set(this.value.method.tree),c("<div style='font-weight: bold; text-align: center'>Scan Tree</div>").appendTo(this.side_panel),this.tree_edit=new Zv(this,this.builder.tree.root).css("overflow-y","auto").appendTo(this.side_panel),this.candidates_at_active_node=this.tree_edit.active.map((e=>e?e.node.remaining_candidates:this.value.clue.clue.spots)),this.candidates_at_active_node.subscribe((e=>{this.layer.setActiveCandidates(e)})),this.app.map.addGameLayer(this.layer),this.tree_edit.active_node.subscribe((e=>Kv(this,void 0,void 0,(function*(){e?this.setPathEditor(e):this.path_editor.set(null)}))))}end(){this.layer.remove(),this.tree_edit.remove()}setSpotOrder(e){this.value.method.tree.ordered_spots}}class ix extends fc{constructor(e=["local"]){super({force_footer:!0}),this.types=e,this.packs=Ep.instance(),this.valid_packs=qi([]),this.selected=qi(null),this.title.set("Select Pack"),this.selected.subscribe((()=>this.highlightCurrentSelection())),this.updateValidPacks(!0),this.valid_packs.subscribe((e=>{this.renderSelectors(e),e.includes(this.selected.value())||this.selected.set(null)}))}updateValidPacks(e=!1){this.packs.all().then((t=>{this.valid_packs.set(t.filter((e=>this.types.includes(e.type)))),e&&this.selected.set(oe.maxBy(this.valid_packs.value(),(e=>e.timestamp)))}))}render(){super.render(),this.renderSelectors(this.valid_packs.value())}renderSelectors(e){this.body.empty(),this.pack_widgets=e.map((e=>new sh(e,this.packs,{buttons:!1}).css("cursor","pointer").tapRaw((t=>t.on("click",(()=>{this.selected.value()==e?this.selected.set(null):this.selected.set(e)})))).appendTo(this.body))),this.types.includes("local")&&(new hc).buttons(new Jc("Create New").onClick((()=>{return e=this,t=void 0,n=function*(){let e=yield(new Ip).do();(null==e?void 0:e.created)&&this.updateValidPacks(!0)},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}))).appendTo(this.body)}highlightCurrentSelection(){const e=this.selected.value();this.pack_widgets.forEach((t=>{var i;t.toggleClass("inactive",t.pack!=e),null===(i=this.save_button)||void 0===i||i.setEnabled(!!e)}))}getButtons(){return[new mc("Cancel","cancel").onClick((()=>{this.confirm({pack:null})})),this.save_button=new mc("Save","confirm").onClick((()=>{this.confirm({pack:this.selected.value()})}))]}}var nx=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},ox=du.Method,sx=su.ClueSpot,rx=Yc.notification;class ax extends pp{constructor(e){super("Editing Method"),this.parent=e,this.save_row=(new hc).appendTo(this.body),this.header.close_handler.set((()=>this.close())),this.parent.is_dirty.subscribe((()=>this.renderSaveRow())),this.meta_props=new fg(this.parent.method).appendTo(this.body),this.renderMetaProps(),this.renderSaveRow()}renderMetaProps(){this.meta_props.render(),this.meta_props.row(new Jc("Edit Metainformation","rectangle").onClick((()=>nx(this,void 0,void 0,(function*(){const e=yield new yh(this.parent.method.clue,ox.meta(this.parent.method.method)).do();(null==e?void 0:e.result)&&(ox.setMeta(this.parent.method.method,e.result),this.renderMetaProps(),this.parent.sub_editor.setAssumptions(e.result.assumptions),this.parent.registerChange())})))))}renderSaveRow(){this.save_row.empty(),this.save_row.buttons(new Jc("Save","rectangle").setEnabled(this.parent.is_dirty.value()).onClick((()=>nx(this,void 0,void 0,(function*(){if(this.parent.method.pack)yield Ep.instance().updateMethod(this.parent.method),rx(`Successfully saved in Pack '${this.parent.method.pack.name}'.`).show();else{const e=yield(new ix).do();(null==e?void 0:e.pack)&&(yield Ep.instance().updatePack(e.pack,(e=>e.methods.push(this.parent.method.method))),this.parent.method.pack=e.pack,rx(`Successfully saved in Pack '${this.parent.method.pack.name}'.`).show(),this.renderSaveRow())}this.parent.is_dirty.set(!1)})))),new Jc("Make and Edit Copy").setEnabled(!!this.parent.method.pack).onClick((()=>nx(this,void 0,void 0,(function*(){this.parent.theorycrafter.editMethod({pack:null,clue:this.parent.method.clue,method:du.clone(this.parent.method.method)})})))),new Jc("Close").onClick((()=>nx(this,void 0,void 0,(function*(){return this.close()})))))}close(){return nx(this,void 0,void 0,(function*(){(yield this.parent.requestClosePermission())&&this.parent.stop()}))}}class lx extends aa{constructor(e,t){super(),this.theorycrafter=e,this.method=t,this.is_dirty=qi(!1),t.pack&&Ep.instance().getMethod(t.pack.local_id,t.method.id)||this.is_dirty.set(!0)}registerChange(){this.is_dirty.set(!0)}begin(){this.sidebar=new ax(this).prependTo(ua.instance().app.main_content).css("width","300px"),"scantree"==this.method.method.type?this.sub_editor=this.withSub(new tx(this,ua.instance().app,this.method,this.sidebar.body)):this.sub_editor=this.withSub(new Kp(this,this.method)),this.sub_editor.setAssumptions(this.method.method.assumptions);const e=sx.targetArea(this.method.clue);e&&this.sub_editor.layer.getMap().fitView(mr.toRect(e[0])),this.lifetime_manager.bind(Qu.instance().register())}end(){this.sidebar.remove()}requestClosePermission(){return nx(this,void 0,void 0,(function*(){return!this.is_dirty.value()||(yield new Wc({title:"Unsaved changes",body:"There are unsaved changes that will be lost.",options:[{kind:"neutral",text:"Cancel",value:!1,is_cancel:!0},{kind:"cancel",text:"Confirm",value:!0}]}).do())}))}}var cx=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class ux extends aa{constructor(e){super(),this.app=e,this.method_editor=this.withSub(new la),Ep.instance().saved.on((()=>cx(this,void 0,void 0,(function*(){yield this.layer.filter_control.refreshFilterIndex()})))).bindTo(this.lifetime_manager),this.method_editor.behaviour.subscribe(((e,t)=>{e&&!t?(this.sidebar.setVisible(!1),this.layer.remove()):!e&&t&&(this.sidebar.setVisible(!0),this.layer.addTo(this.app.map))})),this.method_editor.content_stopped.on((()=>{this.method_editor.set(null)}))}begin(){this.sidebar=new Bh(this).prependTo(this.app.main_content),this.app.favourites.method_favourite_changed.on((e=>{this.sidebar.notifyFavouriteChange(e)})).bindTo(this.lifetime_manager),this.app.map.invalidateSize(),this.layer=new nd(this).addTo(this.app.map)}end(){this.sidebar.remove(),this.layer.remove()}editMethod(e){return cx(this,void 0,void 0,(function*(){let t={clue:e.clue,pack:e.pack,method:oe.cloneDeep(e.method)};(yield(()=>cx(this,void 0,void 0,(function*(){let e=this.method_editor.get();return!e||(yield e.requestClosePermission())})))())&&this.method_editor.set(new lx(this,t))}))}}class px{constructor(e,t){this.id=e,this.name=t,this.legacy=!1}makeLegacy(){return this.legacy=!0,this}}class hx extends Ca{constructor(e={},t){e.preview_render||(e.preview_render=({origin:e,offset:t})=>Gl.render_transport_arrow(e,xe.add(e,t),t.level)),super(e),this.start_area=t,this.attachTopControl(new Sa({name:"Draw Transportation Offset"}).setText("Click an interactive tile and draw an arrow to enter the transportation offset."))}eventClick(e){e.onPre((()=>{var t;e.stopAllPropagation(),null==(null===(t=this.value.value().value)||void 0===t?void 0:t.origin)?this.start_area&&!ze.contains(this.start_area,e.tile())||this.preview({origin:e.tile(),offset:{x:0,y:0,level:0}}):this.commit({origin:this.value.value().value.origin,offset:Object.assign(Object.assign({},xe.sub(e.tile(),this.value.value().value.origin)),{level:e.tile().level-this.value.value().value.origin.level})})}))}eventHover(e){e.onPre((()=>{var t;null!=(null===(t=this.value.value().value)||void 0===t?void 0:t.origin)&&this.preview({origin:this.value.value().value.origin,offset:Object.assign(Object.assign({},xe.sub(e.tile(),this.value.value().value.origin)),{level:e.tile().level-this.value.value().value.origin.level})})}))}}class dx{constructor(e){this._default_value=e}default(e){return this._default_value=e,this}getDefault(e){return dx.P.apply(this._default_value,e)}}!function(e){var t=_e.copyUpdate2,i=ie.hboxl,n=ie.inlineimg,o=ie.spacer,s=ie.span;let r;function a(t=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER]){return new class extends e{constructor(){super((e=>Math.max(r.apply(t,e)[0],0)))}renderForm(i,n){const o=this;return new class extends e.Editor{constructor(){super(o)}render_implementation(e){const[i,o]=r.apply(t,n);o-i>20?this.control.append(new Rc(i,o).onCommit((e=>this.commit(e))).setValue(e)):this.control.append(new a_(i,o).onCommit((e=>this.commit(e))).setValue(e))}}}}}function l(){return new class extends e{constructor(){super((()=>""))}renderForm(t){const i=this;return new class extends e.Editor{constructor(){super(i)}render_implementation(e){this.control.append((new Lc).onCommit((e=>this.commit(e))).setValue(e))}}}}}function u(t,i){return new class extends e{constructor(){super((e=>r.apply(i,e)[0]))}renderForm(n,o){return new class extends e.Editor{render_implementation(e){this.control.append(new Sc({type_class:r.apply(t,o)},r.apply(i,o)).onSelection((e=>this.commit(e))).setValue(e))}}(this)}}}function p(t=!0,n=!0){return new class extends e{constructor(){super(null)}renderForm(r,a,l){const u=a.getTransform(),p=a.getInverseTransform();return new class extends e.Editor{constructor(){super(...arguments),this.wip_value=null,this.interaction=null}render_implementation(e){this.wip_value=e?{type:e.type,tiles:mr.activate(e.area).getTiles()}:null,this.update_render()}act(e){const t=this;l.setInteraction(this.interaction=(new class extends Ca{constructor(){var e,i;super();let n=(null===(e=t.wip_value)||void 0===e?void 0:e.tiles)||[];"relativetoloc"==(null===(i=t.wip_value)||void 0===i?void 0:i.type)&&(n=n.map((e=>Te.transform(e,u))));const o=new pu(n).onPreview((e=>this.preview(e))).attachTopControl(null).addTo(this);this.attachTopControl(new Sa({name:"Draw Tile Area"}).setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Shift + Mouse] add tiles, [Alt + Mouse] remove tiles")))),o.preview(n)}}).onPreview((t=>{if(t.length>0){let i=t;"relativetoloc"==e&&(i=i.map((e=>Te.transform(e,p)))),this.wip_value={type:e,tiles:i}}else this.wip_value=null;this.update_render()})).onEnd((()=>{this.commitTiles(),this.interaction=null,this.update_render()})))}commitTiles(){this.wip_value?this.commit({type:this.wip_value.type,area:mr.fromTiles(this.wip_value.tiles)}):this.commit(null)}update_render(){this.control.empty().append(i(this.wip_value?s(`${this.wip_value.tiles.length} tiles [${"relativetoloc"==this.wip_value.type?"rel":"abs"}]`):s("None"),o(),this.interaction?(new hc).buttons(new Jc("Abort").onClick((()=>{var e;null===(e=this.interaction)||void 0===e||e.cancel(),this.update_render()})),new Jc("").append(rh.delete()).onClick((()=>{var e;this.wip_value=null,null===(e=this.interaction)||void 0===e||e.cancel(),this.update_render(),this.commitTiles()}))):(new hc).buttons(t?new Jc("Rel").onClick((()=>this.act("relativetoloc"))):void 0,n?new Jc("Abs").onClick((()=>this.act("absolute"))):void 0,new Jc("").append(rh.delete()).onClick((()=>{var e;this.wip_value=null,null===(e=this.interaction)||void 0===e||e.cancel(),this.update_render(),this.commitTiles()})))))}}(this)}}}function h(t){return new e.Rec(t)}function d(e,t,i=!1){return{name:e,type:t,optional:i}}function g(){return u((()=>({toHTML:e=>{let t=La.meta(e);return c(`<div><img style="height: 18px; object-fit: contain; margin-right: 3px" src="${t.icon_url}" alt="${t.description}">${t.description}</div>`)}})),La.all().map((e=>e.type)))}function f(){return h({name:d("Name",l()),cursor:d("Icon",g())})}function y(){return u((e=>({toHTML:t=>{const o=e.prototype.actions[t.id];return o?i(n(La.meta(o[1]).icon_url)," ",o[0]):c().text("undefined")}})),(e=>e.prototype.actions.map(((e,t)=>({id:t})))))}!function(e){e.apply=function(e,t){return"function"==typeof e?e(t):e}}(r=e.P||(e.P={})),e.bool=function(){return new class extends e{constructor(){super((()=>!1))}renderForm(t){const i=this;return new class extends e.Editor{constructor(){super(i)}render_implementation(e){this.control.append((new Mc).onCommit((e=>this.commit(e))).setValue(e))}}}}},e.int=a,e.floor=function(){return a([0,3])},e.time=function(){return a([0,20]).default(3)},e.string=l,e.choose=u,e.tileArea2=p,function(e){e.translate=function(e,t){if(!t)return null;switch(t.type){case"absolute":return t.area;case"relativetoloc":return mr.transform(t.area,e.getTransform())}}}(p=e.tileArea2||(e.tileArea2={})),e.movement=function(){return new class extends e{constructor(){super(null)}renderForm(t,n,r){const a=n.getTransform(),l=n.getInverseTransform();return new class extends e.Editor{constructor(){super(...arguments),this.interaction=null,this.wip_value=null}render_implementation(e){this.wip_value=(null==e?void 0:e.fixed_target)?{relative:e.fixed_target.relative,origin_only:e.fixed_target.origin_only,tiles:mr.activate(e.fixed_target.target).getTiles()}:null,this.update_render()}startAction(e){const t=this;if("offset"==e)r.setInteraction(new hx({}).onCommit((e=>{this.wip_value=null,this.commit({offset:ha.EntityActionMovement.Offset.transform(e.offset,l.matrix)}),this.render()})));else{const i="relativefixed"==e||"originonly"==e;r.setInteraction(this.interaction=(new class extends Ca{constructor(){var e,i;super();let n=(null===(e=t.wip_value)||void 0===e?void 0:e.tiles)||[];(null===(i=t.wip_value)||void 0===i?void 0:i.relative)&&(n=n.map((e=>Te.transform(e,a))));const o=new pu(n).onPreview((e=>this.preview(e))).attachTopControl(null).addTo(this);this.attachTopControl(new Sa({name:"Draw Tile Area"}).setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Shift + Mouse] add tiles, [Alt + Mouse] remove tiles")))),o.preview(n)}}).onPreview((t=>{if(t.length>0){let n=t;i&&(n=n.map((e=>Te.transform(e,l)))),this.wip_value={relative:i,tiles:n,origin_only:"originonly"==e}}else this.wip_value=null;this.update_render()})).onEnd((()=>{this.commitWIP(),this.interaction=null,this.update_render()})))}}commitWIP(){this.wip_value?this.commit({fixed_target:{target:mr.fromTiles(this.wip_value.tiles),relative:this.wip_value.relative,origin_only:this.wip_value.origin_only}}):this.commit({offset:{x:0,y:0,level:0}})}update_render(){var e,t;const n=null!==(t=null===(e=this.get())||void 0===e?void 0:e.offset)&&void 0!==t?t:{x:0,y:0,level:0};this.control.empty().append(i(this.wip_value?s(`${this.wip_value.tiles.length} tiles [${(this.wip_value.relative?"rel":"abs")+(this.wip_value.origin_only?", org":"")}]`):s(`+ (${n.x} | ${n.y} | ${n.level})`),o(),this.interaction?(new hc).buttons(new Jc("Abort").onClick((()=>{var e;null===(e=this.interaction)||void 0===e||e.cancel(),this.update_render()})),new Jc("").append(rh.delete()).onClick((()=>{var e;this.wip_value=null,null===(e=this.interaction)||void 0===e||e.cancel(),this.update_render(),this.commitWIP()}))):(new hc).buttons(new Jc("Off").onClick((()=>this.startAction("offset"))),new Jc("Rel").onClick((()=>this.startAction("relativefixed"))),new Jc("Abs").onClick((()=>this.startAction("absolutefixed"))),new Jc("Ori").onClick((()=>this.startAction("originonly"))),new Jc("").append(rh.delete()).onClick((()=>{var e;this.wip_value=null,null===(e=this.interaction)||void 0===e||e.cancel(),this.update_render(),this.commitWIP()})))))}}(this)}}},e.dir=function(){return u({toHTML:e=>c().text(gr.toString(e))},(()=>gr.all))},e.tileArea=function(t=!0){return new class extends e{constructor(){super(mr.init({x:0,y:0,level:0}))}renderForm(n,o,s){const r=t?o.getTransform():ke.identity(),a=t?o.getInverseTransform():ke.identity();return new class extends e.Editor{constructor(){super(...arguments),this.interaction=null}render_implementation(e){this.edited_tiles=mr.activate(e).getTiles().filter((e=>0!=e.x||0!=e.y)),this.update_render()}activate(){const e=this;this.interaction?this.interaction.cancel():(s.setInteraction(this.interaction=(new class extends Ca{constructor(){super(),new pu(e.edited_tiles.map((e=>Te.transform(e,r)))).onPreview((e=>this.preview(e))).attachTopControl(null).addTo(this),this.attachTopControl(new Sa({name:"Draw Tile Area"}).setContent(c("<div style='font-family: monospace; white-space:pre'></div>").append(c().text("[Shift + Mouse] add tiles, [Alt + Mouse] remove tiles"))))}}).onPreview((e=>{this.edited_tiles=e.map((e=>Te.transform(e,a))),this.update_render()})).onEnd((()=>{this.commitTiles(),this.interaction=null,this.update_render()}))),this.update_render())}commitTiles(){this.commit(mr.fromTiles(this.edited_tiles))}update_render(){this.control.empty().append(i(this.edited_tiles.length>0?c().text(`${this.edited_tiles.length} tiles near ${Te.toString(this.edited_tiles[0])}`):c().text(`${this.edited_tiles.length} tiles`),new Jc(this.interaction?"Stop Editing":"Edit").onClick((()=>{this.activate()})),new Jc("Reset").onClick((()=>{var e;this.edited_tiles=[],null===(e=this.interaction)||void 0===e||e.cancel(),this.update_render(),this.commitTiles()}))))}}(this)}}},e.rec=h,e.element=d,e.cursorType=g,e.customAction=f,e.locAction=y,e.action=function(){return v({loc:y(),custom:f()}).default((()=>({loc:{id:0}})))};class m{constructor(e){this.type=e,this.control=c(),this.additional=c(),this.value_changed=ji()}activate(){}render(){this.control.empty(),this.additional.empty(),this.render_implementation(this.value)}commit(e){this.value=e,this.value_changed.trigger(e)}get(){return this.value}set(e){return this.value=e,this.render(),this}onChange(e){return this.value_changed.on(e),this}}e.Editor=m;class _ extends e{constructor(e){super((t=>Object.fromEntries(Object.entries(e).map((([e,i])=>[e,i.optional?void 0:i.type.getDefault(t)]))))),this.elements=e}renderForm(i,n,o){const s=this;return new class extends e.Editor{constructor(){super(s)}render_implementation(e){this.elements=Object.entries(s.elements).map((([s,r])=>new _.ElementWidget(r,r.optional?"check":"none",i+1,n,o).set(null==e?void 0:e[s]).onChange((e=>{this.commit(t(this.get(),(t=>t[s]=e)))})))),this.additional.append(...this.elements.map((e=>e.additional)))}}}}function v(t){return new class extends e{constructor(){super((e=>{const[i,n]=Object.entries(t)[0];return Object.fromEntries([[i,n.getDefault(e)]])}))}renderForm(i,n,o){const s=this;return new class extends e.Editor{constructor(){super(s)}render_implementation(e){this.elements=Object.entries(t).map((([t,s],r)=>new _.ElementWidget({type:s,name:t},"radio",i+1,n,o).set(null==e?void 0:e[t]).onChange((e=>{void 0!==e&&this.elements.forEach(((e,t)=>{t!=r&&e.set(void 0)})),this.commit({[t]:e})})))),this.additional.append(...this.elements.map((e=>e.additional)))}}}}}e.Rec=_,function(e){var t=ie.hbox;e.ElementWidget=class extends m{constructor(e,t,i,n,o){super(e.type),this.element=e,this.cb_type=t,this.depth=i,this.loc=n,this.map=o,this.sub=null,this.additional.css("margin-left","3px").css("padding-left","3px").css("border-left",`2px solid ${["blue","purple","green"][this.depth%3]}`).css("margin-top","4px").css("margin-bottom","4px")}render_implementation(e){const i=c().css("min-width","100px"),n=c().css("flex-grow","1"),o=c();switch(this.cb_type){case"check":this.checkbox=new Mc(this.element.name,"checkbox");break;case"radio":this.checkbox=new Mc(this.element.name,"radio")}this.checkbox?this.checkbox.setValue(void 0!==e).onCommit((e=>{if(e!=(void 0!==this.get())){const t=e?this.element.type.getDefault(this.loc):void 0;this.commit(t),this.render(),e&&this.sub.activate()}})).appendTo(i):i.text(this.element.name),this.additional.append(t(i,n),o),this.sub=null,void 0!==e&&(this.sub=this.element.type.renderForm(this.depth+1,this.loc,this.map).set(e).onChange((e=>this.commit(e))),n.append(this.sub.control),o.append(this.sub.additional))}}}(_=e.Rec||(e.Rec={})),e.list=function(i,n=0){return new class extends e{constructor(){super((e=>new Array(n).fill(null).map((()=>i.getDefault(e)))))}renderForm(n,o,s){const r=this;return new class extends e.Editor{constructor(){super(r)}render_implementation(e){this.control.append(new Jc("Add").onClick((()=>{this.commit(t(this.get(),(e=>e.push(i.getDefault(o))))),this.render()}))),this.elements=e.map(((e,r)=>new _.ElementWidget({name:`Item ${r}`,type:i},"check",n+1,o,s).set(e).onChange((e=>{null==e?(this.commit(t(this.get(),(e=>e.splice(r,1)))),this.render()):this.commit(t(this.get(),(t=>t[r]=e)))})))),this.additional.append(...this.elements.map((e=>e.additional)))}}}}},e.either=v,e.offset=function(n=!0){return new class extends e{renderForm(o,s,r){const a=s.getTransform(),l=s.getInverseTransform();return new class extends e.Editor{render_implementation(e){this.transformed_value=n?ha.EntityActionMovement.Offset.transform(e,a.matrix):e,this.control.append(i(new Rc(-6400,6400).setValue(this.transformed_value.x).onCommit((e=>this.save(t(this.transformed_value,(t=>t.x=e)))))," | ",new Rc(-6400,6400).setValue(this.transformed_value.y).onCommit((e=>this.save(t(this.transformed_value,(t=>t.y=e)))))," | ",new Rc(-3,3).setValue(this.transformed_value.level).onCommit((e=>this.save(t(this.transformed_value,(t=>t.level=e))))),new Jc("Draw").onClick((()=>{r.setInteraction(new hx({}).onCommit((e=>{this.save(e.offset),this.render()})))}))))}save(e){this.transformed_value=e;const t=n?ha.EntityActionMovement.Offset.transform(e,l.matrix):e;this.commit(t)}}(this)}}({x:0,y:0,level:0})}}(dx||(dx={}));class gx{constructor(e){this.value=e}movement(...e){return this.value.movement.push(...e.map((e=>e.done()))),this}}class fx{constructor(e,t){this.underlying=e,this.value=t}finish(){let e=this.value;e.source_loc=this.underlying.prototype.id;let t=this.underlying;0!=t.instance.rotation&&(e=ha.transform(e,ke.normalize(le.rotation((4-t.instance.rotation)%4))));const i="entity"==e.type?ze.bl(e.clickable_area):e.position;return e=ha.transform(e,ke.translation(xe.sub(t.box.origin,i),t.box.origin.level)),"entity"==e.type&&(e.clickable_area=ze.extend(e.clickable_area,.5)),this.value=e}}class yx extends fx{constructor(e,t){super(e,t),this.underlying=e,this.value=t}action(e={},...t){var i,n,o,s,r,a;const l=this.underlying.prototype.actions[null!==(i=e.index)&&void 0!==i?i:0],c=new gx({name:null!==(o=null!==(n=e.name)&&void 0!==n?n:null==l?void 0:l[0])&&void 0!==o?o:"Unnamed Action",cursor:null!==(r=null!==(s=e.cursor)&&void 0!==s?s:null==l?void 0:l[1])&&void 0!==r?r:"generic",interactive_area:null!==(a=e.interactive_area)&&void 0!==a?a:void 0,movement:[]});return c.value.name,c.movement(...t),this.value.actions.push(c.value),this}}!function(e){e.from=function(e){const t={type:"entity",entity:{name:e.prototype.name,kind:"static"},clickable_area:ze.from({x:0,y:0,level:0},Te.lift(xe.add(e.prototype.size,{x:-1,y:-1}),0)),actions:[]};return new yx(e,t)}}(fx||(fx={}));class mx{constructor(e){this.value=e}time(e){return this.value.time=e,this}restrict(e){return this.value.valid_from=e,this}fixed(e,t=!1){return this.value.fixed_target=t?{target:e,relative:!0}:{target:e},this.value.offset=void 0,this}offset(e){return this.value.offset=e,this.value.fixed_target=void 0,this}orientation(e){return this.value.orientation=e,this.value.forced_orientation=void 0,this}forcedOrientation(e,t=void 0){return this.value.orientation="forced",this.value.forced_orientation={dir:e,relative:t},this}done(){return this.value}}!function(e){function t(){return i({time:1})}function i(t){return new e(t)}e.init=t,e.move=i,e.offset=function(e){return t().offset(e)},e.fixed=function(e,i=!1){return t().fixed(e,i)}}(mx||(mx={}));var _x=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},vx=dx,xx=dx.rec,wx=mx.offset,bx=mx.fixed,kx=ie.span,Tx=dx.tileArea2;const zx=vx.choose({toHTML:e=>{switch(e.orientation){case void 0:return kx("Default (Weird)");case"bymovement":return kx("By Movement");case"toentitybefore":return kx("To Entity Before Movement");case"toentityafter":return kx("To Entity After Movement");case"keep":return kx("Keep Previous Rotation");case"forced":return e.forced_orientation.relative?kx(`Forced ${gr.toString(e.forced_orientation.dir)} [rel]`):kx(`Forced ${gr.toString(e.forced_orientation.dir)}`)}}},[{},{orientation:"bymovement"},{orientation:"toentitybefore"},{orientation:"toentityafter"},{orientation:"keep"},...gr.all.flatMap((e=>[!0,!1].map((t=>({orientation:"forced",forced_orientation:{relative:t,dir:e}})))))]).default({}),Sx=vx.list(vx.rec({action:vx.element("Action",vx.action()),area:vx.element("Area",vx.tileArea(!0),!0),movements:vx.element("Movements",vx.list(vx.rec({valid_from:vx.element("Valid",vx.tileArea(!0),!0),orientation:vx.element("Orientation",vx.either({simple:vx.choose({toHTML:e=>c().text(e)},["bymovement","toentitybefore","toentityafter","keep","forced"]),forced:vx.rec({dir:vx.element("Direction",vx.dir()),relative:vx.element("Relative",vx.bool())})}),!0),movement:vx.element("Movement",vx.either({offset:vx.offset(),fixed:vx.rec({area:vx.element("Area",vx.tileArea(!0)),origin_only:vx.element("Origin only",vx.bool())})})),time:vx.element("Time",vx.time())}),1))}),1),Cx=vx.list(vx.rec({action:vx.element("Action",vx.action()),area:vx.element("Area",vx.tileArea2(!0,!1),!1),movements:vx.element("Movements",vx.list(vx.rec({valid_from:vx.element("Valid",vx.tileArea2(!0,!1),!1),orientation:vx.element("Orientation",zx,!1),movement:vx.element("Movement",vx.movement()),time:vx.element("Time",vx.time())}),1))}),1);function Ax(e,t,i,n,o,s){return new class extends px{constructor(){super(e,t),this.per_loc_group_parameter=i,this.per_instance_parameter=n,this.instance_group_required=n&&o}apply(e,t){return s(e,t)}}}function Ex(e,t){0!=t.instance.rotation&&(e=ha.transform(e,ke.normalize(le.rotation((4-t.instance.rotation)%4))));const i="entity"==e.type?ze.bl(e.clickable_area):e.position;return"entity"==(e=ha.transform(e,ke.translation(xe.sub(t.box.origin,i),t.box.origin.level-i.level))).type&&(e.clickable_area=ze.extend(e.clickable_area,.5)),e}const Px=[Ax("west-facing-doors","Standard West Doors",null,null,!1,(e=>_x(void 0,void 0,void 0,(function*(){var t;return[Ex({type:"door",position:e.box.origin,direction:gr.west,name:null!==(t=e.prototype.name)&&void 0!==t?t:"Door"},e)]})))),Ax("ignore","Ignore",null,null,!1,(e=>_x(void 0,void 0,void 0,(function*(){return[]})))),Ax("ladders","Ladders",vx.rec({across:vx.element("Across",vx.bool()),single_side:vx.element("Side",vx.dir(),!0),up:vx.element("Up",vx.locAction(),!0),down:vx.element("Down",vx.locAction(),!0),top:vx.element("Top/Bottom",vx.rec({action:vx.element("Action",vx.locAction()),level:vx.element("Floor",vx.floor())}),!0)}),null,!1,((e,t)=>_x(void 0,[e,t],void 0,(function*(e,{per_loc:t}){const i=fx.from(e),n=t.single_side&&t.across?xe.scale(-2,gr.toVector(t.single_side)):{x:0,y:0},o=t.single_side?mr.init(Object.assign(Object.assign({},gr.toVector(t.single_side)),{level:0})):void 0;return null!=t.up&&i.action({index:t.up.id,interactive_area:o},wx(Object.assign(Object.assign({},n),{level:1})).orientation("toentitybefore").time(3)),null!=t.down&&i.action({index:t.down.id,interactive_area:o},wx(Object.assign(Object.assign({},n),{level:-1})).orientation("toentitybefore").time(3)),null!=t.top&&i.action({index:t.top.action.id,interactive_area:o},wx(Object.assign(Object.assign({},n),{level:t.top.level-e.box.origin.level})).orientation("toentitybefore").time(3)),[i.finish()]})))),Ax("simpleremotetransport","Remote",vx.rec({action:vx.element("Action",vx.locAction()),time:vx.element("Time",vx.time().default(2)),area:vx.element("Area",vx.tileArea(!0),!0)}),vx.rec({target:vx.element("Target",vx.tileArea(!1))}),!0,((e,t)=>_x(void 0,[e,t],void 0,(function*(e,{per_loc:t,per_instance:i}){var n;const o=fx.from(e);return o.action({index:t.action.id,interactive_area:t.area},bx(i.target).time(null!==(n=t.time)&&void 0!==n?n:2)),[o.finish()]})))),Ax("simpleremotetransportlegacy","Remote (LEGACY)",vx.rec({action:vx.element("Action",vx.locAction()),time:vx.element("Time",vx.time()),area:vx.element("Area",vx.tileArea(!0),!0)}),vx.rec({target:vx.element("Target",vx.tileArea())}),!0,((e,t)=>_x(void 0,[e,t],void 0,(function*(e,{per_loc:t,per_instance:i}){var n;const o=fx.from(e);return o.action({index:t.action.id,interactive_area:t.area},bx(mr.transform(i.target,e.getTransform())).time(null!==(n=t.time)&&void 0!==n?n:1)),[o.finish()]})))).makeLegacy(),Ax("prototypecopylocnew","Prototype NEW",xx({actions:vx.element("Actions",Cx)}),xx({actions:vx.element("Actions",Cx)}),!1,((e,t)=>_x(void 0,[e,t],void 0,(function*(e,{per_loc:t,per_instance:i}){var n;const o=fx.from(e);for(const s of[...t.actions,...null!==(n=null==i?void 0:i.actions)&&void 0!==n?n:[]])o.action({index:s.action.custom?null:s.action.loc.id,name:s.action.custom?s.action.custom.name:null,cursor:s.action.custom?s.action.custom.cursor:null,interactive_area:Tx.translate(e,s.area)},...s.movements.map((t=>{var i;let n;if(t.movement,t.movement.fixed_target){const i=mr.transform(t.movement.fixed_target.target,t.movement.fixed_target.relative?e.getTransform():ke.identity());n=bx(t.movement.fixed_target.origin_only?mr.init(i.origin):i,t.movement.fixed_target.relative)}else n=wx(t.movement.offset);return t.orientation&&("forced"!=t.orientation.orientation?n.orientation(t.orientation.orientation):n.forcedOrientation(t.orientation.forced_orientation.dir,!!t.orientation.forced_orientation.relative)),n.time(null!==(i=t.time)&&void 0!==i?i:3),t.valid_from&&n.restrict(Tx.translate(e,t.valid_from)),n})));return[o.finish()]})))),Ax("prototypecopyloc","Prototype",xx({actions:vx.element("Actions",Sx)}),xx({actions:vx.element("Actions",Sx)}),!1,((e,t)=>_x(void 0,[e,t],void 0,(function*(e,{per_loc:t,per_instance:i}){var n;const o=fx.from(e);for(const s of[...t.actions,...null!==(n=null==i?void 0:i.actions)&&void 0!==n?n:[]])o.action({index:s.action.custom?null:s.action.loc.id,name:s.action.custom?s.action.custom.name:null,cursor:s.action.custom?s.action.custom.cursor:null,interactive_area:s.area},...s.movements.map((t=>{var i;let n=null;if(t.movement.fixed){let i=t.movement.fixed.area;t.movement.fixed.origin_only&&(i=mr.transform(i,e.getTransform()),i=mr.init(i.origin),i=mr.transform(i,e.getInverseTransform())),n=bx(i,!0)}else t.movement.offset&&(n=wx(t.movement.offset));return t.orientation&&(t.orientation.simple&&n.orientation(t.orientation.simple),t.orientation.forced&&n.forcedOrientation(t.orientation.forced.dir,!!t.orientation.forced.relative)),n.time(null!==(i=t.time)&&void 0!==i?i:3),t.valid_from&&n.restrict(t.valid_from),n})));return[o.finish()]})))),Ax("prototypecopylocperinstancelegacy","(LEGACY) Prototype Per Instance",null,xx({actions:vx.element("Actions",vx.list(vx.rec({action:vx.element("Action",vx.locAction()),area:vx.element("Area",vx.tileArea(),!0),movements:vx.element("Movements",vx.list(vx.rec({valid_from:vx.element("Valid",vx.tileArea(),!0),orientation:vx.element("Orientation",vx.either({simple:vx.choose({toHTML:e=>c().text(e)},["bymovement","toentitybefore","toentityafter","keep"]),forced:vx.rec({dir:vx.element("Direction",vx.dir()),relative:vx.element("Relative",vx.bool())})}),!0),movement:vx.element("Movement",vx.either({offset:vx.offset(),fixed:vx.rec({area:vx.element("Area",vx.tileArea()),relative:vx.element("Relative",vx.bool()),origin_only:vx.element("Origin only",vx.bool())})})),time:vx.element("Time",vx.time())})))})))}),!0,((e,t)=>_x(void 0,[e,t],void 0,(function*(e,{per_instance:t}){const i=fx.from(e);for(const n of t.actions)i.action({index:n.action.id,interactive_area:n.area},...n.movements.map((t=>{var i;let n=null;if(t.movement.fixed)if(t.movement.fixed.origin_only){let i=t.movement.fixed.area;t.movement.fixed.relative&&(i=mr.transform(i,e.getTransform())),i=mr.init(i.origin),t.movement.fixed.relative&&(i=mr.transform(i,e.getInverseTransform())),n=bx(i,t.movement.fixed.relative)}else n=bx(t.movement.fixed.area,t.movement.fixed.relative);else t.movement.offset&&(n=wx(t.movement.offset));return t.orientation&&(t.orientation.simple&&n.orientation(t.orientation.simple),t.orientation.forced&&n.forcedOrientation(t.orientation.forced.dir,!!t.orientation.forced.relative)),n.time(null!==(i=t.time)&&void 0!==i?i:3),t.valid_from&&n.restrict(t.valid_from),n})));return[i.finish()]})))).makeLegacy()];var Mx,Lx;!function(e){e.getById=function(e){return Px.find((t=>t.id==e))}}(Mx||(Mx={})),function(e){let t,i,n;!function(e){e.isLoc=function(e){return"loc"==e.id[0]},e.fromCache=function(e){var t,i;switch(e.type){case"npc":return{id:e.id,name:e.data.name,actions:[],raw:e.data,size:{x:1,y:1}};case"loc":return{id:e.id,name:e.data.name,actions:[],raw:e.data,size:{x:null!==(t=e.data.width)&&void 0!==t?t:1,y:null!==(i=e.data.length)&&void 0!==i?i:1}}}}}(t=e.Prototype||(e.Prototype={})),function(e){e.hash=function(e){return e[0]+":"+e[1]},e.equals=function(e,t){return e[0]==t[0]&&e[1]==t[1]}}(i=e.PrototypeID||(e.PrototypeID={})),function(e){e.combine=function(...e){const t={};return e.forEach((e=>e.forEach((e=>{const n=i.hash(e.id);t[n]?t[n].instances.push(...oe.cloneDeep(e.instances)):t[n]=oe.cloneDeep(e)})))),Object.values(t)}}(n=e.GroupedInstanceData||(e.GroupedInstanceData={}));class o{constructor(e,t){this.prototype=e,this.instance=t,this.box=mr.init(this.instance.position,this.instance.rotation%2==0?this.prototype.size:{x:this.prototype.size.y,y:this.prototype.size.x})}protoId(){return this.prototype.id}isLoc(){return"loc"==this.prototype.id[0]}getTransform(){const e=le.rotation((4-this.instance.rotation)%4),t=we.bottomLeft(we.from({x:0,y:0},xe.transform(xe.sub(this.prototype.size,{x:1,y:1}),e)));return ke.chain(ke.translation(xe.add(this.instance.position,t),this.instance.position.level),e)}getInverseTransform(){const e=le.rotation(this.instance.rotation%4),t=we.bottomLeft(we.from({x:0,y:0},xe.transform(xe.sub(this.prototype.size,{x:1,y:1}),le.rotation((4-this.instance.rotation)%4))));return ke.chain(e,ke.translation(xe.neg(xe.add(t,this.instance.position)),-this.instance.position.level))}}e.PrototypeInstance=o;class s{constructor(e,i){this.data=e,this.lookup_table={loc:[],npc:[]},e.forEach((e=>{t.isLoc(e)?this.lookup_table.loc[e.id[1]]={prototype:e,data:i(e)}:this.lookup_table.npc[e.id[1]]={prototype:e,data:i(e)}}))}static simple(e){return new s(e,(()=>null))}getEntry(e){const t=this.lookup_table[e[0]][e[1]];return t||console.log(`Missing ${e[1]}`),t}lookup(e){return this.getEntry(e).prototype}resolve(e){const t=this.lookup(e.id);return new o(t,e)}set(e,t){const i=this.getEntry(e);i&&(i.data=t)}get(e){var t;return null===(t=this.getEntry(e))||void 0===t?void 0:t.data}}e.PrototypeIndex=s}(Lx||(Lx={}));var Dx=Lx.Prototype,Ix=ie.vbox,Ox=ie.hboxl,Rx=ie.inlineimg;class Bx{constructor(e,t){this.prepared_items=e.map((e=>({item:e,term:Bc.prepare(t(e))})))}do(e,t=void 0){return Bc.go(e,this.prepared_items,{key:"term",all:!0,threshold:-1e4,limit:t}).map((e=>e.obj.item))}}class Fx extends Pa{constructor(e){super(),this.header(Fx.renderName(e)),this.named("Id",e.id[1].toString()),this.named("Size",`${e.size.x}x${e.size.y}`),this.named("Actions",Ix(...e.actions.map((e=>Ox(Rx(La.meta(e[1]).icon_url),ie.space(),e[0],ie.space(),`(${e[2]})`)))))}}!function(e){var t=ie.staticentity,i=ie.npc;e.renderName=function(e){return Dx.isLoc(e)?t(e.name):i(e.name)}}(Fx||(Fx={}));class Nx extends Fx{constructor(e){super(e.prototype),this.named("Origin",Te.toString(e.instance.position)),this.named("Rotation",e.instance.rotation.toString())}}class jx extends Ii{constructor(e,t,i){super(),this.filter=t,this.click_options=i,this.search_field=(new Lc).setPlaceholder("Search...").onPreview((e=>this.update(e))).appendTo(this),this.result_area=c().appendTo(this).css("max-height","600px").css("overflow-y","scroll"),this.setPrototypes(e)}setPrototypes(e){this.index=new Bx(e,(e=>e.name+e.actions.map((e=>e[0])).join())),this.update(this.search_field.get())}update(e){const t=this.index.do(e,200);this.result_area.empty(),t.forEach((e=>{new jx.PrototypeSearchResult(e).on("click",(t=>{new Zi({type:"submenu",children:this.click_options(e),text:()=>Fx.renderName(e)}).showFromEvent(t)})).appendTo(this.result_area)}))}}!function(e){var t=ie.hboxl;e.PrototypeSearchResult=class extends Ii{constructor(e){super(),this.addClass("ctr-clickable"),this.append(t(Fx.renderName(e),ie.space(),`(${e.size.x}x${e.size.y})`)),this.addTippy(new Fx(e),{placement:"bottom"})}}}(jx||(jx={}));var Ux=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},qx=Lx.PrototypeInstance;class Hx{cached(){const e=this;return new class extends Hx{constructor(){super(...arguments),this.lookup_table={loc:[],npc:[]}}applyInstance(t){return e.applyInstance(t)}applyPrototype(t){return null==this.lookup_table[t.id[0]][t.id[1]]?this.lookup_table[t.id[0]][t.id[1]]=e.applyPrototype(t):this.lookup_table[t.id[0]][t.id[1]]}}}}!function(e){function t(t){return new class extends e{applyInstance(e){return!0}applyPrototype(e){var i,n;return!((null===(i=t.names)||void 0===i?void 0:i.length)>0&&!t.names.some((t=>e.name.toLowerCase().includes(t)))||(null===(n=t.action_names)||void 0===n?void 0:n.length)>0&&!t.action_names.some((t=>e.actions.some((e=>e[0].toLowerCase().includes(t)))))||t.type&&t.type!=e.id[0])}}}e.none=function(){return new class extends e{applyPrototype(e){return!0}applyInstance(e){return!0}}},e.forConfig=t,e.pre_filter=t({action_names:["open","use","enter","climb","crawl","scale","pass","jump","leave","teleport","descend","step","walk","cross","exit","squeeze","stand","ascend","top","bottom","descend","across","swing","slash","pray","operate","pull","dig","push","grapple","board","swim","through","past","attune","traverse","vault","slide","merge","activate","charge","chop-down"],names:[],type:void 0}).cached()}(Hx||(Hx={}));class Vx{constructor(e){this.data=e,this.created=ji(),this.removed=ji()}get(){return this.data}static fromList(e){return new Vx(e)}}!function(e){class t extends e{constructor(e,i){super([]),this.index=e,this.data=i.flatMap((i=>{const n=e.lookup(i.id);return n?[new t.MutableInstance(n,i,this)]:[]}))}create(e){const i=this.index.lookup(e.id);if(i){const n=new t.MutableInstance(i,e,this);this.data.push(n),this.created.trigger(n)}}remove(e){const t=this.data.indexOf(e);t>=0&&(this.data.splice(t,1),this.removed.trigger(e))}}e.Mutable=t,function(e){e.MutableInstance=class extends qx{constructor(e,t,i){super(e,t),this.source=i}deleteInstance(){this.source.remove(this)}}}(t=e.Mutable||(e.Mutable={}))}(Vx||(Vx={}));class $x extends Ji{constructor(e,t){super(),this.instance=e,this.parsing_table=t,this.zoom_sensitivity_layers=new Ki([{min:-100,hidden_here:!0,value:{scale:.25}},{min:2,value:{scale:.5}},{min:5,value:{scale:1}}]),this.floor_sensitivity_layers=Yi.single(e.box.origin.level),this.setTooltip((()=>new Nx(this.instance)))}render_implementation(e){return Ux(this,void 0,void 0,(function*(){const e=this.parsing_table&&this.parsing_table.getPairing(this.instance),t=this.rendered_with_parser=!!(null==e?void 0:e.group),i=(t&&(!e.group.parser.instance_group_required||e.instance_group),this.instance.isLoc()?"cyan":"yellow"),n=t?"green":"orange",o=Pr(this.instance.box).setStyle({fillColor:this.parsing_table?n:i,color:this.parsing_table?n:i,stroke:!0}).addTo(this);let s;const r=we.extend(mr.toRect(this.instance.box),.5);switch(this.instance.instance.rotation){case 0:s=[we.bottomLeft(r),we.topLeft(r)];break;case 1:s=[we.topLeft(r),we.topRight(r)];break;case 2:s=[we.topRight(r),we.bottomRight(r)];break;case 3:s=[we.bottomRight(r),we.bottomLeft(r)]}return ce.polyline(s.map(xe.toLatLong),{color:"red"}).addTo(this),o.getElement()}))}bounds(){return mr.toRect(this.instance.box)}contextMenu(e){return Ux(this,void 0,void 0,(function*(){return{type:"submenu",text:()=>Fx.renderName(this.instance.prototype),children:[]}}))}checkParserRedraw(){this.rendered_props.render_at_all&&(this.parsing_table&&!!this.parsing_table.getPairing(this.instance).group)!=this.rendered_with_parser&&this.render(!0)}}class Wx extends Or{constructor(e){super(),this.parsing_table=e,this.filter=Hx.none(),this.lookup_table={loc:[],npc:[]},this.parsing_table.version.subscribe((()=>{this.entity_quadtree.forEachVisible((e=>{e instanceof $x&&e.checkParserRedraw()}))}))}addDataSource(...e){return this.rendering.lock(),e.forEach((e=>{e.get().forEach((e=>this.create(e))),e.created.on((e=>{this.create(e)})).bindTo(this.lifetime_manager),e.removed.on((e=>{this.delete(e)}))})),this.rendering.unlock(),this.updateFilter(),this}entry(e){let t=this.lookup_table[e.id[0]][e.id[1]];return t||(t=this.lookup_table[e.id[0]][e.id[1]]={prototype:e,entities:[]}),t}delete(e){let t=this.entry(e.prototype);const i=t.entities.findIndex((t=>t.instance==e));i>=0&&(t.entities[i].remove(),t.entities.splice(i,1))}create(e){this.entry(e.prototype).entities.push(new $x(e,this.parsing_table).setVisible(this.filter.applyPrototype(e.prototype)&&this.filter.applyInstance(e)).addTo(this))}updateFilter(){this.lookup_table.loc.forEach((e=>{if(!e)return;const t=this.filter.applyPrototype(e.prototype);e.entities.forEach((e=>{const i=t&&this.filter.applyInstance(e.instance);e.setVisible(i)}))})),this.lookup_table.npc.forEach((e=>{if(!e)return;const t=this.filter.applyPrototype(e.prototype);e.entities.forEach((e=>{const i=t&&this.filter.applyInstance(e.instance);e.setVisible(i)}))}))}setFilter(e){return this.filter=e,this.updateFilter(),this}}var Gx=Lx.PrototypeIndex,Zx=Lx.PrototypeID;class Kx{constructor(e,t){this.data=t,this.version=qi(t.version),this.loc_index=new Gx(e.data,(()=>null)),this.data.associations.forEach((e=>{e.loc_ids.forEach((t=>{this.loc_index.set(t,e)}))})),this.instanceDataSource=new Vx.Mutable(e,this.data.custom_instances),this.instanceDataSource.created.on((e=>{this.data.custom_instances.push(e.instance),this.bumpVersion()})),this.instanceDataSource.removed.on((e=>{const t=this.data.custom_instances.indexOf(e.instance);t>=0&&(this.data.custom_instances.splice(t,1),this.bumpVersion())}))}setPairing(e,t){return(()=>{var i,n,o,s;let r=this.loc_index.get(e.prototype.id);if(r&&r.group_id!=(null===(i=t.group)||void 0===i?void 0:i.id)&&(r.loc_ids.splice(r.loc_ids.findIndex((t=>Zx.equals(t,e.prototype.id))),1),r.loc_ids.length<0&&this.data.associations.splice(this.data.associations.indexOf(r),1),this.loc_index.set(e.protoId(),r=void 0)),!t.group)return;if(!r){const i=this.data.associations.find((e=>e.group_id==t.group.id));i?(i.loc_ids.push(e.protoId()),r=i):this.data.associations.push(r={group_id:this.data.version,loc_ids:[e.protoId()],per_group_arg:void 0,group_name:"",instance_groups:[],parser_id:""})}t.group.id=r.group_id,this.loc_index.set(e.protoId(),r),r.parser_id=t.group.parser.id,r.per_group_arg=t.group.argument,r.group_name=t.group.name;let a=null===(n=r.instance_groups)||void 0===n?void 0:n.find((t=>t.instances.some((t=>Zx.equals(t.loc,e.protoId())&&Te.eq(t.origin,e.box.origin)))));if(a&&a.id!=(null===(o=t.instance_group)||void 0===o?void 0:o.id)){const t=a.instances.findIndex((t=>Zx.equals(t.loc,e.protoId())&&Te.eq(t.origin,e.box.origin)));a.instances.splice(t,1),r.instance_groups=r.instance_groups.filter((e=>e.instances.length>0)),a=void 0}if(t.instance_group){if(!a){const i=null===(s=r.instance_groups)||void 0===s?void 0:s.find((e=>e.id==t.instance_group.id));i?(i.instances.push({loc:e.protoId(),origin:e.box.origin}),a=i):(r.instance_groups||(r.instance_groups=[]),r.instance_groups.push(a={id:this.data.version,name:"",instances:[{loc:e.protoId(),origin:e.box.origin}],per_instance_argument:void 0}))}t.instance_group.id=a.id,a.per_instance_argument=t.instance_group.argument,a.name=t.instance_group.name}})(),this.bumpVersion(),t}reset(){this.data.version=-1,this.data.associations=[],this.bumpVersion()}getGroupForLoc(e){return this.loc_index[e]}getGroup(e){return this.data.associations.find((t=>t.group_id==e))}getPairing(e){var t;const i=this.loc_index.get(e.protoId());if(!i)return{group:null,instance_group:null};const n=null===(t=null==i?void 0:i.instance_groups)||void 0===t?void 0:t.find((t=>t.instances.some((t=>Zx.equals(t.loc,e.protoId())&&Te.eq(t.origin,e.box.origin)))));return{group:i?{parser:Px.find((e=>e.id==i.parser_id)),id:i.group_id,name:i.group_name,argument:i.per_group_arg}:null,instance_group:n?{id:n.id,name:n.name,argument:n.per_instance_argument}:null}}bumpVersion(){this.data.version+=1,this.version.set(this.data.version)}}var Yx=ie.hbox,Qx=ie.vbox;class Xx extends Vr{constructor(){super({position:"bottom-right",type:"floating"},c()),this.setContent(new za("Navigation").setContent(Qx(Yx(this.chunk_in=(new Lc).onCommit((()=>this.commitChunk())),new Jc("Chunk").css("width","50px").onClick((e=>this.commitChunk()))),Yx(this.coords_in=(new Lc).onCommit((e=>this.commitCoords())),new Jc("Coords").css("width","50px").onClick((e=>this.commitCoords()))))))}commitChunk(){var e;const t=null!==(e=this.chunk_in.get())&&void 0!==e?e:"";if(!t)return;let i=t.split(new RegExp("[^0-9]")).map((e=>e.trim())).filter((e=>e.length>0)).map((e=>Number(e)));i.length>=2&&this.getMap().fitView(ze.lift(we.from({x:64*i[0],y:64*i[1]},{x:64*i[0]+63,y:64*i[1]+63}),0)),this.chunk_in.setValue("")}commitCoords(){var e;const t=null!==(e=this.coords_in.get())&&void 0!==e?e:"";if(!t)return;let i=t.split(new RegExp("[^0-9]")).map((e=>e.trim())).filter((e=>e.length>0)).map((e=>Number(e)));i.length>=2&&this.getMap().fitView(ze.lift(we.from({x:i[0],y:i[1]}),0)),this.coords_in.setValue("")}}var Jx=ie.img;class ew extends Ii{constructor(e,t,i){var n;super(),this.loc=e,this.parsing_table=t,this.pairing=i,i||(this.pairing={group:null,instance_group:null}),this.map=(new oa).css("width","100%").css("height","400px").appendTo(this),(new Xx).addTo(this.map.main_layer),new $x(this.loc,null).addTo(this.map.main_layer),ce.marker(xe.toLatLong(ze.center(mr.toRect(this.loc.box),!1)),{icon:ce.divIcon({iconSize:[33,33],iconAnchor:[16,16],className:"",html:Jx("./assets/icons/alignedcompass.png").css("rotate",90*(null!==(n=this.loc.instance.rotation)&&void 0!==n?n:0)+"deg").css("scale","0.9").raw()})}).addTo(this.map.main_layer),this.properties=new Pa,this.renderProps()}center_map(){this.map.map.fitView(ze.extend(mr.toRect(this.loc.box),3),{maxZoom:20})}renderProps(){var e,t,i;this.properties.empty();const n=this.properties;if(n.header(new Mc("Pair with LOC-group").setValue(!!this.pairing.group).onCommit((e=>{e?this.pairing.group={id:-1,name:"",parser:Mx.getById("ignore"),argument:void 0}:(this.pairing.group=void 0,this.pairing.instance_group=void 0),this.renderProps()}))),this.pairing.group){if(n.named("Group",new Fc({type_class:{toHTML:e=>e?0==e.group_name.length?c().text("No name").css("font-style","italic"):c().text(e.group_name):c().text("Create new group")},search_term:e=>e?e.group_name:"Create new group"},[null].concat(this.parsing_table.data.associations.filter((e=>e.group_name.length>0)))).setValue(this.parsing_table.getGroup(this.pairing.group.id)).onSelection((e=>{e?(this.pairing.group.id=e.group_id,this.pairing.group.name=e.group_name,this.pairing.group.parser=Mx.getById(e.parser_id),this.pairing.group.argument=e.per_group_arg):(this.pairing.group.id=-1,this.pairing.group.name="",this.pairing.group.parser=Mx.getById("ignore"),this.pairing.group.argument=void 0),this.renderProps()}))),n.named("Parser",new Sc({type_class:{toHTML:e=>c().text(e?e.name:"None")}},Px.filter((e=>!e.legacy))).setValue(this.pairing.group.parser).onSelection((e=>{this.pairing.group.parser=e,this.pairing.group.argument=void 0,e.per_loc_group_parameter&&(this.pairing.group.argument=e.per_loc_group_parameter.getDefault(this.loc)),this.renderProps()}))),n.named("Group Name",(new Lc).setValue(this.pairing.group.name).onCommit((e=>{this.pairing.group.name=e}))),this.pairing.group.parser.per_loc_group_parameter&&n.header("Loc "),this.pairing.group.parser.per_loc_group_parameter){n.header("Group Parameter");const e=this.pairing.group.parser.per_loc_group_parameter.renderForm(0,this.loc,this.map).set(this.pairing.group.argument).onChange((e=>this.pairing.group.argument=e));n.row(e.control),n.row(e.additional)}if(this.pairing.group.parser.per_instance_parameter&&(n.header(new Mc("Pair with Instance Group").setValue(!!this.pairing.instance_group).onCommit((e=>{var t;this.pairing.instance_group=e?{id:-1,name:"",argument:null===(t=this.pairing.group.parser.per_instance_parameter)||void 0===t?void 0:t.getDefault(this.loc)}:void 0,this.renderProps()}))),this.pairing.instance_group)){const o=this.parsing_table.getGroup(this.pairing.group.id);if(n.named("Group",new Fc({type_class:{toHTML:e=>e?0==e.name.length?c().text("No name").css("font-style","italic"):c().text(e.name):c().text("Create new instance group")},search_term:e=>e?e.name:"Create new group"},[null].concat((null!==(e=null==o?void 0:o.instance_groups)&&void 0!==e?e:[]).filter((e=>e.name)))).setValue(null!==(i=null===(t=null==o?void 0:o.instance_groups)||void 0===t?void 0:t.find((e=>e.id==this.pairing.instance_group.id)))&&void 0!==i?i:null).onSelection((e=>{var t;e?(this.pairing.instance_group.id=e.id,this.pairing.instance_group.name=e.name,this.pairing.instance_group.argument=e.per_instance_argument):(this.pairing.instance_group.id=-1,this.pairing.instance_group.name="",this.pairing.instance_group.argument=null===(t=this.pairing.group.parser.per_instance_parameter)||void 0===t?void 0:t.getDefault(this.loc)),this.renderProps()}))),n.named("IGroup Name",(new Lc).setValue(this.pairing.instance_group.name).onCommit((e=>{this.pairing.instance_group.name=e}))),this.pairing.group.parser.per_instance_parameter){const e=this.pairing.group.parser.per_instance_parameter.renderForm(0,this.loc,this.map).set(this.pairing.instance_group.argument).onChange((e=>this.pairing.instance_group.argument=e));n.row(e.control),n.row(e.additional)}}}n.appendTo(this)}get(){return this.pairing}}class tw extends fc{constructor(e,t,i){super({size:"large",fixed:!0,disable_close_button:!0}),this.loc=e,this.parsing_table=t,this.existing_pairing=i,this.title.set("Edit Parser Pairing"),this.shown.on((()=>{this.edit.center_map()}))}show(){const e=Object.create(null,{show:{get:()=>super.show}});return t=this,i=void 0,o=function*(){return e.show.call(this)},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o}render(){super.render(),this.edit=new ew(this.loc,this.parsing_table,this.existing_pairing).appendTo(this.body)}getButtons(){return[new mc("Cancel","neutral").onClick((()=>this.confirm({type:"cancelled"}))),new mc("Save","confirm").onClick((()=>this.confirm({type:"saved",pairing:this.edit.get()})))]}getValueForCancel(){return{type:"cancelled",pairing:this.edit.get()}}}class iw extends lc{constructor(){super(),this.storage=new e.Variable("devutility/locfilter",(()=>({}))),this.setValue(this.storage.get()),this.onCommit((e=>this.storage.set(e)))}update(e){const t=oe.cloneDeep(this.get());e(t),this.commit(t)}render(){this.empty();const e=this.get(),t=new Pa;t.named("Name",(new Lc).setValue(e.names?e.names.join(";"):"").onCommit((e=>{const t=e.split(";").map((e=>e.trim().toLowerCase())).filter((e=>e.length>0));this.update((e=>e.names=t))}))),t.named("Action",(new Lc).setValue(e.action_names?e.action_names.join(";"):"").onCommit((e=>{const t=e.split(";").map((e=>e.trim().toLowerCase())).filter((e=>e.length>0));this.update((e=>e.action_names=t))}))),this.append(t)}}var nw;!function(e){var t=Lx.PrototypeIndex,i=Lx.PrototypeID;e.applyParsing=function(e,n,o,s){return r=this,a=void 0,c=function*(){var r,a,l;let c=[];const u=new t(n,(()=>[]));[o,s.instanceDataSource].forEach((e=>e.get().forEach((e=>u.get(e.protoId()).push(e)))));for(const t of s.data.associations){const n=e.find((e=>e.id==t.parser_id));if(!n)return void console.error(`Parser ${t.parser_id} is not defined!`);for(const e of t.loc_ids){const o=null!==(r=u.get(e))&&void 0!==r?r:[];0==o.length&&console.error(`Zero instances returned for loc ${e}!`);for(const s of o){const o=n.per_instance_parameter?null===(l=null===(a=t.instance_groups)||void 0===a?void 0:a.find((t=>t.instances.some((t=>i.equals(t.loc,e)&&Te.eq(t.origin,s.box.origin))))))||void 0===l?void 0:l.per_instance_argument:void 0;if(!n.instance_group_required||void 0!==o)try{const e=yield n.apply(s,{per_loc:t.per_group_arg,per_instance:o});c.push(...e.filter((e=>"entity"!=e.type||e.actions.length>0)))}catch(e){console.error(`Parser ${t.parser_id} has thrown an exception!`),console.log(e)}}}}return c},new((l=void 0)||(l=Promise))((function(e,t){function i(e){try{o(c.next(e))}catch(e){t(e)}}function n(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof l?o:new l((function(e){e(o)}))).then(i,n)}o((c=c.apply(r,a||[])).next())}));var r,a,l,c}}(nw||(nw={}));var ow=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},sw=_e.cleanedJSON,rw=Lx.PrototypeIndex,aw=Lx.PrototypeInstance,lw=Lx.Prototype,cw=Hx.pre_filter;class uw{constructor(t){this.table=t,this.last_used_groups=new e.Variable("devutility/locparsing/recentgroups",(()=>[]))}use(e){this.last_used_groups.set([e].concat(this.last_used_groups.get().filter((t=>t!=e))).slice(0,5))}get(){return this.last_used_groups.get().map((e=>this.table.getGroup(e))).filter((e=>!!e&&e.group_name.length>0))}}class pw extends Ca{constructor(e){super({preview_render:t=>new $x(new aw(e,t),null).setInteractive(!1)}),this.prototype=e,this.rotation=0,this.last_hover=null}get(e){return lw.isLoc(this.prototype),{id:this.prototype.id,position:e,rotation:this.rotation}}eventKeyDown(e){e.onPre((()=>{if("r"==e.original.key.toLowerCase()){const t=e.original.shiftKey?-1:1;this.rotation=(this.rotation+4+t)%4,this.preview(this.get(this.last_hover))}}))}eventHover(e){e.onPre((()=>{this.last_hover=e.tile(),this.preview(this.get(e.tile()))}))}eventClick(e){e.onPre((()=>{this.commit(this.get(e.tile()))}))}}class hw extends Or{constructor(){super(),this.guard=(new Gr).setDefaultLayer(this),this.local_store=fp.instance().variable("devutility/locparsing/parserassociations"),new Vr({type:"floating",position:"top-right"},this.filter_control=(new iw).onCommit((e=>this.loc_layer.setFilter(Hx.forConfig(e))))).addTo(this),new Vr({type:"floating",position:"left-top"},new za("Prototype Explorer").setContent(this.prototype_explorer=new jx([],Hx.none(),(e=>[{type:"basic",handler:()=>{this.guard.set(new pw(e).onCommit((e=>{this.parsing_table.instanceDataSource.create(e)})))},text:"Place on map"}])))).addTo(this),new Vr({type:"gapless",position:"bottom-center"},c()).setContent((new hc).buttons(new Jc("Export").onClick((()=>{new Vu(sw(this.parsing_table.data)).show()})),new Jc("Delete local table").onClick((()=>ow(this,void 0,void 0,(function*(){(yield new Wc({body:"Do you really want to delete local parsing associations?",options:[{value:!1,kind:"neutral",text:"Cancel"},{value:!0,kind:"cancel",text:"Delete"}]}).do())&&this.parsing_table.reset()})))),new Jc("Apply parsers").onClick((()=>ow(this,void 0,void 0,(function*(){const e=yield nw.applyParsing(Px,(yield this.prototypes).data,this.instance_datasource_cache,this.parsing_table);e.push({type:"entity",entity:{name:"Fallen palm tree",kind:"static"},clickable_area:{topleft:{x:3338.5,y:3242.5},botright:{x:3339.5,y:3241.5},level:0},actions:[{cursor:"agility",name:"Run across",movement:[{offset:{x:6,y:0,level:0},orientation:"bymovement",time:5}]}]},{type:"entity",entity:{name:"Rope",kind:"static"},clickable_area:{topleft:{x:2446.5,y:3171.5},botright:{x:2447.5,y:3170.5},level:0},actions:[{name:"Climb",cursor:"agility",movement:[{fixed_target:{target:{origin:{x:2443,y:3164,level:0}}},orientation:"toentitybefore",time:3}]}]},{type:"entity",entity:{name:"Mysterious entrance",kind:"static"},clickable_area:{topleft:{x:3810.5,y:3529.5},botright:{x:3812.5,y:3527.5},level:0},actions:[{name:"Enter",cursor:"enter",movement:[{fixed_target:{target:{origin:{x:2292,y:5971,level:0}}},orientation:"toentitybefore",time:5}]}]},{type:"entity",entity:{name:"Strange bloodied stones",kind:"static"},clickable_area:{topleft:{x:3559.5,y:9782.5},botright:{x:3562.5,y:9779.5},level:0},actions:[{cursor:"generic",name:"Enter",movement:[{time:1,fixed_target:{target:{origin:{x:2467,y:4889,level:1}}}}]}]},{type:"entity",entity:{name:"Tunnel",kind:"static"},clickable_area:{topleft:{x:2467.5,y:4209.5},botright:{x:2469.5,y:4208.5},level:0},actions:[{cursor:"generic",name:"Climb-into",movement:[{time:3,fixed_target:{target:{origin:{x:2472,y:3027,level:0}}}}]}]},{type:"entity",entity:{name:"Bridge",kind:"static"},clickable_area:{topleft:{x:3751.5,y:2927.5},botright:{x:3753.5,y:2925.5},level:0},actions:[{cursor:"agility",name:"Walk-across",movement:[{valid_from:{origin:{x:3754,y:2926,level:0},size:{x:1,y:2}},offset:{x:-3,y:0,level:0},orientation:"bymovement",time:4},{valid_from:{origin:{x:3751,y:2926,level:0},size:{x:1,y:2}},offset:{x:3,y:0,level:0},orientation:"bymovement",time:4}]}]},{type:"entity",entity:{name:"Bridge",kind:"static"},clickable_area:{topleft:{x:3738.5,y:2939.5},botright:{x:3740.5,y:2937.5},level:0},actions:[{cursor:"agility",name:"Walk-across",movement:[{valid_from:{origin:{x:3739,y:2940,level:0},size:{x:2,y:1}},offset:{x:0,y:-3,level:0},orientation:"bymovement",time:4},{valid_from:{origin:{x:3739,y:2937,level:0},size:{x:2,y:1}},offset:{x:0,y:3,level:0},orientation:"bymovement",time:4}]}]}),new Vu(sw(e),`Parsed ${e.length} transports.`).show()})))))).addTo(this),this.init()}init(){return ow(this,void 0,void 0,(function*(){var e,t,i;this.prototypes=fetch("/rscache/prototypes.json").then((e=>ow(this,void 0,void 0,(function*(){return rw.simple(yield e.json())})))),this.prototypes.then((e=>this.prototype_explorer.setPrototypes(e.data)));const n=fetch("/rscache/prototype_instances.json").then((e=>ow(this,void 0,void 0,(function*(){return yield e.json()}))));let o=yield this.local_store.get(),s=yield(yield fetch("/map/parsing_associations.json")).json().catch((()=>{}));this.repo_version_number=null!==(e=null==s?void 0:s.version)&&void 0!==e?e:-1;let r={version:0,custom_instances:[],associations:[]};(null!==(t=null==o?void 0:o.version)&&void 0!==t?t:-1)>r.version&&(r=o),(null!==(i=null==s?void 0:s.version)&&void 0!==i?i:-1)>r.version&&(r=s),this.parsing_table=new Kx(yield this.prototypes,r),this.loc_layer=new Wx(this.parsing_table).setFilter(Hx.forConfig(this.filter_control.get())).addTo(this);const a=yield this.prototypes;this.loc_layer.addDataSource(this.instance_datasource_cache=Vx.fromList((yield n).map((e=>a.resolve(e))).filter((e=>cw.applyPrototype(e.prototype))))),this.recents=new uw(this.parsing_table),this.parsing_table.version.subscribe((()=>ow(this,void 0,void 0,(function*(){yield this.local_store.set(this.parsing_table.data)})))),this.loc_layer.addDataSource(this.parsing_table.instanceDataSource)}))}commitPairing(e,t){const i=this.parsing_table.setPairing(e,t);i.group&&""!=i.group.name&&this.recents.use(i.group.id)}eventContextMenu(e){e.onPre((()=>{if(e.active_entity instanceof $x){const t=e.active_entity.instance,i=this.parsing_table.getPairing(t),n=this.recents.get();e.addForEntity({type:"basic",text:"Edit pairing",handler:()=>ow(this,void 0,void 0,(function*(){let e=yield new tw(t,this.parsing_table,i).do();"saved"==e.type&&this.commitPairing(t,e.pairing)}))}),this.parsing_table.getPairing(t).group?e.addForEntity({type:"basic",text:"Remove pairing",handler:()=>this.commitPairing(t,{group:null,instance_group:null})}):n.forEach((i=>{e.addForEntity({type:"basic",text:`Pair with '${i.group_name}'`,handler:()=>ow(this,void 0,void 0,(function*(){const e={group:{parser:Mx.getById(i.parser_id),id:i.group_id,name:i.group_name,argument:i.per_group_arg},instance_group:void 0};if(e.group.parser.instance_group_required){let i=yield new tw(t,this.parsing_table,e).do();"saved"==i.type&&this.commitPairing(t,i.pairing)}else this.commitPairing(t,e)}))})}))}if(e.active_entity instanceof $x){const t=e.active_entity.instance;t instanceof Vx.Mutable.MutableInstance&&e.addForEntity({type:"basic",text:"Delete Instance",handler:()=>ow(this,void 0,void 0,(function*(){t.deleteInstance()}))})}}))}}var dw,gw=ie.vbox,fw=ie.hbox,yw=ie.spacer,mw=_e.cleanedJSON,_w=Yc.notification;class vw extends Ee{constructor(){super({intervals:[{min_zoom:-1/0,interval:64}],lineStyle:{stroke:!0,weight:2,color:"white",fill:!1}})}onRemove(e){return super.onRemove(e),this.clearLayers(),this}constructLines(e,t){super.constructLines(e,t);let i={x:Math.max(0,Math.floor(e.getWest()/t)),y:Math.max(0,Math.floor(e.getSouth()/t))},n=Math.min(99,Math.ceil(e.getEast()/t)),o=Math.min(199,Math.ceil(e.getNorth()/t));for(let e=i.x;e<=n;e++)for(let t=i.y;t<=o;t++)ce.marker([64*t+31.5,64*e+31.5],{icon:ce.divIcon({iconSize:[100,40],html:`${e}|${t}`,className:"ctr-map-utility-chunk-index"})}).addTo(this)}}class xw extends Vr{constructor(){super({type:"gapless",position:"top-left"},c().css("padding","2px"))}eventHover(e){e.onPre((()=>{this.content.text(Te.toString(e.tile()))}))}}class ww extends Vr{constructor(t){super({type:"floating",position:"top-right"},c()),this.layers=t,this.view_storage=new e.Variable("devutility/activelayers",(()=>[])),this.data=new Array(t.length),this.data=t.map(((e,t)=>({persistence_id:e.persistence_id,layer:null,checkbox:new Mc(e.name).onCommit((i=>{var n;const o=this.data[t];if(null===(n=o.layer)||void 0===n||n.remove(),o.layer=null,e.persistence_id)if(i){let t=this.view_storage.get();t.includes(e.persistence_id)||t.push(e.persistence_id),this.view_storage.set(t)}else this.view_storage.set(this.view_storage.get().filter((t=>t!=e.persistence_id)));i&&(o.layer=e.constructor().addTo(this))}))}))),this.setContent(gw(...this.data.map((e=>e.checkbox))))}loadPersistence(){const e=this.view_storage.get();return this.data.forEach((t=>{t.persistence_id&&t.checkbox.setValue(e.includes(t.persistence_id))})),this}}class bw extends Or{constructor(e){super(),this.guard=e;let t=new za("Utility");t.body.append(gw(new zl([new zl.ActionBarButton("/assets/icons/cursor_generic.png",(()=>{this.startSelectTile()})),new zl.ActionBarButton("/assets/icons/cursor_use.png",(()=>{this.startSelectArea()})),new zl.ActionBarButton("/assets/icons/cursor_talk.png",(()=>{this.guard.set(new $v("")).onCommit((e=>{this.setLayer(Pr(e.area)),this.setValue({range:e.area})}))})),new zl.ActionBarButton("/assets/icons/cursor_pray.png",(()=>{this.guard.set(new pu([],["commit","copy","copytiles","reset"])).onCommit((e=>{this.setValue(mr.fromTiles(e))}))}))]),fw(this.output=c().css2({"max-width":"250px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}),yw(),new Jc("Copy").onClick((()=>{this.value&&(navigator.clipboard.writeText(this.value),_w("Copied").show())}))))),this.add(new Vr({type:"gapless",position:"bottom-center"},t))}startSelectTile(){let e=new wl;e.add(new Sa({name:"Select tile",cancel_handler:()=>e.cancel()}).setText("Click a tile")),this.guard.set(e.onCommit((e=>{this.setLayer(Cr(e)),this.setValue(e)})))}startSelectArea(){this.guard.set(new $v("")).onCommit((e=>{this.setLayer(Pr(e.area)),this.setValue(mr.toRect(e.area))}))}eventKeyDown(e){e.onPost((()=>{"t"==e.original.key.toLowerCase()?this.startSelectTile():"a"==e.original.key.toLowerCase()&&this.startSelectArea()}))}setLayer(e){this.preview&&(this.preview.remove(),this.preview=null),this.preview=e.addTo(this)}setValue(e){this.value=mw(e),this.value&&navigator.clipboard.writeText(this.value),this.output.text(this.value)}}class kw extends Or{constructor(){super(),this.view_storage=new e.Variable("devutility/viewstore",(()=>{})),this.add(new xw),this.guard=(new Gr).setDefaultLayer(this),new ww([{persistence_id:"chunks",name:"Chunks",constructor:()=>new vw},{persistence_id:"geometry",name:"Geometry",constructor:()=>new bw(this.guard)},{persistence_id:"navigation",name:"Navigation",constructor:()=>new Xx},{persistence_id:"locparsing",name:"Loc Parsing",constructor:()=>new hw}]).addTo(this).loadPersistence()}onAdd(e){super.onAdd(e);const t=this.view_storage.get();return(null==t?void 0:t.center)&&this.map.setView(t.center,t.zoom),null!=(null==t?void 0:t.floor)&&this.map.floor.set(t.floor),this}eventViewChanged(e){super.eventViewChanged(e),e.onPre((()=>{this.view_storage.set({floor:this.map.floor.value(),center:this.map.getCenter(),zoom:this.map.getZoom()})}))}}class Tw extends aa{constructor(e){super(),this.app=e,this.layer=null}begin(){this.layer=new kw,this.app.map.addGameLayer(this.layer)}end(){this.layer.remove(),this.layer.clearLayers()}}!function(e){var t=ie.div,i=ie.italic,n=_e.Order,o=_e.tap;let s;!function(e){var t=_e.Order;e.isBeta=function(e){var t;return null===(t=null==e?void 0:e.build_info)||void 0===t?void 0:t.is_beta_build},e.lift=function(e){return"number"==typeof e?{version:e}:e},e.isNewerThan=function(e,t){var i,n;return e.version>t.version||!(e.version!=t.version||!(null===(i=e.build_info)||void 0===i?void 0:i.is_beta_build)||!(null===(n=t.build_info)||void 0===n?void 0:n.is_beta_build))&&new Date(e.build_info.build_timestamp).valueOf()>new Date(t.build_info.build_timestamp).valueOf()},e.asString=function(e){var t;return(null===(t=e.build_info)||void 0===t?void 0:t.is_beta_build)?`v${e.version}B-${e.build_info.commit_sha}`:`v${e.version}`},e.natural_order=t.chain(t.comap(t.natural_order,(e=>e.version)),t.comap(t.natural_order,(e=>{var t,i,n;return null!==(n=null===(i=null===(t=e.build_info)||void 0===t?void 0:t.build_timestamp)||void 0===i?void 0:i.valueOf())&&void 0!==n?n:0}))),e.date=function(e){var t,i,n;return null!==(n=null!==(t=e.release_date)&&void 0!==t?t:null===(i=e.build_info)||void 0===i?void 0:i.build_timestamp)&&void 0!==n?n:new Date("Unknown")}}(s=e.Version||(e.Version={})),e.v50={render:e=>e.row((new u_).item("Updated map collision data to the latest game version.").item("Updated tetracompass methods that used the Games necklace, which isn't part of the recommended solving preset.").item("Added new scan methods that utilize the new Delver's anklet for Fremennik Slayer Dungeon and Brimhaven Dungeon.",(new u_).item(i("Router's note: These should be considered drafts and are subject to improvements in the future."))).item("Added a new method for the Ramokee Skinweaver anagram in masters using the Delver's anklet.")),notification:"New methods are available!",title:"New Methods using Delver's anklet",version:{version:50,release_date:new Date(Date.parse("2025-06-18"))}},e.v49={render:e=>e.paragraph("This update brings a variety of bugfixes as well as new teleports from today's game update. Updated methods are being worked on and will arrive later in the week.").row((new u_).item("For paths with multiple sections, the last section will now be shown by default unless overridden manually.",(new u_).item(i("Dev note: This should be a more reasonable default for most cases. Clue Trainer will still remember your preferred sections if you manually selected them at any point."))).item("Fixed a race condition that would sometimes cause inconsistent zooming for compass spots.").item("Fixed the location of the Portmaster Kags teleport to Pollnivneach.").item("Removed a method for an elite compass spot using the wrong Portmaster Kags teleport.").item("Fixed the area for the emote clue in the Varrock palace library.").item("Fixed a bug that caused triangulation lines to be added for hidden spots after a solution was already found.").item("Fixed the area for the emote clue in front of the Menaphos library.").item("Fixed a bug that caused desert environments to still be detected as slider puzzles after the slider was closed. ",(new u_).item(i("Dev note: There was a tiny but very impactful error in the formula used to compare two tiles. Fixing this makes the math more sound and fixes the instances where the wrong results were noticeable, but could also lead to unforeseen consequences for other puzzles. If you encounter any new issues for slider puzzles, lockboxes, or knots, please report them in the usual places. If you do, please include a screenshot of the wrongly recognized puzzle without any Clue Trainer overlay visible."))).item("Fixed a bug that caused the 'Transcript' setting for treasure maps to be reset on a reload.").item("Fixed that Cloudflare's CDN would not cache the large binary files for the slider puzzle solver, leading to slow load times on occasion.").item("Added the Delver's Anklet teleports.").item("Updated the position of the crafting guild teleport.")),notification:"Several bugfixes and new teleports have dropped.",title:"Bugfixes and new teleports",version:{version:49,release_date:new Date(Date.parse("2025-06-16"))}},e.v48={render:e=>e.row((new u_).item("Fixed that all builtin methods for elite scans were missing.")),title:"Hotfix for Missing Scan Methods",version:{version:48,release_date:new Date(Date.parse("2025-06-08"))}},e.v47={render:e=>e.header("Updated Paths").paragraph("Ngis has teamed up with Xindrjayzda to bring you a fully revamped set of suggested paths for compass spots. Feedback on this overhaul is very welcome and appreciated, so please let us know your thoughts and suggestions in the usual places.").row((new u_).item("Overhauled all paths for elite compass spots.").item("Renamed elite compass methods for consistency.").item("Added a new route for a tetracompass spot using a recently added shortcut.").item("Added a new route for a medium step in Seers' village using the amulet of nature.")).header("Changes to the Compass Solver").row((new u_).item("When manually setting a triangulation spot, entries from the preconfigured triangulation strategy are no longer replaced. Instead, a new entry is added to the bottom if necessary.").item("When the compass spot has been uniquely determined, remaining triangulation spots are now hidden instead of being deleted. They will reappear when a triangulation line is deleted. This is useful when you need to fix a mistake.")).header("General").row((new u_).item("Timing estimates for methods now account for the time it takes to dig, search a container, talk to a target, and solve a challenge scroll.",(new u_).item(i("Dev note: Since it varies a lot between players, tick counts do not account for the time taken to solve puzzles, or fight wizards and double agents.")))),notification:"Compass Paths have been overhauled",title:"New Compass Paths and Behaviour Changes",version:{version:47,release_date:new Date(Date.parse("2025-06-08"))}},e.v46={render:e=>e.row((new u_).item("Added a new tool to the path editor that is able to do limited form of path finding by displaying all ability combinations that land in the target area.").item("The path editor will now assume double surge and escape, as well as the mobile perk, when accessed via the sidebar menu.").item("When the path editor was opened via the sidebar menu, there is now an option to edit the underlying assumptions.").item("Fixed a bug where using an unreachable method of transportation resulted in invalid paths.").item("Fixed a bug that caused the path editor to break when placing a redclick anywhere else than the center of a tile.").item("Fixed the teleport area of the Traveller's necklace's teleport to the Wizard Tower.")),title:"Path Editor Changes",version:{version:46,release_date:new Date(Date.parse("2025-05-12"))}},e.v45={render:e=>e.row((new u_).item("Added a new, faster scan route for Menaphos using Leela's favour.").item("Added a new method for the Hamid hard step using Leela's favour.").item("Added a new method for the master emote step in front of the Menaphos library using Leela's favour.").item("Added a new method for the plover bird skilling step using Leela's favour.").item("Fixed an issue causing the route for the decorated cooking urn master step to not be displayed.").item("Added error notification when the Clue Reader fails.")),title:"New Methods",notification:"New Methods have arrived",version:{version:45,release_date:new Date(Date.parse("2025-04-09"))}},e.v44={render:e=>e.row((new u_).item("Improved the accuracy of more than 50 teleport landing areas. ",(new u_).item("Massive thanks to @Ngis, who spent ages teleporting to gather all these fixes.")).item("Fixed the name of Challenge Mistress Fara.").item("Fixed the area for the emote step in the garden of the max guild.").item("Replaced DJR in the fairy ring recommendations for easy clues with CJR.").item("Adjusted the detection threshold for map clues to cover more configurations.").item("Added a method for an easy clue step in Canifis using the Kharyll teleport.").item("Added Leela's favour teleports.")),title:"Improved teleport area accuracy",version:{version:44,release_date:new Date(Date.parse("2025-04-08"))}},e.v43={render:e=>e.header("General","left").row((new u_).item("Fixed a bug that caused solutions to tower puzzles to not appear for Runekit or Alt1 Electron users.").item("Moved Knot, Tower, and Lockbox overlays to the new overlay tech so they disappear automatically when Clue Trainer closes.").item("Fixed a bug that caused passage of the abyss overrides to only appear within paths.").item("Added Memory strand teleport.").item("Fixed a bug that caused methods for skilling steps to not be editable.")).header("Method Pack Updates (by Ngis)","left").row((new u_).item("Medium Pack",(new u_).item("Standardized method names.").item("Added a method to a coordinate step in the Lumbridge Swamp using the Shattered Worlds teleport.").item("Added a method for a map clue between Seer's village and Relekka using the Amulet of Nature.").item("Added a method for a coordinate step west of Tree Gnome Village using the Amulet of Nature.")).item("Hard Pack",(new u_).item("Added a method for the Heckel Funch step using a Grand Seed Pod.")).item("Master Pack",(new u_).item("Standardized method names."))),title:"Bugfixes and Method Updates",version:{version:43,release_date:new Date(Date.parse("2025-03-09"))}},e.v42={render:e=>e.row((new u_).item("Updated the tetracompass method pack to utilize the new teleports and so paths land exactly on the target tile.").item("Add missing location for Philippe Carnillean.").item("Updated outdated collision data for the path editor (for real this time).").item("Tetracompasses now consistently use the correct 1x1 excavation area.").item("Add more detail to the tooltip for teleports when used in a path.").item("Renamed methods for easy clues so the name indicates the primary method of transportation.")),title:"New Tetracompass Methods",version:{version:42,release_date:new Date(Date.parse("2025-03-06"))}},e.v41={render:e=>e.row((new u_).item("Added new methods utilizing the new Kharazi teleport for two hard clue steps.").item("Added a new method for the emote clue at Jokkul's tent utilizing the new Mountain Camp teleport.").item("Added a new scan method for Kharazi Jungle utilizing the new Kharazi teleport.").item("Renamed methods for hard clues and elite scans so they clearly indicate which teleport they start with.").item("Updated a method for a medium clue so the pack consistently uses the Varrock teleport relocated to the church.").item("Updated the path editor collision data to the latest game version.",(new u_).item(i("Dev note: The visuals will lag behind until the runeapps map is updated.")))).paragraph("As usual, many thanks to Ngis for providing the updated methods."),notification:"New methods using the new teleports have arrived",title:"New Methods",version:{version:41,release_date:new Date(Date.parse("2025-03-04"))}},e.v40={render:e=>e.row((new u_).item("Added the new Anachronia and Lost Grove teleports from the normal spellbook.").item("Added the new Western Kharazi Jungle and Mountain Camp teleports from the lunar spellbook.")).paragraph("New paths utilizing these new teleports will be added as soon as possible."),title:"New Teleports",version:{version:40,release_date:new Date(Date.parse("2025-03-03"))}},e.v39={render:e=>e.row((new u_).item("Increased the detection threshold for map clues to fix unrecognized steps.",(new u_).item(i("Dev note: You may observe false reads again when a map clue is only partially loaded. This part of the clue reader is legacy code and needs a full replacement in the future.")))),title:"Clue Reader Bugfix",version:{version:39,release_date:new Date(Date.parse("2025-02-20"))}},e.v38={render:e=>e.row((new u_).item("Fixed a bug that caused the map to not zoom in on the final compass spot when no method is selected for it.").item("Zooming in for compasses now includes the closest teleport if that option is enabled.")),title:"Bugfixes",version:{version:38,release_date:new Date(Date.parse("2025-02-19"))}},e.v37={render:e=>e.row((new u_).item("Fixed a styling bug that caused puzzle modals to be weird and double scrollbars to appear.").item("Fixed a bug with the scan panel overlay not disappearing when deactivated in the settings.").item("Moved the info button on the scan status panel so it does not overlap with the text.")),title:"Bugfixes",version:{version:37,release_date:new Date(Date.parse("2025-02-19"))}};class r{constructor(e){this.entries=[...e].sort(n.reverse(n.comap(s.natural_order,(e=>e.version)))),this.latest_patch=this.entries[0]}showModal(){new l(this).show()}}class a{constructor(e){this.entry=e}render(e){const t=this.entry.render;return this.entry.render=i=>{t(i),e(i)},this}silence(){return this.entry.silent=!0,this}notification(e){return this.entry.notification=e,this}list(e){return this.render((t=>t.row(o(new u_,e))))}releaseDate(e){return this.entry.version.release_date=e,this}}e.log=(new class{constructor(){this.log=[]}tap(e){return e(this),this}release(e,t,i){return this.wip(e,t).releaseDate(i)}wip(e,t){const i={version:{version:e},title:t,render:e=>{}};return this.log.push(i),new a(i)}add(...e){return this.log.push(...e),this}compile(){return new r(this.log)}}).tap((t=>{t.wip(55,"New Methods and Bugfixes").list((e=>e.item("Updated the internal compass calibration tool.").item("Updated the compass calibration for anti aliasing turned off to be much more accurate.").item("Added the amulet of nature teleport to Falador farm as a builtin triangulation strategy.").item("Migrated the compass overlay to new library code, so that it will disappear after Clue Trainer is reloaded or closed.").item("Added an antialiasing indicator to the compass overlay."))),t.release(54,"New Methods and Bugfixes",new Date(Date.parse("2025-07-06"))).notification("New Methods were released").list((e=>e.item("Added methods for all new elite compass spots added in the recent game update.").item("Added a method using the quest cape teleport for the Celia Diggory anagram in master clues.").item("Added a method using the Big Book o´ Piracy teleport to Mos Le´Harmless for the Brother Tranquility anagram in master clues.").item("Modified the methods for the Captain Ninto and Gnome Coach hard anagrams to account for their new, static locations.").item("Fixed the method for the medium clue step in the Kandarin Monastery, which could not be executed as intended.").item("Changed the detection threshold for map clues to be more lenient.").item("Fixed hotkey for the Eternal Magic Trees - Piscatoris teleport on the Nature's sentinel outfit.").item("Fixed hotkey for the Harmony Island teleport on the Big Book o´ Piracy."))).render((e=>e.paragraph("The scan tree for the Lost Grove scan is still in the works and is expected to release some time next week."))),t.release(53,"Hotfix: Lost Grove Scan Range",new Date(Date.parse("2025-06-30"))).list((e=>e.item("Fixed the scan range for the Lost Grove scan.").item("Added the Solak boss portal destination to the teleport dataset."))),t.release(52,"New Clue Spots",new Date(Date.parse("2025-06-30"))).render((e=>e.paragraph("This update adds support for the new and changed clue spots. Updated methods are being worked on and will be added as soon as possible."))).list((e=>e.item("Updated the position of the gnome coach.").item("Updated the position of Captain Ninto.").item("Updated hotkeys for the Portmaster Kags travel interface.").item("Updated hotkeys and location names for the Dragon Trinket teleport interface.").item("Updated hotkeys and location names for the Metallic Dragon Trinket teleport interface.").item("Added the new Lost Grove Scan.").item("Updated elite compass spots.").item("Recalculated expected method times to account for today's updates."))).notification("Support for new clue spots has been added!"),t.release(51,"Editor Improvements and Bug Fixes",new Date(Date.parse("2025-06-22"))).list((e=>e.item("Modified a few elite compass routes for easier execution.").item("Fixed that the update notification would appear every time Clue Trainer is opened.").item("Closing the page while in the method or path editor will now prompt for confirmation.").item("The scan editor can now show additional timing statistics when hovering over the status icons of nodes in the tree view."))),t.add(e.v50,e.v49,e.v48,e.v47,e.v46,e.v45,e.v44,e.v43,e.v42,e.v41,e.v40,e.v39,e.v38,e.v37,{version:{version:36,release_date:new Date(Date.parse("2025-02-18"))},notification:"Cluepedia and reworked Scan Tree Solving has released!",title:"Scan Improvements and Cluepedia",render:e=>{e.header("New Scan Tree Flow","left").row((new u_).item("Added an interactive overlay usable to navigate scan trees without having to click in the Clue Trainer window.",(new u_).item("Interactive overlay buttons can be used to select the next child node or go back up the tree.").item("Position and size of the overlay can be freely configured.").item("The overlay also includes a progress bar showing your progress through the tree.").item("In triple pulse and 'different level' situations, the correct pulse can be automatically detected.").item(i("Dev note: From personal playtesting this is a significant improvement for actively using scan tree guidance while solving, since inputting pulse information is much less disruptive than before. I encourage everyone who found scan trees to annoying to use to give it another go."))).item("Scan trees that start with a floor disambiguation (e.g. Dorgesh Khaan) will now immediately advance to the correct branch based on the previous clue's solution and whether the scan panel suggests to scan a different level (toggleable).").item("Added a status overlay to the in-game scan panel similar to the angle overlay for compasses, including some interactive components.",(new u_).item(i("Dev note: Due to time constraints, this overlay has no extensive configuration options yet. Let me know which options you would like to see in a future update.")))).paragraph("Interactive overlays are a new piece of Alt1 tech that allows overlays to react to being hovered, right-clicked or having the main hotkey (Alt+1) pressed while being hovered, or even having tooltips. Over time, they will probably be used in more places across Clue Trainer, so let me know if you have any suggestions where they might be useful.").header("General Scan Improvements","left").row((new u_).item("Spots that trigger a triple pulse no longer have their own button in scan trees. Instead, clicking the triple-line opens a new page with those spots.").item("You can now click dig spots directly on the map to move the scan tree there.").item("Triple spots are no longer included in the zoom for scan trees by default.",(new u_).item(i("Dev note: This change only affects new users, and can still be toggled on in the settings. Playtesting showed that with the change before this, seeing all triple spots all the time isn't necessary anymore, so I encourage existing users to also change this setting."))).item("Standardized colors for scan pulse types to be closer to the ingame visuals.").item("Added a contrast shadow to the scan range on the map.").item("Removed spot numbers on scans when not needed to declutter the map.").item("Fixed bug that caused the map to go to the wrong floor for some scans.").item("Added paths for a missing part of the fremmenik isles scan.")).header("Cluepedia","left").row((new u_).item("Introduced Cluepedia, Clue Trainer's integrated wiki explaining clue mechanics and Clue Trainer features.",(new u_).item("Cluepedia can be accessed via the sidebar menu or from various other places linking directly to specific pages.")).item("Added a page explaining scans and pulse mechanics.").item("Added a page explaining scan trees.").item("Added a page explaining the new interactive overlay to control scan trees.").item("Added a page explaining the 'different level' mechanic for scans.").item("Added a page explaining interactive overlays in general.")).paragraph("Cluepedia is an ongoing project. Let me know if there are any particular things you would like to see for it.").header("Other","left").row((new u_).item("A separate path section will now be created for the arrival point if a path ends with a long distance transport.").item("Compasses will now utilize the previous clue's solution area up to 4 chunks wide and high.").item("Fixed conflicting zoom for compasses where clue trainer didn't zoom in to the path for the last remaining spot.").item("Replaced obstructive arrows for far transports in paths with small circles at their arrival location.").item("Added a minimum similarity for map clues to prevent misreads due to partially loaded maps.").item("Improved the accuracy of the emote area for various easy clues.").item("Changed the cursor style on the map to no be a grabbing hand permanently.").item("Reduced default time allocated to solving sliders down to 0.2 seconds",(new u_).item("Existing users should consider changing this setting as well. With the new shuffle introduced in december, this is enough and allocating more time barely finds an improvement.")).item("Some overlays are now automatically hidden when closing or reloading Clue Trainer instead of lingering until they time out.",(new u_).item("Not all overlays have been changed to support that yet.")))}},{version:{version:35,release_date:new Date(Date.parse("2025-02-11"))},title:"Collision Fixes",render:e=>e.row((new u_).item("Updated collision data in the path editor to the latest game update.").item("Replaced a builtin path for an easy clue at Port Khazard that became impossible due to changed collision of the campfire.").item("Added Globetrotter Jacket and Backpack as possible icons for notes in paths.").item("Added interface code for Life Altar teleport."))},{version:{version:34,release_date:new Date(Date.parse("2025-01-22"))},title:"Some Teleport Additions",render:e=>{e.row((new u_).item("Added the Fremennik sea boots teleport to Relekka Market.").item("Added the Clan vexillum teleport to Falador.").item("Added Amulet of nature teleport to hops patch north of McGrubor's wood and the fruit tree patch at Tree Gnome Village").item("Added the Shattered Worlds teleport.").item("Added the Soul Wars portal transport.").item("Added the ladder to and from the Obelisk of Water.").item("Updated the path for a coordinate step in medium clues in mort myre swamp."))}},{version:{version:33,release_date:new Date(Date.parse("2025-01-13"))},title:"Nature Sentinel Key Combinations",notification:"Nature's Sentinel keyboard shortcuts have been updated.",render:e=>{e.row((new u_).item("Updated keyboard code for Nature's sentinel outfit teleports.").item("Fixed a a few mislabeled teleports.").item("Fix major performance bug that would do rapid fullscreen captures when manually clicking 'Solve'."))}},{version:{version:32,release_date:new Date(Date.parse("2025-01-06"))},title:"Data Fixes and Better Method Management",render:e=>{e.row((new u_).item("Added a note that explains how to enable the Canifis to Mort´ton shortcut to a hard clue step.").item("Removed impossible compass spots in the Kharazi jungle.").item("Fixed missing paths for recently relocated tetracompass spots (v31).").item("Added Portmaster Kags to the teleport dataset").item("Fixed wrong clue text for the WE IRK OVER NAMESAKE anagram.").item("Improved styling of buttons across the app.").item("The method selection dropdown now displays the number of available methods.").item("Restyled the section control for multi-section paths.").item("Improved navigation surrounding method packs in the 'Methods' tab.",(new u_).item("Method packs are now shown in a single section with improved styling.").item("Control Buttons were moved to the top.").item("You can now open method packs like folders to see and manage their included methods.").item("Added development utilities to simplify editing builtin methods.")))}},{version:{version:31,release_date:new Date(Date.parse("2025-01-02"))},title:"Small Compass Fixes",render:e=>{e.row((new u_).item("Added a new builtin triangulation preset for elite clues only using the normal spellbook (Menaphos House Teleport and South Feldip Hills).").item("Fixed styling issue for triangulation presets with long names.").item("The compass solver now recognizes clicked teleports when they are part of a previewed path.").item("Fixed the precise location of 3 tetracompass spots."))}},{version:{version:30,release_date:new Date(Date.parse("2024-12-21"))},title:"Crash Hotfix",silent:!0,render:e=>{e.row((new u_).item("Fixed a bug that caused clue trainer to crash internally when reading certain clue steps.").item("Fixed another bug that caused another internal crash when reading certain clue steps."))}},{version:{version:29,release_date:new Date(Date.parse("2024-12-21"))},title:"Further Zoom Fixes and Configuration Options",notification:"Check out the new options for zoom behaviour",render:e=>{e.row((new u_).item("Fixed a bug where parts of a path were hidden behind the UI after zooming in.").item("Selected path sections will now be remembered even within scan trees.").item("Added global configuration settings for zoom behaviour in the 'General' section.",(new u_).item("Added an option to limit the maximum allowed zoom level.").item("Added an option to set a minimum size for the area that is zoomed into.").item("Added an option to include the closest teleport in the zoom when not having a method selected.")).item("Added configuration options to control what to include in the zoom for scan trees.").item("Moved interface options from 'General' to the new 'Interface' section."))}},{version:{version:28,release_date:new Date(Date.parse("2024-12-16"))},title:"Decluttering Path Displays and Zoom Fixes",notification:"Check out changes to path rendering and zoom behaviour",render:e=>{e.row((new u_).item("Fixed various conflicts and inconsistencies with map parts overlaying each other in undesired ways.",(new u_).item("For example, the tile grid and collision overlay is now placed below walls.")).item("Fixed zoom to make better use of the available screen real estate while not zooming in incredibly close.").item("Reduced distracting icons from emote areas and hidey-holes.").item("Removed redundant dive and run icons across all tiers.").item("Changed rendering of yellow target indicators for run steps to be polygon based instead of an image marker so it scales better and is less obstructive.").item("Fixed various wrong far/precise dive indicators.").item("Changed the color for emote areas to match the purple of Uri and Double Agents.").item("Starting points for arrows in paths are now outset slightly so their start does not overlap with the arrow tip of the previous step.").item("Added an alternative method for the Paul Gower master step.").item("Fixed scan region names hiding teleport icons.").item("Fixed the image url for an easy map clue.").item("Removed number displays from compass spots."))}},{version:{version:27,release_date:new Date(Date.parse("2024-12-14"))},silent:!0,title:"Crowdsourcing Data Sanitation",render:e=>{e.row((new u_).item("Added some additional sanitation logic for crowdsourced slider data."))}},{version:{version:26,release_date:new Date(Date.parse("2024-12-10"))},title:"URL Update",silent:!0,render:e=>{e.row((new u_).item("The legacy url <a>https://leridon.github.io/rs3scantrainer</a> has been turned off as announced back in september.").item("Updated references to the GitHub repository to use the new URL <a>https://github.com/leridon/cluetrainer</a>.",(new u_).item("If you have a GitHub account and enjoy Clue Trainer, please head over to the repository and give it a star. ")))}},{version:{version:25,release_date:new Date(Date.parse("2024-12-09"))},title:"Game Update Fixes",render:e=>{e.row((new u_).item("Updated the crowdsourcing function to work with the updated slider shuffle.").item("Updated the teleports of the Natures's Sentinel outfit.").item("Reduced minimum solve time for sliders to 0.1 seconds down from 0.5 seconds.").item("Updated collision data after today's game update.",(new u_).item("This is not reflected in the visuals yet, as they depend on the runeapps map update."))).paragraph("Today's game update changed the shuffle algorithm for slider puzzles, making them significantly faster to solve. Preliminary testing suggests solution lengths in the range between 15 and 40 clicks.")}},{version:{version:24,release_date:new Date(Date.parse("2024-12-05"))},title:"Scan Overlay Updates",render:e=>{e.row((new u_).item("Added a second minimap overlay for the double ping range in addition to the triple ping range on scans.").item("The double and triple ping range can be toggled on/off independently from each other.").item("Added an option to manually select the minimap scaling instead of trying to automatically detect it.",(new u_).item("This is the new default because automatic zoom detection has some serious flaws.").item("Automatic zoom detection will remain as an experimental feature."))).paragraph("Next monday, the update to slider puzzles will release. To quickly evaluate the effects of this change, we need the appropriate crowd-sourced data. Crowdsourcing is powered by users of Clue Trainer that opt in for data collection available in the 'Crowdsourcing' section in the settings.")}},{version:{version:23,release_date:new Date(Date.parse("2024-11-26"))},title:"Seal Slider Fix",render:e=>{e.row((new u_).item("Enabled support for the seal slider image used to free Mephisto in the Infernal Source."))}},{version:{version:22,release_date:new Date(Date.parse("2024-11-25"))},title:"Fixes for the 'Use solution of previous step' option.",render:e=>{e.row((new u_).item("Fixed that scans not using a scan tree method would not act as expected with regards to the 'Use solution of previous step' option for compasses.").item("Regular text clues will now also provide their solutions for the 'Use solution of previous step' option for compasses.",(new u_).item("This only really benefits the O EASTERN WISHES master clue.")).item("Fixed a bug that could cause crashes when examining scan tree methods outside of Alt1."))}},{version:{version:21,release_date:new Date(Date.parse("2024-11-25"))},silent:!0,title:"Fixing the Bugfix",render:e=>{e.row((new u_).item("Added more error resilience to the minimap zoom detection, which caused the minimap overlay to not appear at all."))}},{version:{version:20,release_date:new Date(Date.parse("2024-11-25"))},title:"Bugfixes",render:e=>{e.row((new u_).item("Reduced erratic behaviour of the scan range minimap overlay in snowy areas.").item("Fixed a bug that caused the slider solver to crash when hovering the 'Hint' button immediately after opening the puzzle.").item("Fixed a critical typo that confused two very distinct types of aquatic creatures in a medium clue."))}},{version:{version:19,release_date:new Date(Date.parse("2024-11-17"))},silent:!0,title:"Internal Tooling Fixes",render:e=>{e.row((new u_).item("Fixed a math bug causing tile transforms for entity instances to be broken.").item("Added a filter safeguard to remove entity transports with zero actions.").item("Updated the tile collision data."))}},{version:{version:18,release_date:new Date(Date.parse("2024-11-17"))},title:"Clue Reader Bugfix",render:e=>{e.row((new u_).item("(Maybe) Fixed a newly introduced bug that prevented scans from being read.").item("Added a notification when the clue reader is not fully initialized when trying to solve a clue."))}},{version:{version:17,release_date:new Date(Date.parse("2024-11-16"))},title:"Scan Range Minimap Overlay",render:e=>{e.row((new u_).item("Added a scan range overlay for the minimap.",(new u_).item("This can be toggled on or off in the new settings page for scans.")).item("Fixed an internal error when manually selecting a compass clue via the search function.",(new u_).item("With this fix, you can now use the 'Solve'-page to explore pathing for compass spots by clicking on their markers.")).item("Added a popup recommending to watch the tutorial when opening Clue Trainer for the first time after installation."))}},{version:{version:16,release_date:new Date(Date.parse("2024-10-10"))},silent:!0,title:"Compass Overlay Fix",render:e=>{e.row((new u_).item("Fixed a timing issue that could cause the compass overlay to persist after the compass already ended."))}},{version:{version:15,release_date:new Date(Date.parse("2024-10-10"))},silent:!0,title:"Solving Bugfix",render:e=>{e.row((new u_).item("Fixed a bug that caused parts of the solving interface to not appear when reading a scan."))}},{version:{version:14,release_date:new Date(Date.parse("2024-10-08"))},title:"Large internal change and small visible changes",render:e=>{e.row((new u_).item("Large internal refactor of screen capturing to optimize for multiple captures being done in parallel.",(new u_).item("This is a significant internal change that could potentially lead to unforeseen issues, despite extensive testing. Please let me know if you experience any issues.")).item("Fixed a bug that caused lockbox optimization to reset down to 2 on reloading.").item("Separated the method selection dropdown into its own element instead of being embedded in the path list or the scan tree view.").item("On scans, the entire lines can now be clicked instead of just the small button containing the pulse icon."))}},{version:{version:13,release_date:new Date(Date.parse("2024-10-03"))},silent:!0,title:"Lockbox Hotfix",render:e=>{e.row((new u_).item("Changed the desync detection for lockboxes for a much more stable and reliable implementation."))}},{version:{version:12,release_date:new Date(Date.parse("2024-10-03"))},title:"Lockbox Changes",render:e=>{e.row((new u_).item("Tweaked the lockbox solver so it does not switch to a different solution in the middle of solving.",(new u_).item("Instead of independently solving the puzzle on each tick, the solver now prefers the solution closest to the previously known solution. Solution minimization is only applied on the initial solve.")).item("Extended the lockbox reader to try to detect client desyncs and pause the overlay so that it does not display a wrong solution.",(new u_).item("Occasionally, the puzzle state shown by the game client desyncs from the actual server state. The reader now tries to detect this based on the number of clicks you would need to have done to get to this state and unplausible states are discarded. This is considered experimental, so let me know if you encounter issues.")).item("The optimization mode for lockboxes can now be turned up to 5. Values above 2 encourage the solver to avoid tiles that need to be clicked 2 times.",(new u_).item("If you're thinking 'this is dumb, why would I ever do this?': You're right, please go and try to convince Ngis.")).item("Fixed some right click options for lodestones not being detected when hovering it and pressing Alt+1 on compasses."))}},{version:{version:11,release_date:new Date(Date.parse("2024-09-22"))},title:"Bugfixes",render:e=>{e.row((new u_).item("Fixed a bug that caused certain paths to not be correctly split into sections, sometimes resulting in the 'zoom to space' symptom (for example at the Edmond medium clue).").item("Added a workaround for a rare issue where a master compass would reset and be redetected as an elite compass.").item("Added 2 missing tiles to the landing area for the turtle island teleport, which sometimes caused problems with master compasses.").item("Slightly increased the time required for a stationary compass to be counted to mitigate lag spikes."))}},{version:{version:10,release_date:new Date(Date.parse("2024-09-20"))},silent:!0,title:"Timing Bugfix",render:e=>{e.row((new u_).item("Fixed a rare timing bug where a completed puzzle could abort the following clue. This was noticeable for compasses following a celtic knot.").item("Reduced the size of log files.")).paragraph("This is a bit of a speculative fix, because the source of the reported issue is not 100% confirmed.")}},{version:{version:9,release_date:new Date(Date.parse("2024-09-18"))},title:"Bugfixes",render:e=>{e.row((new u_).item("Fixed a minor bug that caused an exception when outside of Alt 1.").item("Fixed a bug that caused teleport icons on the map to not update on changes to the settings, requiring a reload."))}},{version:{version:8,release_date:new Date(Date.parse("2024-09-09"))},title:"Migration and update notices",render:e=>{e.row((new u_).item("Added a data export/import feature. Data exports will include local/imported method packs, method preferences, and all of your settings.").item("Added a migration notice to remind users that are still on the old 'leridon.github.io/rs3scantrainer' URL to migrate to 'cluetrainer.app'.",(new u_).item("The legacy URL 'leridon.github.io/rs3scantrainer' will stop being available after 2024-10-31.")).item("Added an update reminder for users that are on Alt 1 1.5.6.").item("Reduced the default setting for slider solve time to 1 second down from 2 seconds.").item("Fixed a bug that caused the map to zoom very far out on certain steps.",(new u_).item("This still isn't optimal, but it's an improvement over the previous situation.")).item("Enabled the option to automatically draw the first compass arrow for back to back arc compasses."))}},{version:{version:7,release_date:new Date(Date.parse("2024-08-11"))},title:"Transport Fixes and Permission Checking",render:e=>{e.row((new u_).item("Fixed issues with various transports missing in the path editor and many actions being named 'Unnamed Action'.").item("Clue Trainer now checks if all required permissions are granted on startup and opens and explanation how to grant them if they are not."))}},{version:{version:6,release_date:new Date(Date.parse("2024-07-14"))},title:"Celtic Knot Bugfix",render:e=>{e.row((new u_).item("Fixed a bug that caused celtic knots to revert to the 'Not enough information' state mid-solve.").item("Fixed the position of Wellington for sandy clues.")),e.header("What went wrong?","left"),e.paragraph("While solving celtic knots, there's a step called 'unification' of puzzle states. This joins the previously known state of the puzzle with the new state. It continuously updates what the solver knows about the puzzle and is required when there is not enough information initially, and to make updating the overlay continuously possible. There was a rare case where unification actually caused information to be lost, which in turn caused the solver to not find a solution anymore.")}},{version:{version:5,release_date:new Date(Date.parse("2024-07-12"))},title:"Slider Bugfix",render:e=>{e.row((new u_).item("Fixed a bug that caused invalid moves for slider puzzles to be displayed.")),e.header("What went wrong?","left"),e.paragraph("In the new solving algorithm there is a point where the slider state needs to be reflected along the main diagonal (top left to bottom right). The datastructure that describes the slider state contains the layout of the 25 tiles and for optimization reasons also the position of the blank tile and the last performed move. The latter two were not correctly updated when reflecting the state, causing invalid solutions to be produced.")}},{version:{version:4,release_date:new Date(Date.parse("2024-07-11"))},title:"Better Logging",render:e=>{e.paragraph("This update improves logging to provide more useful information for debugging in the future. Logs are now json files instead of plaintext and can contain json data or images as attachments."),e.paragraph("As a reminder, you can access and save log files by pressing F6 while Clue Trainer is focussed. Saved log files can be viewed using the Log Viewer in the development menu accessible with F4."),e.row((new u_).item("Improved the log format and Log Viewer to be more useful.").item("Added more extensive logging for a current bug involving invalid slider solutions.").item("Celtic Knots now require two consecutive identical reads for the new state to be considered valid. This makes the knot solver more resilient against wrong reads."))}},{version:{version:3,release_date:new Date(Date.parse("2024-07-10"))},title:"New Method",render:e=>{e.row((new u_).item("Added an alternative route without HSR for the medium clue in the terrorbird pen."))}},{version:{version:2,release_date:new Date(Date.parse("2024-07-09"))},title:"Slider Bugfix",render:e=>{e.row((new u_).item("Fixed a bug with error recovery on sliders that caused impossible moves to be displayed."))}},{version:{version:1,release_date:new Date(Date.parse("2024-07-09"))},notification:"Slider Puzzles now have faster solutions",title:"New Solving Algorithm for Slider Puzzles",render:e=>{e.paragraph("This update introduces a new solving algorithm for sliding puzzles. The new algorithm is based on a precomputed database that is around 170MB large and will be downloaded when the first puzzle is encountered."),e.paragraph("Due to how the algorithm works, this has a more significant effect on multitile moves (mouse mode) than on singletile moves (keyboard mode). Benchmarks suggest a move count reduction of up 30% for multitile moves and up to 10% for singletile moves."),e.paragraph("The new algorithm has been developed in cooperation with discord user Shao, who helped out massively with the algorithmic details and the required math."),e.row((new u_).item("Added a new solving algorithm for slider puzzles.").item("Fixed a bug that caused puzzles to not be read with lava in the background.").item("Fixed a bug that caused error recovery to display invalid moves."))}},{version:{version:0,release_date:new Date(Date.parse("2024-06-28"))},title:"New Methods by Ngis",render:e=>{e.row((new u_).item("Added 16 missing Tetracompass spots.").item("Added a method pack for tetracompass spots.").item("The method pack for master clues is now builtin.").item("Added a new Falador scan method that starts with the amulet of nature teleport and is 3 ticks faster on average (assuming perfect execution and no loading screens as usual).").item("Method descriptions and other meta-information are now shown in a tooltip when hovering a method in the method selection dropdown."))}},{version:{version:-1,release_date:new Date(Date.parse("2024-06-25"))},notification:"Clue Trainer now supports Sandy Clues and Tetracompasses",title:"Sandy Clues and Tetracompasses",render:e=>{e.paragraph("This update introduces support for sandy clues and tetracompasses."),e.paragraph("Also, if you want to support Clue Trainer you can now do so on the newly created <a href='https://ko-fi.com/I2I4XY829' target=”_blank”>KoFi page</a>."),e.row((new u_).item("Sandy Clues can now be solved like any other clue.").item("Tetracompasses can be solved by switching to the 'Tetras' tab in the sidebar.").item("Added in-app update notifications.").item("Moved step information for filter results in the 'Methods' tab to a tooltip."))}},{version:{version:-2,release_date:new Date(Date.parse("2024-06-18"))},title:"Slider Bugfix",render:e=>{e.row((new u_).item("Fixed an issue with the slider reader that caused misreads for some sliders, particularly the tree motive on low graphic settings."))}},{version:{version:-3,release_date:new Date(Date.parse("2024-06-16"))},title:"Compass Bugfixes",render:e=>{e.row((new u_).item("Fixed a bug that caused pretty much every spot to be considered colinear to large triangulation spots, for example after a scan.").item("Fixed a rendering bug for compass beams where their visual representation didn't match the area that was considered internally.").item("Improved the calculation of location uncertainty to properly consider the angle of the beam.",(new u_).item("The previous formula overestimated this quite significantly in most cases. The new version takes the angle into account, so that for angles that aren't perpendicular to the longest diagonal of the area the uncertainty is no longer overestimated.")).item("Compass beams now start at the edge of the origin area instead of the center, so that all spots inside of it are properly considered.",(new u_).item("This is relevant for large areas, for example when using the entirety of a scan area as the origin of a compass beam.")).item("Right-Click teleport options on Luck of the Dwarves are now recognized when pressing Alt+1 on them to set a compass position.").item("Added a workaround to hopefully fix phantom clicks on map entities."))}},{version:{version:-4,release_date:new Date(Date.parse("2024-06-14"))},title:"Miscellanious",render:e=>{e.row((new u_).item("Updated target areas of teleports to daemonheim.").item("Added support for Right Click -> Alt + 1 for Monastery, Skeletal Horror and Manor Farm, as well as the most recently used lodestone when right clicking the home teleport button on the map.").item("Fixed an occasional bug that caused wrong angles to be committed when coming from spinning compass."))}},{version:{version:-5,release_date:new Date(Date.parse("2024-06-11"))},title:"Bugfixes",render:e=>{e.row((new u_).item("Switched to a custom implementation of modals (settings, puzzles, etc.). This lacks some of the fancy animations, but crucially also lacks the bugs causing the grayed overlay rendering clue trainer unusable.").item("Fixed a long standing bug with base64 exports/imports of method packs and paths."))}},{version:{version:-6,release_date:new Date(Date.parse("2024-06-10"))},title:"New Compass Reader and Daemonheim Dig Site",render:e=>{e.row((new u_).item("The new compass reader is here. The new algorithm is not affected by the game's rendering inconsistency and will therefore fix some of the compass issues experienced over the last week.").item("Updated the collision data with today's game update.").item("Updated a compass spot that changed with today's update.").item("Added the new teleport to the daemonheim dig site.").item("Added target areas for the remaining skilling steps in master clues.").item("Updated daemonheim compass spot paths.").item("Added HSR-less alternative routes for 3 compass spots."))}},{version:{version:-7,release_date:new Date(Date.parse("2024-06-06"))},title:"Compass fixes",render:e=>{e.row((new u_).item("Added internal log keeping. You can now press F6 while the app is focused to view and save the log file. It's still mirrored to the browser console, so if you're comfortable with that, you can still use it.").item("Reduced colinearity threshold to 5° down from 10°.").item("Increased pixel count required for a compass to go into the concealed state.").item("Fixed a bug that caused compass lines to not be drawn after the angle was committed.").item("Fixed bug that caused the compass reader to go into the 'Spinning' state for a tick when coming from 'Concealed', which in turn caused the next read angle to be auto-committed.").item("Added error mitigation for the inconsistent position of the north-indicator on the compass interface.").item("Recalibrated the compass reader with the first fix in place to be hopefully accurate again.").item("Reduced the assumed inaccuracy again because hopefully this fix will cause it to be consistently accurate."))}},{version:{version:-8,release_date:new Date(Date.parse("2024-06-05"))},title:"More compass improvements and a new URL",render:e=>{e.paragraph("Clue Trainer has a new URL. You can now access it at <a href='https://cluetrainer.app'>cluetrainer.app</a>. The links in the channel description, guide page, bot command etc. have been updated and any new installations should use that URL. Existing users can switch over if they want to, but should be aware that you will need to restore your settings, as well as local and imported method packs manually. The current URL will continue to work for the time being. When it's time for it to go offline (so I can finally rename the GitHub repository) there will be plenty of notice and a way to carry over your data."),e.row((new u_).item("The previously shelved feature to use the solution of the previous clue step had a very short shelf life and is now available after some additional improvements.",(new u_).item("You can activate it in the compass settings.").item("When activated, the initially read angle of the compass will be used to draw an arrow from the position of the previous step's solution area. For now, this is limited to elite compasses.",(new u_).item("If the previous clue step was a scan, this will only work if you followed the scan tree until the remaining spots are in a reasonably small rectangle.").item("If the previous clue was also a compass and multiple spots were in the intersection of the beams, the smallest rectangle containing all spots will be used.")).item("Your selected triangulation preset will load after this initial arrow. There's an option to invert the sequence if the previous solution is used in case you rely on ending the triangulation at a certain spot (for example south feldip hills for the spirit tree).").item("There's an option to skip spots of the preset sequence if they are close to co-linear to an existing beam.")).item("The settings menu for compasses has been cleaned up. Detailed explanations of the individual settings have been moved into a tooltip of a small info-icon.").item("You can now customize the color of the triangulation beams.").item("The compass solver UI has been reverted to a horizontal header and now contains a reset button.").item("Various issues with the compass reader that caused wrong 'Concealed' readings have been resolved.").item("The compass reader now detects if you are on top of the target spot, which no longer closes the compass solver.").item("Added scan routes for the Elven Lands, Brimhaven Dungeon, Mos Le'Harmless and Fremennik Slayer Dungeon, as usual courtesy of Ngis.").item("The list containing details for the path on the map has been restored due to popular demand."))}},{version:{version:-9,release_date:new Date(Date.parse("2024-06-02"))},title:"Small compass improvements",render:e=>{e.row((new u_).item("Tweaked pixel-count thresholds for concealed compasses to be less strict.").item("Added some debug logging for the compass reader.").item("Actually disabled the incomplete feature that used the area of the previous clue step as the first triangulation point. It was already supposed to be disabled, but was missing the check to do so. Sorry if you found the current, broken version to be useful already, it will make a comeback in a hopefully less broken state."))}},{version:{version:-10,release_date:new Date(Date.parse("2024-06-01"))},title:"Improved compass solver and general improvements.",render:e=>{e.header("Compass Solver","left"),e.row((new u_).item("The UI for the compass solver has been redesigned.").item("The compass reader has been recalibrated to be even more accurate than before. It can also detect the use of MSAA and adjust accordingly.").item("The compass solver now supports showing paths from method packs.",(new u_).item("The shown path defaults to the spot closest to all the triangulation lines. Click a marker to change the selection if necessary.")).item("A full set of compass methods is included. Huge thanks to @Dongus Bungholius, @Mr Cob , @treborsmada , @Xindrjayzda for starting these back in march and @Ngis for reviewing them all and compiling them in a single set.")),e.header("General","left"),e.row((new u_).item("Optimized rendering of gridlines and teleports on the map for significant performance improvements.").item("Removed ability icons for rendered paths to reduce map clutter.").item("Added optional note-areas to dives and running-steps in the path editor. Using these to simplify existing paths is WIP.").item("Rendering for dives now uses distinct arrow shapes for far-clickable and precise dives.",(new u_).item("This relies on a change in the dataformat, so you need to migrate any existing paths you have. You can find this option by right-clicking the method pack in the Methods tab.")).item("Errors and warnings in the path editor are now shown in a minimized format to save space. Hover over them to see the details.").item("Fixed the base64 export for method packs that's apparently been broken for ages.").item("Entity-Tooltips now behave much smoother when the entity is right-clicked.").item("When drawing a run step in the path editor, the number of tiles this covers is now shown as part of the preview.").item("Teleport customization now starts out as empty instead of the Clue Chasers recommendations.").item("Updated methods for one easy and two hard clues."))}})})).compile();class l extends gc{constructor(e){super(),this.log=e,this.setTitle(`Changelog (${s.asString(e.latest_patch.version)})`)}render(){super.render();const i=(new Pa).appendTo(this.body);Intl.DateTimeFormat("de-de",{dateStyle:"medium",timeStyle:"short"}),i.row(c("<div style='text-align: center; margin-right: 5px'><a href='https://ko-fi.com/I2I4XY829' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://storage.ko-fi.com/cdn/kofi3.png?v=3' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a></div>")),i.row(t('If you enjoy Clue Trainer, please consider supporting continuous development at <a href="https://ko-fi.com/I2I4XY829" target="_blank">Ko-fi</a>.')),i.paragraph('You can also join the <a href="https://discord.gg/cluechasers" target="_blank"><img src="/assets/icons/cluechasers.png" height="12px">Clue Chasers discord</a> to leave praise and criticism, report issues, request features, get support or just come by and say hi in the <a href="https://discord.com/channels/332595657363685377/1103737270114209825" target="_blank">#clue-trainer</a> channel.'),i.divider(),e.log.entries.forEach((e=>{const t=s.date(e.version);i.header(c().text(`${t.toLocaleDateString("en-gb")} (${s.asString(e.version)}) - ${e.title}`)),e.render(i),i.divider()})),i.paragraph("No historic patch notes available beyond this point in time.")}}e.Modal=l}(dw||(dw={}));class zw extends gc{constructor(){super(),this.title.set("About Clue Trainer")}render(){super.render();const e=(new Pa).appendTo(this.body);e.header("About Clue Trainer"),e.paragraph("Clue Trainer is a new generation clue solver for Alt1 developed by Zyklop Marco in the Clue Chasers discord. Originally intended to provide an interactive way to learn optimal scan routes, the scope has gradually increased and is now a fully-featured clue solver and a test bed for new ways to solve clues in RuneScape 3."),e.paragraph("Visit Clue Trainer at"," <a href='https://github.com/Leridon/cluetrainer' target=”_blank”><img class='inline-img' src='assets/icons/github-mark-white.png'> GitHub</a>"," or the <a href='https://discord.gg/cluechasers' target=”_blank”><img class='inline-img' src='assets/icons/cluechasers.png'> Clue Chasers </a>discord in the <a href='https://discord.com/channels/332595657363685377/1103737270114209825'>#clue-trainer</a> channel."),pa().app.in_alt1||e.paragraph("Click",ie.space(),ie.text_link("here",(()=>(new _m).show())),ie.space(),"to learn how to install Clue Trainer for Alt1."),e.header("Patch Notes"),e.row(new Jc("View Patch Notes").onClick((()=>dw.log.showModal()))),e.header("Donations"),e.paragraph("You can support development of Clue Trainer by donating at <a href='https://ko-fi.com/I2I4XY829' target=”_blank”>KoFi</a>. Donations contribute to covering the costs associated with hosting Clue Trainer and are a great way to show appreciation for the time and effort that goes into development."),e.row("<div style='text-align: center'><a href='https://ko-fi.com/I2I4XY829' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://storage.ko-fi.com/cdn/kofi3.png?v=3' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a></div>"),e.header("Credits"),e.paragraph("Clue Trainer is a team effort that requires much more than just the programming and I want to mention a few people specifically that contributed to this journey."),e.paragraph("<strong>Skillbert</strong> for his work on <a href='https://www.runeapps.org'>runeapps.org</a> and the Alt1 toolkit, as well as always helping out with questions about RuneScape's inner workings. Clue Trainer includes code from Alt1's official clue solver with kind permission from Skillbert."),e.paragraph("<strong>Ngis</strong> for being very enthusiastic about Clue Trainer's editor tools and contributing a large majority of the builtin method packs."),e.paragraph("<strong>Fiery</strong> for creating the original scan guide spreadsheet that prompted the original creation of this tool as 'Scan Trainer' and is the basis of many of the included scan routes."),e.paragraph("<strong>Beau</strong> and the rest of the Clue Chasers team for supporting development by providing a space for open discussion around the tool and clue methods."),e.paragraph("<strong>Shao</strong> for their support with the updated slider solving algorithm."),e.paragraph("In no particular order <strong>Pup</strong>, <strong>Xindrjayzda</strong>, <strong>Mr Cob</strong>, <strong>Dongus Bungholius</strong>, <strong>treborsmada</strong>, <strong>Intercal</strong>, <strong>xaj</strong>, as well as everyone else who contributed by reporting issues, expressing thoughts, sharing clue methods and generally being part of this journey."),e.header("Legal disclaimer"),e.paragraph("Icons and other assets used are owned by Jagex Ltd. and their use is intended to fall under fair dealing as a fan project.")}}var Sw=ie.spacer,Cw=ie.span,Aw=wa.movement_state;class Ew extends kl{constructor(e,t){super(),this.addClass("ctr-menubar-button"),this.append(c("<div style='height: 32px'></div>").append(c(`<img src="${t}" style="width: 32px" alt="">`)),Cw(e))}setActive(e){return this.toggleClass("active",e),this}}class Pw extends aa{constructor(e){super(),this.app=e,this.layer=new Or,this.layer.add(new xw)}begin(){this.app.map.addGameLayer(this.layer)}end(){this.layer.remove()}}class Mw extends Ii{constructor(e){super(),this.app=e,this.active_tab=qi(null),this.addClass("ctr-menubar"),this.append(this.solve_button=new Ew("Solve","/assets/icons/ribbon_clue.png").onClick((()=>{this.switchToTab("solve")})).addTippy((new Pa).header("Clue Solver").row(c().text("Clue solver to use while solving or for looking at methods.").css("font-style","italic")),{placement:"right",hideOnClick:!1}),this.map_button=new Ew("Map","/assets/icons/ribbon_map.png").onClick((()=>{this.switchToTab("map")})).addTippy((new Pa).header("Map").row(c().text("A simple map view.").css("font-style","italic")),{placement:"right",hideOnClick:!1}),this.create_button=new Ew("Methods","/assets/icons/ribbon_notes.webp").onClick((()=>{this.switchToTab("create")})).addTippy((new Pa).header("Method Management").row(c().text("View, Manage and Create methods for clue steps.").css("font-style","italic")),{placement:"right",hideOnClick:!1}),this.paths_button=new Ew("Paths","/assets/icons/ribbon_activitytracker.webp").onClick((()=>{this.switchToTab("pathedit")})).addTippy((new Pa).header("Path Editor").row(c().text("Edit paths on the map independently of clues.").css("font-style","italic")),{placement:"right",hideOnClick:!1}),this.tetracompass_button=new Ew("Tetras","/assets/icons/ribbon_tetra.png").onClick((()=>{this.switchToTab("tetracompass")})).addTippy((new Pa).header("Tetracompass Solver").row(c().text("The compass solver adapted to work for tetracompasses.").css("font-style","italic")),{placement:"right",hideOnClick:!1}),Sw(),this.app.in_alt1?void 0:new Ew("Alt1","/assets/icons/ribbon_alt1.png").onClick((()=>{(new _m).show()})).setActive(!0).addTippy((new Pa).header("Alt 1").row(c().text("Shows instructions how to add Clue Trainer to Alt1.").css("font-style","italic")),{placement:"right",hideOnClick:!1}),new Ew("Wiki","/assets/icons/ribbon_osh.png").onClick((()=>B_.openOnPage())).setActive(!0).addTippy((new Pa).header("Cluepedia").row(c().text("Cluepedia is a mini wiki included with Clue Trainer that contains guides and explanations of clue mechanics.").css("font-style","italic")),{placement:"right",hideOnClick:!1}),this.settings_button=new Ew("Settings","/assets/icons/ribbon_options.webp").onClick((()=>{dv.openOnPage()})).setActive(!0).addTippy((new Pa).header("Settings").row(c().text("Access settings.").css("font-style","italic")),{placement:"right",hideOnClick:!1}),new Ew("About","/assets/icons/ribbon_about.webp").setActive(!0).onClick((()=>[(new zw).show()])),c().append(c('<a href="https://github.com/Leridon/cluetrainer" target="_blank"> <img class="ctr-clickable" height="15px" style="padding: 0 2px" src="/assets/icons/github-mark-white.png"></a>'),c('<a href="https://ko-fi.com/I2I4XY829" target="_blank"><img class="ctr-clickable" height="15px" src="/assets/icons/kofi.webp"></a>')),c().append()),this.updateState()}switchToTab(e){if(e!=this.active_tab.value()){switch(e){case"map":this.app.main_behaviour.set(new Pw(this.app));break;case"solve":this.app.main_behaviour.set(new t_(this.app,!1));break;case"tetracompass":this.app.main_behaviour.set(new t_(this.app,!0));break;case"create":this.app.main_behaviour.set(new ux(this.app));break;case"pathedit":this.app.main_behaviour.set(new up((new Or).addTo(this.app.map),this.app.template_resolver,{initial:[],start_state:Aw.start({double_surge:!0,double_escape:!0,mobile_perk:!0}),editable_assumptions:!0},!0));break;case"utility":this.app.main_behaviour.set(new Tw(this.app))}this.active_tab.set(e),this.updateState()}}updateState(){var e,t,i,n,o,s;const r=this.active_tab.value();null===(e=this.solve_button)||void 0===e||e.setActive("solve"==r),null===(t=this.map_button)||void 0===t||t.setActive("map"==r),null===(i=this.create_button)||void 0===i||i.setActive("create"==r),null===(n=this.paths_button)||void 0===n||n.setActive("pathedit"==r),null===(o=this.utility_button)||void 0===o||o.setActive("utility"==r),null===(s=this.tetracompass_button)||void 0===s||s.setActive("tetracompass"==r)}setCollapsed(e){e?this.container.animate({width:"hide"},0):this.container.animate({width:"show"},0)}}var Lw=_e.todo,Dw=su.ClueSpot;class Iw{constructor(t){this.methods=t,this.method_favourite_changed=ji(),this.data=new e.Variable("clue_favourites",(()=>null)),this.normalize_data()}normalize_data(){this.data.value||(this.data.value={methods:[],challenge_answers:[]}),this.data.value.methods||(this.data.value.methods=[]),this.data.value.challenge_answers||(this.data.value.challenge_answers=[]),this.data.save()}getTalkId(e){Lw()}setTalkId(e,t){Lw()}getChallengeAnswerId(e){var t,i;return null!==(i=null===(t=this.data.value.challenge_answers.find((t=>t.clue_id==e.id)))||void 0===t?void 0:t.answer_id)&&void 0!==i?i:0}setChallengeAnswerId(e,t){const i=this.data.value.challenge_answers.find((t=>t.clue_id==e.id));i?i.answer_id=t:this.data.value.challenge_answers.push({clue_id:e.id,answer_id:t}),this.data.save()}getMethod(e){return t=this,i=arguments,o=function*(e,t=!0){const i=this.data.value.methods.find((t=>Dw.Id.equals(e,t.spot)));if(!i&&t){const t=yield this.methods.getForClue(e),i=t.find((e=>"default"==e.pack.type&&e.method.is_default_override));return i||(oe.minBy(t.filter((e=>"default"==e.pack.type)),(e=>e.method.expected_time))||oe.minBy(t,(e=>e.method.expected_time)))}if(i)return(null==i?void 0:i.method)?this.methods.resolve(i.method):null},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o}setMethod(e,t){this.normalize_data();const i=this.data.value.methods.findIndex((t=>Dw.Id.equals(t.spot,e)));void 0===t?i>=0&&this.data.value.methods.splice(i,1):i>=0?this.data.value.methods[i].method=t?{local_pack_id:t.pack.local_id,method_id:t.method.id}:null:this.data.value.methods.push({spot:oe.cloneDeep(e),method:t?{local_pack_id:t.pack.local_id,method_id:t.method.id}:null}),this.method_favourite_changed.trigger({clue:e,new:t}),this.data.save()}}var Ow=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Rw=Lf.SliderState,Bw=_e.avg,Fw=ie.hboxc,Nw=ie.hgrid,jw=ie.span,Uw=_e.count,qw=ie.vbox,Hw=ie.hbox,Vw=_e.copyUpdate,$w=ie.hboxl,Ww=ie.space,Gw=_e.median;const Zw=_a((()=>Ow(void 0,void 0,void 0,(function*(){return yield(yield fetch("/data/sliders.json")).json()})))),Kw=_a((()=>Ow(void 0,void 0,void 0,(function*(){return yield(yield fetch("/data/sliders_2024.json")).json()}))));function Yw(e){const t=oe.sortBy(e.tests.filter((e=>e.moves)).map((e=>e.moves.length)));return{average:Bw(...t),min:t[0],max:t[t.length-1],success_chance:Uw(e.tests,(e=>!!e.moves))/e.tests.length,median:Gw(t),standard_deviation:(i=t,Math.sqrt(function(e){const t=Bw(...e);return oe.sum(e.map((e=>Math.pow(e-t,2))))/e.length}(i)))};var i}class Qw extends lc{constructor(e){super(qw()),this.max_count=e}render(){super.render(),this.empty();const e=this.get();new Sc({type_class:{toHTML(e){switch(e){case"crowdsourced":return"Crowdsourced (Old)";case"trueshuffle":return"True Shuffle";case"osrsshuffle":return"OSRS Shuffle";case"crowdsourced2024":return"Crowdsourced (2024)"}return e}}},["crowdsourced","crowdsourced2024","osrsshuffle","trueshuffle"]).setValue(e.type).onSelection((t=>{this.commit(Vw(e,(e=>e.type=t)))})).appendTo(this),new a_(1,100,1).setValue(e.count).onCommit((t=>this.commit(Vw(e,(e=>e.count=t))))).appendTo(this)}}var Xw;!function(e){e.instantiate=function(e){return Ow(this,void 0,void 0,(function*(){const t=[];for(const i of e.test_sets){const e=[];for(;e.length<i.count;)switch(i.type){case"crowdsourced":{const t=yield Zw.get(),i=t[oe.random(t.length-1)];Rw.isSolveable(i.state)&&e.push(i.state);break}case"crowdsourced2024":{const t=yield Kw.get(),i=t[oe.random(t.length-1)];Rw.isSolveable(i.state)&&e.push(i.state);break}case"trueshuffle":e.push(Rw.createRandom());break;case"osrsshuffle":e.push(cy.asState(cy.ramenShuffle()))}const n={trueshuffle:"True Shuffle",osrsshuffle:"Suspected New Shuffle",crowdsourced:"Old Shuffle (Crowdsourced)",crowdsourced2024:"New Shuffle (Crowdsourced)"};t.push({states:e,name:n[i.type]})}const i=yield Promise.all(e.candidates.map((e=>Ow(this,void 0,void 0,(function*(){switch(e.type){case"random":return{timeout:e.timeout,solver:zy,name:"Random"};case"pdb":const t=yield Ny.instance.get(),i=`PDB ${e.db}${e.reflect?" +R":""}`,n=new fy(new yy.RegionGraph((yield t.getSimple(yield t.find(void 0,e.db))).tables,e.reflect));return{timeout:e.timeout,solver:n,name:i}}})))));return{setup:e,test_cases:t,candidates:i}}))}}(Xw||(Xw={}));class Jw extends Dd{constructor(e){super(),this.settings=e,this.on_progress=ji()}implementation(){return Ow(this,void 0,void 0,(function*(){const e=this.settings.test_cases.map((e=>({test_set:e,candidates:this.settings.candidates.map((t=>({test_set:e,candidate:t,done_count:0,tests:[],success_count:0,statistics:{average:0,max:0,min:0,standard_deviation:0,success_chance:0,median:0}})))})));this.on_progress.trigger(e);for(const t in this.settings.test_cases){const i=this.settings.test_cases[t];for(let n=0;n<this.settings.candidates.length;n++){const o=this.settings.candidates[n];for(let s=0;s<i.states.length;s++){if(this.should_stop)return e;const r=i.states[s],a=o.solver.instantiate(r).setCombineStraights("mtm"==this.settings.setup.metric);0==o.timeout?a.withTimeout(100).useFirstSolution():a.withTimeout(o.timeout);let l=yield a.run();if(this.settings.setup.continuation_solving&&l){const e=2/3*(this.settings.setup.continuation_solving.lookahead/this.settings.setup.continuation_solving.assumed_moves_per_second)*1e3;for(let t=this.settings.setup.continuation_solving.lookahead;t<l.length;t+=this.settings.setup.continuation_solving.lookahead){const i=yield o.solver.instantiate(Rw.withMove(r,...l.slice(0,t))).withTimeout(e).setCombineStraights("mtm"==this.settings.setup.metric).registerSolution(l.slice(t)).run();l.splice(t,l.length,...i)}}if(l){let e=Rw.withMove(r,...l);Rw.equals(e,Rw.SOLVED)||(l=null)}e[t].candidates[n].tests.push({start:r,moves:l}),e[t].candidates[n].statistics=Yw(e[t].candidates[n]),yield this.on_progress.trigger(e)}}}return e}))}onProgress(e){return this.on_progress.on(e),this}}class eb extends Ii{constructor(e,t){var i,n,o,s,r,a,l,u,p;super();const h=(new Pa).appendTo(this);h.header("Results"),h.named("",Nw(jw("Time"),jw("n"),jw("Mean"),jw("Median"),jw("𝞼"),jw("Δ"),jw("Δ (In Group)"),jw("Δ (First Group)")));const d=null!==(r=null===(s=null===(o=null===(n=null===(i=t[0])||void 0===i?void 0:i.candidates)||void 0===n?void 0:n[0])||void 0===o?void 0:o.statistics)||void 0===s?void 0:s.average)&&void 0!==r?r:0;for(let e of t){h.header(e.test_set.name,"left");const i=null!==(p=null===(u=null===(l=null===(a=e.candidates)||void 0===a?void 0:a[0])||void 0===l?void 0:l.statistics)||void 0===u?void 0:u.average)&&void 0!==p?p:0;for(let n in e.candidates){const o=e.candidates[n];h.named(o.candidate.name,Nw(c().text(o.candidate.timeout+"ms"),c().text(`${o.tests.length}/${e.test_set.states.length}`),c().text(o.statistics.average.toFixed(1)),c().text(o.statistics.median.toString()),c().text(o.statistics.standard_deviation.toFixed(1)),c().text(`${(100*(o.statistics.average/d-1)).toFixed(2)}%`),c().text(`${(100*(o.statistics.average/i-1)).toFixed(2)}%`),c().text(`${(100*(o.statistics.average/t[0].candidates[n].statistics.average-1)).toFixed(2)}%`)))}}}}class tb extends gc{constructor(e){super({size:"large"}),this.settings=e,this.process=new Jw(this.settings).withTimeout(1e4),this.shown.on((()=>this.process.run())),this.hidden.on((()=>this.process.stop()))}render(){super.render(),this.setTitle("Running Benchmarks");const e=(new Pa).appendTo(this.body),t=c();e.row(t),this.process.onProgress((e=>{t.empty(),new eb(this.settings,e).appendTo(t)}));const i=new Jc("Stop").onClick((()=>{this.process.stop()}));this.process.onFinished((()=>{i.remove()})),e.row(i)}static run(e){return Ow(this,void 0,void 0,(function*(){return new tb(yield Xw.instantiate(e)).show()}))}}class ib extends Ii{constructor(){super(),this.settings={metric:"mtm",test_sets:[{type:"crowdsourced",count:100},{type:"crowdsourced2024",count:100}],candidates:[{type:"random",timeout:2e3},{type:"pdb",reflect:!1,db:"mtm_huge",timeout:500}]},this.render()}render(){return Ow(this,void 0,void 0,(function*(){this.empty();const e=(new Pa).appendTo(this);e.named("Metric",Fw(...new Mc.Group([{button:new Mc("MTM"),value:"mtm"},{button:new Mc("STM"),value:"stm"}]).setValue(this.settings.metric).onChange((e=>this.settings.metric=e)).checkboxes())),e.row(new Mc("Continuous solving","checkbox").setValue(!!this.settings.continuation_solving).onCommit((e=>{this.settings.continuation_solving=e?{assumed_moves_per_second:5,lookahead:12}:void 0}))),e.header(Hw("Test Sets",Ww(),rh.plus().addClass("ctr-clickable").on("click",(()=>{this.settings.test_sets.push({type:"crowdsourced",count:20}),this.render()}))));for(let t=0;t<this.settings.test_sets.length;t++){const i=this.settings.test_sets[t];e.named($w(rh.delete().addClass("ctr-clickable").on("click",(()=>{this.settings.test_sets.splice(t,1),this.render()})),`Set ${t+1}`),new Qw(100).setValue(i).onCommit((e=>this.settings.test_sets[t]=e)))}e.header(Hw("Candidates",Ww(),rh.plus().addClass("ctr-clickable").on("click",(()=>{this.settings.candidates.push({type:"random",timeout:1e3}),this.render()}))));for(let t=0;t<this.settings.candidates.length;t++){const i=qw(),n=this.settings.candidates[t];if(e.named(Hw(rh.delete().addClass("ctr-clickable").on("click",(()=>{this.settings.candidates.splice(t,1),this.render()})),`Candidate ${t+1}`),i),new Sc({type_class:{toHTML(e){switch(e){case"random":return"Random";case"pdb":return"PDB"}return e}}},["pdb","random"]).setValue(n.type).onSelection((e=>{switch(e){case"random":this.settings.candidates[t]={type:"random",timeout:n.timeout};break;case"pdb":this.settings.candidates[t]={type:"pdb",reflect:!0,db:"mtm_huge",timeout:n.timeout}}this.render()})).appendTo(i),new a_(0,5e3,100).setValue(n.timeout).onCommit((e=>n.timeout=e)).withPreviewFunction((e=>`${e}ms`)).appendTo(i),"pdb"==n.type){const e=yield Ny.instance.get().pdbs.get();new Sc({type_class:{toHTML:e=>e}},e.map((e=>e.id))).setValue(n.db).onSelection((e=>{n.db=e})).appendTo(i),new Mc("Reflect").setValue(n.reflect).onCommit((e=>n.reflect=e)).appendTo(i)}}}))}}class nb extends gc{constructor(){super(),this.title.set("Slider Solving Benchmark")}render(){super.render(),this.configuration=(new ib).appendTo(this.body)}getButtons(){return[new mc("Run","confirm").onClick((()=>{tb.run(this.configuration.settings)}))]}}var ob=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},sb=ie.hbox,rb=_e.numberWithCommas,ab=ie.vbox,lb=ie.hboxc,cb=_e.copyUpdate,ub=_e.downloadBinaryFile,pb=_e.cleanedJSON,hb=ra.imp,db=ie.hgrid,gb=ie.span;class fb extends lc{constructor(e=!1){super(),this.locked=e,e?this.css("cursor","not-allowed"):this.addClass("ctr-clickable"),this.css2({width:"30px",height:"30px",border:"1px solid gray",margin:"3px"}),e||this.on("click",(()=>{this.commit((this.get()+1)%3,!0)}))}render(){this.locked?this.css("background-color","gray"):this.css("background-color",["white","orange","blue"][this.get()])}}class yb extends lc{constructor(){super(),this.onCommit((e=>{this.updatePreview()}))}updatePreview(){if(this.description){const e=new ly.Indexing(this.get());let t=`${rb(e.size)}`;const i=e.size/4;t+=i>1048576?`, ${(i/1024/1024).toFixed(1)}MB`:`, ${(i/1024).toFixed(1)}KB`,e.solves_puzzle&&(t+=", Final"),this.description.text(t)}}render(){super.render(),this.empty();const e=this.get(),t=c().appendTo(this);for(let i=0;i<5;i++){const n=sb().appendTo(t);for(let t=0;t<5;t++){const o=5*i+t;new fb([19,23].includes(o)).setValue(e[o]).onCommit((e=>{const t=[...this.get()];t[o]=e,this.commit(t)})).appendTo(n)}}this.description=c().appendTo(this),this.updatePreview()}}class mb extends lc{constructor(){super();const e=sb().appendTo(this);lb(this.region_layout=(new Pa).css2({"padding-left":"3px","padding-right":"3px","overflow-y":"auto"})).css("flex-grow",1).appendTo(e);const t=this.menu=(new Pa).appendTo(e).css("border-left","1px solid gray").css("display","inline-block").css2({"padding-left":"3px","padding-right":"3px"});t.row(new Jc("New Chain").css("margin","2px").onClick((()=>{this.setValue([ly.empty()])}))),t.row(new Jc("Import").css("margin","2px").onClick((()=>ob(this,void 0,void 0,(function*(){const e=yield new Wu(hb()).do();(null==e?void 0:e.imported)&&this.commit(e.imported,!0)}))))),t.row(new Jc("Export").css("margin","2px").onClick((()=>{Vu.do(pb(this.get()))}))),t.divider(),t.row(new Jc("New Region","rectangle").css("margin","2px").onClick((()=>{this.commit(cb(this.get(),(e=>{e.push(ly.empty())})),!0)})))}render(){const e=this.get();this.region_layout.empty();for(let t=0;t<e.length;t++){const i=e[t];t>0&&this.region_layout.divider();const n=(new yb).setValue(i);this.region_layout.header(sb(lb(`Region ${t}`).css("flex-grow",1),rh.delete().on("click",(()=>{this.commit(cb(this.get(),(e=>{e.splice(t,1)})),!0)})),rh.from("/assets/icons/copy.png").on("click",(()=>{this.commit(cb(this.get(),(e=>{e.push(ly.child(n.get()))})),!0)})))),this.region_layout.row(n.onCommit((e=>{this.commit(cb(this.get(),(i=>i[t]=e)))})))}}}class _b extends Ii{constructor(e){super(),this.value=e,this.editor=(new mb).setValue(e.regions).appendTo(this),this.editor.menu.divider(),this.editor.menu.row(ab(...(this.mtm_toggle=new Mc.Group([{button:new Mc("STM"),value:!1},{button:new Mc("MTM"),value:!0}])).setValue(e.multitile).checkboxes())),this.editor.menu.row(new Jc("Create tables").css("margin","2px").onClick((()=>{const e=new my.Generator({regions:this.editor.get(),multitile:this.mtm_toggle.get()}),t=new class extends gc{constructor(){super(),this.setTitle("Table Generation")}render(){super.render(),new wb(e).appendTo(this.body)}};t.show(),t.hidden.on((()=>{e.stop()})),t.shown.on((()=>ob(this,void 0,void 0,(function*(){yield e.run(),console.log("Chain generator ended")}))))})))}}class vb extends Ii{constructor(e){super(),this.value=e,this.editor=(new mb).setValue(e.regions).appendTo(this),this.editor.menu.divider(),this.editor.menu.row(new Jc("Run Benchmark","rectangle").css("margin","2px").onClick((()=>{const e=this,t=(new class extends Dd{constructor(){super(...arguments),this.progress=qi([])}implementation(){return ob(this,void 0,void 0,(function*(){const t=e.editor.get();for(const e of t){const t=new py(e,!0,!1),i=yield Promise.all(new Array(1e5).fill(null).map(((e,i)=>ob(this,void 0,void 0,(function*(){return i%1e3==0&&(yield this.checkTime()),cy.shuffle(t,100)}))))),n=new ly.Indexing(e),o=100,s=Date.now();for(let e=0;e<o;e++)i.map((e=>n.stateIndex(e)));const r=Date.now();this.progress.update2((t=>t.push({region:e,tests:i.length*o,time:r-s}))),yield this.checkTime()}}))}}).withInterrupt(200,5),i=new class extends gc{constructor(){super(),this.setTitle("Table Generation"),t.progress.subscribe((e=>{this.body.empty(),this.body.append(db(gb("#"),gb("Tests"),gb("Time"),gb("Indexes/s")));for(let t=0;t<e.length;t++){const i=e[t];this.body.append(db(gb(t.toString()),gb(i.tests.toString()),gb(`${(i.time/1e3).toFixed(2)}s`),gb(`${rb(~~(i.tests/(i.time/1e3)))}/s`)))}}))}render(){super.render()}};i.show(),i.hidden.on((()=>{t.stop()})),i.shown.on((()=>ob(this,void 0,void 0,(function*(){yield t.run(),console.log("Chain generator ended")}))))})))}}class xb extends Ii{constructor(e){super();for(let t=0;t<e.sub_progress.length;t++){const i=e.sub_progress[t],n=c().css2({height:"30px",border:"1px solid gray",position:"relative","margin-bottom":"5px"}).appendTo(this);c().css2({position:"absolute",left:0,top:0,bottom:0,"z-index":0,width:`${(100*i.nodes/i.region.size).toFixed(1)}%`,"background-color":"orange"}).appendTo(n),c().css2({width:"100%",height:"100%",position:"relative","text-shadow":"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000","text-align":"center","z-index":1}).text(`Depth ${i.depth}: ${rb(i.nodes)}/${rb(i.region.size)}`).appendTo(n)}e.final_result&&(new mc("Download File","confirm").onClick((()=>{ub("pdb.bin",e.final_result.data)})).appendTo(this),new mc("Download Compressed","confirm").onClick((()=>{const t=_r(e.final_result.data);ub("pdb_compressed.bin",t)})).appendTo(this))}}class wb extends Ii{constructor(e){super(),this.generator=e,e.onProgress((e=>{this.empty(),this.append(new xb(e))}))}}class bb extends gc{render(){super.render(),this.setTitle("PDB Generation"),new _b({multitile:!0,regions:[[1,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,1,1,0,2,2,1,0,1]]}).appendTo(this.body)}}class kb extends gc{render(){super.render(),this.setTitle("Index Benchmarking"),new vb({multitile:!0,regions:[[1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,2,2,2,2,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[2,2,2,2,2,2,2,2,2,2,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0],[2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,2,1,1,0,2,2,1,0,1],[2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0],[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,0,1,1,1,0,1],[2,2,2,2,2,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0],[2,2,2,2,2,2,1,1,1,1,2,1,0,0,0,2,1,0,0,0,2,1,0,0,0]]}).appendTo(this.body)}}var Tb,zb=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){class t{constructor(e,t){this.name=e,this.sub_tests=t}run(){return i(this,0)}}function i(e){return zb(this,arguments,void 0,(function*(e,n=0){if(e instanceof t){console.log(`${" ".repeat(n)}Running '${e.name}'`);let t=!0;for(let o of e.sub_tests)t&&(t=yield i(o,n+2));return console.log(`${" ".repeat(n)}Result of '${e.name}' ${t?"✓":"FAILURE"}`),t}{const t=yield(()=>zb(this,void 0,void 0,(function*(){try{return yield e(),!0}catch(e){return!1}})))();return console.log(`${" ".repeat(n)}'Running ${e.name}': ${t?"✓":"FAILURE"}`),t}}))}e.TestSet=t,e.testset=function(e,...i){return new t(e,i)},e.run=i;class n extends Error{constructor(){super()}}function o(){throw new n}function s(e){e||o()}e.fail=o,e.assert=s,e.assertEquals=function(e,t,i=1e-6){s(Math.abs(e-t)<i)}}(Tb||(Tb={}));var Sb=Lf.SliderState,Cb=Lf.SliderPuzzle,Ab=Tb.assert,Eb=Rg.DETECTION_THRESHOLD_SCORE,Pb=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},Mb=Tb.assert;const Lb=(0,Tb.testset)("Slider Moves",(function(){return Pb(this,void 0,void 0,(function*(){const e=[{existing:[-2,-10],attachment:[-5,2],expected_result:[-2,-15,2]},{existing:[1,5,1],attachment:[-1,5],expected_result:[1,10]},{existing:[5],attachment:[1],expected_result:[5,1]}];let t=!0;for(const i of e){const e=Lf.MoveList.combine(i.existing,i.attachment,!0);oe.isEqual(e,i.expected_result)||(console.log(`Expected ${i.expected_result.join(",")}`),console.log(`Got ${e.join(",")}`),t=!1)}Mb(t)}))}),(function(){return Pb(this,void 0,void 0,(function*(){const e=[{original:[],compressed:[]},{original:[1,1],compressed:[2]},{original:[1,3],compressed:[4]},{original:[-1,3],compressed:[2]},{original:[5,-1,3,10],compressed:[5,2,10]},{original:[1,5,10,3],compressed:[1,15,3]},{original:[1,5,1,10,3],compressed:[1,5,1,10,3]}];let t=!0;for(const i of e){const e=Lf.MoveList.compress(i.original);oe.isEqual(e,i.compressed)||(console.log(`Expected ${i.compressed.join(",")}`),console.log(`Got ${e.join(",")}`),t=!1)}Mb(t)}))}),(function(){return Pb(this,void 0,void 0,(function*(){const e=[{original:[],expanded:[]},{original:[5],expanded:[5]},{original:[-5],expanded:[-5]},{original:[-10],expanded:[-5,-5]},{original:[4,5,10],expanded:[1,1,1,1,5,5,5]}];let t=!0;for(const i of e){const e=Lf.MoveList.expand(i.original);oe.isEqual(e,i.expanded)||(console.log(`Expected ${i.expanded.join(",")}`),console.log(`Got ${e.join(",")}`),t=!1)}Mb(t)}))}));var Db=Tb.fail,Ib=Tb.testset,Ob=Tb.assertEquals;const Rb=Ib("Math",(function(){Ob(Ae({x:64,y:64},0),64),Ob(Ae({x:64,y:64},Math.PI/2),64),Ob(Ae({x:64,y:64},5*Math.PI/4),64*Math.sqrt(2)),Ob(Ae({x:0,y:64},Math.PI),64),Ob(Ae({x:0,y:64},-Math.PI),64),Ob(Ae({x:64,y:0},Math.PI),0),Ob(Ae({x:64,y:0},-Math.PI),0)}));var Bb=Tb.testset,Fb=Lx.PrototypeInstance,Nb=Tb.assertEquals;function jb(e,t,i=1e-6){Nb(e.x,t.x,i),Nb(e.y,t.y,i),Nb(e.level,t.level,i)}function Ub(e,t,i){const n=Te.transform(i,e);jb(i,Te.transform(n,t))}const qb=Bb("Prototype Transform",(function(){const e=[{size:{x:1,y:2},instances:[{position:{x:5415,y:2324,level:0},rotation:1,tests:[{position:{y:2,x:0,level:0},expected:{x:5417,y:2324,level:0}}]}]}];for(const t of e){const e={actions:[],id:void 0,name:"Test",raw:void 0,size:t.size};for(const i of t.instances){const t=new Fb(e,{id:void 0,position:i.position,rotation:i.rotation}),n=t.getTransform(),o=t.getInverseTransform();for(const e of i.tests)Ub(n,o,e.position),jb(Te.transform(e.position,n),e.expected)}}})),Hb=(0,Tb.testset)("Cluetrainer",(function(){return e=this,t=void 0,n=function*(){const e=yield Rg.instance(),t=[{file:"/test_assets/sliders/castle_scrambled.png",expected:{theme:"castle",state:[2,20,6,0,16,4,21,1,3,8,9,5,13,7,18,19,10,14,22,15,11,17,23,12,24]}},{file:"/test_assets/sliders/castle_solved.png",expected:{theme:"castle",state:Sb.SOLVED}},{file:"/test_assets/sliders/tree_solved.png",expected:{theme:"tree",state:Sb.SOLVED}},{file:"/test_assets/sliders/pharaoh_solved.png",expected:{theme:"menaphos_pharaoh",state:Sb.SOLVED}},{file:"/test_assets/sliders/troll_solved.png",expected:{theme:"troll",state:Sb.SOLVED}},{file:"/test_assets/sliders/bridge_swapped.png",expected:{theme:"bridge",state:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,21,18,19,17,20,22,23,24]}},{file:"/test_assets/sliders/greg_scrambled_low_graphhics.png",expected:{theme:"gregorovic",state:[5,8,13,4,1,2,20,0,14,3,16,7,10,15,6,11,12,19,21,9,18,17,23,22,24]}},{file:"/test_assets/sliders/tree_scrambled.png",expected:{theme:"tree",state:[0,6,24,3,4,5,13,8,17,18,10,1,2,11,23,15,16,14,22,21,7,20,19,12,9]}},{file:"/test_assets/sliders/tree_scrambled2.png",expected:{theme:"tree",state:[19,4,3,1,0,2,14,7,8,13,23,11,18,20,6,16,9,21,10,5,12,15,17,22,24]}},{file:"/test_assets/sliders/tree_scrambled3.png",expected:{theme:"tree",state:[23,2,12,4,10,0,3,24,1,5,8,14,11,9,21,13,17,18,16,22,7,6,15,19,20]}},{file:"/test_assets/sliders/tree_scrambled4.png",expected:{theme:"tree",state:[0,3,4,19,2,24,18,16,6,11,7,20,17,1,14,8,9,15,13,5,22,21,23,10,12]}},{file:"/test_assets/sliders/rax_solved.png",expected:{theme:"araxxor",state:Sb.SOLVED}},{file:"/test_assets/sliders/rax_solved2.png",expected:{theme:"araxxor",state:Sb.SOLVED}},{file:"/test_assets/sliders/desert_negative.png",expected:null}];let i=0;for(let n of t){const t=yield ld.ImageDetect.imageDataFromUrl(n.file),o=e.identify(t),s=Cb.getState(o);n.expected&&o.theme==n.expected.theme&&Sb.equals(s,n.expected.state)||!n.expected&&o.match_score<Eb?i++:null==n.expected&&o.match_score>=Eb?(console.log(`ERROR ${n.file}`),console.log(`Expected no puzzle, but found ${o.theme} (${(100*o.match_score).toFixed(1)}%):`),console.log(s)):(console.log(`ERROR ${n.file}`),console.log(`Expected ${n.expected.theme}:`),console.log(Sb.toString(n.expected.state)),console.log(`Got ${o.theme}:`),console.log(Sb.toString(s)))}Ab(i==t.length)},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}),(function(){return e=this,t=void 0,n=function*(){const e={snake_lengths:[8,8],locks:[{first:{snake:0,tile:1},second:{snake:1,tile:7}},{first:{snake:0,tile:3},second:{snake:1,tile:5}}]},t=[{puzzle:Sf.construct(e,[[0,1,2,3,4,5,6,7],[0,3,2,1,4,5,6,7]]),expected_solution:{end_state:Sf.construct(e,[[0,1,2,3,4,5,6,7],[4,5,6,7,0,3,2,1]]),moves:[{snake_index:0,offset:0},{snake_index:1,offset:4}]}}];let i=!0;for(const e of t){const t=Sf.solve(e.puzzle);Sf.Solution.equals(t,e.expected_solution)||(console.log(`Expected ${Sf.Solution.toString(e.expected_solution)}`),console.log(`Got ${Sf.Solution.toString(t)}`),i=!1)}i||Db()},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}),Lb,Rb,qb);var Vb=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},$b=_e.selectFile;class Wb extends fc{constructor(e=void 0,t,i,n=(()=>!0),o=!0){super(),this.acceptedFiles=e,this.data_preprocessor=t,this.data_processor=i,this.handler=n,this.can_be_text=o}commit(e){return Vb(this,void 0,void 0,(function*(){var t;const i=yield this.data_preprocessor(e);if(!i)return;const n=this.data_processor(i);(null===(t=yield this.handler(n))||void 0===t||t)&&this.confirm({imported:n})}))}render(){super.render(),this.title.set("Import");const e=c().css2({position:"relative",width:"100%",height:"20em"}).appendTo(this.body);this.can_be_text&&(this.textarea=new xc({placeholder:"Paste text or drop file here"}).css2({position:"relative",resize:"none",width:"100%",height:"100%","word-break":"break-all"}).on("paste",(e=>{var t;const i=e.originalEvent;e.preventDefault(),e.stopPropagation();const n=i.clipboardData;(null===(t=n.files)||void 0===t?void 0:t.length)>0?this.commit(n.files[0]):this.commit(n.getData("Text"))})).on("drop",(e=>{e.preventDefault(),e.originalEvent.dataTransfer.files.length>0&&this.commit(e.originalEvent.dataTransfer.files[0])})).appendTo(e),this.textarea.onChange((e=>{this.import_button.setEnabled(!!e.value)}))),this.acceptedFiles&&c().css2({position:"absolute",top:"9em",left:0,right:0,"text-align":"center","z-index":1,cursor:"pointer"}).text("Click here to select file.").on("click",(()=>Vb(this,void 0,void 0,(function*(){const e=yield $b(this.acceptedFiles);e&&this.commit(e)})))).appendTo(e)}getButtons(){return[new mc("Cancel","cancel").onClick((()=>this.confirm(null))),this.import_button=new mc("Import","confirm").setEnabled(!1).onClick((()=>{this.commit(this.textarea.get())}))]}static textFile(e,t=(()=>!0),i="text/*"){return new Wb(i,Wb.preprocess_to_string,e,t).show()}static json(e=oe.identity,t=(()=>!0)){return new Wb("application/json,.txt",(e=>Vb(this,void 0,void 0,(function*(){const t=yield Wb.preprocess_to_string(e);return JSON.parse(t)}))),e,t).show()}static img(e){return new Wb("image/png",(e=>Vb(this,void 0,void 0,(function*(){return yield ld.ImageDetect.imageDataFromUrl(URL.createObjectURL(e))}))),(e=>e),e,!1).show()}}!function(e){e.preprocess_to_string=function(e){return Vb(this,void 0,void 0,(function*(){return e instanceof File?new Promise((t=>{const i=new FileReader;i.readAsText(e),i.addEventListener("load",(e=>{t(i.result)}))})):e}))}}(Wb||(Wb={}));var Gb=ie.cls,Zb=_e.formatTime,Kb=_e.cleanedJSON,Yb=ie.img,Qb=_e.downloadTextFile;class Xb extends gc{constructor(e){super({size:"fullscreen"}),this.buffer=e,this.setTitle("Log Viewer")}renderLog(){if(this.body.empty(),this.buffer){const e=Gb("nisl-textinput").appendTo(this.body).css("height","unset").css("max-height","100%");for(const t of this.buffer)if(Gb("ctr-log-viewer-message").append(c().css("width","100px").text(Zb(t.timestamps[0])),c().css("min-width","100px").css("width","100px").css("text-align","center").text(t.message.category),c().text(t.message.body.toString())).appendTo(e),t.message.attachment){const i=Gb("ctr-log-viewer-attachment").appendTo(e);switch(t.message.attachment.type){case"object":i.text(Kb(t.message.attachment.value,4));break;case"image":i.append(Yb(t.message.attachment.value))}}}}getButtons(){return[new mc("Download file","confirm").onClick((()=>{const e=Kb(this.buffer);try{Qb(`cluetrainerlog-${Date.now()}.txt`,e)}catch(t){Vu.do(e,"Your Alt1 version does not support downloading files. Please copy the contents below and save them to a file instead.")}}))]}render(){super.render(),this.renderLog()}static do(e){return new Xb(e).show()}}var Jb=(Lf.SliderState,ie.hbox),ek=ie.spacer,tk=ie.hgrid;class ik extends gc{constructor(e){super({size:"fullscreen"}),this.dataset=e,this.title.set("Slider Analysis Modal")}render(){super.render(),this.layout=(new Pa).appendTo(this.body),this.run()}run(){return e=this,t=void 0,n=function*(){function e(e){const t=oe.clamp(510*(1-e),0,255),i=oe.clamp(510*e,0,255);return`rgb(${t.toFixed(0)}, ${i.toFixed(0)}, 0)`}this.layout.empty(),yield Zw.get(),function(t,i){var n;const o=c();if(t.header(i.original.name),i.counts?t.paragraph(`Analysis based on ${i.original.states.length} initial slider states containing ${null===(n=i.counts)||void 0===n?void 0:n.length} unique states.`):t.paragraph(`Analysis based on ${i.original.states.length} initial slider states.`),t.paragraph("The outer 5 by 5 grid refers to where the respective tile belongs. The inner 5 by 5 grid shows where this tile is most likely to spawn."),i.counts&&i.counts.length!=i.original.states.length)for(let[s,r]of i.counts.filter((e=>e[1].length>1)))t.header(s.toString(),"left",1),t.row(r.map(((e,t)=>`${new Date(e.timestamp).toString()} (${e.theme}, ${e.id})`)).join(", "));t.row(Jb(ek(),o,ek()));for(let a=0;a<5;a++){const l=tk().appendTo(o);for(let u=0;u<5;u++){const p=5*a+u,h=i.tile_frequency[p],d=c().css2({border:"1px solid white",padding:"5px",margin:"10px"}).appendTo(l),g=h.map((e=>e/i.original.states.length)),f=Math.max(...g,1/12);for(let y=0;y<5;y++){const m=tk().appendTo(d);for(let _=0;_<5;_++){const v=5*y+_,x=g[v];function w(e){return e<=1/24?.5*e/(1/24):.5+.5*(e-1/24)/(f-1/24)}c().css2({margin:"2px",border:v==p?"2px solid blue":"2px solid white","border-radius":"3px","max-width":"40px","max-height":"40px","min-width":"40px","min-height":"40px","line-height":"40px","text-align":"center","background-color":0==x?"none":e(w(x)),"text-shadow":"-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000","font-weight":"bold","mix-blend-mode":"difference"}).text(`${(100*x).toFixed(1)}%`).tooltip(i.tile_frequency[p][v].toString()+" samples").appendTo(m)}}}}}(this.layout,function(e){const t=new Array(25).fill(0).map((()=>new Array(25).fill(0)));for(let i of e.states)i.state.forEach(((e,i)=>{t[e][i]++}));return{original:e,tile_frequency:t,counts:void 0}}({name:"Loaded file",states:this.dataset}))},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}}var nk=su.ClueSpot,ok=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},sk=Yc.notification;class rk extends gc{constructor(){super(),this.setTitle("Super Secret Development Menu")}render(){super.render();const e=(new Pa).appendTo(this.body);e.paragraph("Welcome to the super secret development menu! If you're not a developer, you probably won't find anything useful here, but feel free to take a look around. Important note: Some options may mess up your local data/settings without warning you about it before doing so!"),e.header("General"),e.row(new Jc("Log Viewer").onClick((()=>{Wb.json((e=>e),(e=>{new Xb(e).show()}))}))),e.header("Slider Puzzles"),e.row(new Jc("Benchmark Solvers").onClick((()=>{(new nb).show()}))),e.row(new Jc("Generate PDB").onClick((()=>{(new bb).show()}))),e.row(new Jc("Benchmark Region Indexing").onClick((()=>{(new kb).show()}))),e.row(new Jc("Delete local pdbs").onClick((()=>{Ny.instance.get().clearCache()}))),e.row(new Jc("Analyze sliders").onClick((()=>{Wb.json((e=>e),(e=>{new ik(e).show()}))}))),e.header("Compass"),e.row(new Jc("Calibration Tool").onClick((()=>{(new mf).show()}))),e.header("Readers"),e.row(new Jc("Test Screenshot").onClick((()=>ok(this,void 0,void 0,(function*(){const e=new Yf(!1);yield e.initialization.wait(),Wb.img((t=>{console.log(e.read(Jd.bind(t)))}))}))))),e.header("Tests"),e.row(new Jc("Run Tests").onClick((()=>{Hb.run()}))),e.row(new Jc("Run makeshift Main").onClick((()=>ok(this,void 0,void 0,(function*(){yield function(){return e=this,t=void 0,n=function*(){console.log(yield kr.get().isAccessible({x:2673,y:2958,level:0}))},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}(),sk("Finished running makeshift main").show()}))))),e.header("Other"),e.row(new Jc("Open Development Utility Layer").onClick((()=>{pa().app.menu_bar.switchToTab("utility")}))),e.row(new Jc("Export Method Times as CSV").onClick((()=>ok(this,void 0,void 0,(function*(){Vu.do(yield function(e){return t=this,i=void 0,o=function*(){let t="Clue\tTier\tType\tTime\n";for(let i of _p.spot_index.flat()){const n=se().minBy(yield e.getForClue(nk.toId(i.for)),(e=>e.method.expected_time));t+=`"${nk.shortString(i.for)}"\t${i.for.clue.tier}\t ${i.for.clue.type}\t ${n?n.method.expected_time.toFixed("scantree"==n.method.type?1:0):"-"}\n`}return t},new((n=void 0)||(n=Promise))((function(e,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(r,a)}l((o=o.apply(t,i||[])).next())}));var t,i,n,o}(Ep.instance()),"","method_times.csv")})))))}}var ak=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},lk=ra.exp,ck=ra.imp;class uk{constructor(e,t,i){this.name=e,this.version=t,this.spec=i}dump(){return ak(this,void 0,void 0,(function*(){const e=yield uk.dump(this.spec,this.version);Vu.do(lk({type:`${this.name}dataexport`,version:0},!1,!1)(e),"Download this file or copy and paste the text below into a text file.",`${this.name}_v${e.source.version}_datadump${e.source.timestamp}.txt`)}))}restore(){return ak(this,void 0,void 0,(function*(){yield Wb.textFile((e=>ck({expected_type:`${this.name}dataexport`,expected_version:0})(e)),(e=>ak(this,void 0,void 0,(function*(){const t=e.source.version;(yield new Wc({title:"Restore data dump",body:`Restoring this data dump from ${new Date(e.source.timestamp).toLocaleDateString()} ${new Date(e.source.timestamp).toLocaleTimeString()} will replace all your existing local data. Do you want to proceed?\n\nThe page will be refreshed afterwards.`+(t?"":`Note: This dump is from version ${e.source.version}, but you are currently running version ${this.version}. This can potentially cause issues.`),options:[{kind:"cancel",value:!1,is_cancel:!0,text:"Cancel"},{kind:"confirm",value:!0,is_cancel:!1,text:"Confirm"}]}).do())&&(yield uk.restore(e),window.location.reload())}))))}))}}!function(t){t.createSpec=function(...t){return t.map((t=>t instanceof e.Variable?{type:"localstorage",key:t.key}:{type:"kvstore",store_name:t.store.name,key:t.key}))},t.dump=function(t,i){return ak(this,void 0,void 0,(function*(){function n(t){return ak(this,void 0,void 0,(function*(){switch(t.type){case"localstorage":return e.get(t.key);case"kvstore":return yield fp.get(t.store_name).get(t.key)}}))}return{source:{version:i,timestamp:Date.now()},components:yield Promise.all(t.map((e=>ak(this,void 0,void 0,(function*(){return{field:e,value:yield n(e)}})))))}}))},t.restore=function(t){return ak(this,void 0,void 0,(function*(){yield Promise.all(t.components.map((t=>ak(this,void 0,void 0,(function*(){switch(t.field.type){case"localstorage":e.set(t.field.key,t.value);break;case"kvstore":yield fp.get(t.field.store_name).set(t.field.key,t.value)}})))))}))}}(uk||(uk={}));class pk extends fc{constructor(e){super(),this.app=e}render(){super.render(),this.setTitle("You should update your Alt 1");const e=(new Pa).appendTo(this.body);e.paragraph("You are currently on the outdated Alt 1 version 1.5.6. The newest version is 1.6.0. This can potentially lead to issues while using Clue Trainer and other plugins. For example, you will notice that Clue Trainer will re-download databases for slider puzzles on every session instead of caching them locally. Other possible issues include performance problems or crashes."),e.paragraph("Unfortunately, at the current time you can not automatically update from 1.5.6 to 1.6.0. To update manually, you will need to follow these steps:"),e.row(new u_(!0).item("Backup any important data. Unfortunately you will lose all of your local data and settings, as well as all installed third party plugins such as Clue Trainer. Make a backup of everything that's possible to backup. See below to export Clue Trainer data and also remember to save your custom AfkWarden presets!",new u_(!1).item("Alt 1 stores installed apps and their data in ",new gm("%localappdata%/alt1toolkit"),". Backup the ",new gm("config.json")," file and the ",new gm("chromecache")," folder to easily save all of your data.")).item("Uninstall your current Alt 1 version.").item("Download the current Alt 1 installer from <a href='https://runeapps.org/alt1'>https://runeapps.org</a>. This is the only official source of Alt 1!").item("Install the downloaded version of Alt 1. Make sure that your game is closed while you do it or the setup will fail!").item("Install any required third party plugins such as Clue Trainer and restore your data backups.")),e.divider(),e.paragraph("You can save your Clue Trainer data before you update by clicking the button below. On the new version, please visit the 'Data' page in settings to restore your data."),e.row(new mc("Export Data","confirm").onClick((()=>this.app.data_dump.dump())))}getValueForCancel(){return null}getButtons(){return[new mc("Remind me another time","confirm").onClick((()=>this.confirm(18144e5)))]}}!function(t){const i=new e.Variable("preferences/dontremindtoupdatealt1until",(()=>null));t.maybeRemind=function(e){return n=this,o=void 0,r=function*(){var n;if((null===(n=window.alt1)||void 0===n?void 0:n.permissionInstalled)&&"1.5.6"==alt1.version&&i.get()<Date.now()){const n=yield new t(e).do();null!=n&&i.set(Date.now()+n)}},new((s=void 0)||(s=Promise))((function(e,t){function i(e){try{l(r.next(e))}catch(e){t(e)}}function a(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(i,a)}l((r=r.apply(n,o||[])).next())}));var n,o,s,r}}(pk||(pk={}));class hk extends fc{constructor(e){super(),this.app=e}render(){super.render(),this.setTitle("Please Migrate");const e=(new Pa).appendTo(this.body);let t="";this.app.in_alt1?t+="Your installation of Clue Trainer is still using 'leridon.github.io/rs3scantrainer'. ":t+="You are currently on leridon.github.io/rs3scantrainer. ",t+="This version of Clue Trainer is hosted using GitHub pages on the Clue Trainer repository, which is currently blocking me from renaming the repository to something more fitting of the current state. When the rename happens, your current installation of Clue Trainer will stop to work.",e.paragraph(t),e.paragraph("Clue Trainer has been available on the custom domain <a href=\"https://cluetrainer.app\">cluetrainer.app</a> since June 6th. Please migrate to that URL before 2024-10-31, at which point the repository will be renamed and Clue Trainer becoming unavailable on the 'leridon.github.io/rs3scantrainer' URL without further notice. Please also take note of the option to export your current data/settings to make migration less painful."),e.paragraph(ie.bold(`You have ${hk.daysLeft()} days left to migrate.`)),this.app.in_alt1&&e.row(new mc("Install cluetrainer.app","confirm").onClick((()=>new _m("https://cluetrainer.app").show()))),e.divider(),e.paragraph("If you have any relevant local data or settings on this URL, you can export all of your data using the button below. On the new version, please visit the 'Data' page in settings to restore your data."),e.row(new mc("Export Data","confirm").onClick((()=>this.app.data_dump.dump())))}getValueForCancel(){return null}getButtons(){return hk.daysLeft()>=14?[new mc("Remind me in a week","confirm").onClick((()=>this.confirm(5184e5)))]:[new mc("Remind me tomorrow","confirm").onClick((()=>this.confirm(864e5)))]}}!function(e){e.deadline=new Date(2024,9,31),e.daysLeft=function(){const t=Date.now();return Math.max(0,Math.floor((e.deadline.getTime()-t)/864e5))},e.maybeRemind=function(t){return i=this,n=void 0,s=function*(){if("leridon.github.io"==window.location.host&&window.location.pathname.startsWith("/rs3scantrainer")){const i=t.startup_settings.value().earliest_next_cluetrainer_dot_app_migration_notice;if(!i||i<Date.now()){const i=yield new e(t).do();null!=i&&t.startup_settings.update((e=>e.earliest_next_cluetrainer_dot_app_migration_notice=Date.now()+i))}}},new((o=void 0)||(o=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(r,a)}l((s=s.apply(i,n||[])).next())}));var i,n,o,s}}(hk||(hk={}));var dk=ie.img,gk=Yc.notification;class fk extends gc{constructor(){super({disable_close_button:!0,fixed:!0}),this.title.set("Missing Permissions")}render(){super.render();const e=(new Pa).appendTo(this.body);e.paragraph("Clue Trainer is missing permissions that are essential for it to function. Please grant the necessary permissions and then check again by clicking the button on the bottom of this modal."),e.header("How to set permissions"),e.paragraph("Open Clue Trainer settings by clicking the small wrench on the top left, next to the buttons to minimize or close the window."),e.row(dk("/media/how_to_set_permissions_1.png")),e.paragraph("Make sure all permissions are checked."),e.row(dk("/media/how_to_set_permissions_2.png")),e.paragraph("Click 'Check' below to check if permissions have correctly been set.")}getButtons(){return[new mc("Ignore","cancel").onClick((()=>{gk("Please be aware that Clue Trainer will not work without granting the permissions.","error").show(),this.remove()})),new mc("Check","confirm").onClick((()=>{alt1?alt1.permissionPixel&&alt1.permissionOverlay&&alt1.permissionGameState?(gk("Success! Permissions are fine now","information").show(),this.remove()):gk("Clue Trainer is still missing permissions.","error").show():this.remove()}))]}}!function(e){function t(){return alt1.permissionPixel&&alt1.permissionOverlay&&alt1.permissionGameState}e.arePermissionsFine=t,e.check=function(){alt1.permissionInstalled&&!t()&&(new e).show()}}(fk||(fk={}));class yk extends gc{render(){super.render(),this.title.set("Welcome to Clue Trainer");const e=(new Pa).appendTo(this.body);e.paragraph("You have successfully installed Clue Trainer! If you want, check out the video tutorial made by <b>Ngis</b> embedded below. It teaches you how to setup Clue Trainer according to your preferences and how its solving features are used. For additional info, open the 'About' page linked in the left sidebar."),e.row(c('<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/EGDHM4USIp8?si=YLcuCoqZnAUAjI8s" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>'))}getButtons(){return[new mc("Dismiss","cancel").onClick((()=>this.hide()))]}}var mk,_k=i_.TeleportSettings,vk=ie.inlineimg,xk=fd.render_digspot,wk=fd.render_scanregion,bk=va.resolveTeleport,kk=ie.npc,Tk=ie.staticentity,zk=ie.entity,Sk=Yc.notification,Ck=xp.log;!function(e){e.load_path={name:"load_path",parser:{steps:ra.imp({expected_type:"path",expected_version:0})},default:{},serializer:{},instantiate:e=>e=>{}},e.load_overview={name:"load_overview",parser:{tiers:e=>e.split(",").map((e=>"null"==e?null:e)),types:e=>e.split(",")},default:{tiers:["easy","medium","hard","elite","master",null],types:["anagram","compass","coordinates","cryptic","emote","map","scan","simple","skilling"]},serializer:{tiers:e=>e.join(","),types:e=>e.join(",")},instantiate:({tiers:e,types:t})=>e=>{}},e.load_method={name:"load_method",parser:{},default:{},serializer:{},instantiate:({method:e})=>e=>{}},e.index=[e.load_path,e.load_overview,e.load_method]}(mk||(mk={}));class Ak{constructor(){this.storage=new e.Variable("preferences/settings",(()=>null)),this.observable_settings=qi(null).equality(oe.isEqual),this.observable={scans:this.observable_settings.map((e=>{var t;return null===(t=null==e?void 0:e.solving)||void 0===t?void 0:t.scans})).structuralEquality()},this.active_teleport_customization=qi(null).equality(oe.isEqual),this.observable_settings.subscribe((e=>{this.settings=e,this.storage.set(e),this.active_teleport_customization.set(_k.inferActiveCustomization(e.teleport_customization))})),this.set(i_.normalize(this.storage.get()))}set(e){this.observable_settings.set(e)}update(e){const t=oe.cloneDeep(this.settings);e(t),this.set(t)}}class Ek extends aa{constructor(){var t;super(),this.crowdsourcing=new r_(this,"https://api.cluetrainer.app"),this.settings=new Ak,this.in_alt1=!!(null===(t=window.alt1)||void 0===t?void 0:t.permissionInstalled)||!1,this.main_content=null,this.main_behaviour=this.withSub(new la),this.template_resolver=new re({name:"surge",apply:()=>[{type:"domelement",value:vk("assets/icons/surge.png")}]},{name:"dive",apply:()=>[{type:"domelement",value:vk("assets/icons/dive.png")}]},{name:"surgedive",apply:()=>[{type:"domelement",value:vk("assets/icons/surgedive.png")}]},{name:"bladeddive",apply:()=>[{type:"domelement",value:vk("assets/icons/bladeddive.png")}]},{name:"escape",apply:()=>[{type:"domelement",value:vk("assets/icons/escape.png")}]},{name:"barge",apply:()=>[{type:"domelement",value:vk("assets/icons/barge.png")}]},{name:"digspot",apply:([e])=>(Ua("safestring"==e.type),[{type:"domelement",value:xk(e.value)}])},{name:"scanarea",apply:([e])=>(Ua("safestring"==e.type),[{type:"domelement",value:wk(e.value)}])},{name:"teleport",apply:([e,t])=>{Ua("safestring"==e.type),Ua("safestring"==t.type);let i=bk({group:e.value,spot:t.value});return i?[{type:"domelement",value:Ia.Teleport.asSpan(i)}]:[{type:"safestring",value:"NULL"}]}},{name:"icon",apply:([e])=>(Ua("safestring"==e.type),[{type:"domelement",value:vk(`assets/icons/${e.value}.png`)}])},{name:"npc",apply:([e])=>(Ua("safestring"==e.type),[{type:"domelement",value:kk(e.value)}])},{name:"object",apply:([e])=>(Ua("safestring"==e.type),[{type:"domelement",value:Tk(e.value)}])},{name:"item",apply:([e])=>(Ua("safestring"==e.type),[{type:"domelement",value:zk({kind:"item",name:e.value})}])}),this.version=dw.log.latest_patch.version,this.startup_settings_storage=new e.Variable("preferences/startupsettings",(()=>({}))),this.startup_settings=qi(this.startup_settings_storage.get()),this.favourites=new Iw(Ep.instance()),this.data_dump=new uk("cluetrainer",this.version.version,uk.createSpec(this.settings.storage,Ep.instance().local_pack_store,this.favourites.data,Zc.persistance,Cg.instance().data))}begin(){return e=this,t=void 0,n=function*(){var e,t,i,n,o,s,r,a;const l={commit_sha:"c89f63a",build_timestamp:1751806201849,is_beta_build:!0};l&&(dw.log.latest_patch.version.build_info={commit_sha:l.commit_sha,build_timestamp:new Date(l.build_timestamp),is_beta_build:null!==(e=l.is_beta_build)&&void 0!==e&&e}),this.startup_settings.subscribe((e=>this.startup_settings_storage.set(e))),Xc.instance().appendTo(Pe("body"));const u=c("<div style='flex-grow: 1; height: 100%'></div>");this.menu_bar=new Mw(this),this.main_content=c("<div style='display: flex; height: 100%; flex-grow: 1'></div>").append(u),Ii.wrap(Pe("#main-content")).append(this.menu_bar,this.main_content),this.map_widget=new na(u.container),this.map=this.map_widget.map,this.menu_bar.switchToTab((this.in_alt1,"solve")),Yd.exists()&&alt1.identifyAppUrl("appconfig.json");const p=null==this.startup_settings.value().last_loaded_version;if(p&&this.in_alt1&&(new yk).show(),!p&&this.startup_settings.value().last_loaded_version!=dw.log.latest_patch.version){const e=dw.Version.lift(this.startup_settings.value().last_loaded_version),i=dw.log.entries.filter((t=>dw.Version.isNewerThan(t.version,e)));if(oe.some(i,(e=>!e.silent))){const e=oe.findLast(i,(e=>!!e.notification));Sk(null!==(t=null==e?void 0:e.notification)&&void 0!==t?t:"There has been an update.").setDuration(null).addButton("View patch notes",(e=>{dw.log.showModal(),e.dismiss()})).show()}}this.startup_settings.update((e=>e.last_loaded_version=dw.log.latest_patch.version));const h=()=>{if(Ck().log("Current settings","General",{type:"object",value:oe.cloneDeep(this.settings.settings)}),globalThis.alt1)try{Ck().log(`Alt 1 version: ${alt1.version}`),Ck().log(`Active capture mode: ${alt1.captureMethod}`),Ck().log(`Permissions: Installed ${alt1.permissionInstalled}, GameState ${alt1.permissionGameState}, Pixel ${alt1.permissionPixel}, Overlay ${alt1.permissionOverlay}`)}catch(e){e instanceof Error?(Ck().log("Error while logging Alt 1 Info"),Ck().log(e.toString()),Ck().log(e.stack)):console.error(e.toString())}};document.body.addEventListener("keydown",(e=>{"F6"==e.key&&(Ck().log("Log exported"),h(),Xb.do(Ck().get())),"F4"==e.key&&(new rk).show()})),Ck().log(`Version: ${dw.Version.asString(this.version)}`),Ck().log(`Build: ${null!==(n=null===(i=this.version.build_info)||void 0===i?void 0:i.commit_sha)&&void 0!==n?n:"Unavailable"}`),(null===(o=this.version.build_info)||void 0===o?void 0:o.build_timestamp)?Ck().log(`Build Timestamp: ${this.version.build_info.build_timestamp.toUTCString()}`):Ck().log("Build Timestamp: Unavailable"),Ck().log(`Beta: ${null!==(r=null===(s=this.version.build_info)||void 0===s?void 0:s.is_beta_build)&&void 0!==r&&r}`),h(),Yd.exists()&&fk.check(),pk.maybeRemind(this),hk.maybeRemind(this),(null===(a=dw.log.latest_patch.version.build_info)||void 0===a?void 0:a.is_beta_build)&&(Sk(`You are on beta build ${dw.Version.asString(this.version)}. Please remember to switch back to the main branch when testing is done.`).setDuration(null).show(),document.title="Clue Trainer (Beta Branch)")},new((i=void 0)||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}));var e,t,i,n}end(){}}!function(e){const t=ma((()=>ua.instance().app=new e));e.instance=function(){return t.get()}}(Ek||(Ek={})),document.addEventListener("DOMContentLoaded",(e=>{Ek.instance().start()}))})(),{}})()));