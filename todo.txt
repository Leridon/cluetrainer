**Patch notes: ** More compass improvements!
- The previously shelved feature to use the solution of the previous clue step has been revisited and is now available.
    - You can activate it in the compass settings.
    - If the previous clue step was a scan, this will only work if you followed the scan tree until the remaining spots are in a reasonably small rectangle.
    - If the previous clue was also a compass and multiple spots were in the intersection of the beams, the smallest rectangle containing all spots will be used.
    - Your selected triangulation preset will load after this initial arrow. There's an option to invert the sequence if the previous solution is used in case you rely on ending the triangulation at a certain spot (for example south feldip hills for the spirit tree).
    - There's an option to skip spots of the preset sequence if they are close to co-linear to an existing beam.
- The settings menu for compasses has been cleaned up. Detailed explanations of the individual settings have been moved into a tooltip of a small info-icon.
- You can now customize the color of the triangulation beams.
- The compass solver UI has been restored to a horizontal header and now contains a reset button.
- Various issues with the compass reader that caused wrong "concealed" readings have been resolved.
- The compass reader now detects if you are on top of the target spot, which no longer closes the compass solver.
    - This was a necessary fix to make the solution of the previous clue usable. Before, accidentally moving across the compass stop before digging made the entire thing break.



Compass solver:
    - [Postponed] Chatbox read service to look for sextant message
    - [Postponed] Fix fight for zoom-authority between compass and path.

Transport Backlog:
    Master:
    (City of Um teleport incantation; not sure if same as tome)
    (((Runespan portal, runespan pads on high floor to east and then north)))
    (and the fishing platform and entrana connections as mentioned above)
    Kag Ship transports
    Wildy volcano stepping stone and cliff climb
    ED Chests
    Dorgesh Khaan: Grapple hooks
                   Stairs up to the agility arena
                   Stairs down to both the north east and south west buildings
   Daemonheim guard to wildy (also ED2 guard)
    Fort Forinthry gate to that
    Taverley dungeon ladder to Water obby
    Boss portal to barrows
    (add boss portal transport to reaper portal)
    Stepping stones in the east and maybe also the shilo gate (for comparison)
    Soul wars portal
    Shantay Pass
    Al kharid mine rock climb
    Death Plateau rock wall climb
    Memory strand teleports to memorial to Guthix. If you've prestiged Engrams can be used to teleport to the entrance
    Max Guild  boss portal teleport options + airut peninsula to it

Transport Tooling:
- Add a way to browse and add custom locs/npcs
- Actually implement the new prototype parser


In-App Wiki
    - Compass Explanation

Issues
    - [Bug, 1] SearchSelection: Very rarely the dropdown remains after the element is already gone
    - [Bug] Knot reader fails: https://discord.com/channels/332595657363685377/1103737270114209825/1241500553805172898
    - capturehold failed needs to be handled more gracefully, capture interval needs to be respected
    - [Bug, 2] Clue Reader Pausing for knots is bad because it unpauses while the animation is happening.
    - Zoom for long distance transports is still very bad
    - [Bug, 4] Selecting another method while a scan tree method is active glitches

Path Editor:
    Custom sized square (to help map distances), purely for theorycrafting
    Some sort of parallel world method of displaying steps (with non static teleports), if implemented, preferably differentiatable between absolute and relative step instructions

- Scan Tree Solver
    - Zoom to path is way too far out.
    - Clicking on a spot on the map needs to do something useful
    - Auto read pulses


Custom Modal Solution:
    - It's no coincidence that bs is short for both bootstrap and bullshit.
    - Implement a custom solution to show/hide modals, that doesn't have all of the timing bugs bootstrap has

- Solving Behaviour
    - Path Panel
        - [Feature] Disable default teleport render when contained in step
            - Render step instead
        - [Feature] Cleanup using "fake" steps:
            - Combine surges/dives following a powerburst into one "fake" step
            - Duplicate shortcut step to exist in both sections
            - Combine run followed by shortcut into one
    - Preferences
        - Preferred npc spot
    - Scan Tree Behaviour
        - Make fit include the entire path
        - Better render of in-route teleports
        - Spacing in the tree view is bad

- Performance
    - [3] Share a quad tree for all game layers. Cull empty branches.
    - [2] Simple markers use base64 data urls, which is probably slow and repeats a lot of work.
    - [3] <img>-elements should probably be preserved in-memory for markers when hidden
    - [3] Using :hover style rules would probably be faster than the current way of rerendering. Would also reduce some of the pain with lingering activations

- Scan Editor
    - [QOL, 2] Include uncertainty from non-static teleports into path analysis
        - Ability after uncertainty => Error
        - Dive needs to be possible for all tiles
    - Improved implicit instructions
    - [3] Autoname areas
    - [3] Autonumber spots
    - Better placement of information marker to guarantee it's always inside the area.
    - Scale information gain down when zoomed out

- Path Editor
    - [Feature, 3] Highlight step on hover
    - Teleports don't use tile areas correctly
    - [Feature] Check if teleport spot is actually in target area
    - [Bug] Scroll bleeding through: https://stackoverflow.com/questions/73195855/mouse-scroll-affects-underlying-map-instead-of-leaflewt-custom-control
    - [Feature] Check valid access

- Context Menu Builder
    - Creating context menus currently is a little annoying

- Map Entities
    - [Feature, 2] Find a way to separate entities on the same tile

- Theorycrafter
    - Editor for generic path methods
        - Display Target-Areas and auxiliary stuff (hidey hole) on map
            - Share with Solver!
    - Collapsible method pack sections (default|imported|local)
    - [QOL] Improved Import Modal
        - Paste or drop file
        - Show metadata before import
        - Confirm/Cancel
    - [Feature] Undo/Redo

- General
    - [Styling] ControlHeader title and X are not properly aligned
        - Check modal for how to do it
    - Clean up cursor on map
    - Remove old Modals
        - Patchnotes
    - Add short summary sentence to update notifications

- Data Model
    - Skilling Clue locations
    - Sandy clues
        - Membership only

- Content
    ✓ Fremmenik Isles
    ✓ Dorgesh-Kaan
    ✓ Zanaris
    ✓ Ardougne
    - Swamp Caves
    - Falador
    - Haunted Woods
    - Brimhaven
    - Darkmeyer
    - Slayer Dungeon
    - Heart of gielinor
    - Elven lands
    - Turtle Islands
    - Keldagrim
    - Kharazi Jungle
    - Menaphos
    - Mos Le' Harmless
    - Piscatoris
    - Prif
    - Taverley Dungeon
    - Varrock
    - Deep Wilderness
    - Wilderness Crater

Content principles:
    - Less is more for written instructions, let rendered path speak for itself
    - Prefer easy to identify target tiles

Unscheduled (Post launch, if ever):
- Track Jacket/Backpack Charges via Chat, display them as a permanent overlay
- Totem reminder
- Verified speedrunning
- [What] Incorporate jacket/backpack recommmendations
- Add some kind of discord integration with Fairy Nuff (Mike, if you stumble upon this: I have some ideas :) )
- Better algorithm to combine equivalence classes.
- Better algorithm to construct polygon for equivalence class (with hole support).
- Warn when not using meerkats
- [Tech] Overlay pathing into the game.
    - If this works, it is HUGE. Idea: Fix Camera distance and height by zooming out and clicking the compass, then calibrate camera transform using a suitable environment, Falador party room might actually be great.
    - Player position is input explicitly by placing a marker on the map.
    - This should be enough to draw polygons into the world as long as the camera height is not modified.
    - Yaw can be read by the compass on the minimap.
    - Camera orientation/position: Developer console 'getcamerapos'.
    Format:  floor,chunkx,chunkz,subx,subz
